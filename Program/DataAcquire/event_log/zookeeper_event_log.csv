case:concept:name,concept:name,time:timestamp,people,scene,message,description
1569,SubmitCommit,2021-01-05 01:56:15,lanicc,fork_close,ZOOKEEPER-4044: Remove unused method in `FileSnap`,"{""sha"": ""646715bbe692b24212683365a171ee1d07390cc4"", ""author"": {""name"": ""lan"", ""email"": ""1728209643@qq.com"", ""date"": ""2021-01-05T01:56:15Z""}, ""committer"": {""name"": ""lan"", ""email"": ""1728209643@qq.com"", ""date"": ""2021-01-05T01:56:15Z""}}"
1569,OpenPR,2021-01-05 01:56:50,lanicc,fork_close,,
1569,Revise,2021-01-05 05:18:43,lanicc,fork_close,ZOOKEEPER-4044: Remove unused variable in method `PrepRequestProcessor.pRequest2Txn`,"{""sha"": ""9876803964dbb514a9ddb806d324af37166b3bc9"", ""author"": {""name"": ""lan"", ""email"": ""1728209643@qq.com"", ""date"": ""2021-01-05T05:18:43Z""}, ""committer"": {""name"": ""lan"", ""email"": ""1728209643@qq.com"", ""date"": ""2021-01-05T05:18:43Z""}}"
1569,RenameTitle,2021-01-05 05:19:51,lanicc,fork_close,,"{""rename"": {""from"": ""ZOOKEEPER-4044: Remove unused method in `FileSnap`"", ""to"": ""ZOOKEEPER-4044: Remove unused method and variable""}, ""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4167942267""}"
1569,ReviewApproved,2021-01-08 14:12:53,maoling,fork_close,+1. lgtm.,"{""author_association"": ""MEMBER"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1569#pullrequestreview-564287776""}"
1569,ClosePR,2021-04-03 10:33:26,maoling,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4547987301"", ""commit_url"": null}"
1569,ReopenPR,2021-04-03 10:33:34,maoling,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4547987373"", ""commit_url"": null}"
1569,ClosePR,2021-04-04 06:56:05,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4548809162"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/a10c6b4a78fa28b785d18cc973026da971bb4fe3""}"
1569,IssueCommentSupplement,2021-04-04 06:59:21,maoling,fork_close,"- The failed CI build is not related.
```
[ERROR] Failures: 
[ERROR]   RequestThrottlerTest.testLargeRequestThrottling:297 expected: <2> but was: <0>
[INFO] 
[ERROR] Tests run: 2912, Failures: 1, Errors: 0, Skipped: 4
```
- @lanicc Thanks for your contribution.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/812985072"", ""author_association"": ""MEMBER""}"
1569,Referenced,2022-11-02 10:23:19,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7721870124"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/d1c8b4e2f7d244a9af02d25b56b393800db68fbd""}"
1569,CrossReferenced,2022-11-02 10:23:19,anuragmadnawat1,fork_close,ZOOKEEPER-4044: Remove unused method and variable,"{""reference"": {""url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/issues/134"", ""is_pull_request"": true}}"
1569,Referenced,2022-11-02 10:28:25,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7721915459"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/0f39cf36ce982f2a1b69671f946b4db1c16aec15""}"
1570,SubmitCommit,2021-01-06 01:08:50,KangZhiDong,fork_close,ZOOKEEPER-4046:Fix typo,"{""sha"": ""bd7106742a85a5707cc5e559535a628a2f947e3a"", ""author"": {""name"": ""KangZhiDong"", ""email"": ""worldkzd@gmail.com"", ""date"": ""2021-01-06T01:08:50Z""}, ""committer"": {""name"": ""KangZhiDong"", ""email"": ""worldkzd@gmail.com"", ""date"": ""2021-01-06T01:08:50Z""}}"
1570,OpenPR,2021-01-06 01:10:09,KangZhiDong,fork_close,,
1570,ReviewComment,2021-01-08 13:38:00,maoling,fork_close,,"{""author_association"": ""MEMBER"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1570#pullrequestreview-564232369""}"
1570,ClosePR,2021-01-21 17:44:31,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4234812664"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/4f4a7fc27996744edb79ba69a56cdd0a8d066bce""}"
1570,IssueCommentSupplement,2021-01-21 17:50:01,maoling,fork_close,"@KangZhiDong 
Thanks for your contribution. I observe it's your first-time contribution to zookeeper project and it's also my first-time to merge a PR :)","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/764825667"", ""author_association"": ""MEMBER""}"
1570,IssueCommentSupplement,2021-01-22 01:53:28,KangZhiDong,fork_close,"> @KangZhiDong
> Thanks for your contribution. I observe it's your first-time contribution to zookeeper project and it's also my first-time to merge a PR :)

tks dalao","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/765059700"", ""author_association"": ""CONTRIBUTOR""}"
1570,DeleteBranch,2021-01-24 12:27:01,KangZhiDong,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4242451433"", ""commit_url"": null}"
1570,Referenced,2022-08-31 20:39:56,RokLenarcic,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7299580810"", ""commit_url"": ""https://api.github.com/repos/RokLenarcic/zookeeper/commits/e4d16f6418b6432df687a36cb7cf09df929b074b""}"
1570,Referenced,2022-08-31 20:50:05,RokLenarcic,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7299637714"", ""commit_url"": ""https://api.github.com/repos/RokLenarcic/zookeeper/commits/8d8877a886866210f98ccf66b9ab568c8a75c4ea""}"
1570,Referenced,2022-08-31 20:53:37,RokLenarcic,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7299657666"", ""commit_url"": ""https://api.github.com/repos/RokLenarcic/zookeeper/commits/edcc52f80111929c9d11ba049dd048e7f90959b1""}"
1570,Referenced,2022-09-03 13:14:41,RokLenarcic,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7317065460"", ""commit_url"": ""https://api.github.com/repos/RokLenarcic/zookeeper/commits/b7b64bf414db37f721fc597bd0b1b515c5a47a6f""}"
1571,SubmitCommit,2021-01-06 08:00:57,shoothzj,fork_close,Make prometheus listen host can configure,"{""sha"": ""ddeee0dbc4823fe3b7fc5b0c9b92c870d12c40cb"", ""author"": {""name"": ""shoothzj"", ""email"": ""shooothzj@gmail.com"", ""date"": ""2021-01-06T08:00:57Z""}, ""committer"": {""name"": ""shoothzj"", ""email"": ""shooothzj@gmail.com"", ""date"": ""2021-01-06T08:00:57Z""}}"
1571,OpenPR,2021-01-06 08:02:46,Shoothzj,fork_close,,
1571,IssueComment,2021-01-08 13:45:30,maoling,fork_close,"@Shoothzj  
Thanks for this contribution
It's better to create a [JIRA](https://issues.apache.org/jira/projects/ZOOKEEPER/) issue (sign up JIRA if you don't have an account) to bind this PR to a JIRA-ID. 
ZooKeeper uses the github workflow. The contributor guideline is [here](https://cwiki.apache.org/confluence/display/ZOOKEEPER/HowToContribute)
Then we can start from here.
","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/756762956"", ""author_association"": ""MEMBER""}"
1571,IssueComment,2021-01-09 01:25:33,Shoothzj,fork_close,"Ok, I will close this, and push from a new branch","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/757071988"", ""author_association"": ""MEMBER""}"
1571,ClosePR,2021-01-09 01:25:53,Shoothzj,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4186587865"", ""commit_url"": null}"
1572,SubmitCommit,2021-01-06 16:19:31,Edwin Hobor,fork_close,ZOOKEEPER-4045: CVE-2020-25649 - Upgrade jackson databind to 2.10.5.1,"{""sha"": ""ce1dd5d99a3a1ae705ef1e2b1052bbe770fb4f96"", ""author"": {""name"": ""Edwin Hobor"", ""email"": ""edwin.hobor@microfocus.com"", ""date"": ""2021-01-06T16:19:31Z""}, ""committer"": {""name"": ""Edwin Hobor"", ""email"": ""edwin.hobor@microfocus.com"", ""date"": ""2021-01-06T16:19:31Z""}}"
1572,OpenPR,2021-01-06 16:21:41,edwin092,fork_close,,
1572,ReviewApproved,2021-01-06 17:24:47,nkalmar,fork_close,"+1, just bumped into this while doing 3.5.9 rc1, this is needed on 3.5 as well!","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1572#pullrequestreview-562898810""}"
1572,ReviewApproved,2021-01-06 18:45:41,symat,fork_close,"Looks OK, thanks!","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1572#pullrequestreview-562955517""}"
1572,ClosePR,2021-01-06 18:50:28,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4176568537"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/676d10b2fad97c69e4083619cb1db223ed1896a4""}"
1572,Referenced,2021-01-06 18:53:01,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4176578015"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/ae606bf09c158c35c1748aeac811796b469f3cf1""}"
1572,Referenced,2021-01-06 18:54:08,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4176582151"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/29315f85d9c9c9857da00eb868af27bc082d398d""}"
1572,IssueCommentSupplement,2021-01-06 18:54:47,nkalmar,fork_close,"Merged to master, 3.6 and 3.5, I wail also cherry-pick to 3.5.9 branch.
Thanks @edwin092 ","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/755515159"", ""author_association"": ""CONTRIBUTOR""}"
1572,Referenced,2021-01-06 18:57:55,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4176595985"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/5ea966ab6a7b8e63b78a9d04c6504e15d081334c""}"
1572,DeleteBranch,2021-01-07 06:58:31,edwin092,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4178476065"", ""commit_url"": null}"
1572,Referenced,2022-08-31 20:39:56,RokLenarcic,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7299580723"", ""commit_url"": ""https://api.github.com/repos/RokLenarcic/zookeeper/commits/bae6fce9ff2f02b69887cb026f1c489175b7ade1""}"
1572,Referenced,2022-08-31 20:50:04,RokLenarcic,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7299637616"", ""commit_url"": ""https://api.github.com/repos/RokLenarcic/zookeeper/commits/8c2f375925f8dfd001ade688839c56fd56bbc574""}"
1572,Referenced,2022-08-31 20:53:36,RokLenarcic,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7299657576"", ""commit_url"": ""https://api.github.com/repos/RokLenarcic/zookeeper/commits/fbf154f2f22858b918f68554a7de1d97691661cd""}"
1572,Referenced,2022-09-03 13:14:40,RokLenarcic,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7317065441"", ""commit_url"": ""https://api.github.com/repos/RokLenarcic/zookeeper/commits/052d2f36bf6fb9133710b09bed98551d40a37e03""}"
1573,SubmitCommit,2021-01-07 13:26:10,eolivelli,fork_close,ZOOKEEPER-4048 Upgrade Mockito to 3.6.28 - allow builds on JDK16,"{""sha"": ""f9e574e219635725f48194d79ea3fab096aba020"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2021-01-07T13:26:10Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2021-01-07T13:26:10Z""}}"
1573,OpenPR,2021-01-07 13:26:37,eolivelli,fork_close,,
1573,IssueComment,2021-01-07 13:27:06,eolivelli,fork_close,"@ztzg please consider picking up this patch before cutting 3.7.0, it is trivial but it allows builds on JDK16","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/756115757"", ""author_association"": ""CONTRIBUTOR""}"
1573,IssueComment,2021-01-07 18:38:10,ztzg,fork_close,"> @ztzg please consider picking up this patch before cutting 3.7.0, it is trivial but it allows builds on JDK16

Okay, noted!","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/756302077"", ""author_association"": ""CONTRIBUTOR""}"
1573,ReviewApproved,2021-01-10 19:01:40,ztzg,fork_close,LGTM!,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1573#pullrequestreview-564891281""}"
1573,IssueComment,2021-01-12 17:21:10,ztzg,fork_close,@eolivelli: Should I merge this (trivial) or do we need a second approval?,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/758811917"", ""author_association"": ""CONTRIBUTOR""}"
1573,IssueComment,2021-01-12 22:26:13,eolivelli,fork_close,"you can merge it :-)
our rule is that we need 2 committers to sponsor the patch, in this case me and you is enough","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/759076790"", ""author_association"": ""CONTRIBUTOR""}"
1573,ClosePR,2021-01-13 08:15:06,ztzg,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4199928367"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/183e38308d985981a94af16663860d7649621702""}"
1573,IssueCommentSupplement,2021-01-13 08:23:04,ztzg,fork_close,"> you can merge it :-)

Okay, now in `master`.

> our rule is that we need 2 committers to sponsor the patch, in this case me and you is enough

Right.  I'm never sure—the patch is certainly trivial, but the ramifications may not be.  (I haven't had a ""chance"" to look into the innards of Mockito so far.  I'm sure they're gnarly :)
","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/759287213"", ""author_association"": ""CONTRIBUTOR""}"
1573,Referenced,2022-08-31 20:39:56,RokLenarcic,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7299580764"", ""commit_url"": ""https://api.github.com/repos/RokLenarcic/zookeeper/commits/d4ffef9ffd5b7987c68c9ef47082cc128244304e""}"
1573,Referenced,2022-08-31 20:50:05,RokLenarcic,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7299637667"", ""commit_url"": ""https://api.github.com/repos/RokLenarcic/zookeeper/commits/2b9eecac19798ff71b30eb4a3a276aaf92c22a8d""}"
1573,Referenced,2022-08-31 20:53:36,RokLenarcic,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7299657619"", ""commit_url"": ""https://api.github.com/repos/RokLenarcic/zookeeper/commits/9a63e95384b5b0880f249339d90942d7765b4398""}"
1573,Referenced,2022-09-03 13:14:41,RokLenarcic,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7317065452"", ""commit_url"": ""https://api.github.com/repos/RokLenarcic/zookeeper/commits/aa042b7e49201595c10b4d6f220cbab81151d05b""}"
1574,OpenPR,2021-01-09 01:25:17,Shoothzj,fork_close,,
1574,IssueComment,2021-01-10 02:51:10,Shoothzj,fork_close,@maoling How do I deal with this problem? should I retry?,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/757403786"", ""author_association"": ""MEMBER""}"
1574,IssueComment,2021-01-22 08:14:26,maoling,fork_close,"@Shoothzj
- The failure was caused by `C client`. For the CI failure, you can close this PR then reopen it or
`git commit --amend` & `git push origin your-branch -f ` to trigger the CI build
- @eolivelli  PTAL. If he is not free, I'll take a look at this weekend.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/765224019"", ""author_association"": ""MEMBER""}"
1574,IssueComment,2021-02-17 02:10:47,Shoothzj,fork_close,@maoling could you help looking at this? thanks,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/780247006"", ""author_association"": ""MEMBER""}"
1574,IssueComment,2021-02-18 12:11:06,maoling,fork_close,"@Shoothzj 
Sorry for our late, I'll take a look at this weekend. Thanks for your contribution.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/781299994"", ""author_association"": ""MEMBER""}"
1574,ReviewComment,2021-02-21 11:04:23,maoling,fork_close,"- Please add the doc about the new property: **metricsProvider.httpHost** in the **zookeeperAdmin.md**
- Please write an unit case to cover this change","{""author_association"": ""MEMBER"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1574#pullrequestreview-594829675""}"
1574,IssueComment,2021-02-21 12:14:11,Shoothzj,fork_close,"> * Please add the doc about the new property: **metricsProvider.httpHost** in the **zookeeperAdmin.md**
> * Please write an unit case to cover this change

PTLA ","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/782848270"", ""author_association"": ""MEMBER""}"
1574,IssueComment,2021-02-27 09:46:20,Shoothzj,fork_close,"@maoling PTAL, And all checks have passed","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/787045169"", ""author_association"": ""MEMBER""}"
1574,ReviewComment,2021-02-27 11:23:45,maoling,fork_close,Just some nits,"{""author_association"": ""MEMBER"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1574#pullrequestreview-600134395""}"
1574,ReviewComment,2021-03-08 12:40:32,maoling,fork_close,,"{""author_association"": ""MEMBER"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1574#pullrequestreview-606248114""}"
1574,IssueComment,2021-03-08 12:41:05,maoling,fork_close,@eolivelli  PTAL :),"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/792729652"", ""author_association"": ""MEMBER""}"
1574,ReviewApproved,2021-03-08 16:59:04,eolivelli,fork_close,Lgtm,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1574#pullrequestreview-606503428""}"
1574,IssueComment,2021-03-26 03:47:32,maoling,fork_close,"@Shoothzj Sorry for my late,  I'll recheck this patch at this weekend, if no other concerns, I'll merge it at this weekend(03-27 ~ 03-28). Cc @eolivelli ","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/807915029"", ""author_association"": ""MEMBER""}"
1574,ClosePR,2021-03-28 07:02:52,maoling,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4517871741"", ""commit_url"": null}"
1574,ReopenPR,2021-03-28 07:02:56,maoling,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4517871770"", ""commit_url"": null}"
1574,IssueComment,2021-03-28 15:22:38,maoling,fork_close,"@Shoothzj  I retry the CI, it became green. But when I run the UT(`testInvalidAddr`) in my local mac:
```
org.junit.ComparisonFailure: 
Expected :java.net.SocketException: Unresolved address
Actual   :java.io.IOException: Failed to bind to 256.256.256.256:7000
```
What's wrong with me? or the test is flaky?","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/808911418"", ""author_association"": ""MEMBER""}"
1574,IssueComment,2021-03-29 01:59:51,Shoothzj,fork_close,"> @Shoothzj I retry the CI, it became green. But when I run the UT(`testInvalidAddr`) in my local mac:
> 
> ```
> org.junit.ComparisonFailure: 
> Expected :java.net.SocketException: Unresolved address
> Actual   :java.io.IOException: Failed to bind to 256.256.256.256:7000
> ```
> 
> What's wrong with me? or the test is flaky?

I test it on my local mac too. `jdk8u251` and `jdk14.0.1`. I think may be the class **IPAddressUtil**'s method `textToNumericFormatV4` think `256.256.256.256` as an valid ip address.
Could you tell me your jdk version and which jdk you use?
If it's unstable, may be it's better to change a testcase to listen to invalid domain name like this , what do you think ? 
![image](https://user-images.githubusercontent.com/12933197/112777740-8ad94400-9075-11eb-9204-a9d44e8c861e.png)
","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/809014582"", ""author_association"": ""MEMBER""}"
1574,IssueComment,2021-05-06 03:21:33,Shoothzj,fork_close,@maoling Could you please take a look this weekend?,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/833195205"", ""author_association"": ""MEMBER""}"
1574,ReviewComment,2021-05-09 11:09:38,maoling,fork_close,"@Shoothzj 
- Ennnnnnnn, I have remembered I have replied your latest comment long long ago. Where is my comment? (Strange thing!!!)
- After you resolve my latest request changes, I'll merge this PR asap. At the latest, next weekend(05-15)","{""author_association"": ""MEMBER"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1574#pullrequestreview-655065424""}"
1574,ClosePR,2021-05-15 05:45:22,maoling,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4749608276"", ""commit_url"": null}"
1574,ReopenPR,2021-05-15 05:45:26,maoling,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4749608308"", ""commit_url"": null}"
1574,IssueComment,2021-05-16 00:57:01,Shoothzj,fork_close,"> @Shoothzj
> 
> * Ennnnnnnn, I have remembered I have replied your latest comment long long ago. Where is my comment? (Strange thing!!!)
> * After you resolve my latest request changes, I'll merge this PR asap. At the latest, next weekend(05-15)

I saw you closing and opening this PR, what's wrong with this ? I noticed a test failure, but it's not related with this code。 The remaining discussion not resolve is because I'm not sure if I fixed the right space.
Thanks for your patient.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/841747076"", ""author_association"": ""MEMBER""}"
1574,ClosePR,2021-05-16 04:53:29,maoling,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4750665444"", ""commit_url"": null}"
1574,IssueComment,2021-05-16 04:53:29,maoling,fork_close,"@Shoothzj  don't worry about anything. I close and reopen the PR, just for kick off the CI.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/841766320"", ""author_association"": ""MEMBER""}"
1574,ReopenPR,2021-05-16 04:53:41,maoling,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4750665499"", ""commit_url"": null}"
1574,IssueComment,2021-05-16 15:03:39,maoling,fork_close,"@Shoothzj The CI failure was caused by this PR, please take a look

```
diff --git a/zookeeper-server/src/test/resources/data/invalidsnap/version-2/snapshot.83f b/zookeeper-server/src/test/resources/data/invalidsnap/version-2/snapshot.83f
deleted file mode 100644
index 26dc5f665..000000000
Binary files a/zookeeper-server/src/test/resources/data/invalidsnap/version-2/snapshot.83f and /dev/null differ

[ERROR] Tests run: 4, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 1.072 s <<< FAILURE! - in org.apache.zookeeper.test.InvalidSnapshotTest
[ERROR] testSnapshotFormatterWithInvalidSnap  Time elapsed: 0.034 s  <<< FAILURE!
org.opentest4j.AssertionFailedError: expected: <true> but was: <false>
	at org.apache.zookeeper.test.InvalidSnapshotTest.testSnapshotFormatterWithInvalidSnap(InvalidSnapshotTest.java:81)
```","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/841829567"", ""author_association"": ""MEMBER""}"
1574,ClosePR,2021-05-17 01:36:12,Shoothzj,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4751687645"", ""commit_url"": null}"
1574,ReopenPR,2021-05-17 01:36:14,Shoothzj,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4751687724"", ""commit_url"": null}"
1574,Revise,2021-05-17 01:48:38,shoothzj,fork_close,Make prometheus listen host can configure,"{""sha"": ""16afd18801c7e19e59147f37a56d0397e643db15"", ""author"": {""name"": ""shoothzj"", ""email"": ""shooothzj@gmail.com"", ""date"": ""2021-05-17T00:39:56Z""}, ""committer"": {""name"": ""shoothzj"", ""email"": ""shooothzj@gmail.com"", ""date"": ""2021-05-17T01:48:38Z""}}"
1574,IssueComment,2021-05-17 03:26:06,Shoothzj,fork_close,"> @Shoothzj The CI failure was caused by this PR, please take a look
> 
> ```
> diff --git a/zookeeper-server/src/test/resources/data/invalidsnap/version-2/snapshot.83f b/zookeeper-server/src/test/resources/data/invalidsnap/version-2/snapshot.83f
> deleted file mode 100644
> index 26dc5f665..000000000
> Binary files a/zookeeper-server/src/test/resources/data/invalidsnap/version-2/snapshot.83f and /dev/null differ
> 
> [ERROR] Tests run: 4, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 1.072 s <<< FAILURE! - in org.apache.zookeeper.test.InvalidSnapshotTest
> [ERROR] testSnapshotFormatterWithInvalidSnap  Time elapsed: 0.034 s  <<< FAILURE!
> org.opentest4j.AssertionFailedError: expected: <true> but was: <false>
> 	at org.apache.zookeeper.test.InvalidSnapshotTest.testSnapshotFormatterWithInvalidSnap(InvalidSnapshotTest.java:81)
> ```


@maoling 
Fixed the tests.

I am sorry for my careless. The mistake must be introduced by running、debuging tests. And github fold the binary file..","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/841955752"", ""author_association"": ""MEMBER""}"
1574,ClosePR,2021-05-17 15:10:56,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4755248281"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/b79abb2014db9684c00afd7d98c0a7cb69ce6c8b""}"
1574,IssueCommentSupplement,2021-05-17 15:11:54,maoling,fork_close,@Shoothzj   Thanks for your contribution.,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/842405581"", ""author_association"": ""MEMBER""}"
1574,Referenced,2021-06-16 19:14:56,li4wang,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4899915386"", ""commit_url"": ""https://api.github.com/repos/li4wang/zookeeper/commits/b38290a5e589d502ffdffeaaefa0f5bb600df780""}"
1574,DeleteBranch,2021-10-25 07:39:53,Shoothzj,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5511527861"", ""commit_url"": null}"
1574,CrossReferenced,2022-11-02 11:26:45,anuragmadnawat1,fork_close,ZOOKEEPER-4054: Make prometheus listen host can configure,"{""reference"": {""url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/issues/146"", ""is_pull_request"": true}}"
1574,Referenced,2022-11-02 11:26:46,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7722389955"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/c2ae92e19899e10ad0f256dfa173422442e73e30""}"
1574,Referenced,2022-11-02 11:43:08,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7722519429"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/79acf7c27e225edf7105df5570c6b4490c927f92""}"
1575,SubmitCommit,2021-01-10 03:19:22,okumin,fork_close,ZOOKEEPER-4055: Dockerfile can't build Zookeeper C client library,"{""sha"": ""d8561eff0450becdba17f3e4f93e7fa3aeb4f504"", ""author"": {""name"": ""okumin"", ""email"": ""git@okumin.com"", ""date"": ""2021-01-10T02:55:25Z""}, ""committer"": {""name"": ""okumin"", ""email"": ""git@okumin.com"", ""date"": ""2021-01-10T03:19:22Z""}}"
1575,OpenPR,2021-01-10 03:21:53,okumin,fork_close,,
1575,ReviewApproved,2021-01-10 07:16:35,eolivelli,fork_close,"LGTM

This fix will be cherry picked to branch-3.6 and probably to branch-3.5","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1575#pullrequestreview-564834855""}"
1575,ReviewApproved,2021-01-10 13:27:21,ztzg,fork_close,LGTM.  (Planning to merge this in all branches later today.),"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1575#pullrequestreview-564863904""}"
1575,IssueComment,2021-01-10 16:22:45,okumin,fork_close,"Thank you both!
For your information, we are currently using `maven:3.6.1-jdk-11`, based on Debian 9, for branch-3.5.
`libcppunit-dev` for Debian 9 has `AM_PATH_CPPUNIT`, and I guess the maintenance of Maven 3.6.1 image has been already discontinued. That means we may not have to backport this fix for branch-3.5 if we continue using Maven 3.6.1.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/757502561"", ""author_association"": ""CONTRIBUTOR""}"
1575,ClosePR,2021-01-10 18:51:36,ztzg,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4188316463"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/eeb053767c9e931ae72a2d8c59c0940da3da9679""}"
1575,Referenced,2021-01-10 18:53:48,ztzg,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4188318548"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/4e1c6d50238dff87fce2bfc00ec3ef25c85d5a44""}"
1575,IssueCommentSupplement,2021-01-10 18:57:32,ztzg,fork_close,"Merged into `master` and `branch-3.6` (with minor adaptations).  @okumin: I can confirm that the change was not necessary on `branch-3.5`, so I haven't updated the Docker recipe there.  Thanks!","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/757525644"", ""author_association"": ""CONTRIBUTOR""}"
1575,DeleteBranch,2021-01-11 06:56:50,okumin,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4189193213"", ""commit_url"": null}"
1575,Referenced,2022-08-31 20:39:56,RokLenarcic,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7299580755"", ""commit_url"": ""https://api.github.com/repos/RokLenarcic/zookeeper/commits/ac019548f0bfe70d158f7736202c8efd65940ef0""}"
1575,Referenced,2022-08-31 20:50:04,RokLenarcic,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7299637645"", ""commit_url"": ""https://api.github.com/repos/RokLenarcic/zookeeper/commits/309e3737854d18d5ed87a2eb3733fa482e34d462""}"
1575,Referenced,2022-08-31 20:53:36,RokLenarcic,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7299657600"", ""commit_url"": ""https://api.github.com/repos/RokLenarcic/zookeeper/commits/b24bf17aecb1fb56619fab3da4773cdea9f25350""}"
1575,Referenced,2022-09-03 13:14:40,RokLenarcic,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7317065448"", ""commit_url"": ""https://api.github.com/repos/RokLenarcic/zookeeper/commits/749cd8aaca1e56d7aedc27724e2061039756f986""}"
1576,SubmitCommit,2021-01-10 16:46:39,ztzg,fork_close,ZOOKEEPER-3426: C test mocks: Fix length encoding in HandshakeResponse,"{""sha"": ""202af2e82ab2f4c46c84add43d7c697af781c9ea"", ""author"": {""name"": ""Damien Diederen"", ""email"": ""dd@crosstwine.com"", ""date"": ""2021-01-10T15:35:23Z""}, ""committer"": {""name"": ""Damien Diederen"", ""email"": ""dd@crosstwine.com"", ""date"": ""2021-01-10T16:46:39Z""}}"
1576,SubmitCommit,2021-01-10 16:46:39,ztzg,fork_close,ZOOKEEPER-3426: C test mocks: Add omitReadOnly parameter to HandshakeResponse,"{""sha"": ""5435710151ad172450da7267f04ee55ceb1ee3e0"", ""author"": {""name"": ""Damien Diederen"", ""email"": ""dd@crosstwine.com"", ""date"": ""2021-01-07T18:49:11Z""}, ""committer"": {""name"": ""Damien Diederen"", ""email"": ""dd@crosstwine.com"", ""date"": ""2021-01-10T16:46:39Z""}}"
1576,SubmitCommit,2021-01-10 16:46:39,ztzg,fork_close,"ZOOKEEPER-3426: C client: Consider encoded length before completing handshake

Suhas Dantkale noticed that the C client, which uses non-blocking
sockets, could end up reading only the first 40 bytes of a 41-byte
connection response and concluding that its handshake was complete,
leaving one byte in the pipe.

Similarly, the library could be left hanging waiting for a 41th byte
after having received a fragmented 40-byte response from an old
server.

This patch makes the logic resistant to fragmentation by considering
the server-provided length encoded in the response packet.","{""sha"": ""3faa74f3f95d0ef92718a13ab259a19601d269b0"", ""author"": {""name"": ""Damien Diederen"", ""email"": ""dd@crosstwine.com"", ""date"": ""2021-01-07T20:12:52Z""}, ""committer"": {""name"": ""Damien Diederen"", ""email"": ""dd@crosstwine.com"", ""date"": ""2021-01-10T16:46:39Z""}}"
1576,SubmitCommit,2021-01-10 16:46:39,ztzg,fork_close,ZOOKEEPER-3426: C client: Add connection response fragmentation tests,"{""sha"": ""e9361be0bb1e6d1ac9b70df111a7e4559cbb44c2"", ""author"": {""name"": ""Damien Diederen"", ""email"": ""dd@crosstwine.com"", ""date"": ""2021-01-07T18:50:53Z""}, ""committer"": {""name"": ""Damien Diederen"", ""email"": ""dd@crosstwine.com"", ""date"": ""2021-01-10T16:46:39Z""}}"
1576,OpenPR,2021-01-10 16:53:53,ztzg,fork_close,,
1576,IssueComment,2021-01-10 16:54:22,ztzg,fork_close,Cc: @suhasdantkale.,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/757507453"", ""author_association"": ""CONTRIBUTOR""}"
1576,ReviewRequested,2021-01-10 16:54:38,ztzg,fork_close,,"{""requested_reviewer"": {""login"": ""eolivelli"", ""id"": 9469110, ""node_id"": ""MDQ6VXNlcjk0NjkxMTA="", ""avatar_url"": ""https://avatars.githubusercontent.com/u/9469110?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/eolivelli"", ""html_url"": ""https://github.com/eolivelli"", ""followers_url"": ""https://api.github.com/users/eolivelli/followers"", ""following_url"": ""https://api.github.com/users/eolivelli/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/eolivelli/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/eolivelli/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/eolivelli/subscriptions"", ""organizations_url"": ""https://api.github.com/users/eolivelli/orgs"", ""repos_url"": ""https://api.github.com/users/eolivelli/repos"", ""events_url"": ""https://api.github.com/users/eolivelli/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/eolivelli/received_events"", ""type"": ""User"", ""site_admin"": false}, ""requested_team"": null}"
1576,ReviewRequested,2021-01-10 16:54:38,ztzg,fork_close,,"{""requested_reviewer"": {""login"": ""symat"", ""id"": 18458499, ""node_id"": ""MDQ6VXNlcjE4NDU4NDk5"", ""avatar_url"": ""https://avatars.githubusercontent.com/u/18458499?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/symat"", ""html_url"": ""https://github.com/symat"", ""followers_url"": ""https://api.github.com/users/symat/followers"", ""following_url"": ""https://api.github.com/users/symat/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/symat/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/symat/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/symat/subscriptions"", ""organizations_url"": ""https://api.github.com/users/symat/orgs"", ""repos_url"": ""https://api.github.com/users/symat/repos"", ""events_url"": ""https://api.github.com/users/symat/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/symat/received_events"", ""type"": ""User"", ""site_admin"": false}, ""requested_team"": null}"
1576,ReviewComment,2021-01-10 17:08:39,eolivelli,fork_close,"The patch looks reasonable to me.
I am not a C client expert and I don't have much time to dig into the patch.

So +0 from me. I cannot say this is a binding vote.
I will did further if no other reviewer has time to review this patch.

This patch is worth to be committed to 3.7 IMO","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1576#pullrequestreview-564882625""}"
1576,ReviewApproved,2021-01-11 07:58:50,symat,fork_close,"LGTM, +1
Thank you Damien!
I agree with Enrico, I would also like to see this fix to land in 3.7
(I'm a bit overloaded with tasks, feel free to merge the PR)","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1576#pullrequestreview-565123991""}"
1576,IssueComment,2021-01-11 07:59:02,symat,fork_close,also nice tests! :),"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/757686302"", ""author_association"": ""CONTRIBUTOR""}"
1576,IssueComment,2021-01-11 12:02:34,ztzg,fork_close,"@symat: Okay, noted. Will probably merge tomorrow, then.

Cc: @fpj and @phunt, in case they want to take a look.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/757908038"", ""author_association"": ""CONTRIBUTOR""}"
1576,IssueComment,2021-01-11 12:24:24,ztzg,fork_close,"> also nice tests! :)

Using the framework which was crashing @ctubbsii's Fedora tests :)  Having the `_st` variant of the client is quite useful, as well.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/757918965"", ""author_association"": ""CONTRIBUTOR""}"
1576,ReviewRequested,2021-01-12 17:22:56,ztzg,fork_close,,"{""requested_reviewer"": {""login"": ""nkalmar"", ""id"": 5468746, ""node_id"": ""MDQ6VXNlcjU0Njg3NDY="", ""avatar_url"": ""https://avatars.githubusercontent.com/u/5468746?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/nkalmar"", ""html_url"": ""https://github.com/nkalmar"", ""followers_url"": ""https://api.github.com/users/nkalmar/followers"", ""following_url"": ""https://api.github.com/users/nkalmar/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/nkalmar/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/nkalmar/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/nkalmar/subscriptions"", ""organizations_url"": ""https://api.github.com/users/nkalmar/orgs"", ""repos_url"": ""https://api.github.com/users/nkalmar/repos"", ""events_url"": ""https://api.github.com/users/nkalmar/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/nkalmar/received_events"", ""type"": ""User"", ""site_admin"": false}, ""requested_team"": null}"
1576,ReviewRequested,2021-01-12 17:22:56,ztzg,fork_close,,"{""requested_reviewer"": {""login"": ""phunt"", ""id"": 15702, ""node_id"": ""MDQ6VXNlcjE1NzAy"", ""avatar_url"": ""https://avatars.githubusercontent.com/u/15702?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/phunt"", ""html_url"": ""https://github.com/phunt"", ""followers_url"": ""https://api.github.com/users/phunt/followers"", ""following_url"": ""https://api.github.com/users/phunt/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/phunt/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/phunt/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/phunt/subscriptions"", ""organizations_url"": ""https://api.github.com/users/phunt/orgs"", ""repos_url"": ""https://api.github.com/users/phunt/repos"", ""events_url"": ""https://api.github.com/users/phunt/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/phunt/received_events"", ""type"": ""User"", ""site_admin"": false}, ""requested_team"": null}"
1576,ReviewRequested,2021-01-12 17:22:56,ztzg,fork_close,,"{""requested_reviewer"": {""login"": ""anmolnar"", ""id"": 4997876, ""node_id"": ""MDQ6VXNlcjQ5OTc4NzY="", ""avatar_url"": ""https://avatars.githubusercontent.com/u/4997876?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/anmolnar"", ""html_url"": ""https://github.com/anmolnar"", ""followers_url"": ""https://api.github.com/users/anmolnar/followers"", ""following_url"": ""https://api.github.com/users/anmolnar/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/anmolnar/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/anmolnar/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/anmolnar/subscriptions"", ""organizations_url"": ""https://api.github.com/users/anmolnar/orgs"", ""repos_url"": ""https://api.github.com/users/anmolnar/repos"", ""events_url"": ""https://api.github.com/users/anmolnar/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/anmolnar/received_events"", ""type"": ""User"", ""site_admin"": false}, ""requested_team"": null}"
1576,ReviewRequested,2021-01-12 17:22:56,ztzg,fork_close,,"{""requested_reviewer"": {""login"": ""fpj"", ""id"": 572920, ""node_id"": ""MDQ6VXNlcjU3MjkyMA=="", ""avatar_url"": ""https://avatars.githubusercontent.com/u/572920?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/fpj"", ""html_url"": ""https://github.com/fpj"", ""followers_url"": ""https://api.github.com/users/fpj/followers"", ""following_url"": ""https://api.github.com/users/fpj/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/fpj/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/fpj/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/fpj/subscriptions"", ""organizations_url"": ""https://api.github.com/users/fpj/orgs"", ""repos_url"": ""https://api.github.com/users/fpj/repos"", ""events_url"": ""https://api.github.com/users/fpj/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/fpj/received_events"", ""type"": ""User"", ""site_admin"": false}, ""requested_team"": null}"
1576,ClosePR,2021-01-13 08:28:25,ztzg,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4199979788"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/7fad7ea33365304f8c268279689a6cbeed6698bc""}"
1576,IssueCommentSupplement,2021-01-13 08:35:39,ztzg,fork_close,"> I agree with Enrico, I would also like to see this fix to land in 3.7

Okay, merged this into `master`.  (Still haven't officially branched 3.7.)

I'm considering pulling this into 3.6.  (And, possibly, 3.5.)  This is an important fix in theory, but I'm not sure it ever happens in practice. @suhasdantkale, have you actually experienced the problem, or did you just spot it in the code?

All: what do you think?
","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/759293666"", ""author_association"": ""CONTRIBUTOR""}"
1576,Referenced,2022-08-31 20:39:56,RokLenarcic,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7299580769"", ""commit_url"": ""https://api.github.com/repos/RokLenarcic/zookeeper/commits/fc51c510adaf1edb3f6dc254fed4c2bab855e253""}"
1576,Referenced,2022-08-31 20:50:05,RokLenarcic,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7299637678"", ""commit_url"": ""https://api.github.com/repos/RokLenarcic/zookeeper/commits/05100bd94ff3dec0b6bbcc9fd0940ba55f549501""}"
1576,Referenced,2022-08-31 20:53:37,RokLenarcic,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7299657629"", ""commit_url"": ""https://api.github.com/repos/RokLenarcic/zookeeper/commits/c720107797b7ed79d52a0a83718e71253c861a2f""}"
1576,Referenced,2022-09-03 13:14:41,RokLenarcic,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7317065453"", ""commit_url"": ""https://api.github.com/repos/RokLenarcic/zookeeper/commits/22505490117fee7c871e9eebdd012f3f69ec34aa""}"
1577,SubmitCommit,2021-01-10 20:07:23,ztzg,fork_close,ZOOKEEPER-4056: Update copyright notices from 2020 to 2021,"{""sha"": ""63fa70f0dc5c44a31588583351b3432e60814372"", ""author"": {""name"": ""Damien Diederen"", ""email"": ""dd@crosstwine.com"", ""date"": ""2021-01-10T20:07:23Z""}, ""committer"": {""name"": ""Damien Diederen"", ""email"": ""dd@crosstwine.com"", ""date"": ""2021-01-10T20:07:23Z""}}"
1577,OpenPR,2021-01-10 20:09:19,ztzg,fork_close,,
1577,ReviewRequested,2021-01-10 20:09:27,ztzg,fork_close,,"{""requested_reviewer"": {""login"": ""eolivelli"", ""id"": 9469110, ""node_id"": ""MDQ6VXNlcjk0NjkxMTA="", ""avatar_url"": ""https://avatars.githubusercontent.com/u/9469110?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/eolivelli"", ""html_url"": ""https://github.com/eolivelli"", ""followers_url"": ""https://api.github.com/users/eolivelli/followers"", ""following_url"": ""https://api.github.com/users/eolivelli/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/eolivelli/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/eolivelli/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/eolivelli/subscriptions"", ""organizations_url"": ""https://api.github.com/users/eolivelli/orgs"", ""repos_url"": ""https://api.github.com/users/eolivelli/repos"", ""events_url"": ""https://api.github.com/users/eolivelli/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/eolivelli/received_events"", ""type"": ""User"", ""site_admin"": false}, ""requested_team"": null}"
1577,ReviewApproved,2021-01-11 10:46:30,eolivelli,fork_close,LGTM,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1577#pullrequestreview-565239021""}"
1577,ClosePR,2021-01-11 11:02:37,eolivelli,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4190184322"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/b995c559e6a567deaeb5b87c136aaa97d574d8de""}"
1577,Referenced,2021-01-11 11:02:38,eolivelli,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4190184337"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/2acfc733949b3a01255edcce672d6f4335901026""}"
1577,Referenced,2022-08-31 20:39:56,RokLenarcic,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7299580762"", ""commit_url"": ""https://api.github.com/repos/RokLenarcic/zookeeper/commits/15c4f2a29655a110677c52256ce38309d7855f6b""}"
1577,Referenced,2022-08-31 20:50:04,RokLenarcic,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7299637658"", ""commit_url"": ""https://api.github.com/repos/RokLenarcic/zookeeper/commits/6aa510c0a31414bc0588b3afd096c01ed9e2cad8""}"
1577,Referenced,2022-08-31 20:53:36,RokLenarcic,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7299657608"", ""commit_url"": ""https://api.github.com/repos/RokLenarcic/zookeeper/commits/d09458fef96907335c6ee1eb460bcc03eb64fe5d""}"
1577,Referenced,2022-09-03 13:14:41,RokLenarcic,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7317065450"", ""commit_url"": ""https://api.github.com/repos/RokLenarcic/zookeeper/commits/9b1524ac71f4b0183df24c45422a9ad0a56f1596""}"
1579,SubmitCommit,2021-01-14 08:37:04,lanicc,fork_close,ZOOKEEPER-4058: Update checkstyle-strict.xml by the latest version 8.39 of checkstyle,"{""sha"": ""0d232bb8943ed2bed164c3ea1b2e7ab5738c294b"", ""author"": {""name"": ""lan"", ""email"": ""1728209643@qq.com"", ""date"": ""2021-01-14T08:37:04Z""}, ""committer"": {""name"": ""lan"", ""email"": ""1728209643@qq.com"", ""date"": ""2021-01-14T08:37:04Z""}}"
1579,OpenPR,2021-01-14 08:38:50,lanicc,fork_close,,
1579,ClosePR,2021-01-14 08:46:38,lanicc,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4205072592"", ""commit_url"": null}"
1579,Revise,2021-01-14 11:34:54,lanicc,fork_close,ZOOKEEPER-4058: Update checkstyle to the latest version 8.39,"{""sha"": ""2e8290c012fae2356d1967e8fae368e348564de9"", ""author"": {""name"": ""lan"", ""email"": ""1728209643@qq.com"", ""date"": ""2021-01-14T11:34:54Z""}, ""committer"": {""name"": ""lan"", ""email"": ""1728209643@qq.com"", ""date"": ""2021-01-14T11:34:54Z""}}"
1579,ReopenPR,2021-01-15 01:00:41,lanicc,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4208867149"", ""commit_url"": null}"
1579,ClosePR,2021-01-15 01:04:09,lanicc,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4208875937"", ""commit_url"": null}"
1579,IssueComment,2021-01-15 03:13:00,ctubbsii,fork_close,"CI builds are failing for this PR, because of new checkstyle errors that occur as a result of this change. They should be resolved in order to accept this PR.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/760616958"", ""author_association"": ""MEMBER""}"
1579,IssueComment,2021-01-15 08:31:07,lanicc,fork_close,"> CI builds are failing for this PR, because of new checkstyle errors that occur as a result of this change. They should be resolved in order to accept this PR.

yes, I'm trying to fix this","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/760751296"", ""author_association"": ""CONTRIBUTOR""}"
1579,Revise,2021-01-15 09:02:41,lanicc,fork_close,ZOOKEEPER-4058: declare filter suppressions,"{""sha"": ""497235843676ecf661e8e2934e8c0b83804cdbc0"", ""author"": {""name"": ""lan"", ""email"": ""1728209643@qq.com"", ""date"": ""2021-01-15T09:02:41Z""}, ""committer"": {""name"": ""lan"", ""email"": ""1728209643@qq.com"", ""date"": ""2021-01-15T09:02:41Z""}}"
1579,ReopenPR,2021-01-15 09:03:28,lanicc,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4210079795"", ""commit_url"": null}"
1579,Revise,2021-01-15 11:01:28,lanicc,fork_close,ZOOKEEPER-4058: Fix license style,"{""sha"": ""90ec4bf97f5dcf21e876c8fe2e7719b1dba078e6"", ""author"": {""name"": ""lan"", ""email"": ""1728209643@qq.com"", ""date"": ""2021-01-15T11:01:28Z""}, ""committer"": {""name"": ""lan"", ""email"": ""1728209643@qq.com"", ""date"": ""2021-01-15T11:01:28Z""}}"
1579,IssueComment,2021-01-15 12:42:11,lanicc,fork_close,These problems (CI building error) seem to have nothing to do with the revision,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/760920130"", ""author_association"": ""CONTRIBUTOR""}"
1579,ReviewApproved,2021-01-15 14:18:15,ctubbsii,fork_close,Changes look good to me.,"{""author_association"": ""MEMBER"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1579#pullrequestreview-569296941""}"
1579,RenameTitle,2021-01-17 08:13:52,lanicc,fork_close,,"{""rename"": {""from"": ""ZOOKEEPER-4058: Update checkstyle-strict.xml by the latest version 8.39 of checkstyle"", ""to"": ""ZOOKEEPER-4058: Update checkstyle to the latest version 8.39""}, ""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4214870017""}"
1579,ReviewApproved,2021-01-17 17:05:31,ztzg,fork_close,LGTM!,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1579#pullrequestreview-570075990""}"
1579,ReviewApproved,2021-01-17 17:59:46,eolivelli,fork_close,LGTM,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1579#pullrequestreview-570080352""}"
1579,ClosePR,2021-01-17 20:21:59,ztzg,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4215499178"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/e8dc2b3210b001094b6179e0deacdb2cebded31f""}"
1579,Referenced,2021-01-17 20:22:50,ztzg,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4215499979"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/1533380506162efb459a61caefdd3bf558099be7""}"
1579,Referenced,2021-01-17 20:23:23,ztzg,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4215500417"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/e74460ace03f3913ef854abe3a85afbd44af24a6""}"
1579,IssueCommentSupplement,2021-01-17 20:24:58,ztzg,fork_close,"Thank you, @lanicc!  Merged into `master`, `branch-3.7` and `branch-3.7.0`.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/761874067"", ""author_association"": ""CONTRIBUTOR""}"
1579,Referenced,2022-08-31 20:39:56,RokLenarcic,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7299580783"", ""commit_url"": ""https://api.github.com/repos/RokLenarcic/zookeeper/commits/99ff15f1a0e4e8b15238cfcb04e8deedf07ba90d""}"
1579,Referenced,2022-08-31 20:50:05,RokLenarcic,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7299637696"", ""commit_url"": ""https://api.github.com/repos/RokLenarcic/zookeeper/commits/e8ac7e94e28b1ad6c01ab6588a4120f6ad3f1ff4""}"
1579,Referenced,2022-08-31 20:53:37,RokLenarcic,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7299657649"", ""commit_url"": ""https://api.github.com/repos/RokLenarcic/zookeeper/commits/c1144ac1051ae0ac60c93a39ed94cd3d82fba2a1""}"
1579,Referenced,2022-09-03 13:14:41,RokLenarcic,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7317065456"", ""commit_url"": ""https://api.github.com/repos/RokLenarcic/zookeeper/commits/381aaa7b6e99f76529f712d2721e74d5e740428c""}"
1580,SubmitCommit,2021-01-18 07:50:26,horizonzy,fork_close,Enhance message when packet's length over limit.,"{""sha"": ""dd43cf9437e3ac19b4591e5bfeacc25b5e1dce77"", ""author"": {""name"": ""horizonzy"", ""email"": ""1060026287@qq.com"", ""date"": ""2021-01-18T07:50:26Z""}, ""committer"": {""name"": ""horizonzy"", ""email"": ""1060026287@qq.com"", ""date"": ""2021-01-18T07:50:26Z""}}"
1580,OpenPR,2021-01-18 07:51:48,horizonzy,fork_close,,
1580,ReviewRequested,2021-01-22 12:43:31,maoling,fork_close,,"{""requested_reviewer"": {""login"": ""maoling"", ""id"": 11016631, ""node_id"": ""MDQ6VXNlcjExMDE2NjMx"", ""avatar_url"": ""https://avatars.githubusercontent.com/u/11016631?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/maoling"", ""html_url"": ""https://github.com/maoling"", ""followers_url"": ""https://api.github.com/users/maoling/followers"", ""following_url"": ""https://api.github.com/users/maoling/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/maoling/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/maoling/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/maoling/subscriptions"", ""organizations_url"": ""https://api.github.com/users/maoling/orgs"", ""repos_url"": ""https://api.github.com/users/maoling/repos"", ""events_url"": ""https://api.github.com/users/maoling/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/maoling/received_events"", ""type"": ""User"", ""site_admin"": false}, ""requested_team"": null}"
1580,IssueComment,2021-02-17 11:19:58,maoling,fork_close,"@horizonzy looks good.Thanks for your contribution.
Could you please add more to the GitHub description about what's the intention or advantage the change will bring.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/780488535"", ""author_association"": ""MEMBER""}"
1580,IssueComment,2021-02-17 11:43:03,horizonzy,fork_close,"> @horizonzy looks good.Thanks for your contribution.
> Could you please add more to the GitHub description about what's the intention or advantage the change will bring.

Tell user the default packge length limit, In my opinion, the message can even tell user the way to modify the default limit. I will append a commit.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/780500549"", ""author_association"": ""MEMBER""}"
1580,IssueComment,2021-02-17 11:53:18,horizonzy,fork_close,what do you think of it,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/780505374"", ""author_association"": ""MEMBER""}"
1580,IssueComment,2021-02-18 12:05:22,maoling,fork_close,"@horizonzy 

> Tell user the default packge length limit, In my opinion, the message can even tell user the way to modify the default limit. I will append a commit.

Looks good:)","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/781296802"", ""author_association"": ""MEMBER""}"
1580,IssueComment,2021-02-21 07:23:07,maoling,fork_close,"@horizonzy 
- `throw new IOException(""Packet len "" + len + "" is out of range "" + packetLen + ""!"");` is good enough, adding the operation guideline `-Djute.maxBuffer to cover it.` to the exception message is a little toilsome
-  The only thing I suggest is: give this PR a description. I do it for you:)","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/782813386"", ""author_association"": ""MEMBER""}"
1580,IssueComment,2021-02-21 07:30:36,horizonzy,fork_close,"> @horizonzy
> 
> * `throw new IOException(""Packet len "" + len + "" is out of range "" + packetLen + ""!"");` is good enough, adding the operation guideline `-Djute.maxBuffer to cover it.` to the exception message is a little toilsome
> * The only thing I suggest is: give this PR a description. I do it for you:)

Alright. Thank you :)","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/782814037"", ""author_association"": ""MEMBER""}"
1580,IssueComment,2021-02-25 16:53:31,ztzg,fork_close,"Thank you, @horizonzy.  I'm afraid I'm going to close this in favor of https://github.com/apache/zookeeper/pull/1614, however, as the message is even more informative.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/786047394"", ""author_association"": ""CONTRIBUTOR""}"
1580,ClosePR,2021-02-25 16:53:32,ztzg,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4377649139"", ""commit_url"": null}"
1581,OpenPR,2021-01-18 15:06:41,srdo,fork_close,,
1581,IssueComment,2021-01-18 15:07:28,srdo,fork_close,Additional context here https://mail-archives.apache.org/mod_mbox/zookeeper-dev/202101.mbox/%3cpony-db78e81c2a8c7e7aa50468ebe248816470b8ee2f-8a8224758cb92c542b444f6af8884c82154cdaf2@dev.zookeeper.apache.org%3e,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/762307505"", ""author_association"": ""CONTRIBUTOR""}"
1581,IssueComment,2021-01-18 21:49:26,srdo,fork_close,"I think these test failures are on master as well, see e.g. https://github.com/apache/zookeeper/runs/1717919885. Seems to be tests trying to bind in-use ports.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/762485045"", ""author_association"": ""CONTRIBUTOR""}"
1581,ReviewRejected,2021-01-19 10:21:52,eolivelli,fork_close,"well done.
@ztzg please consider adding this to 3.7.
it will help a lot users in getting rid of old EOL 3.4 zookeeper clusters","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1581#pullrequestreview-571097154""}"
1581,IssueComment,2021-01-27 14:30:10,srdo,fork_close,"@eolivelli I addressed your comments (Sorry for pinging, I'm not sure Github sends messages when I push updates)","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/768323461"", ""author_association"": ""CONTRIBUTOR""}"
1581,ReviewApproved,2021-01-27 14:55:36,eolivelli,fork_close,"LGTM
@ztzg @hanm PTAL","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1581#pullrequestreview-577421481""}"
1581,ReviewApproved,2021-02-17 16:57:11,ztzg,fork_close,"LGTM, but I have a small question/doubt regarding one section of the test.  What do you think?","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1581#pullrequestreview-592399509""}"
1581,IssueComment,2021-02-17 16:58:46,ztzg,fork_close,"> @ztzg please consider adding this to 3.7.

Okay, noted.

","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/780699848"", ""author_association"": ""CONTRIBUTOR""}"
1581,IssueComment,2021-02-18 20:38:46,srdo,fork_close,The failing test is a different one this time than last time. I think it's just flaky.,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/781620252"", ""author_association"": ""CONTRIBUTOR""}"
1581,Revise,2021-02-23 12:28:19,srdo,fork_close,"ZOOKEEPER-3781: Create snapshots on followers when snapshot.trust.empty is true

snapshot.trust.empty is an escape hatch for users upgrading from 3.4.x to later Zookeeper
versions, allowing nodes to start with a non-empty transaction log but no snapshot.

The intent is for this setting to be enabled for a short while during the upgrade,
and then disabled again, as the check it disables is a safety feature.

Prior to this PR, a node would only write a snapshot locally if it became leader,
or if it had fallen so far behind the leader that the leader sent a SNAP message instead
of a DIFF. This made the upgrade process inconvenient, as not all nodes would create
a snapshot when snapshot.trust.empty was true, meaning that the safety check could
not be flipped back on.

This PR makes follower nodes write a local snapshot when they receive NEWLEADER,
if they have no local snapshot and snapshot.trust.empty is true.","{""sha"": ""4d3f8b61878b82596a4b2677763887007327df15"", ""author"": {""name"": ""Stig Rohde D\u00f8ssing"", ""email"": ""stig@humio.com"", ""date"": ""2021-01-18T10:16:42Z""}, ""committer"": {""name"": ""Stig Rohde D\u00f8ssing"", ""email"": ""stig@humio.com"", ""date"": ""2021-02-23T12:28:19Z""}}"
1581,IssueComment,2021-02-25 17:36:36,srdo,fork_close,"Turns out it was just a flaky test. I think this should be ready to go in now. I'm not sure what your backporting policy is like, but it would be nice to get on as many branches as possible :)","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/786077037"", ""author_association"": ""CONTRIBUTOR""}"
1581,ClosePR,2021-03-06 19:41:14,ztzg,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4417219140"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/1214d3bf611d153ae8c3987523da01d3d6c82686""}"
1581,Referenced,2021-03-06 19:42:18,ztzg,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4417220167"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/9722488872802c546d1f8a3bb0ea349e5309f806""}"
1581,Referenced,2021-03-06 19:43:06,ztzg,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4417220894"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/679cc2b1015db6a0b41cf9223c826a4b565387e9""}"
1581,IssueCommentSupplement,2021-03-06 19:44:25,ztzg,fork_close,"Thank you, @srdo!  This is now in `master`, `branch-3.7`, and `branch-3.7.0`.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/792039476"", ""author_association"": ""CONTRIBUTOR""}"
1581,IssueCommentSupplement,2021-03-06 19:46:08,srdo,fork_close,"Sounds good, thank you.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/792040020"", ""author_association"": ""CONTRIBUTOR""}"
1581,Referenced,2022-05-16 17:59:10,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6618274722"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/d1ec2f346b43ce6c00be45a68871fb7bda6e098a""}"
1581,Referenced,2022-05-16 18:25:40,symat,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6618441944"", ""commit_url"": ""https://api.github.com/repos/symat/zookeeper/commits/20a52137e06a937900f4a88b905ae7e37e5175ab""}"
1581,CrossReferenced,2022-05-16 18:25:50,symat,fork_close,ZOOKEEPER-3781: Create snapshots on followers when snapshot.trust.emp…,"{""reference"": {""url"": ""https://api.github.com/repos/apache/zookeeper/issues/1876"", ""is_pull_request"": true}}"
1581,Referenced,2022-08-31 20:39:58,RokLenarcic,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7299581006"", ""commit_url"": ""https://api.github.com/repos/RokLenarcic/zookeeper/commits/374d33d6832749d222e590b4c3272337db6111c8""}"
1581,Referenced,2022-08-31 20:50:07,RokLenarcic,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7299637958"", ""commit_url"": ""https://api.github.com/repos/RokLenarcic/zookeeper/commits/dec36a9cb53b4263113752f929bf85cb38edae08""}"
1581,Referenced,2022-08-31 20:53:39,RokLenarcic,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7299657864"", ""commit_url"": ""https://api.github.com/repos/RokLenarcic/zookeeper/commits/b3866debdbb8fba56ed52bdb23763fbbccb6e95d""}"
1581,Referenced,2022-09-03 13:14:43,RokLenarcic,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7317065506"", ""commit_url"": ""https://api.github.com/repos/RokLenarcic/zookeeper/commits/927e34df1ede7a86964be2d1ddc8c3bb45219769""}"
1581,Referenced,2022-09-29 09:40:56,RokLenarcic,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7485043829"", ""commit_url"": ""https://api.github.com/repos/RokLenarcic/zookeeper/commits/fa562fae618f8dd8d9d829c35d62c69c9e0b9890""}"
1581,Referenced,2022-11-02 07:45:16,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7720456552"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/49a38249bfd65dde315eff497c868796720329ba""}"
1581,CrossReferenced,2022-11-02 07:45:16,anuragmadnawat1,fork_close,ZOOKEEPER-3781: Create snapshots on followers when snapshot.trust.empty is true,"{""reference"": {""url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/issues/111"", ""is_pull_request"": true}}"
1581,Referenced,2022-11-02 07:53:52,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7720511389"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/165011018668d25f2a5227ee764d528812080a9e""}"
1584,OpenPR,2021-01-22 05:27:48,maoling,fork_close,,
1584,IssueComment,2021-01-22 05:28:21,maoling,fork_close,@ztzg  PTAL :),"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/765134118"", ""author_association"": ""MEMBER""}"
1584,ReviewRejected,2021-01-24 11:19:54,ztzg,fork_close,"Thank you for the initiative.  I think I should be +1 (no DST right now, and I'm definitely in the same TZ as `symat` and `nkalmar`), but see my note about the POM reference and zone IDs.

","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1584#pullrequestreview-574919141""}"
1584,Revise,2021-01-24 14:38:06,maoling,fork_close,ZOOKEEPER-4186: update the developer list,"{""sha"": ""080a848b3771feb0c6a271bc5a5349643d1d7b81"", ""author"": {""name"": ""maoling"", ""email"": ""maoling199210191@sina.com"", ""date"": ""2021-01-21T18:06:52Z""}, ""committer"": {""name"": ""maoling"", ""email"": ""maoling199210191@sina.com"", ""date"": ""2021-01-24T14:38:06Z""}}"
1584,Revise,2021-01-24 14:43:14,maoling,fork_close,correct the time-zone of Damien Diederen,"{""sha"": ""ad770f25bfe988a1eef202c958da1e885dd36b37"", ""author"": {""name"": ""maoling"", ""email"": ""maoling199210191@sina.com"", ""date"": ""2021-01-24T14:43:14Z""}, ""committer"": {""name"": ""maoling"", ""email"": ""maoling199210191@sina.com"", ""date"": ""2021-01-24T14:43:14Z""}}"
1584,ReviewApproved,2021-01-24 15:00:34,eolivelli,fork_close,Lgtm,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1584#pullrequestreview-574938830""}"
1584,ReviewApproved,2021-01-24 20:15:04,ztzg,fork_close,,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1584#pullrequestreview-574965035""}"
1584,ClosePR,2021-01-25 08:27:18,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4244249096"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/fc28f4ec48a674ec1e074645109e2aae87739fe5""}"
1584,IssueCommentSupplement,2021-01-25 08:30:21,maoling,fork_close,Two votes. Commit to master branch,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/766644353"", ""author_association"": ""MEMBER""}"
1584,DeleteBranch,2021-01-25 08:31:07,maoling,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4244266457"", ""commit_url"": null}"
1584,Referenced,2022-08-31 20:39:57,RokLenarcic,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7299580871"", ""commit_url"": ""https://api.github.com/repos/RokLenarcic/zookeeper/commits/a6646707bdf5524a9299ca97deb2da891db98790""}"
1584,Referenced,2022-08-31 20:50:05,RokLenarcic,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7299637774"", ""commit_url"": ""https://api.github.com/repos/RokLenarcic/zookeeper/commits/13224761ba00bb805bd2369c062690d6d39ed9f4""}"
1584,Referenced,2022-08-31 20:53:37,RokLenarcic,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7299657747"", ""commit_url"": ""https://api.github.com/repos/RokLenarcic/zookeeper/commits/cadb7825d0b9b10c1cb6b89ccee42616641bfb32""}"
1584,Referenced,2022-09-03 13:14:41,RokLenarcic,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7317065473"", ""commit_url"": ""https://api.github.com/repos/RokLenarcic/zookeeper/commits/707682f64cbbb3886fd6ebfacae39bb7f2edc819""}"
1584,CrossReferenced,2022-11-02 05:35:06,anuragmadnawat1,fork_close,ZOOKEEPER-4186: update the developer list,"{""reference"": {""url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/issues/93"", ""is_pull_request"": true}}"
1584,Referenced,2022-11-02 05:35:07,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7719675456"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/946f69a6b5ac6f0c816d0d49e7100c16979487f4""}"
1584,Referenced,2022-11-02 05:50:33,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7719747433"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/3685d68aaca34faff0a6d5b7221a6d2dc092069b""}"
1585,SubmitCommit,2021-01-23 11:54:12,maoling,fork_close,ZOOKEEPER-4188: add a doc about whoami CLI,"{""sha"": ""04c78ea3a708d5bbadebb46727498ccda8d89469"", ""author"": {""name"": ""maoling"", ""email"": ""maoling199210191@sina.com"", ""date"": ""2021-01-23T11:54:12Z""}, ""committer"": {""name"": ""maoling"", ""email"": ""maoling199210191@sina.com"", ""date"": ""2021-01-23T11:54:12Z""}}"
1585,OpenPR,2021-01-23 12:04:30,maoling,fork_close,,
1585,ReviewApproved,2021-01-24 08:54:11,KangZhiDong,fork_close,,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1585#pullrequestreview-574908571""}"
1585,ReviewComment,2021-01-24 18:22:19,ztzg,fork_close,"LGTM.  Thank you, @maoling.","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1585#pullrequestreview-574956106""}"
1585,ReviewApproved,2021-01-24 18:22:30,ztzg,fork_close,,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1585#pullrequestreview-574956122""}"
1585,ClosePR,2021-01-24 18:24:26,ztzg,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4242783093"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/a4d7586f397290b7265b4f52ec64af5ee6fe0778""}"
1585,Referenced,2021-01-24 18:24:44,ztzg,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4242783311"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/3ac89c7abbfabdf0fb12e3b4b42db63fb0b8848f""}"
1585,Referenced,2021-01-24 18:25:06,ztzg,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4242783646"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/be1e5bac76251b9603092be0f5dcfe13e1fe7510""}"
1585,DeleteBranch,2021-01-25 04:59:46,maoling,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4243580166"", ""commit_url"": null}"
1585,Referenced,2022-08-31 20:39:57,RokLenarcic,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7299580859"", ""commit_url"": ""https://api.github.com/repos/RokLenarcic/zookeeper/commits/382af9b70bcfba3e38515e074a5d3e9088443958""}"
1585,Referenced,2022-08-31 20:50:05,RokLenarcic,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7299637765"", ""commit_url"": ""https://api.github.com/repos/RokLenarcic/zookeeper/commits/c12740c93564533741b5bbdb2e466097c505c76b""}"
1585,Referenced,2022-08-31 20:53:37,RokLenarcic,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7299657742"", ""commit_url"": ""https://api.github.com/repos/RokLenarcic/zookeeper/commits/39ea2e55ae1f600e4b950397ddba20d5500d2110""}"
1585,Referenced,2022-09-03 13:14:41,RokLenarcic,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7317065470"", ""commit_url"": ""https://api.github.com/repos/RokLenarcic/zookeeper/commits/8db8b85e06b498c7c403ef12104d83839d01cb4b""}"
1585,Referenced,2022-11-02 05:31:52,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7719660024"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/39a33bd89f092a4703a9e4bd6a69696ce0fe9fef""}"
1585,CrossReferenced,2022-11-02 05:31:52,anuragmadnawat1,fork_close,ZOOKEEPER-4188: add a doc about whoami CLI,"{""reference"": {""url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/issues/92"", ""is_pull_request"": true}}"
1585,Referenced,2022-11-02 05:35:03,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7719675227"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/5c97cacfe1f0acbd0721966c871cc03d2896dfc2""}"
1586,SubmitCommit,2021-01-24 09:45:19,ztzg,fork_close,"ZOOKEEPER-4191: Work around missing executable bits in source release tarball

Also discussed on dev@:

  https://mail-archives.apache.org/mod_mbox/zookeeper-dev/202101.mbox/%3C875z3n9w75.fsf%40crosstwine.com%3E

Original report:

  https://mail-archives.apache.org/mod_mbox/zookeeper-dev/202101.mbox/%3cCAAMoRKLMf7tLosgqyiwYfFxXq-Zmiz=0oTGDijX5M=MHDF_JCg@mail.gmail.com%3e","{""sha"": ""c7349bfbf803f76096d5d96738f0e2e10352af2f"", ""author"": {""name"": ""Damien Diederen"", ""email"": ""dd@crosstwine.com"", ""date"": ""2021-01-24T09:26:45Z""}, ""committer"": {""name"": ""Damien Diederen"", ""email"": ""dd@crosstwine.com"", ""date"": ""2021-01-24T09:45:19Z""}}"
1586,OpenPR,2021-01-24 09:56:42,ztzg,fork_close,,
1586,ReviewRequested,2021-01-24 09:56:43,ztzg,fork_close,,"{""requested_reviewer"": {""login"": ""symat"", ""id"": 18458499, ""node_id"": ""MDQ6VXNlcjE4NDU4NDk5"", ""avatar_url"": ""https://avatars.githubusercontent.com/u/18458499?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/symat"", ""html_url"": ""https://github.com/symat"", ""followers_url"": ""https://api.github.com/users/symat/followers"", ""following_url"": ""https://api.github.com/users/symat/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/symat/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/symat/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/symat/subscriptions"", ""organizations_url"": ""https://api.github.com/users/symat/orgs"", ""repos_url"": ""https://api.github.com/users/symat/repos"", ""events_url"": ""https://api.github.com/users/symat/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/symat/received_events"", ""type"": ""User"", ""site_admin"": false}, ""requested_team"": null}"
1586,ReviewRequested,2021-01-24 09:56:43,ztzg,fork_close,,"{""requested_reviewer"": {""login"": ""eolivelli"", ""id"": 9469110, ""node_id"": ""MDQ6VXNlcjk0NjkxMTA="", ""avatar_url"": ""https://avatars.githubusercontent.com/u/9469110?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/eolivelli"", ""html_url"": ""https://github.com/eolivelli"", ""followers_url"": ""https://api.github.com/users/eolivelli/followers"", ""following_url"": ""https://api.github.com/users/eolivelli/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/eolivelli/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/eolivelli/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/eolivelli/subscriptions"", ""organizations_url"": ""https://api.github.com/users/eolivelli/orgs"", ""repos_url"": ""https://api.github.com/users/eolivelli/repos"", ""events_url"": ""https://api.github.com/users/eolivelli/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/eolivelli/received_events"", ""type"": ""User"", ""site_admin"": false}, ""requested_team"": null}"
1586,ReviewApproved,2021-01-24 09:58:53,eolivelli,fork_close,"LGTM


I don't have my laptop today.
@ztzg feel free to merge and proceed with a new RC","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1586#pullrequestreview-574913538""}"
1586,ClosePR,2021-01-24 18:12:05,ztzg,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4242771283"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/e7d67da8d49ab0bb19ff1c2a5e5ce02f23596402""}"
1586,Referenced,2021-01-24 18:12:24,ztzg,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4242771580"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/68ea5792a015f934015d6ac5bd0d8ef5913c05a5""}"
1586,Referenced,2021-01-24 18:12:49,ztzg,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4242771916"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/5920c46252d15722a8ac6cee7b69c4056a358a7e""}"
1586,IssueCommentSupplement,2021-01-24 18:21:18,ztzg,fork_close,"Thank you for the quick review, @eolivelli.  Now merged.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/766407334"", ""author_association"": ""CONTRIBUTOR""}"
1586,Referenced,2022-08-31 20:39:57,RokLenarcic,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7299580848"", ""commit_url"": ""https://api.github.com/repos/RokLenarcic/zookeeper/commits/492d3e67eac9647e75f53c46aca7506f66e0e948""}"
1586,Referenced,2022-08-31 20:50:05,RokLenarcic,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7299637750"", ""commit_url"": ""https://api.github.com/repos/RokLenarcic/zookeeper/commits/d5b10ddd0daafc7952ebea63e3bfc52bdbb4caeb""}"
1586,Referenced,2022-08-31 20:53:37,RokLenarcic,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7299657722"", ""commit_url"": ""https://api.github.com/repos/RokLenarcic/zookeeper/commits/5326e457049cc7d8dfb21e6792ececd3bc8321a1""}"
1586,Referenced,2022-09-03 13:14:41,RokLenarcic,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7317065468"", ""commit_url"": ""https://api.github.com/repos/RokLenarcic/zookeeper/commits/fda3f11cb859580611bed407a12077d33a1d5cb0""}"
1586,Referenced,2022-11-02 04:18:53,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7719232420"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/99290a0aadc971da76714852b0bb333991ca6f6a""}"
1586,CrossReferenced,2022-11-02 04:18:53,anuragmadnawat1,fork_close,ZOOKEEPER-4191: Work around missing executable bits in source release tarball,"{""reference"": {""url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/issues/85"", ""is_pull_request"": true}}"
1586,Referenced,2022-11-02 05:01:15,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7719522024"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/804853c2cf756664b4036fc9b563191a67e7cef6""}"
1586,CrossReferenced,2022-11-02 05:01:15,anuragmadnawat1,fork_close,ZOOKEEPER-4191: Work around missing executable bits in source release tarball,"{""reference"": {""url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/issues/90"", ""is_pull_request"": true}}"
1586,Referenced,2022-11-02 05:16:46,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7719594477"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/0d98435f0a26c890db01097a4bbf9b4129f0c6c0""}"
1588,SubmitCommit,2021-01-17 20:23:00,lanicc,unfork_close,"ZOOKEEPER-4058: Update checkstyle to the latest version 8.39

1.update checkstyle to latest version 8.39
See [https://checkstyle.sourceforge.io/config_javadoc.html](https://checkstyle.sourceforge.io/config_javadoc.html)

- JavadocMethod: remove properties `allowMissingJavadoc,allowMissingThrowsTags,allowThrowsTagsForSubclasses,allowUndeclaredRTE`

- LineLength: change it's parent to Checker

2.update XML dtd: `checkstyle-strict.xml, checkstyle-simple.xml, checkstyleSuppressions.xml`

3.fix code style:
- `QuorumPeer.java, PemReader.java`.  Operators like + and ? appear at newlines rather than at the end of the previous line.
- license of `TestApacheCuratorCompatibility.java`. Checkstyle JavadocParagraph:`<p>` tag should be placed immediately before the first word.

Author: lan <1728209643@qq.com>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Damien Diederen <ddiederen@apache.org>

Closes #1579 from lanicc/ZOOKEEPER-4058

(cherry picked from commit e8dc2b3210b001094b6179e0deacdb2cebded31f)
Signed-off-by: Damien Diederen <ddiederen@apache.org>","{""sha"": ""e74460ace03f3913ef854abe3a85afbd44af24a6"", ""author"": {""name"": ""lan"", ""email"": ""1728209643@qq.com"", ""date"": ""2021-01-17T20:20:43Z""}, ""committer"": {""name"": ""Damien Diederen"", ""email"": ""ddiederen@apache.org"", ""date"": ""2021-01-17T20:23:00Z""}}"
1588,SubmitCommit,2021-01-19 08:08:46,maoling,unfork_close,"ZOOKEEPER-3301: Enforce the quota limit

- Thanks for the original work from ZOOKEEPER-1383, ZOOKEEPER-2593, ZOOKEEPER-451, especially the work from ZOOKEEPER-1383 contributed by [Thawan Kooburat](https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thawan)(I also sign off his name in the commit message) which also implemented the very valuable throughput quota.In the further, we will also do this.
- `zookeeper.enforeQuota`. When enabled and the client exceeds the total bytes or children count hard quota under a znode, the server will reject the request and reply the client a `QuotaExceededException` by force. The default value is: false.
- the checkQuota involves the `create()` and `setData()` api, not including the `delete()`.
- When users set the quota which's less than the existing stats, we give a thoughtful warning info.
- the following code in the StatsTrack has a bad augmentability:

  >             if (split.length != 2) {
  >                 throw new IllegalArgumentException(""invalid string "" + stats);
  >             }

   we do a trick to solve it for the expansibility, but we will get a little strange quota info(`Output quota for /c2 count=-1,bytes=-1=;byteHardLimit=-1;countHardLimit=5`) when using `listquota`. some UTs has covered it.
- the logic about `checkQuota` should be put in the `PrepRequestProcessor`, other than `DataTree`.
  we will get the following two negative effects if putting `checkQuota` in the `DataTree`:
  - 1. When the write request has exceeded the quota, the corresponding transaction log will load into disk successfully.It's not good, although it has any data inconsistency issue, because when the server restart, so long as the transaction logs are applied in the same order, the exceeded nodes will not be applied into the state machine.
  - 2. the client will be blocking and waiting for the response, because when throwing `QuotaExceededException` in the the `DataTree`, the` rc.stat` will be `null` and `BinaryOutputArchive#writeRecord` will throw `NPE`.
  - 3. Overall, the pre-check about the write request should be done in the `PrepRequestProcessor`(at least before `SyncRequestProcessor`)(Look at an example from `checkACL()`)
- more detail in the [ZOOKEEPER-3301](https://issues.apache.org/jira/browse/ZOOKEEPER-3301).
- [Added in 2020-02-25] use `RateLogger` to replace `LOG` to avoid quota exceed logs flooding the disk
- A `TODO` improvement is: only users have admin permission can write to `/zookeeper/quota`(just like `/zookeeper/config`) to avoid some users' misoperation

Author: maoling <maoling199210191@sina.com>

Reviewers: Mate Szalay-Beko <symat@apache.org>, Damien Diederen <ddiederen@apache.org>, Enrico Olivelli <eolivelli@apache.org>, Michael Han <hanm@apache.org>

Closes #934 from maoling/ZOOKEEPER-3301

(cherry picked from commit 190a227aa9d4655ebfe6ba9f5c2da426da8c5d98)
Signed-off-by: Damien Diederen <ddiederen@apache.org>","{""sha"": ""695bb473a3f7585abef06353b8575ec732241a09"", ""author"": {""name"": ""maoling"", ""email"": ""maoling199210191@sina.com"", ""date"": ""2021-01-19T08:05:37Z""}, ""committer"": {""name"": ""Damien Diederen"", ""email"": ""ddiederen@apache.org"", ""date"": ""2021-01-19T08:08:46Z""}}"
1588,SubmitCommit,2021-01-19 11:43:53,ztzg,unfork_close,"ZooKeeper 3.7.0: Release notes

References:

  https://issues.apache.org/jira/projects/ZOOKEEPER/versions/12346617

  https://issues.apache.org/jira/secure/ReleaseNote.jspa?projectId=12310801&version=12346617","{""sha"": ""ac5506e25c062718e568efa8aabfba43dbc96f9e"", ""author"": {""name"": ""Damien Diederen"", ""email"": ""dd@crosstwine.com"", ""date"": ""2021-01-14T18:53:52Z""}, ""committer"": {""name"": ""Damien Diederen"", ""email"": ""dd@crosstwine.com"", ""date"": ""2021-01-19T11:43:53Z""}}"
1588,SubmitCommit,2021-01-19 11:45:09,ztzg,unfork_close,Prepared 3.7.1-SNAPSHOT,"{""sha"": ""0bf638e751183bd6bd4f472a6bc82d4fa459995b"", ""author"": {""name"": ""Damien Diederen"", ""email"": ""ddiederen@apache.org"", ""date"": ""2021-01-19T09:38:11Z""}, ""committer"": {""name"": ""Damien Diederen"", ""email"": ""dd@crosstwine.com"", ""date"": ""2021-01-19T11:45:09Z""}}"
1588,SubmitCommit,2021-01-24 18:12:30,ztzg,unfork_close,"ZOOKEEPER-4191: Work around missing executable bits in source release tarball

symat noticed that the source tarball for 3.7.0rc0 is missing executable bits.

ztzg noticed that this can be worked around by reinstating the ""old"" version of the maven-assembly-plugin, which had been aligned in ZOOKEEPER-3833.

This patch implements the work around, and also applies cleanly on top of `branch-3.7.0` and `branch-3.7`.

Also discussed on dev:

  https://mail-archives.apache.org/mod_mbox/zookeeper-dev/202101.mbox/%3C875z3n9w75.fsf%40crosstwine.com%3E

Original report:

  https://mail-archives.apache.org/mod_mbox/zookeeper-dev/202101.mbox/%3cCAAMoRKLMf7tLosgqyiwYfFxXq-Zmiz=0oTGDijX5M=MHDF_JCgmail.gmail.com%3e

Author: Damien Diederen <dd@crosstwine.com>

Reviewers: Enrico Olivelli <eolivelli@apache.org>

Closes #1586 from ztzg/ZOOKEEPER-4191-missing-x-bits-source-tarball

(cherry picked from commit e7d67da8d49ab0bb19ff1c2a5e5ce02f23596402)
Signed-off-by: Damien Diederen <ddiederen@apache.org>","{""sha"": ""5920c46252d15722a8ac6cee7b69c4056a358a7e"", ""author"": {""name"": ""Damien Diederen"", ""email"": ""dd@crosstwine.com"", ""date"": ""2021-01-24T18:11:25Z""}, ""committer"": {""name"": ""Damien Diederen"", ""email"": ""ddiederen@apache.org"", ""date"": ""2021-01-24T18:12:30Z""}}"
1588,SubmitCommit,2021-01-24 18:18:43,brentwritescode,unfork_close,"ZOOKEEPER-3943: Zookeeper Inspector throwing NullPointerExceptions and not displaying properly

ISSUE
---
See https://issues.apache.org/jira/browse/ZOOKEEPER-3943 for details on the issue.

There are two main things being addressed in this PR:

1. The Maven build for ZooInspector seems to generate an invalid JAR file that is missing graphical resources that cause the application to be non-functional (UI does not render properly, NullPointerExceptions occur constantly, etc.).

2. The current Maven build instructions and run scripts for ZooInspector involve building, moving JAR files around, using relative entries on the CLASSPATH and running the scripts from the correct directory in order to use the `zooInspector.sh`/`zooInspector.cmd` launch scripts.

FIXES
---
For number 1, the fix is to add the `src/main/resources/*` directories to the JAR artifact built by Maven.

For number 2, I've proposed changing the Maven build to use the [Maven Assembly Plugin](http://maven.apache.org/plugins/maven-assembly-plugin/) to build a single ""fat jar"" for ZooInspector that contains all of its dependencies.  The result is that building and running the tool is easier and more straightforward (in my opinion):

```
git clone https://github.com/apache/zookeeper.git
cd zookeeper
mvn install -DskipTests
cd zookeeper-contrib/zookeeper-contrib-zooinspector
mvn install
./zooInspector.sh
```

And based on the ""fat jar"" style of build and updates to the run scripts, the `zooInspector.sh` and `zooInspector.cmd` commands now successfully execute from any directory (once the project is built) as opposed to requiring you to be in the same directory as the scripts.

My hope is that these changes allow people like myself who are mainly interested in using ZooInspector to easily clone the repository, build and run the tool without any issues.  I spent a chunk of time getting this all working for myself and I hope I can save others some trouble.

TESTING
---
I've tested cloning, building and running ZooInspector on Windows 10, Mac OS X Mojave (10.14.6) and Ubuntu Linux 18.04 using the steps above (on Java 8).

I ran `mvn verify spotbugs:check checkstyle:check -Pfull-build -Dsurefire-forkcount=4` in the root directory (per https://cwiki.apache.org/confluence/display/ZOOKEEPER/HowToContribute#HowToContribute-FinalChecksonPullRequest) and got these results:

```
[INFO]
[ERROR] Tests run: 2881, Failures: 4, Errors: 4, Skipped: 4
[INFO]
[INFO] ------------------------------------------------------------------------
[INFO] Reactor Summary for Apache ZooKeeper 3.7.0-SNAPSHOT:
[INFO]
[INFO] Apache ZooKeeper ................................... SUCCESS [  7.731 s]
[INFO] Apache ZooKeeper - Documentation ................... SUCCESS [  3.223 s]
[INFO] Apache ZooKeeper - Jute ............................ SUCCESS [ 32.705 s]
[INFO] Apache ZooKeeper - Server .......................... FAILURE [30:28 min]
[INFO] Apache ZooKeeper - Metrics Providers ............... SKIPPED
[INFO] Apache ZooKeeper - Prometheus.io Metrics Provider .. SKIPPED
[INFO] Apache ZooKeeper - Client .......................... SKIPPED
[INFO] Apache ZooKeeper - Client - C ...................... SKIPPED
[INFO] Apache ZooKeeper - Recipes ......................... SKIPPED
[INFO] Apache ZooKeeper - Recipes - Election .............. SKIPPED
[INFO] Apache ZooKeeper - Recipes - Lock .................. SKIPPED
[INFO] Apache ZooKeeper - Recipes - Queue ................. SKIPPED
[INFO] Apache ZooKeeper - Assembly ........................ SKIPPED
[INFO] Apache ZooKeeper - Compatibility Tests ............. SKIPPED
[INFO] Apache ZooKeeper - Compatibility Tests - Curator ... SKIPPED
[INFO] Apache ZooKeeper - Tests ........................... SKIPPED
[INFO] Apache ZooKeeper - Contrib ......................... SKIPPED
[INFO] Apache ZooKeeper - Contrib - Fatjar ................ SKIPPED
[INFO] Apache ZooKeeper - Contrib - Loggraph .............. SKIPPED
[INFO] Apache ZooKeeper - Contrib - Rest .................. SKIPPED
[INFO] Apache ZooKeeper - Contrib - ZooInspector .......... SKIPPED
[INFO] ------------------------------------------------------------------------
[INFO] BUILD FAILURE
[INFO] ------------------------------------------------------------------------
[INFO] Total time:  31:12 min
[INFO] Finished at: 2020-12-05T01:08:27Z
[INFO] ------------------------------------------------------------------------
```
Since all of my proposed changes are in the `zookeeper-contrib` subtree, I'm assuming this doesn't have anything to do with my changes.  Running the same command in the `zookeeper-contrib` directory seems to pass for those tests:

```
[INFO] ------------------------------------------------------------------------
[INFO] Reactor Summary for Apache ZooKeeper - Contrib 3.7.0-SNAPSHOT:
[INFO]
[INFO] Apache ZooKeeper - Contrib ......................... SUCCESS [  8.590 s]
[INFO] Apache ZooKeeper - Contrib - Fatjar ................ SUCCESS [ 13.636 s]
[INFO] Apache ZooKeeper - Contrib - Loggraph .............. SUCCESS [ 20.515 s]
[INFO] Apache ZooKeeper - Contrib - Rest .................. SUCCESS [ 13.394 s]
[INFO] Apache ZooKeeper - Contrib - ZooInspector .......... SUCCESS [ 17.056 s]
[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time:  01:14 min
[INFO] Finished at: 2020-12-05T01:13:22Z
[INFO] ------------------------------------------------------------------------
```

Author: brentwritescode <brentwritescode@gmail.com>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Damien Diederen <ddiederen@apache.org>

Closes #1551 from brentwritescode/master

(cherry picked from commit 62e29cc5abe1cd5b668160ae0b3287a927fc429b)
Signed-off-by: Damien Diederen <ddiederen@apache.org>","{""sha"": ""30d0eeef929baa73983e19dae3a51b02a88c8b36"", ""author"": {""name"": ""brentwritescode"", ""email"": ""brentwritescode@gmail.com"", ""date"": ""2021-01-24T18:17:12Z""}, ""committer"": {""name"": ""Damien Diederen"", ""email"": ""ddiederen@apache.org"", ""date"": ""2021-01-24T18:18:43Z""}}"
1588,SubmitCommit,2021-01-24 18:24:49,maoling,unfork_close,"ZOOKEEPER-4188: add a doc about whoami CLI

Author: maoling <maoling199210191@sina.com>

Reviewers: Damien Diederen <ddiederen@apache.org>

Closes #1585 from maoling/ZOOKEEPER-4188

(cherry picked from commit a4d7586f397290b7265b4f52ec64af5ee6fe0778)
Signed-off-by: Damien Diederen <ddiederen@apache.org>","{""sha"": ""be1e5bac76251b9603092be0f5dcfe13e1fe7510"", ""author"": {""name"": ""maoling"", ""email"": ""maoling199210191@sina.com"", ""date"": ""2021-01-24T18:24:03Z""}, ""committer"": {""name"": ""Damien Diederen"", ""email"": ""ddiederen@apache.org"", ""date"": ""2021-01-24T18:24:49Z""}}"
1588,SubmitCommit,2021-01-24 19:58:13,ztzg,unfork_close,ZooKeeper 3.7.0: Release notes,"{""sha"": ""4988ac8ad256db3ce1393754f0f749971e918844"", ""author"": {""name"": ""Damien Diederen"", ""email"": ""dd@crosstwine.com"", ""date"": ""2021-01-24T18:36:12Z""}, ""committer"": {""name"": ""Damien Diederen"", ""email"": ""ddiederen@apache.org"", ""date"": ""2021-01-24T19:58:13Z""}}"
1588,OpenPR,2021-01-27 22:12:24,mahsandu,unfork_close,,
1588,IssueComment,2021-01-28 06:05:46,maoling,unfork_close,"@mahsandu 
- Thanks for this contribution. It's better to create a [JIRA](https://issues.apache.org/jira/projects/ZOOKEEPER/) issue (sign up JIRA if you don't have an account) 
to bind this PR to a JIRA-ID. ZooKeeper uses the GitHub workflow. The contributor guideline is [here](https://cwiki.apache.org/confluence/display/ZOOKEEPER/HowToContribute)
- The thing what I concern is: a introduction about `installing Zookeeper on IBM Cloud` will influence the project's neutrality and involves some business issues?
","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/768822563"", ""author_association"": ""MEMBER""}"
1588,IssueComment,2021-01-28 11:56:07,KangZhiDong,unfork_close,"> @mahsandu
> 
> * Thanks for this contribution. It's better to create a [JIRA](https://issues.apache.org/jira/projects/ZOOKEEPER/) issue (sign up JIRA if you don't have an account)
>   to bind this PR to a JIRA-ID. ZooKeeper uses the GitHub workflow. The contributor guideline is [here](https://cwiki.apache.org/confluence/display/ZOOKEEPER/HowToContribute)
> * The thing what I concern is: a introduction about `installing Zookeeper on IBM Cloud` will influence the project's neutrality and involves some business issues?

Advertising is everywhere ","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/769004292"", ""author_association"": ""CONTRIBUTOR""}"
1588,Revise,2021-02-04 08:17:06,brentwritescode,unfork_close,"ZOOKEEPER-4050: Zookeeper Inspector reports ""List of default node viewers is empty"" when not specifically run from the zookeeper-contrib/zookeeper-contrib-zooinspector directory

ISSUE
---
See https://issues.apache.org/jira/browse/ZOOKEEPER-4050 for details on the issue.

This is a follow-on PR to issues identified in https://github.com/apache/zookeeper/pull/1551.  While that PR fixed some launch issues, currently ZooInspector still needs to be run from the root ZooInspector directory because it expects the `defaultConnectionSettings.cfg` and `defaultNodeViewers.cfg` to exist on the filesystem in a specific location.  The previous PR ensured that these files are now bundled into the fat jar built by Maven, so this new PR makes the checks for these files fall back to checking the classpath (i.e. checking inside the jar) for these files if they can't be found on the filesystem first.  This means that the `zooInspector.sh` and `zooInspector.cmd` scripts can now be run from anywhere once the project is built.

TESTING
---
I've tested cloning, building and running ZooInspector on Mac OS Catalina (10.15.7) on Java 8 with these fixes and invoking `zooInspector.sh` from different directories to ensure it runs properly and doesn't display the aforementioned error.

I ran `mvn verify spotbugs:check checkstyle:check -Pfull-build -Dsurefire-forkcount=4` in the `zookeeper-contrib/zookeeper-contrib-zooinspector` directory (per https://cwiki.apache.org/confluence/display/ZOOKEEPER/HowToContribute#HowToContribute-FinalChecksonPullRequest) and got these results:

```
[INFO] You have 0 Checkstyle violations.
[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time:  15.037 s
[INFO] Finished at: 2021-02-01T20:30:04-08:00
[INFO] ------------------------------------------------------------------------
```

Since all of my proposed changes are in the `zookeeper-contrib` subtree (and specifically only in `zookeeper-contrib-zooinspector`, I did not run the wider unit tests for the Zookeeper project as a whole.

Author: brentwritescode <brentwritescode@gmail.com>
Author: Brent Nash <brent.nash@crowdstrike.com>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Damien Diederen <ddiederen@apache.org>

Closes #1589 from brentwritescode/ZOOKEEPER-4050

(cherry picked from commit 245ff759b0e9fe0a1815e03433306ac805bf5e95)
Signed-off-by: Damien Diederen <ddiederen@apache.org>","{""sha"": ""6535f39db5ebd94e50e0089142e626fe3024fdfa"", ""author"": {""name"": ""brentwritescode"", ""email"": ""brentwritescode@gmail.com"", ""date"": ""2021-02-04T08:15:37Z""}, ""committer"": {""name"": ""Damien Diederen"", ""email"": ""ddiederen@apache.org"", ""date"": ""2021-02-04T08:17:06Z""}}"
1588,Revise,2021-02-09 15:31:17,anmolnar,unfork_close,"ZOOKEEPER-4207: Remove extra checkout from Jenkinsfile

I believe we don't need to add the git checkout to the ""Steps"" section. I cannot see it neither in owasp nor the PR jenkinsfiles. Also I see that master branch gets also checked out during our normal builds, so I hope this will fix it.

Target branches: master, branch-3.7, branch-3.6, branch-3.5

Author: Andor Molnar <andor@apache.org>

Reviewers: Enrico Olivelli <eolivelli@apache.org>

Closes #1600 from anmolnar/ZOOKEEPER-4207

(cherry picked from commit 8c68933226595b839ba3694dacd39cd2b2a21878)
Signed-off-by: Enrico Olivelli <eolivelli@datastax.com>","{""sha"": ""0a9d54edc79873e67bf81a57ab4759c2739edfce"", ""author"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2021-02-09T15:30:54Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@datastax.com"", ""date"": ""2021-02-09T15:31:17Z""}}"
1588,Revise,2021-02-17 17:14:24,ctubbsii,unfork_close,"ZOOKEEPER-3987: Reduce fork count for tests to 1

Increase test stability by avoiding test failures due to port
collisions by preventing tests from running concurrently in
the GitHub Actions CI builds.

Author: Christopher Tubbs <ctubbsii@apache.org>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Damien Diederen <ddiederen@apache.org>

Closes #1606 from ctubbsii/reduce-forkCount

(cherry picked from commit c26f96c089f20902a39cb0088e68a5b58e35c024)
Signed-off-by: Damien Diederen <ddiederen@apache.org>","{""sha"": ""351deb81d79172a26ddf180777147584f3142a11"", ""author"": {""name"": ""Christopher Tubbs"", ""email"": ""ctubbsii@apache.org"", ""date"": ""2021-02-17T17:12:11Z""}, ""committer"": {""name"": ""Damien Diederen"", ""email"": ""ddiederen@apache.org"", ""date"": ""2021-02-17T17:14:24Z""}}"
1588,Revise,2021-02-17 17:25:22,frederiko,unfork_close,"ZOOKEEPER-4209: Update Netty to 4.1.59.Final

Update Netty to 4.1.59.Final on to address the vulnerability described at https://snyk.io/vuln/SNYK-JAVA-IONETTY-1020439

Author: Frederiko Costa <frederiko@gmail.com>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Damien Diederen <ddiederen@apache.org>

Closes #1605 from frederiko/netty-4.1.59-update

(cherry picked from commit 884fc38db166617e03d03f793ef917febcc131be)
Signed-off-by: Damien Diederen <ddiederen@apache.org>","{""sha"": ""517cb46328b2f0855edda808d687dad77244bc5f"", ""author"": {""name"": ""Frederiko Costa"", ""email"": ""frederiko@gmail.com"", ""date"": ""2021-02-17T17:22:40Z""}, ""committer"": {""name"": ""Damien Diederen"", ""email"": ""ddiederen@apache.org"", ""date"": ""2021-02-17T17:25:22Z""}}"
1588,Revise,2021-02-26 09:38:24,Mathieu Marie,unfork_close,"ZOOKEEPER-4221: Improve the error message when message goes above jute.maxbufer size

Author: Mathieu Marie <mmarie@salesforce.com>

Reviewers: Damien Diederen <dd@crosstwine.com>, Mate Szalay-Beko <symat@apache.org>

Closes #1614 from mariemat/ZOOKEEPER-4221

(cherry picked from commit 94d0c4d8558e1b201665bb9dffd33dacbc7ca945)
Signed-off-by: Mate Szalay-Beko <symat@apache.org>","{""sha"": ""81d26db1b4d2a4e3d97df9bfe43911eb6e18bfe0"", ""author"": {""name"": ""Mathieu Marie"", ""email"": ""mmarie@salesforce.com"", ""date"": ""2021-02-26T09:35:02Z""}, ""committer"": {""name"": ""Mate Szalay-Beko"", ""email"": ""symat@apache.org"", ""date"": ""2021-02-26T09:38:24Z""}}"
1588,Revise,2021-03-01 07:39:47,ztzg,unfork_close,"ZOOKEEPER-4219: Quota checks break setData in multi transactions

Without this patch, a multi() transaction such as the one implemented
in ZooKeeperQuotaTest.testMultiCreateThenSetDataShouldWork fails with
MarshallingError when 'enforceQuota' is enabled.

This happens whenever the node has an associated quota, whether it was
exceeded or not.

This is due to the server encountering null while trying to access a
database node by path--whereas that node only exists as a ChangeRecord
in the server's 'outstandingChanges' list:

    java.lang.NullPointerException
        at org.apache.zookeeper.server.ZooKeeperServer.checkQuota(ZooKeeperServer.java:2048)
        at org.apache.zookeeper.server.PrepRequestProcessor.pRequest2Txn(PrepRequestProcessor.java:397)

The patch adds an additional 'lastData' parameter to the quota
checking function, and passes the data from the ChangeRecord during
'setData' operations.

Author: Damien Diederen <dd@crosstwine.com>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Mate Szalay-Beko <symat@apache.org>, Norbert Kalmar <nkalmar@apache.org>

Closes #1611 from ztzg/ZOOKEEPER-4219-quota-multi-setdata

(cherry picked from commit eb1569e4fbb55d12fa6211fbd997aa592fcb01af)
Signed-off-by: Norbert Kalmar <nkalmar@apache.org>","{""sha"": ""fd8b6fcdca52285a04b2f60c019d868e1cb30d68"", ""author"": {""name"": ""Damien Diederen"", ""email"": ""dd@crosstwine.com"", ""date"": ""2021-03-01T07:36:33Z""}, ""committer"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@apache.org"", ""date"": ""2021-03-01T07:39:47Z""}}"
1588,Revise,2021-03-02 06:09:05,arshadmohammad,unfork_close,"ZOOKEEPER-3877: JMX Bean RemotePeerBean should enclose IPV6 host in square bracket same as LocalPeerBean

…quare bracket same as LocalPeerBean

Author: Mohammad Arshad <arshad@apache.org>

Reviewers: Enrico Olivelli <eolivelli@apache.org>

Closes #1493 from arshadmohammad/ZOOKEEPER-3877-master

(cherry picked from commit 425ee189dcf952fd7a2a38df375ec245dcdfbfc6)
Signed-off-by: Mohammad Arshad <arshad@apache.org>","{""sha"": ""f49aeef86d0cc6a909b2125e7ac03e1ecec61ee0"", ""author"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2021-03-02T06:07:47Z""}, ""committer"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2021-03-02T06:09:05Z""}}"
1588,Revise,2021-03-06 19:42:29,srdo,unfork_close,"ZOOKEEPER-3781: Create snapshots on followers when snapshot.trust.empty is true

snapshot.trust.empty is an escape hatch for users upgrading from 3.4.x to later Zookeeper
versions, allowing nodes to start with a non-empty transaction log but no snapshot.

The intent is for this setting to be enabled for a short while during the upgrade,
and then disabled again, as the check it disables is a safety feature.

Prior to this PR, a node would only write a snapshot locally if it became leader,
or if it had fallen so far behind the leader that the leader sent a SNAP message instead
of a DIFF. This made the upgrade process inconvenient, as not all nodes would create
a snapshot when snapshot.trust.empty was true, meaning that the safety check could
not be flipped back on.

This PR makes follower nodes write a local snapshot when they receive NEWLEADER,
if they have no local snapshot and snapshot.trust.empty is true.

Author: Stig Rohde Døssing <stig@humio.com>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Damien Diederen <ddiederen@apache.org>

Closes #1581 from srdo/zookeeper-3781

(cherry picked from commit 1214d3bf611d153ae8c3987523da01d3d6c82686)
Signed-off-by: Damien Diederen <ddiederen@apache.org>","{""sha"": ""679cc2b1015db6a0b41cf9223c826a4b565387e9"", ""author"": {""name"": ""Stig Rohde D\u00f8ssing"", ""email"": ""stig@humio.com"", ""date"": ""2021-03-06T19:38:43Z""}, ""committer"": {""name"": ""Damien Diederen"", ""email"": ""ddiederen@apache.org"", ""date"": ""2021-03-06T19:42:29Z""}}"
1588,Revise,2021-03-06 19:46:58,ztzg,unfork_close,"ZOOKEEPER-4200: Widen latency window in WatcherCleanerTest

`WatcherCleanerTest` performs latency checks which fail when outside of a 20+Xms window.  Before this patch, X was 5ms—whereas 30+ms is frequently seen on an i5 Mac Mini running macOS Catalina.

This ""dumb"" patch just widens the window to 20ms, which makes it ""work on my machine,"" but could obviously still fail in a loaded environment or VM.

Author: Damien Diederen <dd@crosstwine.com>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Mate Szalay-Beko <symat@apache.org>

Closes #1592 from ztzg/ZOOKEEPER-4200-widen-latency-window","{""sha"": ""5d47a4ea40e4989841738178952025320cd1c30d"", ""author"": {""name"": ""Damien Diederen"", ""email"": ""dd@crosstwine.com"", ""date"": ""2021-02-17T19:18:55Z""}, ""committer"": {""name"": ""Damien Diederen"", ""email"": ""dd@crosstwine.com"", ""date"": ""2021-03-06T19:46:58Z""}}"
1588,Revise,2021-03-06 19:46:58,ztzg,unfork_close,"ZOOKEEPER-4199: Avoid thread leak in QuorumRequestPipelineTest

`QuorumRequestPipelineTest` hosts parameterized tests which explicitly call `QuorumBase.setUp(boolean)`.

This patch overrides the argument-less `QuorumBase.setUp()` with an empty body, as the former is annotated `BeforeEach`-otherwise causing the runtime to start a fresh 5-ensemble before each test.

Without the override, one such extraneous ensemble is created and immediately leaked for each combination of test method + parameters.

The test consequently requires 4000+ simultaneous threads to complete, and while Linux happily handles that load, macOS Catalina's per-process limit of 2048 threads effectively causes the JVM to ""crash"" or lock up.

The solution is copied verbatim from another parameterized subclass of `QuorumBase`, `EagerACLFilterTest`.

Author: Damien Diederen <dd@crosstwine.com>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Mate Szalay-Beko <symat@apache.org>

Closes #1591 from ztzg/ZOOKEEPER-4199-thread-leak-qrp-test","{""sha"": ""658a700c14f304319ad06462310b00ecbc89f392"", ""author"": {""name"": ""Damien Diederen"", ""email"": ""dd@crosstwine.com"", ""date"": ""2021-02-18T08:40:55Z""}, ""committer"": {""name"": ""Damien Diederen"", ""email"": ""dd@crosstwine.com"", ""date"": ""2021-03-06T19:46:58Z""}}"
1588,Revise,2021-03-06 19:46:58,ztzg,unfork_close,"ZOOKEEPER-4201: C client: Disable SASL deprecation warnings on macOS

This patch works around the numerous deprecation notices added to the CyrusSASL library on macOS.  It is a direct ""port"" of the solution to MESOS-3030, which hit exactly the same problem:

https://issues.apache.org/jira/browse/MESOS-3030

https://reviews.apache.org/r/39230/diff/3/

The PR also includes a fix for the the `clockid_t` compilation issue mentioned in the ticket description, but the test suite as a whole remains broken on macOS as its linker does not support the `--wrap` option.

Author: Damien Diederen <dd@crosstwine.com>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Mate Szalay-Beko <symat@apache.org>

Closes #1593 from ztzg/ZOOKEEPER-4201-catalina-c-client-fixes","{""sha"": ""d28153b38799c4516681da7941c50fb94f99935e"", ""author"": {""name"": ""Damien Diederen"", ""email"": ""dd@crosstwine.com"", ""date"": ""2021-02-17T19:20:38Z""}, ""committer"": {""name"": ""Damien Diederen"", ""email"": ""dd@crosstwine.com"", ""date"": ""2021-03-06T19:46:58Z""}}"
1588,ReviewComment,2021-03-06 20:12:33,sonatype-lift[bot],unfork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1588#pullrequestreview-605784506""}"
1588,Revise,2021-03-06 20:53:54,symat,unfork_close,"ZOOKEEPER-4220: Potential redundant connection attempts during leader election

We have a logic in the server code, that would try to connect to an other quorum member, based
on its server ID. We identify the address assigned to this ID first based on the last committed
quorum configuration. If the connection attempt fails (or the server is not known in the
committed configuration) then we try to find the address based on the last proposed quorum
configuration. But we should do the second connection attempt, only if the address in the
last proposed configuration differs from the address in the last committed configuration.
Otherwise we would just retry to connect to the same address that failed just right before.

In the current code we have a bug, because we compare the address object references (use ""!="")
instead of comparing the objects themselves (using ""not equals""). In certain edge cases (e.g.
when the last proposed and last committed addresses are the same, but the address is unreachable)
this bug can lead to unnecessary retry of connection attempts. The normal behaviour would be to
mark this connection attempt to be failed and wait for e.g. the next election round or wait for
the other server to come online and initiate a connection to us.

Author: Mate Szalay-Beko <symat@apache.org>

Reviewers: Andor Molnar <anmolnar@apache.org>, Damien Diederen <ddiederen@apache.org>

Closes #1615 from symat/ZOOKEEPER-4220

(cherry picked from commit 6022e03177b21606575152ac323205af3fbbe9d8)
Signed-off-by: Damien Diederen <ddiederen@apache.org>","{""sha"": ""ba94493c63005b4f7c7efc0aa9c35a2b39c00305"", ""author"": {""name"": ""Mate Szalay-Beko"", ""email"": ""symat@apache.org"", ""date"": ""2021-03-06T20:52:24Z""}, ""committer"": {""name"": ""Damien Diederen"", ""email"": ""ddiederen@apache.org"", ""date"": ""2021-03-06T20:53:54Z""}}"
1588,Revise,2021-03-06 21:10:37,ztzg,unfork_close,ZooKeeper 3.7.0: Release notes,"{""sha"": ""4b8d10e77db0dbda7082f4b3f46678b3acd4d51b"", ""author"": {""name"": ""Damien Diederen"", ""email"": ""dd@crosstwine.com"", ""date"": ""2021-03-06T20:18:30Z""}, ""committer"": {""name"": ""Damien Diederen"", ""email"": ""dd@crosstwine.com"", ""date"": ""2021-03-06T21:10:37Z""}}"
1588,Revise,2021-03-09 17:17:26,ztzg,unfork_close,"ZOOKEEPER-4232: InvalidSnapshotTest corrupts its own test data

`InvalidSnapshotTest.testSnapshot` starts an instance of
`ZooKeeperServer` on the version-controlled `resources/data/invalidsnap`
directory, which, as a side-effect, \""fixes\"" the following
snapshot—which was broken on purpose (see ZOOKEEPER-367):

`zookeeper-server/src/test/resources/data/invalidsnap/version-2/snapshot.83f`

This status quo creates a number of problems:

1.  It makes the test ineffective after the first run;
2.  The file shows as modified in version control tools, which can be
    annoying;
3.  The \""fixed\"" snapshot can end up being committed by mistake,
    invalidating the test.

(\#3 is not theoretical; that \""fixed\"" snapshot frequently shows up in
pull requests, and was recently merged into `master`.)

Author: Damien Diederen <dd@crosstwine.com>

Reviewers: Mohammad Arshad <arshad@apache.org>

Closes #1627 from ztzg/ZOOKEEPER-4232-invalid-snapshot-is-invalid-x-3.7 and squashes the following commits:

c18a895fa [Damien Diederen] ZOOKEEPER-4232: Ensure that ZOOKEEPER-367 test data fails to parse
42a5a0b6d [Damien Diederen] ZOOKEEPER-4232: Run InvalidSnapshotTest on a copy of test data","{""sha"": ""4a19dd12ed50bca4ae17f1fa0ce01c551d9d4915"", ""author"": {""name"": ""Damien Diederen"", ""email"": ""dd@crosstwine.com"", ""date"": ""2021-03-09T17:17:26Z""}, ""committer"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2021-03-09T17:17:26Z""}}"
1588,Revise,2021-03-10 05:23:04,ztzg,unfork_close,"ZOOKEEPER-4233: dependency-check:check failing - Jetty 9.4.35.v20201120 - CVE-2020-27223

The OWASP checker reports that the version of Jetty currently
referenced by this branch is vulnerable to a CVE:

    [ERROR] Failed to execute goal org.owasp:dependency-check-maven:5.3.0:check (default-cli) on project zookeeper:
    [ERROR]
    [ERROR] One or more dependencies were identified with vulnerabilities that have a CVSS score greater than or equal to '0.0':
    [ERROR]
    [ERROR] jetty-server-9.4.35.v20201120.jar: CVE-2020-27223
    [ERROR] jetty-http-9.4.35.v20201120.jar: CVE-2020-27223

https://nvd.nist.gov/vuln/detail/CVE-2020-27223 describes it as:

> In Eclipse Jetty 9.4.6.v20170531 to 9.4.36.v20210114 (inclusive),
> 10.0.0, and 11.0.0 when Jetty handles a request containing multiple
> Accept headers with a large number of ""quality"" (i.e. q) parameters,
> the server may enter a denial of service (DoS) state due to high CPU
> usage processing those quality values, resulting in minutes of CPU
> time exhausted processing those quality values.

This changeset bumps Jetty to 9.4.38.v20210224, which is the latest
as of the commit date.

Author: Damien Diederen <dd@crosstwine.com>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Mohammad Arshad <arshad@apache.org>

Closes #1623 from ztzg/ZOOKEEPER-4023-jetty-CVE-2020-27223 and squashes the following commits:

7cb65fbf1 [Damien Diederen] zookeeper-server: Distribution tarball does not include jetty-client
59cffa16d [Damien Diederen] ZOOKEEPER-4233: dependency-check:check failing - Jetty 9.4.35.v20201120 - CVE-2020-27223

(cherry picked from commit 2f98b8feb297ca0b44f6686870078f2ce8d3d303)
Signed-off-by: Mohammad Arshad <arshad@apache.org>","{""sha"": ""85e926510085e55605255010245b7669513c906f"", ""author"": {""name"": ""Damien Diederen"", ""email"": ""dd@crosstwine.com"", ""date"": ""2021-03-10T05:21:38Z""}, ""committer"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2021-03-10T05:23:04Z""}}"
1588,Revise,2021-03-11 05:07:52,MuktiKrishnan,unfork_close,"ZOOKEEPER-4230: Use dynamic temp folder instead of static temp folder in RestMain

Author: Mukti <muktikrishnan94@gmail.com>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Mohammad Arshad <arshad@apache.org>

Closes #1633 from MuktiKrishnan/ZOOKEEPER-4230-master

(cherry picked from commit 04471b2e117a0cbe08c42b0482f0adca93494e7c)
Signed-off-by: Mohammad Arshad <arshad@apache.org>","{""sha"": ""9afa065cf55d9b93351efe8c988ba850cb4cc246"", ""author"": {""name"": ""Mukti Krishnan"", ""email"": ""muktikrishnan94@gmail.com"", ""date"": ""2021-03-11T05:06:48Z""}, ""committer"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2021-03-11T05:07:52Z""}}"
1588,ClosePR,2021-03-11 05:22:36,arshadmohammad,unfork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4441712761"", ""commit_url"": null}"
1588,IssueCommentSupplement,2021-03-11 05:22:36,arshadmohammad,unfork_close,"This PR is very strange. Seems this PR intends to merge everything from apache zookeeper branch-3.7 to apache zookeeper master. I guess this could by mistake. Please correct the source and target branches, also please raise a Jira first.

Closing now, please open after those corrections. Thanks.
","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/796463486"", ""author_association"": ""CONTRIBUTOR""}"
1589,SubmitCommit,2021-01-30 05:47:59,Brent Nash,fork_close,Zookeeper-4050: Fixing ZooInspector to be runnable from any directory.,"{""sha"": ""2f4170558658db9d4fdfc9d7e7c53de0443f5aa4"", ""author"": {""name"": ""Brent Nash"", ""email"": ""brent.nash@crowdstrike.com"", ""date"": ""2021-01-30T05:47:59Z""}, ""committer"": {""name"": ""Brent Nash"", ""email"": ""brent.nash@crowdstrike.com"", ""date"": ""2021-01-30T05:47:59Z""}}"
1589,OpenPR,2021-02-02 04:47:42,brentwritescode,fork_close,,
1589,ReviewRejected,2021-02-02 09:11:15,eolivelli,fork_close,"I left a few Java style comments
PTAL","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1589#pullrequestreview-581125187""}"
1589,Revise,2021-02-02 17:11:25,brentwritescode,fork_close,Address PR feedback. Change to use try-with-resources blocks. Remove unused import.,"{""sha"": ""91836926376e1296bbd7bede3a32d7d5c1e70dac"", ""author"": {""name"": ""brentwritescode"", ""email"": ""brentwritescode@gmail.com"", ""date"": ""2021-02-02T17:11:25Z""}, ""committer"": {""name"": ""brentwritescode"", ""email"": ""brentwritescode@gmail.com"", ""date"": ""2021-02-02T17:11:25Z""}}"
1589,ReviewApproved,2021-02-03 15:55:28,eolivelli,fork_close,LGTM,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1589#pullrequestreview-582519331""}"
1589,ReviewApproved,2021-02-04 08:12:46,ztzg,fork_close,LGTM!,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1589#pullrequestreview-583126627""}"
1589,ClosePR,2021-02-04 08:16:20,ztzg,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4289448572"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/245ff759b0e9fe0a1815e03433306ac805bf5e95""}"
1589,Referenced,2021-02-04 08:16:57,ztzg,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4289451082"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/4b5cc72e0aa1f7de232c51a7bc7e79ced30c734d""}"
1589,Referenced,2021-02-04 08:17:17,ztzg,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4289452363"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/6535f39db5ebd94e50e0089142e626fe3024fdfa""}"
1589,IssueCommentSupplement,2021-02-04 08:18:29,ztzg,fork_close,"Thank you, @brentwritescode!  I have pulled this in `branch-3.7`, `branch-3.7.0`, and `master`.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/773121393"", ""author_association"": ""CONTRIBUTOR""}"
1589,Referenced,2022-08-31 20:39:57,RokLenarcic,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7299580906"", ""commit_url"": ""https://api.github.com/repos/RokLenarcic/zookeeper/commits/d672234bcc1b1065188d4572dd41b9452f658bd5""}"
1589,Referenced,2022-08-31 20:50:06,RokLenarcic,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7299637831"", ""commit_url"": ""https://api.github.com/repos/RokLenarcic/zookeeper/commits/d2b5b8e7a5b39228c16fb8d6d6c063932096cb0a""}"
1589,Referenced,2022-08-31 20:53:38,RokLenarcic,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7299657791"", ""commit_url"": ""https://api.github.com/repos/RokLenarcic/zookeeper/commits/814a8bbe30db8d593d85fa3e2b0032c7c13e9527""}"
1589,Referenced,2022-09-03 13:14:42,RokLenarcic,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7317065486"", ""commit_url"": ""https://api.github.com/repos/RokLenarcic/zookeeper/commits/2ae02c18bf52ce3394ecd280933b8127276dae53""}"
1589,Referenced,2022-09-29 09:40:55,RokLenarcic,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7485043689"", ""commit_url"": ""https://api.github.com/repos/RokLenarcic/zookeeper/commits/99d13512c682d2e1f1d4eff3047be33e4f622234""}"
1589,Referenced,2022-11-02 06:07:43,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7719823087"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/a44efaeaa67776d8a843ff60a181f5072cbf50ea""}"
1589,CrossReferenced,2022-11-02 06:07:43,anuragmadnawat1,fork_close,"ZOOKEEPER-4050: Zookeeper Inspector reports ""List of default node viewers is empty"" when not specifically run from the zookeeper-contrib/zookeeper-contrib-zooinspector directory","{""reference"": {""url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/issues/98"", ""is_pull_request"": true}}"
1589,Referenced,2022-11-02 06:10:04,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7719834964"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/18b6df81909c7863ab5eeeb29db394a3c1ab310f""}"
1591,OpenPR,2021-02-04 11:22:36,ztzg,fork_close,,
1591,ReviewRequested,2021-02-04 11:24:17,ztzg,fork_close,,"{""requested_reviewer"": {""login"": ""symat"", ""id"": 18458499, ""node_id"": ""MDQ6VXNlcjE4NDU4NDk5"", ""avatar_url"": ""https://avatars.githubusercontent.com/u/18458499?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/symat"", ""html_url"": ""https://github.com/symat"", ""followers_url"": ""https://api.github.com/users/symat/followers"", ""following_url"": ""https://api.github.com/users/symat/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/symat/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/symat/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/symat/subscriptions"", ""organizations_url"": ""https://api.github.com/users/symat/orgs"", ""repos_url"": ""https://api.github.com/users/symat/repos"", ""events_url"": ""https://api.github.com/users/symat/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/symat/received_events"", ""type"": ""User"", ""site_admin"": false}, ""requested_team"": null}"
1591,ReviewRequested,2021-02-04 11:24:17,ztzg,fork_close,,"{""requested_reviewer"": {""login"": ""eolivelli"", ""id"": 9469110, ""node_id"": ""MDQ6VXNlcjk0NjkxMTA="", ""avatar_url"": ""https://avatars.githubusercontent.com/u/9469110?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/eolivelli"", ""html_url"": ""https://github.com/eolivelli"", ""followers_url"": ""https://api.github.com/users/eolivelli/followers"", ""following_url"": ""https://api.github.com/users/eolivelli/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/eolivelli/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/eolivelli/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/eolivelli/subscriptions"", ""organizations_url"": ""https://api.github.com/users/eolivelli/orgs"", ""repos_url"": ""https://api.github.com/users/eolivelli/repos"", ""events_url"": ""https://api.github.com/users/eolivelli/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/eolivelli/received_events"", ""type"": ""User"", ""site_admin"": false}, ""requested_team"": null}"
1591,ReviewRequested,2021-02-04 11:24:17,ztzg,fork_close,,"{""requested_reviewer"": {""login"": ""nkalmar"", ""id"": 5468746, ""node_id"": ""MDQ6VXNlcjU0Njg3NDY="", ""avatar_url"": ""https://avatars.githubusercontent.com/u/5468746?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/nkalmar"", ""html_url"": ""https://github.com/nkalmar"", ""followers_url"": ""https://api.github.com/users/nkalmar/followers"", ""following_url"": ""https://api.github.com/users/nkalmar/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/nkalmar/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/nkalmar/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/nkalmar/subscriptions"", ""organizations_url"": ""https://api.github.com/users/nkalmar/orgs"", ""repos_url"": ""https://api.github.com/users/nkalmar/repos"", ""events_url"": ""https://api.github.com/users/nkalmar/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/nkalmar/received_events"", ""type"": ""User"", ""site_admin"": false}, ""requested_team"": null}"
1591,IssueComment,2021-02-04 11:24:31,ztzg,fork_close,Cc: @tamaashu.,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/773235799"", ""author_association"": ""CONTRIBUTOR""}"
1591,ReviewApproved,2021-02-04 11:53:14,eolivelli,fork_close,Good catch,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1591#pullrequestreview-583313754""}"
1591,ReviewApproved,2021-02-04 15:08:18,symat,fork_close,"nice! :)
thanks!","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1591#pullrequestreview-583491688""}"
1591,Revise,2021-02-17 17:47:25,ztzg,fork_close,"ZOOKEEPER-4199: Avoid thread leak in QuorumRequestPipelineTest

`QuorumRequestPipelineTest` hosts parameterized tests which explicitly
calls `QuorumBase.setUp(boolean)`.

This patch overrides the argument-less `QuorumBase.setUp()` with an
empty body, as the former is annotated `@BeforeEach`--otherwise
causing the runtime to start a fresh 5-ensemble before each test.

Without the override, one such extraneous ensemble is created and
immediately leaked for each combination of test method + parameters.

The test consequently requires 4000+ simultaneous threads to complete,
and while Linux happily handles that load, macOS Catalina's
per-process limit of 2048 threads effectively causes the JVM to
""crash"" or lock up.

The solution is copied verbatim from another parameterized subclass of
`QuorumBase`, `EagerACLFilterTest`.","{""sha"": ""6475ddff64bb897769a968479148460e7f09a801"", ""author"": {""name"": ""Damien Diederen"", ""email"": ""dd@crosstwine.com"", ""date"": ""2021-02-04T10:48:39Z""}, ""committer"": {""name"": ""Damien Diederen"", ""email"": ""dd@crosstwine.com"", ""date"": ""2021-02-17T17:47:25Z""}}"
1591,IssueComment,2021-02-17 22:36:15,ztzg,fork_close,"@eolivelli, @symat: Great CI success! Would one of you mind merging this?","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/780900155"", ""author_association"": ""CONTRIBUTOR""}"
1591,IssueComment,2021-02-18 08:26:40,symat,fork_close,"sure, I'll merge soon, thanks @ztzg !!","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/781151848"", ""author_association"": ""CONTRIBUTOR""}"
1591,ClosePR,2021-02-18 08:41:53,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4345490390"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/37eae03080b93d63a6ba9f624b37c764511ad2dc""}"
1591,Referenced,2021-03-06 20:01:36,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4417238231"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/658a700c14f304319ad06462310b00ecbc89f392""}"
1591,Referenced,2021-03-06 20:01:37,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4417238251"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/6a8c799e0b8ecb083439159f2d70d4e0cb02e722""}"
1591,IssueCommentSupplement,2021-03-06 20:08:15,ztzg,fork_close,Now also in `branch-3.7` and `branch-3.7.0`.  Thanks!,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/792044123"", ""author_association"": ""CONTRIBUTOR""}"
1591,IssueCommentSupplement,2021-03-08 06:55:54,symat,fork_close,thanks!,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/792518988"", ""author_association"": ""CONTRIBUTOR""}"
1591,Referenced,2022-08-31 20:39:58,RokLenarcic,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7299580955"", ""commit_url"": ""https://api.github.com/repos/RokLenarcic/zookeeper/commits/307080dd039054430e954cfeb39a4f9687606944""}"
1591,Referenced,2022-08-31 20:50:06,RokLenarcic,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7299637909"", ""commit_url"": ""https://api.github.com/repos/RokLenarcic/zookeeper/commits/fc02bd4750e4a7b00a40835a387384ff376d3674""}"
1591,Referenced,2022-08-31 20:53:38,RokLenarcic,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7299657832"", ""commit_url"": ""https://api.github.com/repos/RokLenarcic/zookeeper/commits/e6b23fbbc34f1854d5c8e457ffbccc1afed09e95""}"
1591,Referenced,2022-09-03 13:14:42,RokLenarcic,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7317065496"", ""commit_url"": ""https://api.github.com/repos/RokLenarcic/zookeeper/commits/4c2e4c7bfba227d85da5b0f699da1e8643cfee03""}"
1591,Referenced,2022-09-29 09:40:56,RokLenarcic,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7485043785"", ""commit_url"": ""https://api.github.com/repos/RokLenarcic/zookeeper/commits/c67799513f90b358c52111943ad6e84c8481abe5""}"
1591,CrossReferenced,2022-11-02 07:14:59,anuragmadnawat1,fork_close,ZOOKEEPER-4199: Avoid thread leak in QuorumRequestPipelineTest,"{""reference"": {""url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/issues/106"", ""is_pull_request"": true}}"
1591,Referenced,2022-11-02 07:15:01,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7720267708"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/93ab8a0e2dc5c21050bc8e675b5305fd68d7d7d2""}"
1591,Referenced,2022-11-02 07:16:57,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7720278628"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/0888970bab7a85e05a57122c098226f8725e9973""}"
1592,OpenPR,2021-02-04 11:41:22,ztzg,fork_close,,
1592,ReviewRequested,2021-02-04 11:42:18,ztzg,fork_close,,"{""requested_reviewer"": {""login"": ""symat"", ""id"": 18458499, ""node_id"": ""MDQ6VXNlcjE4NDU4NDk5"", ""avatar_url"": ""https://avatars.githubusercontent.com/u/18458499?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/symat"", ""html_url"": ""https://github.com/symat"", ""followers_url"": ""https://api.github.com/users/symat/followers"", ""following_url"": ""https://api.github.com/users/symat/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/symat/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/symat/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/symat/subscriptions"", ""organizations_url"": ""https://api.github.com/users/symat/orgs"", ""repos_url"": ""https://api.github.com/users/symat/repos"", ""events_url"": ""https://api.github.com/users/symat/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/symat/received_events"", ""type"": ""User"", ""site_admin"": false}, ""requested_team"": null}"
1592,ReviewRequested,2021-02-04 11:42:18,ztzg,fork_close,,"{""requested_reviewer"": {""login"": ""eolivelli"", ""id"": 9469110, ""node_id"": ""MDQ6VXNlcjk0NjkxMTA="", ""avatar_url"": ""https://avatars.githubusercontent.com/u/9469110?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/eolivelli"", ""html_url"": ""https://github.com/eolivelli"", ""followers_url"": ""https://api.github.com/users/eolivelli/followers"", ""following_url"": ""https://api.github.com/users/eolivelli/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/eolivelli/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/eolivelli/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/eolivelli/subscriptions"", ""organizations_url"": ""https://api.github.com/users/eolivelli/orgs"", ""repos_url"": ""https://api.github.com/users/eolivelli/repos"", ""events_url"": ""https://api.github.com/users/eolivelli/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/eolivelli/received_events"", ""type"": ""User"", ""site_admin"": false}, ""requested_team"": null}"
1592,ReviewRequested,2021-02-04 11:42:18,ztzg,fork_close,,"{""requested_reviewer"": {""login"": ""nkalmar"", ""id"": 5468746, ""node_id"": ""MDQ6VXNlcjU0Njg3NDY="", ""avatar_url"": ""https://avatars.githubusercontent.com/u/5468746?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/nkalmar"", ""html_url"": ""https://github.com/nkalmar"", ""followers_url"": ""https://api.github.com/users/nkalmar/followers"", ""following_url"": ""https://api.github.com/users/nkalmar/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/nkalmar/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/nkalmar/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/nkalmar/subscriptions"", ""organizations_url"": ""https://api.github.com/users/nkalmar/orgs"", ""repos_url"": ""https://api.github.com/users/nkalmar/repos"", ""events_url"": ""https://api.github.com/users/nkalmar/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/nkalmar/received_events"", ""type"": ""User"", ""site_admin"": false}, ""requested_team"": null}"
1592,ReviewRequested,2021-02-04 11:44:44,ztzg,fork_close,,"{""requested_reviewer"": {""login"": ""lvfangmin"", ""id"": 2357288, ""node_id"": ""MDQ6VXNlcjIzNTcyODg="", ""avatar_url"": ""https://avatars.githubusercontent.com/u/2357288?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/lvfangmin"", ""html_url"": ""https://github.com/lvfangmin"", ""followers_url"": ""https://api.github.com/users/lvfangmin/followers"", ""following_url"": ""https://api.github.com/users/lvfangmin/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/lvfangmin/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/lvfangmin/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/lvfangmin/subscriptions"", ""organizations_url"": ""https://api.github.com/users/lvfangmin/orgs"", ""repos_url"": ""https://api.github.com/users/lvfangmin/repos"", ""events_url"": ""https://api.github.com/users/lvfangmin/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/lvfangmin/received_events"", ""type"": ""User"", ""site_admin"": false}, ""requested_team"": null}"
1592,ReviewApproved,2021-02-04 11:52:17,eolivelli,fork_close,"+1
","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1592#pullrequestreview-583313061""}"
1592,ReviewApproved,2021-02-04 15:14:18,symat,fork_close,"looks OK, for now.

although I really don't like these type of tests, operating with real timing... a better solution would be to use some logical / mocked time. But I didn't dig deep enough to be able to decide how much work that test refactoring would be. 

But honestly, if we see this test to continue to be flaky, then we should `@ignore` it until it can be rewritten in a more robust way. ","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1592#pullrequestreview-583498609""}"
1592,IssueComment,2021-02-04 20:01:01,ztzg,fork_close,"> although I really don't like these type of tests, operating with real timing... a better solution would be to use some logical / mocked time.

Definitely.  This is a minimal workaround to give the test a chance to succeed as I am still trying to release 3.7—but we do indeed have a steep slope to climb before we are back to test/CI stability…

","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/773568997"", ""author_association"": ""CONTRIBUTOR""}"
1592,Revise,2021-02-17 17:49:33,ztzg,fork_close,"ZOOKEEPER-4200: Widen latency window in WatcherCleanerTest

`WatcherCleanerTest` performs latency checks which fail when outside
of a 20+Xms window.  Before this patch, X was 5ms--whereas 30+ms is
frequently seen on an i5 Mac Mini running macOS Catalina.

This ""dumb"" patch just widens the window to 20ms, which makes it ""work
on my machine,"" but could obviously still fail in a loaded environment
or VM.","{""sha"": ""ede957ed4ec2a1e6e6cb3404217f7b3b86725ca1"", ""author"": {""name"": ""Damien Diederen"", ""email"": ""dd@crosstwine.com"", ""date"": ""2021-02-02T12:10:42Z""}, ""committer"": {""name"": ""Damien Diederen"", ""email"": ""dd@crosstwine.com"", ""date"": ""2021-02-17T17:49:33Z""}}"
1592,IssueComment,2021-02-17 19:16:17,ztzg,fork_close,"@eolivelli, @symat: I have rebased this on `master`, and CI went through!  Would one of you mind merging it?","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/780788803"", ""author_association"": ""CONTRIBUTOR""}"
1592,IssueComment,2021-02-17 19:17:32,eolivelli,fork_close,"doing it now, thanks @ztzg 
should I cherry pick to branch-3.7 ?
","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/780789528"", ""author_association"": ""CONTRIBUTOR""}"
1592,ClosePR,2021-02-17 19:19:05,eolivelli,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4343113589"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/d8ff555339b054fbcf6ea6767357e8bf8c7af2c5""}"
1592,Referenced,2021-02-17 19:19:21,eolivelli,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4343114521"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/184fb984c08c7b3b8dba291ad529b80b8a073ac7""}"
1592,IssueCommentSupplement,2021-02-17 19:19:46,eolivelli,fork_close,"Picked to 3.7.0 branch
thanks","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/780790772"", ""author_association"": ""CONTRIBUTOR""}"
1592,IssueCommentSupplement,2021-02-17 19:24:25,ztzg,fork_close,Yes.  Perfect—thanks!,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/780793570"", ""author_association"": ""CONTRIBUTOR""}"
1592,Referenced,2021-03-06 20:01:36,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4417238227"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/5d47a4ea40e4989841738178952025320cd1c30d""}"
1592,IssueCommentSupplement,2021-03-06 20:06:23,ztzg,fork_close,Now also in `branch-3.7`!,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/792043827"", ""author_association"": ""CONTRIBUTOR""}"
1592,Referenced,2022-08-31 20:39:58,RokLenarcic,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7299580943"", ""commit_url"": ""https://api.github.com/repos/RokLenarcic/zookeeper/commits/d0d93d99d2673c8a255069be3c555d920c1e1b85""}"
1592,Referenced,2022-08-31 20:50:06,RokLenarcic,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7299637890"", ""commit_url"": ""https://api.github.com/repos/RokLenarcic/zookeeper/commits/c2f49f600f3ef4d0cd28c6b11ad9301406928f13""}"
1592,Referenced,2022-08-31 20:53:38,RokLenarcic,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7299657826"", ""commit_url"": ""https://api.github.com/repos/RokLenarcic/zookeeper/commits/9f39d806f29de76a656cd2ef8cd3a0120b1d4dab""}"
1592,Referenced,2022-09-03 13:14:42,RokLenarcic,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7317065492"", ""commit_url"": ""https://api.github.com/repos/RokLenarcic/zookeeper/commits/7eac20310ff9414f1b9541cf4d83be75e8be5b2a""}"
1592,Referenced,2022-09-29 09:40:56,RokLenarcic,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7485043758"", ""commit_url"": ""https://api.github.com/repos/RokLenarcic/zookeeper/commits/f24a35385b2c3f3f854af3f1b8f57d8fc1743968""}"
1592,Referenced,2022-11-02 06:58:35,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7720174385"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/421f3f20a6fb71e94d1f5365b729dabe0dcc3a30""}"
1592,CrossReferenced,2022-11-02 06:58:35,anuragmadnawat1,fork_close,ZOOKEEPER-4200: Widen latency window in WatcherCleanerTest,"{""reference"": {""url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/issues/104"", ""is_pull_request"": true}}"
1592,Referenced,2022-11-02 07:00:23,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7720185459"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/fa2c2fef668040e5e58b05e0fbc0a1e6c1dfe974""}"
1593,OpenPR,2021-02-04 19:53:48,ztzg,fork_close,,
1593,ReviewRequested,2021-02-04 19:53:49,ztzg,fork_close,,"{""requested_reviewer"": {""login"": ""eolivelli"", ""id"": 9469110, ""node_id"": ""MDQ6VXNlcjk0NjkxMTA="", ""avatar_url"": ""https://avatars.githubusercontent.com/u/9469110?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/eolivelli"", ""html_url"": ""https://github.com/eolivelli"", ""followers_url"": ""https://api.github.com/users/eolivelli/followers"", ""following_url"": ""https://api.github.com/users/eolivelli/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/eolivelli/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/eolivelli/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/eolivelli/subscriptions"", ""organizations_url"": ""https://api.github.com/users/eolivelli/orgs"", ""repos_url"": ""https://api.github.com/users/eolivelli/repos"", ""events_url"": ""https://api.github.com/users/eolivelli/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/eolivelli/received_events"", ""type"": ""User"", ""site_admin"": false}, ""requested_team"": null}"
1593,ReviewRequested,2021-02-04 19:53:49,ztzg,fork_close,,"{""requested_reviewer"": {""login"": ""symat"", ""id"": 18458499, ""node_id"": ""MDQ6VXNlcjE4NDU4NDk5"", ""avatar_url"": ""https://avatars.githubusercontent.com/u/18458499?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/symat"", ""html_url"": ""https://github.com/symat"", ""followers_url"": ""https://api.github.com/users/symat/followers"", ""following_url"": ""https://api.github.com/users/symat/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/symat/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/symat/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/symat/subscriptions"", ""organizations_url"": ""https://api.github.com/users/symat/orgs"", ""repos_url"": ""https://api.github.com/users/symat/repos"", ""events_url"": ""https://api.github.com/users/symat/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/symat/received_events"", ""type"": ""User"", ""site_admin"": false}, ""requested_team"": null}"
1593,IssueComment,2021-02-04 20:55:35,eolivelli,fork_close,"I will test it tomorrow with my Mac, thanks","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/773598157"", ""author_association"": ""CONTRIBUTOR""}"
1593,ReviewApproved,2021-02-05 13:32:34,symat,fork_close,"Looks OK to me, thanks @ztzg !
Unfortunately I couldn't test it on a mac just yet, but I trust you (and @eolivelli , if he will have time to do the test)","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1593#pullrequestreview-584338401""}"
1593,ReviewApproved,2021-02-05 14:01:05,eolivelli,fork_close,"I confirm that this patch allows you to build the C client in Mac!

good work

I also confirm that it is not possible to run tests, but this is out of the scope of this patch.

```
     [exec] libtool: link: g++ -Wall -DUSE_STATIC_LIB -I/usr/local/Cellar/cppunit/1.15.1/include -DZKSERVER_CMD=\""/Users/enrico.olivelli/dev/zookeeper/zookeeper-client/zookeeper-client-c/../../zookeeper-client/zookeeper-client-c/tests/zkServer.sh\"" -g -O2 -std=c++11 -Wl,--wrap -Wl,calloc -Wl,--wrap -Wl,free -Wl,--wrap -Wl,flush_send_queue -Wl,--wrap -Wl,get_xid -Wl,--wrap -Wl,deliverWatchers -Wl,--wrap -Wl,activateWatcher -Wl,--wrap -Wl,realloc -o zktest-st zktest_st-TestDriver.o zktest_st-LibCMocks.o zktest_st-LibCSymTable.o zktest_st-MocksBase.o zktest_st-ZKMocks.o zktest_st-Util.o zktest_st-ThreadingUtil.o zktest_st-TestZookeeperInit.o zktest_st-TestZookeeperClose.o zktest_st-TestReconfig.o zktest_st-TestReconfigServer.o zktest_st-TestClientRetry.o zktest_st-TestOperations.o zktest_st-TestMulti.o zktest_st-TestWatchers.o zktest_st-TestClient.o zktest_st-ZooKeeperQuorumServer.o zktest_st-TestReadOnlyClient.o zktest_st-TestLogClientEnv.o zktest_st-TestSASLAuth.o -Wl,-bind_at_load  ./.libs/libzkst.a -lm ./.libs/libhashtable.a -L/usr/local/Cellar/cppunit/1.15.1/lib -lcppunit -lsasl2 -ldl
     [exec] ld: unknown option: --wrap
     [exec] clang: error: linker command failed with exit code 1 (use -v to see invocation)
     [exec] make[1]: *** [zktest-st] Error 1
     [exec] make: *** [check-am] Error 2

```","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1593#pullrequestreview-584362406""}"
1593,IssueComment,2021-02-05 14:01:33,eolivelli,fork_close,I will merge as soon as CI passes,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/774050402"", ""author_association"": ""CONTRIBUTOR""}"
1593,IssueComment,2021-02-05 15:12:26,eolivelli,fork_close,It looks like Java11 tests are not stable on GitHub actions. I have relaunched the job twice and this patch does not touch Java code,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/774092548"", ""author_association"": ""CONTRIBUTOR""}"
1593,Revise,2021-02-17 17:51:36,ztzg,fork_close,"ZOOKEEPER-4201: C client: clockid_t is defined in <time.h> on macOS

This fixes the `clockid_t` compilation issue mentioned in the ticket
description, but the test suite as a whole remains broken on macOS as
its linker does not support the `--wrap` option.","{""sha"": ""065bc4dadc9b01d327dcd7b8b85e8006656f086f"", ""author"": {""name"": ""Damien Diederen"", ""email"": ""dd@crosstwine.com"", ""date"": ""2021-02-04T19:13:16Z""}, ""committer"": {""name"": ""Damien Diederen"", ""email"": ""dd@crosstwine.com"", ""date"": ""2021-02-17T17:51:36Z""}}"
1593,Revise,2021-02-17 17:51:36,ztzg,fork_close,"ZOOKEEPER-4201: C client: Disable SASL deprecation warnings on macOS

This patch works around the numerous deprecation notices added to the
CyrusSASL library on macOS.  It is a direct ""port"" of the solution to
MESOS-3030, which hit exactly the same problem:

  https://issues.apache.org/jira/browse/MESOS-3030

  https://reviews.apache.org/r/39230/diff/3/","{""sha"": ""b350dd3cfaafc67b6b391cde58d86779128cf87e"", ""author"": {""name"": ""Damien Diederen"", ""email"": ""dd@crosstwine.com"", ""date"": ""2021-02-04T17:56:19Z""}, ""committer"": {""name"": ""Damien Diederen"", ""email"": ""dd@crosstwine.com"", ""date"": ""2021-02-17T17:51:36Z""}}"
1593,IssueComment,2021-02-17 19:14:44,ztzg,fork_close,"> I will merge as soon as CI passes

@eolivelli: Mission accomplished!","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/780787916"", ""author_association"": ""CONTRIBUTOR""}"
1593,IssueComment,2021-02-17 19:20:13,eolivelli,fork_close,merging,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/780791072"", ""author_association"": ""CONTRIBUTOR""}"
1593,ClosePR,2021-02-17 19:20:43,eolivelli,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4343119976"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/58b4c10be5e6b992caac3b99a506e1d61bdec24d""}"
1593,Referenced,2021-02-17 19:20:51,eolivelli,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4343120466"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/93410bf4968845af3c741383a007c9d4d15d9b59""}"
1593,IssueCommentSupplement,2021-02-17 19:21:52,eolivelli,fork_close,"merged to master and to branch-3.7.0

I had this error from JIRA, can you fix the issue on JIRA manually @ztzg  ?

> Enter a JIRA id [ZOOKEEPER-4201]: 3.7.0
> ASF JIRA could not find 3.7.0
> JiraError HTTP 404 url: https://issues.apache.org/jira/rest/api/2/issue/3.7.0
> 	text: Issue Does Not Exist
> 	
> 	response headers = {'Date': 'Wed, 17 Feb 2021 19:20:58 GMT', 'Server': 'Apache', 'X-AREQUESTID': '1160x260676369x8', 'X-ASESSIONID': 'fzoixy', 'X-XSS-Protection': '1; mode=block', 'X-Content-Type-Options': 'nosniff', 'X-Frame-Options': 'SAMEORIGIN', 'Content-Security-Policy': ""frame-ancestors 'self'"", 'X-ASEN': 'SEN-2062203', 'X-Seraph-LoginReason': 'OK', 'X-AUSERNAME': 'eolivelli', 'Cache-Control': 'no-cache, no-store, no-transform', 'Content-Type': 'application/json;charset=UTF-8', 'Keep-Alive': 'timeout=15, max=98', 'Connection': 'Keep-Alive', 'Transfer-Encoding': 'chunked'}
> 	response text = {""errorMessages"":[""Issue Does Not Exist""],""errors"":{}}","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/780792086"", ""author_association"": ""CONTRIBUTOR""}"
1593,IssueCommentSupplement,2021-02-17 19:25:04,ztzg,fork_close,"> I had this error from JIRA, can you fix the issue on JIRA manually @ztzg ?

Sure; will do!
","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/780793953"", ""author_association"": ""CONTRIBUTOR""}"
1593,Referenced,2021-03-06 20:01:36,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4417238228"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/d28153b38799c4516681da7941c50fb94f99935e""}"
1593,IssueCommentSupplement,2021-03-06 20:07:17,ztzg,fork_close,Now also in `branch-3.7`!,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/792043984"", ""author_association"": ""CONTRIBUTOR""}"
1593,Referenced,2022-08-31 20:39:58,RokLenarcic,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7299580949"", ""commit_url"": ""https://api.github.com/repos/RokLenarcic/zookeeper/commits/9cb9e3a243245d840f2db5c91849412157602dbd""}"
1593,Referenced,2022-08-31 20:50:06,RokLenarcic,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7299637898"", ""commit_url"": ""https://api.github.com/repos/RokLenarcic/zookeeper/commits/badccc6d9a73d0cf891d4fdd7cbd3520c9d11ff9""}"
1593,Referenced,2022-08-31 20:53:38,RokLenarcic,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7299657828"", ""commit_url"": ""https://api.github.com/repos/RokLenarcic/zookeeper/commits/2c22074a385d995dfeb1dda7d83863f330e933a6""}"
1593,Referenced,2022-09-03 13:14:42,RokLenarcic,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7317065494"", ""commit_url"": ""https://api.github.com/repos/RokLenarcic/zookeeper/commits/d58313388c13bfd2673197f7264ab2b38ba103f1""}"
1593,Referenced,2022-09-29 09:40:56,RokLenarcic,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7485043764"", ""commit_url"": ""https://api.github.com/repos/RokLenarcic/zookeeper/commits/e113636e357a5c2df7f027d1ee489f1db9d2f218""}"
1593,Referenced,2022-11-02 07:00:26,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7720185801"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/d2c5a5b7de3d0ee1be73e108558a7a6269caca16""}"
1593,CrossReferenced,2022-11-02 07:00:26,anuragmadnawat1,fork_close,ZOOKEEPER-4201: C client: Disable SASL deprecation warnings on macOS,"{""reference"": {""url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/issues/105"", ""is_pull_request"": true}}"
1593,Referenced,2022-11-02 07:15:01,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7720267711"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/14f54a43ba0e3bd94d5975c7a2e8c53d80aaf7f8""}"
1594,SubmitCommit,2021-02-05 13:19:36,nkalmar,fork_close,"ZOOKEEPER-3037: Add JVMPauseMonitor

https://issues.apache.org/jira/browse/ZOOKEEPER-3037

Author: Norbert Kalmar <nkalmar@yahoo.com>

Reviewers: andor@apache.org

Closes #904 from nkalmar/ZOOKEEPER-3037 and squashes the following commits:

a6105324b [Norbert Kalmar] ZOOKEEPER-3037 - add serviceStop() and improve unit tests
7d0baaa46 [Norbert Kalmar] ZOOKEEPER-3037 - refactor unit tests
97d2c6103 [Norbert Kalmar] ZOOKEEPER-3037 - cite hadoop-common as source
3661389e4 [Norbert Kalmar] ZOOKEEPER-3037 - Add unit test and various improvements
f30975765 [Norbert Kalmar] ZOOKEEPER-3037 - Add JvmPauseMonitor

(cherry picked from commit e9adf6ee09ef18258653d65c851fa84c3cd1a51d)","{""sha"": ""9fab21ac0645420bc30bf9d8d80e00235fbf7c6c"", ""author"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@yahoo.com"", ""date"": ""2019-04-18T17:17:48Z""}, ""committer"": {""name"": ""Mate Szalay-Beko"", ""email"": ""mszalay@cloudera.com"", ""date"": ""2021-02-05T13:19:36Z""}}"
1594,OpenPR,2021-02-05 13:26:08,symat,fork_close,,
1594,ReviewComment,2021-02-05 13:34:35,sonatype-lift[bot],fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1594#pullrequestreview-584339919""}"
1594,ReviewComment,2021-02-05 13:34:36,sonatype-lift[bot],fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1594#pullrequestreview-584339934""}"
1594,ReviewComment,2021-02-05 13:34:37,sonatype-lift[bot],fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1594#pullrequestreview-584339957""}"
1594,ReviewApproved,2021-02-05 15:22:18,eolivelli,fork_close,"LGTM

Btw I hope we won't cut many releases out of branch-3.5 as soon as we release 3.7.
","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1594#pullrequestreview-584438849""}"
1594,IssueComment,2021-02-09 07:27:05,symat,fork_close,"thanks @eolivelli for the review! I agree about limiting the number of future 3.5 releases, it might worth to start a discussion about the EOL of 3.5, after the 3.7,0 is released.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/775732045"", ""author_association"": ""CONTRIBUTOR""}"
1594,IssueComment,2021-02-09 07:30:29,symat,fork_close,"it is strange... I checked the CI job linked above (https://ci-hadoop.apache.org/job/zookeeper-precommit-github-pr/job/PR-1594/1/display/redirect) and it is showing a build of ""Apache ZooKeeper 3.8.0-SNAPSHOT"" (instead of 3.5.10-SNAPSHOT). And it is showing a test failing which is not even on the branch-3.5. I'll file a Jira about this, it looks something is wrong with the branch-3.5 CI.

The tests succeeded on my machine, so I'm going to merge this PR.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/775733582"", ""author_association"": ""CONTRIBUTOR""}"
1594,IssueComment,2021-02-09 07:40:41,symat,fork_close,submitted bug ticket about CI problems: https://issues.apache.org/jira/browse/ZOOKEEPER-4206,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/775738209"", ""author_association"": ""CONTRIBUTOR""}"
1594,Referenced,2021-02-09 07:47:22,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4307656297"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/da9b18ae8f2bfed319e461d7e0ec8c2c2ac1590d""}"
1594,ClosePR,2021-02-09 07:47:59,symat,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4307658182"", ""commit_url"": null}"
1595,SubmitCommit,2021-02-05 15:56:13,ctubbsii,fork_close,"[TEST - DO NOT MERGE] Try CI tests using JDK8

Update GitHub Actions CI configuration to do the full tests with JDK8
instead of JDK11, as a test.","{""sha"": ""338b710bba3269a20a081840ad135de4c948ef74"", ""author"": {""name"": ""Christopher Tubbs"", ""email"": ""ctubbsii@apache.org"", ""date"": ""2021-02-05T15:56:13Z""}, ""committer"": {""name"": ""Christopher Tubbs"", ""email"": ""ctubbsii@apache.org"", ""date"": ""2021-02-05T15:56:13Z""}}"
1595,OpenPR,2021-02-05 15:57:47,ctubbsii,fork_close,,
1595,ClosePR,2021-02-05 19:29:37,ctubbsii,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4297671378"", ""commit_url"": null}"
1597,SubmitCommit,2021-02-08 11:50:07,LuoManGit,fork_close,ZOOKEEPER-4007: A typo in the ZKUtil#validateFileInput method,"{""sha"": ""1d97cf0e4eed002a547a94b89b0fbf8e79e86c73"", ""author"": {""name"": ""luoman"", ""email"": ""271731985@qq.com"", ""date"": ""2021-02-08T11:44:07Z""}, ""committer"": {""name"": ""luoman"", ""email"": ""luoman@kuaishou.com"", ""date"": ""2021-02-08T11:50:07Z""}}"
1597,OpenPR,2021-02-08 11:53:49,LuoManGit,fork_close,,
1597,ReviewApproved,2021-02-08 11:56:46,maoling,fork_close,+1. LGTM,"{""author_association"": ""MEMBER"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1597#pullrequestreview-585424339""}"
1597,ClosePR,2021-02-08 12:10:35,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4303061301"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/4faf507771889c7f6280d41ac4a615467680553f""}"
1597,IssueCommentSupplement,2021-02-08 12:10:52,maoling,fork_close,@LuoManGit Thanks for your contribution.,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/775101314"", ""author_association"": ""MEMBER""}"
1597,DeleteBranch,2021-02-08 12:12:11,LuoManGit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4303067946"", ""commit_url"": null}"
1597,CrossReferenced,2021-02-21 06:53:05,maoling,fork_close,ZOOKEEPER-4212: add committer checklist to zk-merge-pr.py,"{""reference"": {""url"": ""https://api.github.com/repos/apache/zookeeper/issues/1610"", ""is_pull_request"": true}}"
1597,Referenced,2022-08-31 20:39:57,RokLenarcic,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7299580911"", ""commit_url"": ""https://api.github.com/repos/RokLenarcic/zookeeper/commits/bb0aff72a5cfcb8c9c9327dc2e2a5a21d567ef45""}"
1597,Referenced,2022-08-31 20:50:06,RokLenarcic,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7299637849"", ""commit_url"": ""https://api.github.com/repos/RokLenarcic/zookeeper/commits/aa6186a87e1dfade5b93657ffd8b5fdc4cc54c00""}"
1597,Referenced,2022-08-31 20:53:38,RokLenarcic,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7299657798"", ""commit_url"": ""https://api.github.com/repos/RokLenarcic/zookeeper/commits/4c4330a5973053c50ee34e906118f8fceb220d2f""}"
1597,Referenced,2022-09-03 13:14:42,RokLenarcic,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7317065487"", ""commit_url"": ""https://api.github.com/repos/RokLenarcic/zookeeper/commits/06264dd027fc8cfc342816a911c125336a3fc3ad""}"
1597,Referenced,2022-09-29 09:40:55,RokLenarcic,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7485043702"", ""commit_url"": ""https://api.github.com/repos/RokLenarcic/zookeeper/commits/19f07cda2bc1b9ebc9474e939613e8445a006cf5""}"
1597,Referenced,2022-11-02 06:10:08,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7719835663"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/e315cfd968aee78ab4a5a88e36da283e3abeb887""}"
1597,CrossReferenced,2022-11-02 06:10:08,anuragmadnawat1,fork_close,ZOOKEEPER-4007: A typo in the ZKUtil#validateFileInput method,"{""reference"": {""url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/issues/99"", ""is_pull_request"": true}}"
1597,Referenced,2022-11-02 06:12:27,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7719847372"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/104c31dc526829a31866884bb7e0efdd5b73b1ed""}"
1598,OpenPR,2021-02-08 13:55:32,amichair,fork_close,,
1598,IssueComment,2021-02-08 14:24:46,amichair,fork_close,"CI error looks like an unrelated typo in another test (""direcory"").","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/775185515"", ""author_association"": ""CONTRIBUTOR""}"
1598,ReviewApproved,2021-02-17 11:14:23,ztzg,fork_close,"Thank you, @amichair, and good catch.

There are two different statements in your commit message:

> Remove unnecessary creation of thousands of threads […]

LGTM!

> […] to prevent RequestPathMetricsCollectorTest.testMultiThreadPerf occasional failures

I understand (and agree with) the rationale, but I am now wondering… have you actually observed that this change prevents some failures?  I would expect to see an improvement in memory usage, but *not* in reliability—as the `Thread` objects were not `.start()`ed, and just used as `Runnable` wrappers.

@hanm, @eolivelli: PTAL.
","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1598#pullrequestreview-592084699""}"
1598,IssueComment,2021-02-18 19:16:18,amichair,fork_close,"I wrote a little more in the ZOOKEEPER-4204 issue. At least in my case on one machine, it went from failing several times in a row to not failing several times in a row (on another machine it never failed in the first place). I was also a bit surprised, but I guess there's enough bookkeeping being done (a Thread is not just a POJO with an empty constructor), times tens of thousands of instances, that it made a difference. Failures were about timings, so anything that wastes time overhead on the test itself increases the chance of failure. As I wrote there, I'm not sure it will be solved in all scenarios, but it seems to be a good first step, and is certainly a correct correction in any case...","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/781575161"", ""author_association"": ""CONTRIBUTOR""}"
1598,Revise,2021-04-01 11:07:32,Amichai Rothman,fork_close,ZOOKEEPER-4204: Remove unnecessary creation of thousands of thread instances to prevent RequestPathMetricsCollectorTest.testMultiThreadPerf occasional failures,"{""sha"": ""e0e812748bb76ec0799f872427c84a39a4967bbc"", ""author"": {""name"": ""Amichai Rothman"", ""email"": ""amichai@apache.org"", ""date"": ""2021-02-08T13:18:10Z""}, ""committer"": {""name"": ""Amichai Rothman"", ""email"": ""amichai@apache.org"", ""date"": ""2021-04-01T11:07:32Z""}}"
1598,IssueComment,2021-04-06 11:26:31,amichair,fork_close,"Will you merge it if I remove ZOOKEEPER-4204 from the title? Whether or not it completely solves the issue (probably not), it's an improvement and does alleviate the issue on some machines like mine...","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/814044202"", ""author_association"": ""CONTRIBUTOR""}"
1598,ReviewApproved,2021-04-21 02:53:24,hanm,fork_close,"LGTM, thanks for fixing this.","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1598#pullrequestreview-640587114""}"
1598,ClosePR,2021-07-28 13:31:05,ztzg,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5080183177"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/7a368b4b196af02190e6e57f18f56598ee32a626""}"
1598,Referenced,2021-07-28 13:31:24,ztzg,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5080185145"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/ddecda522df8d39407cd5782dbe7778221cb8bd1""}"
1598,IssueCommentSupplement,2021-07-28 13:33:54,ztzg,fork_close,"Hi @amichair,

Thank you for this fix.  I have merged it in `master` and `branch-3.7`.  A new ticket can be open if we observe more issues with that specific test.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/888313535"", ""author_association"": ""CONTRIBUTOR""}"
1599,OpenPR,2021-02-08 14:45:14,amichair,fork_close,,
1599,ReviewApproved,2021-02-17 11:32:41,ztzg,fork_close,"Thank you, @amichair!  LGTM, and tested.

@eolivelli, @maoling: PTAL.","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1599#pullrequestreview-592098777""}"
1599,ReviewApproved,2021-02-17 14:07:05,ctubbsii,fork_close,,"{""author_association"": ""MEMBER"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1599#pullrequestreview-592228916""}"
1599,IssueComment,2021-03-08 14:50:40,arshadmohammad,fork_close,"X509AuthFailureTest is failing even when it runs alone. I feel port conflict is not the reason for failure.
","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/792806484"", ""author_association"": ""CONTRIBUTOR""}"
1599,IssueComment,2021-03-08 14:51:38,arshadmohammad,fork_close,@amichair can you please include the changes from https://github.com/apache/zookeeper/pull/1616  PR also in this PR.,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/792807079"", ""author_association"": ""CONTRIBUTOR""}"
1599,CrossReferenced,2021-03-09 17:28:08,arshadmohammad,fork_close,ZOOKEEPER-4227: X509AuthFailureTest is failing consistently,"{""reference"": {""url"": ""https://api.github.com/repos/apache/zookeeper/issues/1616"", ""is_pull_request"": true}}"
1599,Revise,2021-03-14 14:57:19,Amichai Rothman,fork_close,ZOOKEEPER-4205: Change X509AuthFailureTest to use dynamically assigned free port,"{""sha"": ""e83a95c638ab0eecb35ed30f71bb640e73e90af1"", ""author"": {""name"": ""Amichai Rothman"", ""email"": ""amichai@apache.org"", ""date"": ""2021-02-08T14:41:58Z""}, ""committer"": {""name"": ""Amichai Rothman"", ""email"": ""amichai@apache.org"", ""date"": ""2021-03-14T14:57:19Z""}}"
1599,IssueComment,2021-03-14 15:34:45,amichair,fork_close,Rebased.,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/798927913"", ""author_association"": ""CONTRIBUTOR""}"
1599,IssueComment,2021-03-15 16:29:28,arshadmohammad,fork_close,@amichair is X509AuthFailureTest  still failing? please verify on the latest code share you feedback,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/799559255"", ""author_association"": ""CONTRIBUTOR""}"
1599,IssueComment,2021-03-16 07:24:57,amichair,fork_close,"I'm not sure what you're asking... I rebased on the latest master branch. The errors in the CI build are unrelated. This is an issue with hard-coded port 8080 in the test, which many other applications and web servers use by default which means the project cannot be built on any such machine, and the fix is to use a dynamically assigned free port in the test so it will build on any machine.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/800021677"", ""author_association"": ""CONTRIBUTOR""}"
1599,ReviewComment,2021-03-16 09:25:00,anmolnar,fork_close,"@amichair Thanks for looking into this. Have you seen this issue actually making the test fail?
If that was the case, this would have cause problems with a lot of others tests as well. As far as I know if Admin server cannot be started due to port conflict (which is the case when multiple ZK instances running on the same machine), the server will continue to work without it.","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1599#pullrequestreview-613015130""}"
1599,IssueComment,2021-03-16 11:12:26,amichair,fork_close,"Yes, the test failed on my desktop (which has default port 8080 in use by Tomcat), that's how I encountered this issue and investigated it. and after the fix it passes. No other tests seemed to be affected by this port conflict, I think other places already use dynamically allocated free ports.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/800169281"", ""author_association"": ""CONTRIBUTOR""}"
1599,ReviewApproved,2021-03-16 12:27:39,anmolnar,fork_close,Alright. lgtm.,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1599#pullrequestreview-613180273""}"
1599,IssueComment,2021-03-16 16:00:56,arshadmohammad,fork_close,"> Yes, the test failed on my desktop (which has default port 8080 in use by Tomcat), that's how I encountered this issue and investigated it. and after the fix it passes. No other tests seemed to be affected by this port conflict, I think other places already use dynamically allocated free ports.

makes sense.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/800389847"", ""author_association"": ""CONTRIBUTOR""}"
1599,ReviewApproved,2021-03-16 16:01:14,arshadmohammad,fork_close,LGTM +1,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1599#pullrequestreview-613434441""}"
1599,IssueComment,2021-03-16 16:47:15,arshadmohammad,fork_close,I will merge this after https://github.com/apache/zookeeper/pull/1635. So this can be merged in all the branches,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/800429677"", ""author_association"": ""CONTRIBUTOR""}"
1599,ClosePR,2021-03-17 08:30:17,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4468777394"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/c74658d398cdc1d207aa296cb6e20de00faec03e""}"
1599,Referenced,2021-03-17 08:30:28,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4468778358"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/8e8193504cbf804f1cee73d2e1bf44a14becc717""}"
1599,Referenced,2021-03-17 08:31:00,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4468780794"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/785d7fec6fffae4a68675c2cc9d2af9b07c57627""}"
1599,Referenced,2021-03-17 08:32:00,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4468785633"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/545b223bc512eb03106b7b48f79fe1dfdeaa05ba""}"
1599,DeleteBranch,2021-03-17 13:31:25,amichair,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4470247324"", ""commit_url"": null}"
1599,Referenced,2022-08-31 20:39:59,RokLenarcic,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7299581066"", ""commit_url"": ""https://api.github.com/repos/RokLenarcic/zookeeper/commits/f6a6b6eaaba246c1b92f7ec27ede1bdeea6fbcba""}"
1599,Referenced,2022-08-31 20:50:07,RokLenarcic,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7299638048"", ""commit_url"": ""https://api.github.com/repos/RokLenarcic/zookeeper/commits/ce0baa9587802d940dd08e7cbc609aa96abba661""}"
1599,Referenced,2022-08-31 20:53:39,RokLenarcic,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7299657948"", ""commit_url"": ""https://api.github.com/repos/RokLenarcic/zookeeper/commits/17bdfeb2c6647aea4d99770a4bf4b7b78e17d3d3""}"
1599,Referenced,2022-09-03 13:14:43,RokLenarcic,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7317065548"", ""commit_url"": ""https://api.github.com/repos/RokLenarcic/zookeeper/commits/aeaa0eaa5a055f88263dc984fc18dd29af14b0f9""}"
1599,Referenced,2022-09-29 09:40:57,RokLenarcic,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7485043934"", ""commit_url"": ""https://api.github.com/repos/RokLenarcic/zookeeper/commits/16d71a4bbc88a5571a3e732cdcfccb0b3551d819""}"
1599,Referenced,2022-11-02 09:03:32,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7721059815"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/4da2bb762c2dac2de70b84ddf5b2a0f863bd4d07""}"
1599,CrossReferenced,2022-11-02 09:03:32,anuragmadnawat1,fork_close,ZOOKEEPER-4205: Change X509AuthFailureTest to use dynamically assigned free port,"{""reference"": {""url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/issues/121"", ""is_pull_request"": true}}"
1599,Referenced,2022-11-02 09:06:02,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7721083601"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/9d1857275dc67427907b71b4308c5c8ef1e990d9""}"
1599,Referenced,2022-11-23 14:18:40,RokLenarcic,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7877710315"", ""commit_url"": ""https://api.github.com/repos/RokLenarcic/zookeeper/commits/a652c99131de87608a162fcf7c261d87300a18eb""}"
1600,SubmitCommit,2021-02-09 14:02:23,anmolnar,fork_close,ZOOKEEPER-4207. Remove extra checkout from Jenkinsfile,"{""sha"": ""c0eff413520d26d6b94d630fe30a319378ffd93c"", ""author"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2021-02-09T14:02:23Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2021-02-09T14:02:23Z""}}"
1600,OpenPR,2021-02-09 14:04:34,anmolnar,fork_close,,
1600,ReviewApproved,2021-02-09 14:36:44,eolivelli,fork_close,"LGTM
I will merge as soon as we get a green Jenkins build

thanks for fixing this","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1600#pullrequestreview-586612885""}"
1600,IssueComment,2021-02-09 14:44:02,anmolnar,fork_close,Thanks @eolivelli . It's green now.,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/775991206"", ""author_association"": ""CONTRIBUTOR""}"
1600,ClosePR,2021-02-09 15:31:08,eolivelli,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4309836827"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/8c68933226595b839ba3694dacd39cd2b2a21878""}"
1600,Referenced,2021-02-09 15:31:12,eolivelli,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4309837168"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/2529f0bb86105bff96be791673cc6a73b4956a28""}"
1600,Referenced,2021-02-09 15:31:22,eolivelli,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4309838110"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/0a9d54edc79873e67bf81a57ab4759c2739edfce""}"
1600,Referenced,2021-02-09 15:31:33,eolivelli,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4309839200"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/8b4be143d654c0034c6f4d58da05d9ec72757db1""}"
1600,Referenced,2021-02-09 15:31:44,eolivelli,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4309840218"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/25c3c268653673958eec71cc9925fabc8d377e39""}"
1600,IssueCommentSupplement,2021-02-09 15:32:36,eolivelli,fork_close,"@anmolnar sorry I forgot the script running.
committed to master,branch-3.7.0,branch-3.7,branch-3.6 and branch-3.5

@ztzg PTAL","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/776026590"", ""author_association"": ""CONTRIBUTOR""}"
1600,DeleteBranch,2021-02-09 18:55:27,anmolnar,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4310867711"", ""commit_url"": null}"
1600,IssueCommentSupplement,2021-02-10 18:56:56,ztzg,fork_close,"LGTM.  This build of `branch-3.6`:

https://ci-hadoop.apache.org/view/ZooKeeper/job/zookeeper-multi-branch-build/job/branch-3.6/242/consoleText

visibly only contains two commit hashes: `8b4be143d654c0034c6f4d58da05d9ec72757db1`, which is the tip to be tested, and `bdc54f03a5e0a7e280fab27f55c3c75ee8da89fb`, which seems to be some noise printed by Netty.


","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/776935349"", ""author_association"": ""CONTRIBUTOR""}"
1600,Referenced,2022-08-31 20:39:58,RokLenarcic,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7299580918"", ""commit_url"": ""https://api.github.com/repos/RokLenarcic/zookeeper/commits/8aa4118fdb5974cedf39bfa69768cf2f6879dc4e""}"
1600,Referenced,2022-08-31 20:50:06,RokLenarcic,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7299637860"", ""commit_url"": ""https://api.github.com/repos/RokLenarcic/zookeeper/commits/e735bf189bcf3d36a2388beee9de525ebedb7103""}"
1600,Referenced,2022-08-31 20:53:38,RokLenarcic,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7299657807"", ""commit_url"": ""https://api.github.com/repos/RokLenarcic/zookeeper/commits/fd874d55813bf08617fd955258e3221b33a42ba3""}"
1600,Referenced,2022-09-03 13:14:42,RokLenarcic,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7317065488"", ""commit_url"": ""https://api.github.com/repos/RokLenarcic/zookeeper/commits/6b868a7c83534375254b754d556cb6836fdd4051""}"
1600,Referenced,2022-09-29 09:40:55,RokLenarcic,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7485043710"", ""commit_url"": ""https://api.github.com/repos/RokLenarcic/zookeeper/commits/b62bd97fa2b620c65e8dd3093ce4e25f8b4b15b0""}"
1600,Referenced,2022-11-02 06:15:36,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7719864703"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/77edf502735dd4dd64baadabf63c9176b4af6779""}"
1600,CrossReferenced,2022-11-02 06:15:36,anuragmadnawat1,fork_close,ZOOKEEPER-4207: Remove extra checkout from Jenkinsfile,"{""reference"": {""url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/issues/101"", ""is_pull_request"": true}}"
1600,Referenced,2022-11-02 06:29:57,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7719936199"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/7b057f0c37dee74aa24776a7204fc47623bd9661""}"
1601,SubmitCommit,2021-02-07 17:53:56,brentwritescode,fork_close,Update BasicDataEncryptionManager to handle null node data.,"{""sha"": ""d20c45d1fe105c135daf74c6b1fa244b5ea1cf57"", ""author"": {""name"": ""brentwritescode"", ""email"": ""brentwritescode@gmail.com"", ""date"": ""2021-02-07T17:53:56Z""}, ""committer"": {""name"": ""brentwritescode"", ""email"": ""brentwritescode@gmail.com"", ""date"": ""2021-02-07T17:53:56Z""}}"
1601,OpenPR,2021-02-10 01:03:14,brentwritescode,fork_close,,
1601,ReviewApproved,2021-02-17 10:39:06,ztzg,fork_close,"LGTM.

(The change, I mean—because I don't like these `new String(...)` expressions without proper encoding specification.  Not introduced by @brentwritescode, of course, and I guess this one *kinda-but-not-really* makes sense as it is part of an UI.)

@eolivelli, PTAL.","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1601#pullrequestreview-592055167""}"
1601,IssueComment,2021-03-23 05:06:32,brentwritescode,fork_close,Quick ping:  anything further I can do to help get this merged?  Thank you!,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/804619974"", ""author_association"": ""CONTRIBUTOR""}"
1601,ReviewApproved,2021-03-23 05:15:49,arshadmohammad,fork_close,,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1601#pullrequestreview-618211606""}"
1601,IssueComment,2021-03-23 05:16:57,arshadmohammad,fork_close,"Nothing more to be done, after 3.7.0 release I will merge it :-)","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/804623635"", ""author_association"": ""CONTRIBUTOR""}"
1601,ClosePR,2021-03-27 17:59:37,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4517307970"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/4edbbea5566925390b32702a97c17f7a76e32de5""}"
1601,Referenced,2021-03-27 17:59:57,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4517308334"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/166a01045d9e3abbe8a0fd2310f05b17f61d8b3e""}"
1601,Referenced,2021-03-27 18:00:47,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4517309331"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/e19926a51c5d30ea8f034c5d1a377ff0ac53ad9c""}"
1601,Referenced,2022-11-02 09:27:18,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7721377220"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/90f114543b8eee903656f0657fbecb554dfd5c7d""}"
1601,CrossReferenced,2022-11-02 09:27:18,anuragmadnawat1,fork_close,ZOOKEEPER-4194: ZooInspector throws NullPointerExceptions to console when node data is null This is a very minor fix to a NullPointerException present in the ZooInspector utility which prevents a NullPointerException getting thrown when ZooInspector inspects an empty node.,"{""reference"": {""url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/issues/126"", ""is_pull_request"": true}}"
1601,Referenced,2022-11-02 09:28:45,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7721390181"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/8857c6216818ddd75027864781224ddcbf6fffbf""}"
1602,OpenPR,2021-02-12 23:21:01,smikes,fork_close,,
1602,IssueComment,2021-02-12 23:22:57,smikes,fork_close,"Additional notes:
 - developed against 3.4 and adapted to 3.6
 - allows earlier discovery of connection loss","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/778509829"", ""author_association"": ""CONTRIBUTOR""}"
1602,IssueComment,2021-02-12 23:48:15,smikes,fork_close,"Failure in PR-build:
```
[2021-02-12T23:45:10.488Z] [ERROR] Errors: 
[2021-02-12T23:45:10.488Z] [ERROR]   ReadOnlyModeTest.testConnectionEvents:205 » Timeout Failed to connect in read-...
[2021-02-12T23:45:10.488Z] [INFO] 
[2021-02-12T23:45:10.488Z] [ERROR] Tests run: 2901, Failures: 0, Errors: 1, Skipped: 4
```

I will try to reproduce the failure locally.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/778516841"", ""author_association"": ""CONTRIBUTOR""}"
1602,IssueComment,2021-02-15 12:18:26,maoling,fork_close,"@smikes 
- Thanks for this contribution. It's better to create a [JIRA](https://issues.apache.org/jira/projects/ZOOKEEPER/) issue (sign up JIRA if you don't have an account) 
to bind this PR to a JIRA-ID. ZooKeeper uses the GitHub workflow. The contributor guideline is [here](https://cwiki.apache.org/confluence/display/ZOOKEEPER/HowToContribute)
- The CI failure may be not your fault and you can ignore it:)

","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/779186147"", ""author_association"": ""MEMBER""}"
1602,IssueComment,2021-02-15 14:52:19,smikes,fork_close,Thanks. I created https://issues.apache.org/jira/browse/ZOOKEEPER-4210,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/779271425"", ""author_association"": ""CONTRIBUTOR""}"
1602,RenameTitle,2021-02-16 04:45:50,maoling,fork_close,,"{""rename"": {""from"": ""Preserve return code from nonblocking send"", ""to"": ""ZOOKEEPER-4210: Preserve return code from nonblocking send""}, ""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4334295118""}"
1602,IssueComment,2021-02-16 04:46:41,maoling,fork_close,Ping @ztzg @eolivelli @anmolnar  :),"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/779578202"", ""author_association"": ""MEMBER""}"
1602,IssueComment,2021-02-16 18:16:29,smikes,fork_close,"Confirmed that `ReadOnlyModeTest` passes locally, so if this is known to be flaky/slow under load, then I'm fine.
","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/780025114"", ""author_association"": ""CONTRIBUTOR""}"
1602,IssueComment,2021-02-16 20:48:36,smikes,fork_close,"Running the build on branch-3.6 I see some unit tests failing, both with this change and without","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/780108485"", ""author_association"": ""CONTRIBUTOR""}"
1602,ReviewRejected,2021-02-17 09:48:26,ztzg,fork_close,"Hi @smikes,

Looks good, in general.  Thank you!

But…

This is technically an API & ABI break, as it is widening the range of error codes returned by API functions.  As such, I would recommend *not* including it in upcoming 3.6 releases.  (I would be okay with 3.7+ as 1/ C only uses integer codes, which most programs don't interpret and 2/ we are not on the ""semantic versioning"" train.  @eolivelli, WDYT?)

In any case, we usually take PRs against `master` and backport to the relevant branches; would you mind doing that?

I have also left a couple of comments on the diff, one of which is actionable.

Finally, there is the question of documenting the change in `zookeeper.h`; the comment on e.g. `zoo_aset` is now outdated and should probably be rephrased:

```c
/* [...]
 * \return ZOK on success or one of the following errcodes on failure:
 * ZBADARGUMENTS - invalid input parameters
 * ZINVALIDSTATE - zhandle state is either ZOO_SESSION_EXPIRED_STATE or ZOO_AUTH_FAILED_STATE
 * ZMARSHALLINGERROR - failed to marshall a request; possibly, out of memory
 */
ZOOAPI int zoo_aset(zhandle_t *zh, const char *path, const char *buffer, int buflen,
        int version, stat_completion_t completion, const void *data);
```

Would you agree?

Cheers, -D

P.-S. — You commented:

> Running the build on branch-3.6 I see some unit tests failing, both with this change and without

Right; we have some stability issues with the current test suite.  Passing `-Dsurefire-forkcount=1` helps with Java tests, at the cost of a looong runtime.  Something we have to fix ASAP, but please ignore CI failures which don't seem relevant in the meantime, as @maoling suggested.","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1602#pullrequestreview-591991498""}"
1602,IssueComment,2021-02-17 18:55:23,smikes,fork_close,"Sounds good, will take a look. Internally we have 3.4 and 3.6 branches active so I developed against that, I will rebase this against the main branch as you suggest","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/780774963"", ""author_association"": ""CONTRIBUTOR""}"
1602,ClosePR,2021-02-17 18:57:45,smikes,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4343028003"", ""commit_url"": null}"
1602,ReopenPR,2021-02-17 20:20:20,smikes,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4343370582"", ""commit_url"": null}"
1602,BaseRefChanged,2021-02-17 20:34:19,smikes,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4343428125"", ""commit_url"": null}"
1602,IssueComment,2021-02-18 00:48:41,smikes,fork_close,"Summary of current changes:

* bc5c997
A revised version of the original change.  This now *DOES NOT* change the ABI -- it does not modify the return values that come from the `zoo_a*` functions.
Also, the action on ZCONNECTIONLOSS is more conservative.  Now, a connection loss that is detected during an opportunistic nonblocking send will be treated as a normal connection loss, not an error.  The pending send buffers will not be cleared, and completions/watchers will be preserved at least until the next `zookeeper_interest` call.

* 9c0cd16
Addresses the comment above, that `handle_socket_error_msg` reports the caller's line but not the caller's function name.  Not needed to address ZOOKEEPER-4210, so I would be happy to split it into a different PR.  Please advise.

* e20bf70
In addition to changing the behavior when connection loss is detected, also allow the return code ZCONNECTIONLOSS to propagate upward to the `zoo_a*` functions.  Add documentation in `zookeeper.h` for the new return codes.
Note: included for completeness, but I now think this is probably a bad idea, because there is nothing the consumer of the `zookeeper.c` API can do with the new information (about connection loss during async send).  

","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/780952654"", ""author_association"": ""CONTRIBUTOR""}"
1602,ReviewRequested,2021-02-18 00:51:22,smikes,fork_close,,"{""requested_reviewer"": {""login"": ""ztzg"", ""id"": 393108, ""node_id"": ""MDQ6VXNlcjM5MzEwOA=="", ""avatar_url"": ""https://avatars.githubusercontent.com/u/393108?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/ztzg"", ""html_url"": ""https://github.com/ztzg"", ""followers_url"": ""https://api.github.com/users/ztzg/followers"", ""following_url"": ""https://api.github.com/users/ztzg/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/ztzg/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/ztzg/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/ztzg/subscriptions"", ""organizations_url"": ""https://api.github.com/users/ztzg/orgs"", ""repos_url"": ""https://api.github.com/users/ztzg/repos"", ""events_url"": ""https://api.github.com/users/ztzg/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/ztzg/received_events"", ""type"": ""User"", ""site_admin"": false}, ""requested_team"": null}"
1602,IssueComment,2021-02-18 00:53:48,smikes,fork_close,"Separately: I was seeing the `zktest_mt` and `zktest_st` cppunit test suites fail, because of my change to the ABI, so I am hoping this will now build cleanly.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/780954496"", ""author_association"": ""CONTRIBUTOR""}"
1602,IssueComment,2021-02-19 20:50:34,ztzg,fork_close,"@smikes: Still planning to have a look at this, and https://github.com/apache/zookeeper/pull/1609, ASAP.  Thank you for all that work so far!","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/782339189"", ""author_association"": ""CONTRIBUTOR""}"
1602,ReviewApproved,2021-02-21 19:43:01,ztzg,fork_close,"LGTM!

@eolivelli, @anmolnar, @symat: PTAL.","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1602#pullrequestreview-594873560""}"
1602,IssueComment,2021-02-21 19:48:03,ztzg,fork_close,"> Summary of current changes:
> 
> * [bc5c997](https://github.com/apache/zookeeper/commit/bc5c9975c08aa98748319ff1cd5c60b5602cba7d)
>   A revised version of the original change.  This now _DOES NOT_ change the ABI -- it does not modify the return values that come from the `zoo_a*` functions.
>   Also, the action on ZCONNECTIONLOSS is more conservative.  Now, a connection loss that is detected during an opportunistic nonblocking send will be treated as a normal connection loss, not an error.  The pending send buffers will not be cleared, and completions/watchers will be preserved at least until the next `zookeeper_interest` call.

This is this PR.  LGTM.

> * [9c0cd16](https://github.com/apache/zookeeper/commit/9c0cd1652a41269ce54120bb6656fcdd219063f7)
>   Addresses the comment above, that `handle_socket_error_msg` reports the caller's line but not the caller's function name.  Not needed to address ZOOKEEPER-4210, so I would be happy to split it into a different PR.  Please advise.

Now https://github.com/apache/zookeeper/pull/1609 and [ZOOKEEPER-4217](https://issues.apache.org/jira/browse/ZOOKEEPER-4217).  Thank you for splitting it.

I note that the PR currently is in ""draft"" state.  Do you have specific improvements in mind?

> * [e20bf70](https://github.com/apache/zookeeper/commit/e20bf7015ed6f28d41d488e478ec308f627fb8a7)
>   In addition to changing the behavior when connection loss is detected, also allow the return code ZCONNECTIONLOSS to propagate upward to the `zoo_a*` functions.  Add documentation in `zookeeper.h` for the new return codes.
>   Note: included for completeness, but I now think this is probably a bad idea, because there is nothing the consumer of the `zookeeper.c` API can do with the new information (about connection loss during async send).

Agree.  (But thank you for preparing the commit anyway!)

","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/782914541"", ""author_association"": ""CONTRIBUTOR""}"
1602,IssueComment,2021-02-21 22:39:24,smikes,fork_close,"> > Summary of current changes:
> > 
> > * [bc5c997](https://github.com/apache/zookeeper/commit/bc5c9975c08aa98748319ff1cd5c60b5602cba7d)
> >   A revised version of the original change.  This now _DOES NOT_ change the ABI -- it does not modify the return values that come from the `zoo_a*` functions.
> 
> This is this PR. LGTM.

Cool! I am happy to take more feedback on this, or it can be merged.

> > * [9c0cd16](https://github.com/apache/zookeeper/commit/9c0cd1652a41269ce54120bb6656fcdd219063f7)
> >   Addresses the comment above, that `handle_socket_error_msg` reports the caller's line but not the caller's function name.  Not needed to address ZOOKEEPER-4210, so I would be happy to split it into a different PR.  Please advise.
> 
> Now #1609 and [ZOOKEEPER-4217](https://issues.apache.org/jira/browse/ZOOKEEPER-4217). Thank you for splitting it.
> 
> I note that the PR currently is in ""draft"" state. Do you have specific improvements in mind?

No. Today I removed the ""draft"" status.

After this, I will make some documentation updates to the C client dev notes.
","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/782940825"", ""author_association"": ""CONTRIBUTOR""}"
1602,ReviewRejected,2021-02-22 08:51:25,eolivelli,fork_close,"Overall looks good to me, 
but I left one question","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1602#pullrequestreview-595121141""}"
1602,ReviewRequested,2021-02-23 15:01:05,smikes,fork_close,,"{""requested_reviewer"": {""login"": ""eolivelli"", ""id"": 9469110, ""node_id"": ""MDQ6VXNlcjk0NjkxMTA="", ""avatar_url"": ""https://avatars.githubusercontent.com/u/9469110?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/eolivelli"", ""html_url"": ""https://github.com/eolivelli"", ""followers_url"": ""https://api.github.com/users/eolivelli/followers"", ""following_url"": ""https://api.github.com/users/eolivelli/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/eolivelli/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/eolivelli/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/eolivelli/subscriptions"", ""organizations_url"": ""https://api.github.com/users/eolivelli/orgs"", ""repos_url"": ""https://api.github.com/users/eolivelli/repos"", ""events_url"": ""https://api.github.com/users/eolivelli/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/eolivelli/received_events"", ""type"": ""User"", ""site_admin"": false}, ""requested_team"": null}"
1602,ReviewRejected,2021-02-23 15:34:40,eolivelli,fork_close,,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1602#pullrequestreview-596471158""}"
1602,ReviewRequested,2021-02-24 00:19:59,smikes,fork_close,,"{""requested_reviewer"": {""login"": ""eolivelli"", ""id"": 9469110, ""node_id"": ""MDQ6VXNlcjk0NjkxMTA="", ""avatar_url"": ""https://avatars.githubusercontent.com/u/9469110?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/eolivelli"", ""html_url"": ""https://github.com/eolivelli"", ""followers_url"": ""https://api.github.com/users/eolivelli/followers"", ""following_url"": ""https://api.github.com/users/eolivelli/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/eolivelli/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/eolivelli/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/eolivelli/subscriptions"", ""organizations_url"": ""https://api.github.com/users/eolivelli/orgs"", ""repos_url"": ""https://api.github.com/users/eolivelli/repos"", ""events_url"": ""https://api.github.com/users/eolivelli/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/eolivelli/received_events"", ""type"": ""User"", ""site_admin"": false}, ""requested_team"": null}"
1602,ReviewRejected,2021-02-25 09:51:24,ztzg,fork_close,,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1602#pullrequestreview-598379804""}"
1602,ReviewRequested,2021-02-26 23:25:00,smikes,fork_close,,"{""requested_reviewer"": {""login"": ""ztzg"", ""id"": 393108, ""node_id"": ""MDQ6VXNlcjM5MzEwOA=="", ""avatar_url"": ""https://avatars.githubusercontent.com/u/393108?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/ztzg"", ""html_url"": ""https://github.com/ztzg"", ""followers_url"": ""https://api.github.com/users/ztzg/followers"", ""following_url"": ""https://api.github.com/users/ztzg/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/ztzg/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/ztzg/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/ztzg/subscriptions"", ""organizations_url"": ""https://api.github.com/users/ztzg/orgs"", ""repos_url"": ""https://api.github.com/users/ztzg/repos"", ""events_url"": ""https://api.github.com/users/ztzg/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/ztzg/received_events"", ""type"": ""User"", ""site_admin"": false}, ""requested_team"": null}"
1602,Revise,2021-02-26 23:27:31,smikes,fork_close,"Handle error in nonblocking send

In a nonblocking send, we may be notified that the
connection was lost.  Currently this is not handled because
the return value of flush_send_queue() is ignored.

This change DOES NOT change the ABI or the return
codes that are returned by zoo_a* async functions.

This change DOES close the file descriptor and
change zh->state to reflect that the connection was lost.

Reorganized to minimize the change in behavior. Always
call adaptor_send_queue() even if there was a marshalling
error. Use `fd == -1` as test for whether to call close_zsock()","{""sha"": ""037a4f8845966a96d45e38baca9853050c4acc8e"", ""author"": {""name"": ""Sam Mikes"", ""email"": ""smikes@apple.com"", ""date"": ""2021-02-12T18:24:19Z""}, ""committer"": {""name"": ""Sam Mikes"", ""email"": ""smikes@apple.com"", ""date"": ""2021-02-26T23:27:31Z""}}"
1602,ReviewApproved,2021-03-07 09:46:06,ztzg,fork_close,LGTM; thanks!,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1602#pullrequestreview-605827414""}"
1602,ClosePR,2021-03-09 20:30:18,ztzg,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4431186809"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/1944f77aab458c79de0aee91c766b3c04c0d6417""}"
1602,IssueCommentSupplement,2021-03-09 20:31:33,ztzg,fork_close,"This is now in `master`.  Thank you for the contribution, and for your patience, @smikes!","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/794416188"", ""author_association"": ""CONTRIBUTOR""}"
1602,Referenced,2022-08-31 20:39:59,RokLenarcic,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7299581045"", ""commit_url"": ""https://api.github.com/repos/RokLenarcic/zookeeper/commits/5d21c711081a0fcf131233a1539da281c4fbd4ea""}"
1602,Referenced,2022-08-31 20:50:07,RokLenarcic,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7299638003"", ""commit_url"": ""https://api.github.com/repos/RokLenarcic/zookeeper/commits/5e264ca57baeedece3bec8cf629f0516c88c0736""}"
1602,Referenced,2022-08-31 20:53:39,RokLenarcic,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7299657899"", ""commit_url"": ""https://api.github.com/repos/RokLenarcic/zookeeper/commits/35c3832cb3a9a05f0b4e70fc0be74a9db5bede73""}"
1602,Referenced,2022-09-03 13:14:43,RokLenarcic,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7317065527"", ""commit_url"": ""https://api.github.com/repos/RokLenarcic/zookeeper/commits/fac4ca5b8a24eb5626eceaefcb0eba60003ef1ca""}"
1602,Referenced,2022-09-29 09:40:57,RokLenarcic,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7485043887"", ""commit_url"": ""https://api.github.com/repos/RokLenarcic/zookeeper/commits/fcc4547dde506f34d219bcd68753329f6dbfc8dd""}"
1602,Referenced,2022-11-02 08:27:16,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7720753746"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/1a0e8a8c136b26cf00cdc016a8dd134dee40570f""}"
1602,CrossReferenced,2022-11-02 08:27:16,anuragmadnawat1,fork_close,ZOOKEEPER-4210: Preserve return code from nonblocking send,"{""reference"": {""url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/issues/116"", ""is_pull_request"": true}}"
1602,Referenced,2022-11-02 08:41:34,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7720861992"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/d12fd2cdc8285d63189a981499257f4a8436cd58""}"
1603,SubmitCommit,2020-11-26 14:33:54,nkalmar,fork_close,Preparing for release 3.5.9,"{""sha"": ""713b41b4b3358a75da802f4b0f982a65b8213f2a"", ""author"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@apache.org"", ""date"": ""2020-11-26T14:33:54Z""}, ""committer"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@apache.org"", ""date"": ""2020-11-26T14:33:54Z""}}"
1603,SubmitCommit,2021-01-06 16:16:32,ztzg,fork_close,"ZOOKEEPER-4023: dependency-check:check failing - Jetty 9.4.34.v20201102 - CVE-2020-27218

Bump jetty.version to 9.4.35.v20201120.

The [release notes](https://github.com/eclipse/jetty.project/releases/tag/jetty-9.4.35.v20201120)
mention [issues 5605](https://github.com/eclipse/jetty.project/issues/5605):

> java.io.IOException: unconsumed input during http request parsing

which seems to match the description of
[CVE-2020-27218](http://cve.circl.lu/cve/CVE-2020-27218)

Author: Damien Diederen <dd@crosstwine.com>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Norbert Kalmar <nkalmar@apache.org>

Closes #1554 from ztzg/jetty-upgrade-CVE-2020-27218-branch-3.5

(cherry picked from commit eb348a1e242397030147720eaeace4c75f25fc92)","{""sha"": ""d2f60edd43fa236ae7c7467e173d7f29062e8340"", ""author"": {""name"": ""Damien Diederen"", ""email"": ""ddiederen@apache.org"", ""date"": ""2020-12-24T14:43:44Z""}, ""committer"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@apache.org"", ""date"": ""2021-01-06T16:16:32Z""}}"
1603,SubmitCommit,2021-01-06 16:26:38,nkalmar,fork_close,Preparing for release 3.5.9,"{""sha"": ""78501764b05cb1953c1a701af30629ee6eae148a"", ""author"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@apache.org"", ""date"": ""2021-01-06T16:26:38Z""}, ""committer"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@apache.org"", ""date"": ""2021-01-06T16:26:38Z""}}"
1603,SubmitCommit,2021-01-06 18:57:38,Edwin Hobor,fork_close,"ZOOKEEPER-4045: CVE-2020-25649 - Upgrade jackson databind to 2.10.5.1

Jackson reported a vulnerability under CVE-2020-25649. Upgrading to 2.10.5.1 will resolve the problem. See https://github.com/FasterXML/jackson/wiki/Jackson-Release-2.10#micro-patches for more details.

Author: Edwin Hobor <edwin.hobor@microfocus.com>

Reviewers: Mate Szalay-Beko <symat@apache.org>, Norbert Kalmar <nkalmar@apache.org>

Closes #1572 from edwin092/ZOOKEEPER-4045

(cherry picked from commit 676d10b2fad97c69e4083619cb1db223ed1896a4)
Signed-off-by: Norbert Kalmar <nkalmar@apache.org>
(cherry picked from commit 29315f85d9c9c9857da00eb868af27bc082d398d)","{""sha"": ""5ea966ab6a7b8e63b78a9d04c6504e15d081334c"", ""author"": {""name"": ""Edwin Hobor"", ""email"": ""edwin.hobor@microfocus.com"", ""date"": ""2021-01-06T18:50:08Z""}, ""committer"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@apache.org"", ""date"": ""2021-01-06T18:57:38Z""}}"
1603,SubmitCommit,2021-01-06 19:46:31,nkalmar,fork_close,Preparing for release 3.5.9,"{""sha"": ""83df9301aa5c2a5d284a9940177808c01bc35cef"", ""author"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@apache.org"", ""date"": ""2021-01-06T19:46:31Z""}, ""committer"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@apache.org"", ""date"": ""2021-01-06T19:46:31Z""}}"
1603,SubmitCommit,2021-02-14 19:24:19,frederiko,fork_close,ZOOKEEPER-4209: Upgrade Netty to 4.1.53.Final,"{""sha"": ""477ae606f58d5780b87c5d1b47a0d364100dc48c"", ""author"": {""name"": ""Frederiko Costa"", ""email"": ""frederiko@gmail.com"", ""date"": ""2021-02-14T19:24:19Z""}, ""committer"": {""name"": ""Frederiko Costa"", ""email"": ""frederiko@gmail.com"", ""date"": ""2021-02-14T19:24:19Z""}}"
1603,OpenPR,2021-02-14 19:38:26,frederiko,fork_close,,
1603,ClosePR,2021-02-14 19:42:29,frederiko,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4329052239"", ""commit_url"": null}"
1603,DeleteBranch,2021-02-14 19:42:42,frederiko,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4329052399"", ""commit_url"": null}"
1604,SubmitCommit,2021-02-14 20:16:24,frederiko,fork_close,ZOOKEEPER-4209: Update Netty to 4.1.53.Final,"{""sha"": ""7c41c72b840433ca3a5157d461c86c2d76fc40b9"", ""author"": {""name"": ""Frederiko Costa"", ""email"": ""frederiko@gmail.com"", ""date"": ""2021-02-14T20:16:24Z""}, ""committer"": {""name"": ""Frederiko Costa"", ""email"": ""frederiko@gmail.com"", ""date"": ""2021-02-14T20:16:24Z""}}"
1604,OpenPR,2021-02-14 20:17:42,frederiko,fork_close,,
1604,IssueComment,2021-02-15 13:12:44,maoling,fork_close,"@frederiko 
- I saw that the current latest version is [4.1.59.Final](https://mvnrepository.com/artifact/io.netty/netty-all), Why not choose this one ?
- I observe the master also has that vulnerability, we can upgrade master firstly, then apply to `branch-3.6` and `branch-3.5` at the convenience
- The vulnerability only affects the `netty-codec-http` component and ZooKeeper doesn't use that component?","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/779215305"", ""author_association"": ""MEMBER""}"
1604,IssueComment,2021-02-15 23:03:06,frederiko,fork_close,"@maoling 
* Good question. I don't see anything that could have prevented to be upgraded to 4.1.59.Final. Just tried to prevent any issues and address the issue at hand. In fact, I will change to the latest.
* Yes, that can be done. ~~However, for whatever reason `mvn verify` was breaking on my machine~~. Realized that maven was not too happy with openjdk version I had. Using zulu 11 has helped.
* I don't think zookeeper uses that at all. My goal here is to have vulnerability scanning tools to get this one out of the way.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/779484849"", ""author_association"": ""CONTRIBUTOR""}"
1604,IssueComment,2021-02-16 01:52:08,frederiko,fork_close,@maoling I have opened a new PR to address the issues above. #1605. ,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/779531371"", ""author_association"": ""CONTRIBUTOR""}"
1604,IssueCommentSupplement,2021-02-16 17:46:51,frederiko,fork_close,Closed in favor of #1605 ,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/780007121"", ""author_association"": ""CONTRIBUTOR""}"
1604,ClosePR,2021-02-16 17:46:51,frederiko,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4337497090"", ""commit_url"": null}"
1604,DeleteBranch,2021-02-16 17:47:10,frederiko,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4337498475"", ""commit_url"": null}"
1605,OpenPR,2021-02-15 23:17:54,frederiko,fork_close,,
1605,CrossReferenced,2021-02-16 01:52:08,frederiko,fork_close,ZOOKEEPER-4209: Update Netty to 4.1.53.Final,"{""reference"": {""url"": ""https://api.github.com/repos/apache/zookeeper/issues/1604"", ""is_pull_request"": true}}"
1605,IssueComment,2021-02-16 17:41:25,frederiko,fork_close,"I realized this GH Action has been failing for most PR at different tests (I had these tests failing at different tests), which seems an indication of environment issue. How is this approached since the Jenkins job passes correctly?","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/780003787"", ""author_association"": ""CONTRIBUTOR""}"
1605,ReviewRejected,2021-02-17 10:28:05,ztzg,fork_close,"Thank you.

Would you mind also renaming the relevant `*.LICENSE.txt` files in the `zookeeper-server/src/main/resources/lib` directory?  (This is annoying, and we should probably get rid of it.  But let's keep things aligned for  now.)

> I realized this GH Action has been failing for most PR at different tests (I had these tests failing at different tests), which seems an indication of environment issue. How is this approached since the Jenkins job passes correctly?

This should soon be fix^H^H^H worked around: https://github.com/apache/zookeeper/pull/1606.

Best, -D","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1605#pullrequestreview-592045835""}"
1605,Revise,2021-02-17 15:17:51,frederiko,fork_close,ZOOKEEPER-4209: Update Netty to 4.1.59.Final,"{""sha"": ""b2849d3f09de71edead483f803c5f9d9985adc9c"", ""author"": {""name"": ""Frederiko Costa"", ""email"": ""frederiko@gmail.com"", ""date"": ""2021-02-15T23:16:42Z""}, ""committer"": {""name"": ""Frederiko Costa"", ""email"": ""frederiko@gmail.com"", ""date"": ""2021-02-17T15:17:51Z""}}"
1605,IssueComment,2021-02-17 15:20:28,frederiko,fork_close,"@ztzg Thanks for the feedback. I have made the changes. Wasn't aware of these license files. 
Yeah, I also noticed #1606 yesterday.

Cheers ;-)","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/780628693"", ""author_association"": ""CONTRIBUTOR""}"
1605,ReviewApproved,2021-02-17 15:57:15,eolivelli,fork_close,LGTM,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1605#pullrequestreview-592351553""}"
1605,ReviewApproved,2021-02-17 16:58:04,ztzg,fork_close,Thanks; LGTM!,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1605#pullrequestreview-592416736""}"
1605,ClosePR,2021-02-17 17:24:43,ztzg,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4342621479"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/884fc38db166617e03d03f793ef917febcc131be""}"
1605,Referenced,2021-02-17 17:25:14,ztzg,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4342624584"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/a99ec370c3d10f9f1913f0cb2949413afcb05d9b""}"
1605,Referenced,2021-02-17 17:25:48,ztzg,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4342627247"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/517cb46328b2f0855edda808d687dad77244bc5f""}"
1605,Referenced,2021-02-17 17:30:03,ztzg,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4342646892"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/2a475fe5571b400df4a4d44d49e7db15fef26cac""}"
1605,Referenced,2021-02-17 17:32:10,ztzg,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4342656480"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/7053884432391afe929ab2310c07b1f7ac4fac73""}"
1605,IssueCommentSupplement,2021-02-17 17:36:10,ztzg,fork_close,"Picked into `branch-3.5`, `branch-3.6`, `branch-3.7`, `branch-3.7.0`, and `master`.  Thank you, @frederiko!","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/780725091"", ""author_association"": ""CONTRIBUTOR""}"
1605,IssueCommentSupplement,2021-02-17 18:26:34,frederiko,fork_close,"Many thanks! Lifesaver to me. Hope to contribute more soon. Quick question: what's the next step to get a new release (3.5.10?, 3.6.3?) - sorry, couldn't find the process ?  ","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/780756611"", ""author_association"": ""CONTRIBUTOR""}"
1605,IssueCommentSupplement,2021-02-17 19:23:43,eolivelli,fork_close,"@ztzg in order to pick this to branch-3.5 we have to add a new patch because in branch-3.5 we also have Ant/Ivy XML files to update 

@frederiko would you mind creating a second PR for branch-3.5 with the update of the Ivi dependency files ?
","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/780793136"", ""author_association"": ""CONTRIBUTOR""}"
1605,CrossReferenced,2021-02-17 22:05:12,frederiko,fork_close,ZOOKEEPER-4214: Update Netty to 4.1.59.Final on Ivy build for 3.5 branch,"{""reference"": {""url"": ""https://api.github.com/repos/apache/zookeeper/issues/1607"", ""is_pull_request"": true}}"
1605,IssueCommentSupplement,2021-02-17 22:06:45,frederiko,fork_close,Sure thing. I believe I have addressed on #1607 @eolivelli ,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/780885984"", ""author_association"": ""CONTRIBUTOR""}"
1605,IssueCommentSupplement,2021-02-18 08:21:17,ztzg,fork_close,"@eolivelli: Oops; sorry about that.
@frederiko: Thanks!","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/781144767"", ""author_association"": ""CONTRIBUTOR""}"
1605,IssueCommentSupplement,2021-02-18 08:56:51,ztzg,fork_close,"> Many thanks! Lifesaver to me. Hope to contribute more soon. Quick question: what's the next step to get a new release (3.5.10?, 3.6.3?) - sorry, couldn't find the process ?

@frederiko: I'm not aware of any process for triggering new releases, besides perhaps asking on the `dev@` mailing list.  We had one on the 3.5 branch fairly recently, so it may not be easy to find volunteers.  (I, for one, am desperately trying to get 3.7 out—and cannot promise anything before that happens.)

SNYK-JAVA-IONETTY-1020439 is described as a ""Denial of Service"" attack, and ZooKeeper is usually not exposed.  So is this upgrade a ""Lifesaver"" because you have to comply with some ""zero vulnerabilities"" policy, or because you actually expect issues?

Building ZooKeeper from Git is not very difficult, so that may be a temporary option?

(In some contexts, we deploy self-built ZooKeeper instances as we still need a few patches applied on top of the branch(es)—meaning we automatically get the latest CVE fixes.  In other contexts, we are trying to deploy pure releases, and are going to hit the same issue.  As far as I can tell, the Maven model is kinda ""anti-dependency-injection,"" so the only option seems to be  accelerating the release cadence.  A lot of work has been made to facilitate that, but I'm afraid, the project doesn't have a good answer for the manual work which is still needed.)

@eolivelli: Am I missing something?","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/781189384"", ""author_association"": ""CONTRIBUTOR""}"
1605,IssueCommentSupplement,2021-02-18 09:59:52,eolivelli,fork_close,"You can only ask for a release on dev@zookeeper.apache.org.

As said we released 3.5.9 last month...and this issue does not affect Zookeeper. So I am not sure we are really in an hurry.

On the client side you can override the dependency.

Btw, you can always ask and describe your needs. Then together as a community we will decide what to do","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/781227714"", ""author_association"": ""CONTRIBUTOR""}"
1605,IssueCommentSupplement,2021-02-18 19:59:27,frederiko,fork_close,"@ztzg Yeah, this update is to reach zero vulnerability policy. ""lifesaver"" was a bad wording choice here. ;-) I don't really expect any issues. In regards to building, I was unaware of the release cadence, hence the question, and yes, I can try building myself and go from there, no need to raise the question to devs.
 
@eolivelli Understood. I will certainly take any concerns to the community. In any case, I truly appreciate the speed which the PRs have been approved. ","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/781599685"", ""author_association"": ""CONTRIBUTOR""}"
1605,IssueCommentSupplement,2021-02-18 21:21:56,ztzg,fork_close,"> @ztzg Yeah, this update is to reach zero vulnerability policy. ""lifesaver"" was a bad wording choice here. ;-) I don't really expect any issues.

No problem; I was just wondering.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/781643124"", ""author_association"": ""CONTRIBUTOR""}"
1605,Referenced,2021-03-07 10:01:30,ztzg,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4417854747"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/15940b14da1bd51cac850db735b7e00c0d8b3e35""}"
1605,Referenced,2022-08-31 20:39:58,RokLenarcic,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7299580933"", ""commit_url"": ""https://api.github.com/repos/RokLenarcic/zookeeper/commits/8ff0eb1e035ff465340957235a6f71c506d92185""}"
1605,Referenced,2022-08-31 20:50:06,RokLenarcic,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7299637878"", ""commit_url"": ""https://api.github.com/repos/RokLenarcic/zookeeper/commits/fce618c5a444846d9d2bc1e9afded699984c56e3""}"
1605,Referenced,2022-08-31 20:53:38,RokLenarcic,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7299657821"", ""commit_url"": ""https://api.github.com/repos/RokLenarcic/zookeeper/commits/d1cd05a73081d2eab27a8d9ab98384a6c9a47569""}"
1605,Referenced,2022-09-03 13:14:42,RokLenarcic,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7317065491"", ""commit_url"": ""https://api.github.com/repos/RokLenarcic/zookeeper/commits/d777e33dcb893b5d5a48c141da1391e6976d035d""}"
1605,Referenced,2022-09-29 09:40:56,RokLenarcic,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7485043746"", ""commit_url"": ""https://api.github.com/repos/RokLenarcic/zookeeper/commits/0a25f4b5716a798d7afe2e31913bc902b894252b""}"
1605,Referenced,2022-11-02 06:44:20,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7720011243"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/0aeba6e1d31c99dc4eadd153d50eae7ef63ccf78""}"
1605,CrossReferenced,2022-11-02 06:44:21,anuragmadnawat1,fork_close,ZOOKEEPER-4209: Update Netty to 4.1.59.Final,"{""reference"": {""url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/issues/103"", ""is_pull_request"": true}}"
1605,Referenced,2022-11-02 06:58:34,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7720174287"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/8ccb18d14f2ce7b7d246f49f5cbe6e106872d5ad""}"
1606,OpenPR,2021-02-16 14:31:05,ctubbsii,fork_close,,
1606,Revise,2021-02-16 14:34:15,ctubbsii,fork_close,"ZOOKEEPER-3987: Reduce fork count for tests to 1

Increase test stability by avoiding test failures due to port
collisions by preventing tests from running concurrently in
the GitHub Actions CI builds.","{""sha"": ""bebe7148d69126126817e635923c4bc55ab175f9"", ""author"": {""name"": ""Christopher Tubbs"", ""email"": ""ctubbsii@apache.org"", ""date"": ""2021-02-16T14:34:15Z""}, ""committer"": {""name"": ""Christopher Tubbs"", ""email"": ""ctubbsii@apache.org"", ""date"": ""2021-02-16T14:34:15Z""}}"
1606,ReviewApproved,2021-02-16 15:03:04,eolivelli,fork_close,"LGTM
I am happy with this proposal as it is fixing the errors

@ztzg @anmolnar PTAL
I hope this can unblock 3.7 release","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1606#pullrequestreview-591312877""}"
1606,ReviewApproved,2021-02-17 10:21:45,ztzg,fork_close,"Approved.  (Not ""LGTM,"" because this is a crude workaround, but let's get moving :)

(Also: this is obviously not a criticism of @ctubbsii's help, which is very welcome.  Still planning to do some work on the root cause ASAP.)","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1606#pullrequestreview-592040286""}"
1606,CrossReferenced,2021-02-17 15:20:28,frederiko,fork_close,ZOOKEEPER-4209: Update Netty to 4.1.59.Final,"{""reference"": {""url"": ""https://api.github.com/repos/apache/zookeeper/issues/1605"", ""is_pull_request"": true}}"
1606,ClosePR,2021-02-17 17:12:51,ztzg,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4342563143"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/c26f96c089f20902a39cb0088e68a5b58e35c024""}"
1606,Referenced,2021-02-17 17:14:11,ztzg,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4342569850"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/5ae153c193781cf97a53499de85b0612caef49cf""}"
1606,Referenced,2021-02-17 17:14:33,ztzg,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4342571671"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/351deb81d79172a26ddf180777147584f3142a11""}"
1606,IssueCommentSupplement,2021-02-17 17:18:06,ztzg,fork_close,"Picked into `master`, `branch-3.7` and `branch-3.7.0`.  Thank you, @ctubbsii!  I also hope this is good enough for us to get 3.7 out!","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/780713058"", ""author_association"": ""CONTRIBUTOR""}"
1606,DeleteBranch,2021-02-17 21:00:36,ctubbsii,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4343524908"", ""commit_url"": null}"
1606,Referenced,2022-08-31 20:39:58,RokLenarcic,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7299580927"", ""commit_url"": ""https://api.github.com/repos/RokLenarcic/zookeeper/commits/ab435c96b55ea1d538037241844874b1c31b6d7d""}"
1606,Referenced,2022-08-31 20:50:06,RokLenarcic,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7299637867"", ""commit_url"": ""https://api.github.com/repos/RokLenarcic/zookeeper/commits/a92f6d54664d9ab5a726a8886227060eaadbed55""}"
1606,Referenced,2022-08-31 20:53:38,RokLenarcic,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7299657815"", ""commit_url"": ""https://api.github.com/repos/RokLenarcic/zookeeper/commits/14c684238a1989e74926d0ca977fe00a283c3e96""}"
1606,Referenced,2022-09-03 13:14:42,RokLenarcic,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7317065489"", ""commit_url"": ""https://api.github.com/repos/RokLenarcic/zookeeper/commits/16bf11e27469ebc490140b016ef244931239c4ec""}"
1606,Referenced,2022-09-29 09:40:56,RokLenarcic,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7485043734"", ""commit_url"": ""https://api.github.com/repos/RokLenarcic/zookeeper/commits/f73c3874c280cf4cb9705612b45d16bec9ccf4d5""}"
1606,Referenced,2022-11-02 06:29:59,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7719936414"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/93a21f33e002ad1fd7b3e6b0393ea8c255fc3e63""}"
1606,CrossReferenced,2022-11-02 06:29:59,anuragmadnawat1,fork_close,ZOOKEEPER-3987: Reduce fork count for tests to 1,"{""reference"": {""url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/issues/102"", ""is_pull_request"": true}}"
1606,Referenced,2022-11-02 06:44:19,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7720011124"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/0d4ad455f1672e69a1903c5c32700e5c8118084e""}"
1607,OpenPR,2021-02-17 22:05:12,frederiko,fork_close,,
1607,Revise,2021-02-17 22:05:25,frederiko,fork_close,ZOOKEEPER-4214: Update Netty to 4.1.59.Final on Ivy build for 3.5 Release,"{""sha"": ""ef6938d8a8e20f63268f3d38c2cebb51c9d885c4"", ""author"": {""name"": ""Frederiko Costa"", ""email"": ""frederiko.costa@workday.com"", ""date"": ""2021-02-17T22:02:58Z""}, ""committer"": {""name"": ""Frederiko Costa"", ""email"": ""frederiko.costa@workday.com"", ""date"": ""2021-02-17T22:05:25Z""}}"
1607,CrossReferenced,2021-02-17 22:06:45,frederiko,fork_close,ZOOKEEPER-4209: Update Netty to 4.1.59.Final,"{""reference"": {""url"": ""https://api.github.com/repos/apache/zookeeper/issues/1605"", ""is_pull_request"": true}}"
1607,ReviewApproved,2021-02-18 08:19:52,eolivelli,fork_close,"LGTM

@nkalmar @symat  PTAL

thank you @frederiko  !","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1607#pullrequestreview-592950342""}"
1607,ReviewApproved,2021-02-18 08:24:46,ztzg,fork_close,LGTM.  (I'll let @nkalmar and @symat have a final look.),"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1607#pullrequestreview-592954227""}"
1607,Revise,2021-02-18 22:22:43,frederiko,fork_close,Bump 3.5 branch Ant based build version,"{""sha"": ""28fde253fda39c3cd5a12b80cb39012901dd52f9"", ""author"": {""name"": ""Frederiko Costa"", ""email"": ""frederiko.costa@workday.com"", ""date"": ""2021-02-18T22:22:43Z""}, ""committer"": {""name"": ""Frederiko Costa"", ""email"": ""frederiko.costa@workday.com"", ""date"": ""2021-02-18T22:22:43Z""}}"
1607,Referenced,2021-03-07 10:01:30,ztzg,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4417854750"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/15940b14da1bd51cac850db735b7e00c0d8b3e35""}"
1607,IssueComment,2021-03-07 10:02:54,ztzg,fork_close,"Now in `branch-3.5`.  Thank you, @frederiko!","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/792249899"", ""author_association"": ""CONTRIBUTOR""}"
1607,ReviewApproved,2021-03-12 08:00:39,nkalmar,fork_close,"+1, merging","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1607#pullrequestreview-610529188""}"
1607,IssueComment,2021-03-12 08:23:01,nkalmar,fork_close,"for some reason merge script keeps failing on this PR, need to sort that out first.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/797320797"", ""author_association"": ""CONTRIBUTOR""}"
1607,IssueComment,2021-03-12 09:26:10,nkalmar,fork_close,"updated first PR comment as script takes it as commit message, and it had an invalid character","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/797359575"", ""author_association"": ""CONTRIBUTOR""}"
1607,IssueCommentSupplement,2021-03-12 20:14:48,ztzg,fork_close,"@nkalmar: Wait—I already merged this in `branch-3.5` on 2021-03-07, but the PR did not get closed for some reason.  Closing it manually now; please reopen if I missed something!","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/797729867"", ""author_association"": ""CONTRIBUTOR""}"
1607,ClosePR,2021-03-12 20:14:48,ztzg,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4452458896"", ""commit_url"": null}"
1608,SubmitCommit,2021-02-18 18:06:53,nemobis,fork_close,"ZOOKEEPER-2693: Correct the documentation about response to ""ruok"" 4lw

Since 5fe68506f, it's no longer true that the server will either respond
or not; now it can also respond that it won't obey, with the message that
the command ""is not executed because it is not in the whitelist"", unlike
what one gets if the command does not exist at all.

Author: Federico Leva <federico.leva@relexsolutions.com>","{""sha"": ""3908df3c634ea4e098b7630fd44450e1eefb84c3"", ""author"": {""name"": ""Federico Leva"", ""email"": ""federico.leva@relexsolutions.com"", ""date"": ""2021-02-18T18:03:43Z""}, ""committer"": {""name"": ""Federico Leva"", ""email"": ""federico.leva@relexsolutions.com"", ""date"": ""2021-02-18T18:06:53Z""}}"
1608,OpenPR,2021-02-18 18:13:53,nemobis,fork_close,,
1608,ReviewComment,2021-02-21 04:57:39,maoling,fork_close,,"{""author_association"": ""MEMBER"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1608#pullrequestreview-594806919""}"
1608,IssueComment,2021-02-21 08:28:21,nemobis,fork_close,"maoling, 21/02/21 06:57:
> How about this?

Yes that's nicer.
","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/782819753"", ""author_association"": ""NONE""}"
1608,Revise,2021-02-22 15:06:44,nemobis,fork_close,Rephrase ruok whitelist documentation per maoling,"{""sha"": ""1dd7609ad26d1fe7e4c8b78c5a1b1ea26729d1bd"", ""author"": {""name"": ""Federico Leva"", ""email"": ""federico.leva@relexsolutions.com"", ""date"": ""2021-02-22T15:05:27Z""}, ""committer"": {""name"": ""Federico Leva"", ""email"": ""federico.leva@relexsolutions.com"", ""date"": ""2021-02-22T15:06:44Z""}}"
1608,ReviewApproved,2021-02-27 10:47:22,maoling,fork_close,"+1. LGTM. Please be patient to wait for another vote, then we can merge it asap. 
Thanks for your contribution.

","{""author_association"": ""MEMBER"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1608#pullrequestreview-600131330""}"
1608,ReviewApproved,2021-02-27 12:20:42,eolivelli,fork_close,"Lgtm

@maoling can you please merge? Thanks","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1608#pullrequestreview-600138091""}"
1608,IssueComment,2021-03-02 12:01:17,maoling,fork_close,It's not 2021-05-10 yet:) @eolivelli  Could you please merge? Thanks!!!,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/788858756"", ""author_association"": ""MEMBER""}"
1608,ClosePR,2021-03-06 21:31:20,ztzg,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4417306711"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/f39caf6fd717acced2e8eb2bbdf98e92395858c5""}"
1608,IssueCommentSupplement,2021-03-06 21:36:00,ztzg,fork_close,"I have merged this in `master` to avoid waiting another couple of months :)  But @maoling, I think you should reconsider your position!

P.-S. — I noticed (too late) that the ticket # was not quite about this documentation topic, but I suppose it's close enough:

https://issues.apache.org/jira/browse/ZOOKEEPER-2693","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/792062083"", ""author_association"": ""CONTRIBUTOR""}"
1608,Referenced,2022-08-31 20:39:58,RokLenarcic,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7299581018"", ""commit_url"": ""https://api.github.com/repos/RokLenarcic/zookeeper/commits/556e845a37bcd2e8c2cbd98abefd4945254e0901""}"
1608,Referenced,2022-08-31 20:50:07,RokLenarcic,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7299637977"", ""commit_url"": ""https://api.github.com/repos/RokLenarcic/zookeeper/commits/c5b98e14460610d78c20a44655f145ceb67806e1""}"
1608,Referenced,2022-08-31 20:53:39,RokLenarcic,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7299657875"", ""commit_url"": ""https://api.github.com/repos/RokLenarcic/zookeeper/commits/b5fdd5adc39649792884255b76fe54f58cf5c0d5""}"
1608,Referenced,2022-09-03 13:14:43,RokLenarcic,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7317065516"", ""commit_url"": ""https://api.github.com/repos/RokLenarcic/zookeeper/commits/a93058309db43ec97330432d9424960ad5a5013e""}"
1608,Referenced,2022-09-29 09:40:56,RokLenarcic,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7485043842"", ""commit_url"": ""https://api.github.com/repos/RokLenarcic/zookeeper/commits/9c6773b06bdc9cbd3a04f332af9115f36ed3387d""}"
1608,CrossReferenced,2022-11-02 07:56:39,anuragmadnawat1,fork_close,"ZOOKEEPER-2693: Correct the documentation about response to ""ruok"" 4lw","{""reference"": {""url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/issues/113"", ""is_pull_request"": true}}"
1608,Referenced,2022-11-02 07:56:40,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7720531176"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/d475c892a33995af3841c65a85b670d70aad8387""}"
1608,Referenced,2022-11-02 07:57:56,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7720540137"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/11fb204cfb1ed747d7831ef777d0f8469a059696""}"
1609,SubmitCommit,2021-02-19 03:21:45,smikes,fork_close,"add new arg 'func' to handle_socket_error_msg()

Add argument `const char *func` typically initialized with __func__
to include current function name in log message.","{""sha"": ""eefae0ec72a8e1ea9d3726cc7694658ec2cea99a"", ""author"": {""name"": ""Sam Mikes"", ""email"": ""smikes@apple.com"", ""date"": ""2021-02-17T23:52:14Z""}, ""committer"": {""name"": ""smikes"", ""email"": ""smikes@cubane.com"", ""date"": ""2021-02-19T03:21:45Z""}}"
1609,OpenPR,2021-02-19 03:24:21,smikes,fork_close,,
1609,RenameTitle,2021-02-19 03:28:56,smikes,fork_close,,"{""rename"": {""from"": ""add new arg 'func' to handle_socket_error_msg()"", ""to"": ""ZOOKEEPER-4217: add new arg 'func' to handle_socket_error_msg()""}, ""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4350021665""}"
1609,CrossReferenced,2021-02-19 20:50:34,ztzg,fork_close,ZOOKEEPER-4210: Preserve return code from nonblocking send,"{""reference"": {""url"": ""https://api.github.com/repos/apache/zookeeper/issues/1602"", ""is_pull_request"": true}}"
1609,ReviewApproved,2021-02-23 17:15:50,ztzg,fork_close,Thank you; LGTM!,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1609#pullrequestreview-596585284""}"
1609,IssueComment,2021-02-25 09:56:07,ztzg,fork_close,"@eolivelli, @symat, what do you think about this cleanup?","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/785769956"", ""author_association"": ""CONTRIBUTOR""}"
1609,ReviewApproved,2021-02-25 10:07:49,eolivelli,fork_close,+1,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1609#pullrequestreview-598395937""}"
1609,ReviewApproved,2021-02-25 14:24:14,symat,fork_close,"LGTM, +1
I also see the C-client unit tests passed on the CI.
thank you for your contribution @smikes !","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1609#pullrequestreview-598617161""}"
1609,ClosePR,2021-03-07 09:50:48,ztzg,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4417846448"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/eafb93ac3edd28ff23b5b08b05e6ead7e44d85c6""}"
1609,IssueCommentSupplement,2021-03-07 09:51:35,ztzg,fork_close,"This is now in `master`.  Thank you, @smikes!","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/792248369"", ""author_association"": ""CONTRIBUTOR""}"
1609,Referenced,2022-08-31 20:39:59,RokLenarcic,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7299581026"", ""commit_url"": ""https://api.github.com/repos/RokLenarcic/zookeeper/commits/45abb9a80d6ed6355605e090f6b6368e11284f1f""}"
1609,Referenced,2022-08-31 20:50:07,RokLenarcic,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7299637988"", ""commit_url"": ""https://api.github.com/repos/RokLenarcic/zookeeper/commits/74d871b1cc771d9e3cb29192e30018d205e84a51""}"
1609,Referenced,2022-08-31 20:53:39,RokLenarcic,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7299657886"", ""commit_url"": ""https://api.github.com/repos/RokLenarcic/zookeeper/commits/b8064f984c13bf2dc3bf241a8d5fa747704042b7""}"
1609,Referenced,2022-09-03 13:14:43,RokLenarcic,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7317065519"", ""commit_url"": ""https://api.github.com/repos/RokLenarcic/zookeeper/commits/0f5df6b49b625e05c540a56ad7eab93ebafb8707""}"
1609,Referenced,2022-09-29 09:40:56,RokLenarcic,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7485043849"", ""commit_url"": ""https://api.github.com/repos/RokLenarcic/zookeeper/commits/1a7733108167e06d7543a690afba379eac2a2e63""}"
1609,Referenced,2022-11-02 07:58:00,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7720540479"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/cfa32e8830ae5bfa2b55caaf68b459d15d3a67cb""}"
1609,CrossReferenced,2022-11-02 07:58:00,anuragmadnawat1,fork_close,ZOOKEEPER-4217: add new arg 'func' to handle_socket_error_msg(),"{""reference"": {""url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/issues/114"", ""is_pull_request"": true}}"
1609,Referenced,2022-11-02 08:12:42,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7720644002"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/51b9d579d7d95d2471d228c9a8c5c19b012d3a11""}"
1610,SubmitCommit,2021-02-21 06:25:45,maoling,fork_close,ZOOKEEPER-4212: add committer checklist to zk-merge-pr.py,"{""sha"": ""0508a40b4c0c4fdea01e2c64f20459db953de5ef"", ""author"": {""name"": ""maoling"", ""email"": ""maoling@apache.org"", ""date"": ""2021-02-21T06:18:30Z""}, ""committer"": {""name"": ""maoling"", ""email"": ""maoling@apache.org"", ""date"": ""2021-02-21T06:25:45Z""}}"
1610,OpenPR,2021-02-21 06:53:05,maoling,fork_close,,
1610,ReviewComment,2021-02-21 07:49:44,eolivelli,fork_close,"I am not sure we need this stuff. 
We are all responsible for what we are doing and we always wait for at least 2 binding +1.

We can always git revert.

I appreciate very much this proposal and I feel your feelings about your incident.

I would like  not to commit this patch.

So -0 from my side ","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1610#pullrequestreview-594815351""}"
1610,IssueComment,2021-02-26 12:26:26,maoling,fork_close,"@eolivelli That's OK. If your guys don't want it, let it be my private commit script copy to give me a checklist to avoid unexpected accidents when I commit something:)","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/786617554"", ""author_association"": ""MEMBER""}"
1610,IssueComment,2021-03-12 08:18:58,symat,fork_close,"I can only repeat myself: I really don't think you should have bad feelings about PR-1597. It wasn't a big deal at all. We all make mistakes, but as Enrico mentioned, there is nothing we couldn't fix in git :) 

And also we have a great community that is continuously monitoring / testing things, which gives us a great confidence in ZooKeeper quality for the released versions.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/797318601"", ""author_association"": ""CONTRIBUTOR""}"
1610,ReviewRejected,2021-03-12 09:19:00,anmolnar,fork_close,"@maoling I owe you an apology if I hurt your feelings with my e-mail. I'm sorry, I didn't mean that, I was really just kidding, but this is not fun anymore.
No need for this list in the codebase and you don't need it either. Please close this PR.","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1610#pullrequestreview-610588327""}"
1610,ClosePR,2021-03-12 10:45:35,maoling,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4450023236"", ""commit_url"": null}"
1610,DeleteBranch,2021-03-12 10:45:38,maoling,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4450023479"", ""commit_url"": null}"
1611,SubmitCommit,2021-02-23 09:14:49,ztzg,fork_close,"ZOOKEEPER-4219: Quota checks break setData in multi transactions

Without this patch, a multi() transaction such as the one implemented
in ZooKeeperQuotaTest.testMultiCreateThenSetDataShouldWork fails with
MarshallingError when 'enforceQuota' is enabled.

This happens whenever the node has an associated quota, whether it was
exceeded or not.

This is due to the server encountering null while trying to access a
database node by path--whereas that node only exists as a ChangeRecord
in the server's 'outstandingChanges' list:

    java.lang.NullPointerException
        at org.apache.zookeeper.server.ZooKeeperServer.checkQuota(ZooKeeperServer.java:2048)
        at org.apache.zookeeper.server.PrepRequestProcessor.pRequest2Txn(PrepRequestProcessor.java:397)

The patch adds an additional 'lastData' parameter to the quota
checking function, and passes the data from the ChangeRecord during
'setData' operations.","{""sha"": ""43fad970029fd04741960efbd51bc5c786de8127"", ""author"": {""name"": ""Damien Diederen"", ""email"": ""dd@crosstwine.com"", ""date"": ""2021-02-23T08:41:58Z""}, ""committer"": {""name"": ""Damien Diederen"", ""email"": ""dd@crosstwine.com"", ""date"": ""2021-02-23T09:14:49Z""}}"
1611,OpenPR,2021-02-23 09:26:05,ztzg,fork_close,,
1611,ReviewRequested,2021-02-23 09:26:06,ztzg,fork_close,,"{""requested_reviewer"": {""login"": ""symat"", ""id"": 18458499, ""node_id"": ""MDQ6VXNlcjE4NDU4NDk5"", ""avatar_url"": ""https://avatars.githubusercontent.com/u/18458499?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/symat"", ""html_url"": ""https://github.com/symat"", ""followers_url"": ""https://api.github.com/users/symat/followers"", ""following_url"": ""https://api.github.com/users/symat/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/symat/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/symat/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/symat/subscriptions"", ""organizations_url"": ""https://api.github.com/users/symat/orgs"", ""repos_url"": ""https://api.github.com/users/symat/repos"", ""events_url"": ""https://api.github.com/users/symat/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/symat/received_events"", ""type"": ""User"", ""site_admin"": false}, ""requested_team"": null}"
1611,ReviewRequested,2021-02-23 09:26:06,ztzg,fork_close,,"{""requested_reviewer"": {""login"": ""eolivelli"", ""id"": 9469110, ""node_id"": ""MDQ6VXNlcjk0NjkxMTA="", ""avatar_url"": ""https://avatars.githubusercontent.com/u/9469110?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/eolivelli"", ""html_url"": ""https://github.com/eolivelli"", ""followers_url"": ""https://api.github.com/users/eolivelli/followers"", ""following_url"": ""https://api.github.com/users/eolivelli/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/eolivelli/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/eolivelli/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/eolivelli/subscriptions"", ""organizations_url"": ""https://api.github.com/users/eolivelli/orgs"", ""repos_url"": ""https://api.github.com/users/eolivelli/repos"", ""events_url"": ""https://api.github.com/users/eolivelli/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/eolivelli/received_events"", ""type"": ""User"", ""site_admin"": false}, ""requested_team"": null}"
1611,ReviewRequested,2021-02-23 09:26:06,ztzg,fork_close,,"{""requested_reviewer"": {""login"": ""maoling"", ""id"": 11016631, ""node_id"": ""MDQ6VXNlcjExMDE2NjMx"", ""avatar_url"": ""https://avatars.githubusercontent.com/u/11016631?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/maoling"", ""html_url"": ""https://github.com/maoling"", ""followers_url"": ""https://api.github.com/users/maoling/followers"", ""following_url"": ""https://api.github.com/users/maoling/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/maoling/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/maoling/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/maoling/subscriptions"", ""organizations_url"": ""https://api.github.com/users/maoling/orgs"", ""repos_url"": ""https://api.github.com/users/maoling/repos"", ""events_url"": ""https://api.github.com/users/maoling/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/maoling/received_events"", ""type"": ""User"", ""site_admin"": false}, ""requested_team"": null}"
1611,IssueComment,2021-02-23 09:26:48,ztzg,fork_close,Cc: @hanm.  (Cannot add you as a reviewer for some reason.),"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/784032204"", ""author_association"": ""CONTRIBUTOR""}"
1611,ReviewApproved,2021-02-23 09:38:14,eolivelli,fork_close,"good catch

please include this patch into next 3.7.0 rc","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1611#pullrequestreview-596144935""}"
1611,IssueComment,2021-02-23 10:44:38,ztzg,fork_close,"> please include this patch into next 3.7.0 rc

Definitely the plan :)
","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/784107976"", ""author_association"": ""CONTRIBUTOR""}"
1611,IssueComment,2021-02-25 10:29:58,ztzg,fork_close,"@symat, @maoling, @hanm, @nkalmar, @anmolnar, @arshadmohammad: Pinging you as you were active on [ZOOKEEPER-3301](https://issues.apache.org/jira/browse/ZOOKEEPER-3301).

I have now marked [ZOOKEEPER-4219](https://issues.apache.org/jira/browse/ZOOKEEPER-4219) as a blocker, as I don't intend to release 3.7 without it.

If nobody sees a flaw in the proposed fix, I would love to have this merged before the weekend, so that I can prepare a new RC.  WDYT?","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/785790837"", ""author_association"": ""CONTRIBUTOR""}"
1611,IssueComment,2021-02-25 10:38:35,eolivelli,fork_close,I would like to see some more reviewer on this patch.,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/785796241"", ""author_association"": ""CONTRIBUTOR""}"
1611,IssueComment,2021-02-25 11:10:20,ztzg,fork_close,"> I would like to see some more reviewer on this patch.

Me too, hence the noise :)","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/785816649"", ""author_association"": ""CONTRIBUTOR""}"
1611,IssueComment,2021-02-25 12:41:29,maoling,fork_close,I will take a look at this weekend(02-27 ~02-28) if you can wait for that time:),"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/785867098"", ""author_association"": ""MEMBER""}"
1611,ReviewApproved,2021-02-25 14:06:55,symat,fork_close,"LGTM, nice catch indeed, thanks!","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1611#pullrequestreview-598598970""}"
1611,IssueComment,2021-02-25 16:40:54,ztzg,fork_close,"> I will take a look at this weekend(02-27 ~02-28) if you can wait for that time:)

@maoling: No pressure.  Some people are surely impatiently waiting for 3.7 to get out, and I would like to push another RC ASAP—but it'll probably take a few more days to have this rigorously vetted unless many committers happen to have a lightly-loaded Friday.  I just thought I'd ask :)","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/786038258"", ""author_association"": ""CONTRIBUTOR""}"
1611,IssueComment,2021-02-27 11:39:43,maoling,fork_close,Looking:),"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/787059788"", ""author_association"": ""MEMBER""}"
1611,IssueComment,2021-02-27 11:55:29,ztzg,fork_close,"> Looking:)

:)","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/787061668"", ""author_association"": ""CONTRIBUTOR""}"
1611,ReviewApproved,2021-03-01 07:32:58,nkalmar,fork_close,+1,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1611#pullrequestreview-600448974""}"
1611,ClosePR,2021-03-01 07:36:47,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4387831517"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/eb1569e4fbb55d12fa6211fbd997aa592fcb01af""}"
1611,IssueCommentSupplement,2021-03-01 07:37:35,nkalmar,fork_close,"Thanks @ztzg , merged to master and 3.7. It will need to be cherry-picked to 3.7.0 release branch. Ping me Damien if you want me to cherry-pick it to 3.7.0.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/787726420"", ""author_association"": ""CONTRIBUTOR""}"
1611,Referenced,2021-03-01 07:39:56,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4387844788"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/fd8b6fcdca52285a04b2f60c019d868e1cb30d68""}"
1611,IssueCommentSupplement,2021-03-01 08:12:11,ztzg,fork_close,"> Thanks @ztzg , merged to master and 3.7.

Great; thank you!

> It will need to be cherry-picked to 3.7.0 release branch. Ping me Damien if you want me to cherry-pick it to 3.7.0.

Don't worry about it.  Cherry-picking has not been 100% consistent on these branches; I will have to sort it out as I prepare the next RC (in a few days) anyway—and will try and keep the sequences as ""parallel"" as possible as I do so.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/787747977"", ""author_association"": ""CONTRIBUTOR""}"
1611,CrossReferenced,2021-03-02 07:48:58,ztzg,fork_close,ZOOKEEPER-4221: Improve the error message when message goes above jute.maxbufer size,"{""reference"": {""url"": ""https://api.github.com/repos/apache/zookeeper/issues/1614"", ""is_pull_request"": true}}"
1611,Referenced,2021-03-06 20:01:37,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4417238250"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/7a25de288b8cefced3a1b76bcf11ca0eec90864a""}"
1611,IssueCommentSupplement,2021-03-06 20:04:27,ztzg,fork_close,"> > Thanks @ztzg , merged to master and 3.7.
> 
> Great; thank you!
> 
> > It will need to be cherry-picked to 3.7.0 release branch. Ping me Damien if you want me to cherry-pick it to 3.7.0.
> 
> Don't worry about it. Cherry-picking has not been 100% consistent on these branches; I will have to sort it out as I prepare the next RC (in a few days) anyway—and will try and keep the sequences as ""parallel"" as possible as I do so.

Now also in `branch-3.7.0`.  Thanks!","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/792043565"", ""author_association"": ""CONTRIBUTOR""}"
1611,Referenced,2022-08-31 20:39:58,RokLenarcic,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7299580981"", ""commit_url"": ""https://api.github.com/repos/RokLenarcic/zookeeper/commits/76f8be41e9b6b3d954bed380f0a036c7abaa2bf2""}"
1611,Referenced,2022-08-31 20:50:07,RokLenarcic,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7299637934"", ""commit_url"": ""https://api.github.com/repos/RokLenarcic/zookeeper/commits/917071db8348d611512312c1ee068c68af36a588""}"
1611,Referenced,2022-08-31 20:53:38,RokLenarcic,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7299657842"", ""commit_url"": ""https://api.github.com/repos/RokLenarcic/zookeeper/commits/bd5cc7284cc51e9f75fbfa09f9dc4a4c529ab71a""}"
1611,Referenced,2022-09-03 13:14:42,RokLenarcic,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7317065499"", ""commit_url"": ""https://api.github.com/repos/RokLenarcic/zookeeper/commits/f40f9ef2f086fbd76ae9e9dfb762f8786e19fe71""}"
1611,Referenced,2022-09-29 09:40:56,RokLenarcic,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7485043806"", ""commit_url"": ""https://api.github.com/repos/RokLenarcic/zookeeper/commits/362b799117c3c5da9713bf3eaeaba5c173dc9a18""}"
1611,CrossReferenced,2022-11-02 07:20:15,anuragmadnawat1,fork_close,ZOOKEEPER-4219: Quota checks break setData in multi transactions,"{""reference"": {""url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/issues/108"", ""is_pull_request"": true}}"
1611,Referenced,2022-11-02 07:20:16,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7720297107"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/c80d0ed28df23776d8717a12ad28d86fac168367""}"
1611,Referenced,2022-11-02 07:27:57,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7720342287"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/fce79f4fac2cf9c501c6c86c63ddfbe5ed35833c""}"
1613,SubmitCommit,2021-02-24 11:21:43,arshadmohammad,fork_close,"ZOOKEEPER-2307: ZooKeeper not starting because acceptedEpoch is less than the currentEpoch

Update acceptedEpoch and currentEpoch in file first then in memory.

Author: Mohammad Arshad <arshad@apache.org>

Reviewers: andor@apache.org

Closes #1145 from arshadmohammad/ZOOKEEPER-2307-epochUpdate and squashes the following commits:

b05bc1f1c [Mohammad Arshad] review comment fix
c8d620f39 [Mohammad Arshad] ZOOKEEPER-2307:ZooKeeper not starting because acceptedEpoch is less than the currentEpoch

(cherry picked from commit 19d85670a3c87565bc63a5f84169e4c6c72e2915)","{""sha"": ""fdc2f30cb87bfc5de407a029a98096170a3bedae"", ""author"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2019-12-17T12:48:25Z""}, ""committer"": {""name"": ""Mate Szalay-Beko"", ""email"": ""mszalay@cloudera.com"", ""date"": ""2021-02-24T11:21:43Z""}}"
1613,OpenPR,2021-02-24 11:25:03,symat,fork_close,,
1613,IssueComment,2021-02-24 11:30:08,symat,fork_close,"@anmolnar , @maoling , this is a fix you already reviewed (https://github.com/apache/zookeeper/pull/1145), and I was merging it to master and branch-3.5 back then, but it wasn't merged to branch-3.6 for some reason (this happened around the branching of RC1 of 3.6.0). See ZOOKEEPER-4222.

Please take a look. I think we should submit this to the current branch-3.6 if CI is OK with it. ","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/785011953"", ""author_association"": ""CONTRIBUTOR""}"
1613,IssueComment,2021-02-24 12:21:34,symat,fork_close,"CI failed, we hit one timeout in test `ReadOnlyModeTest`. My local re-run succeeded (` mvn test -Dtest=ReadOnlyModeTest -DfailIfNoTests=false`), most probably this is only an infra / flaky CI issue. Given that this was a clean cherry-pick, I think it is OK to go ahead and merge it.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/785038368"", ""author_association"": ""CONTRIBUTOR""}"
1613,ReviewApproved,2021-02-25 11:19:20,nkalmar,fork_close,"+1, same changes as on master/3.5","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1613#pullrequestreview-598457260""}"
1613,IssueComment,2021-02-25 11:28:37,symat,fork_close,"thanks @nkalmar !
I'll merge this (after lunch... let's keep the priorities :p :) )","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/785826963"", ""author_association"": ""CONTRIBUTOR""}"
1613,ReviewApproved,2021-02-25 11:29:30,anmolnar,fork_close,lgtm. I restarted the CI build.,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1613#pullrequestreview-598465184""}"
1613,IssueComment,2021-02-25 12:00:15,symat,fork_close,"thanks @anmolnar !
it succeeded this time","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/785844338"", ""author_association"": ""CONTRIBUTOR""}"
1613,Referenced,2021-02-25 12:06:17,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4376199732"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/3a7c945e80690fb9ce0e95f9b09dfc0fbc0312f3""}"
1613,ClosePR,2021-02-25 12:09:15,symat,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4376211710"", ""commit_url"": null}"
1614,OpenPR,2021-02-24 17:21:33,mariemat,fork_close,,
1614,Revise,2021-02-24 17:43:18,Mathieu Marie,fork_close,ZOOKEEPER-4221: Improve the error message when message goes above jute.maxbufer size,"{""sha"": ""436633ddf4a696b0a08b72c16f1db51eef094cf6"", ""author"": {""name"": ""Mathieu Marie"", ""email"": ""mmarie@salesforce.com"", ""date"": ""2021-02-24T17:19:58Z""}, ""committer"": {""name"": ""Mathieu Marie"", ""email"": ""mmarie@salesforce.com"", ""date"": ""2021-02-24T17:43:18Z""}}"
1614,IssueComment,2021-02-24 19:57:19,mariemat,fork_close,"HI, 

The CI failed with a timeout.
```
[INFO] -------------------------------------------------------
[INFO]  T E S T S
[INFO] -------------------------------------------------------
[INFO] Running org.apache.zookeeper.server.quorum.Zab1_0Test
[INFO] Tests run: 12, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 23.352 s - in org.apache.zookeeper.server.quorum.Zab1_0Test
[INFO]
[INFO] Results:
[INFO]
[INFO] Tests run: 12, Failures: 0, Errors: 0, Skipped: 0

```

I reran the following successfully: 

```
mvn -Dtest=Zab1_0Test  -Pfull-build verify -Dsurefire-forkcount=1 -DskipCppUnit -Dsurefire.rerunFailingTestsCount=5
...
[INFO] -------------------------------------------------------
[INFO]  T E S T S
[INFO] -------------------------------------------------------
[INFO] Running org.apache.zookeeper.server.quorum.Zab1_0Test
[INFO] Tests run: 12, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 23.352 s - in org.apache.zookeeper.server.quorum.Zab1_0Test
[INFO]
[INFO] Results:
[INFO]
[INFO] Tests run: 12, Failures: 0, Errors: 0, Skipped: 0
...
[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 43.262 s
[INFO] Finished at: 2021-02-24T20:53:12+01:00
```
Is there a way to rerun the CI?
","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/785334270"", ""author_association"": ""NONE""}"
1614,ReviewApproved,2021-02-25 13:51:53,symat,fork_close,"LGTM, great, thank you!

we can re-trigger the CI job on jenkins / travis / wherever (I'm not really sure). But this was a quite trivial change and also AFAICS only the java 11 unit tests timeouted, so I wouldn't care much...

@ztzg , @maoling PTAL - I remember an other PR where we discussed some logging improvement with one of you around the jute.maxbuffer. (but it is also very possible that I remember wrong... anyway, can you take a look?)","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1614#pullrequestreview-598583254""}"
1614,IssueComment,2021-02-25 13:56:00,symat,fork_close,"using the link on the failed GitHub CI job (the one with label ""Details""), you can select ""Rerun Jobs"". But that would re-run all GitHub based CI jobs for this PR, and that potentially can cause more flaky tests. So I think this is good enough.

(we are working right now in the community to stabilize the CI for the master branch, as it is less reliable than it used to be)","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/785912733"", ""author_association"": ""CONTRIBUTOR""}"
1614,IssueComment,2021-02-25 14:30:33,symat,fork_close,"anyway, I just re-triggered the job. (actually there is only a single GitHub check that is running the java unit tests)
it succeeded now","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/785936225"", ""author_association"": ""CONTRIBUTOR""}"
1614,CrossReferenced,2021-02-25 16:53:32,ztzg,fork_close,ZOOKEEPER-4182: Enhance message when packet's length over limit.,"{""reference"": {""url"": ""https://api.github.com/repos/apache/zookeeper/issues/1580"", ""is_pull_request"": true}}"
1614,ReviewApproved,2021-02-25 17:00:04,ztzg,fork_close,"LGTM!

@symat wrote:

> I remember an other PR where we discussed some logging improvement with one of you around the jute.maxbuffer.

I suppose it was https://github.com/apache/zookeeper/pull/1580, which predates this submission, but whose message is a bit less informative.

> (we are working right now in the community to stabilize the CI for the master branch, as it is less reliable than it used to be)

Indeed.  And FWIW, I had noted the failing test (`Zab1_0Test.testNormalFollowerRunWithDiff`, failing at `Zab1_0Test.java:790`); once more, the failure can be ascribed to a timing assumption.  I've been collecting a few of those, and am planning to submit patches at some point.
","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1614#pullrequestreview-598792796""}"
1614,IssueComment,2021-02-25 22:48:02,symat,fork_close,thanks @ztzg for the review! :),"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/786280176"", ""author_association"": ""CONTRIBUTOR""}"
1614,IssueComment,2021-02-26 09:30:53,symat,fork_close,I'm merging it now. ,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/786525907"", ""author_association"": ""CONTRIBUTOR""}"
1614,ClosePR,2021-02-26 09:35:42,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4380910138"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/94d0c4d8558e1b201665bb9dffd33dacbc7ca945""}"
1614,IssueCommentSupplement,2021-02-26 09:38:44,symat,fork_close,"@ztzg I merged this to master and branch-3.7. I think this can go to 3.7.0. Do I need to cherry-pick this to some 3.7.0 release branch, or you will cut a new release branch from branch-3.7 later? ","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/786530284"", ""author_association"": ""CONTRIBUTOR""}"
1614,Referenced,2021-02-26 09:38:50,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4380923229"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/81d26db1b4d2a4e3d97df9bfe43911eb6e18bfe0""}"
1614,IssueCommentSupplement,2021-03-02 07:48:58,ztzg,fork_close,"Hi @symat, thank you.

> @ztzg I merged this to master and branch-3.7. I think this can go to 3.7.0. Do I need to cherry-pick this to some 3.7.0 release branch, or you will cut a new release branch from branch-3.7 later?

Same as https://github.com/apache/zookeeper/pull/1611#issuecomment-787747977: don't worry about it, as I have to reconcile both branches anyway.  I have added this ticket to my list of things to check.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/788696218"", ""author_association"": ""CONTRIBUTOR""}"
1614,Referenced,2021-03-06 20:01:37,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4417238249"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/4b27c62e866740c977837e52bd264c22afbe6376""}"
1614,IssueCommentSupplement,2021-03-06 20:04:01,ztzg,fork_close,"> Hi @symat, thank you.
> 
> > @ztzg I merged this to master and branch-3.7. I think this can go to 3.7.0. Do I need to cherry-pick this to some 3.7.0 release branch, or you will cut a new release branch from branch-3.7 later?
> 
> Same as [#1611 (comment)](https://github.com/apache/zookeeper/pull/1611#issuecomment-787747977): don't worry about it, as I have to reconcile both branches anyway. I have added this ticket to my list of things to check.

Now also in `branch-3.7.0`.  Thanks!","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/792043513"", ""author_association"": ""CONTRIBUTOR""}"
1614,Referenced,2022-08-31 20:39:58,RokLenarcic,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7299580968"", ""commit_url"": ""https://api.github.com/repos/RokLenarcic/zookeeper/commits/b27209e529163e1ef61d98d5e0c5ffe9ac61c2b6""}"
1614,Referenced,2022-08-31 20:50:06,RokLenarcic,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7299637920"", ""commit_url"": ""https://api.github.com/repos/RokLenarcic/zookeeper/commits/6aa3d42c6c49b330465079f6628b7e7a433df780""}"
1614,Referenced,2022-08-31 20:53:38,RokLenarcic,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7299657837"", ""commit_url"": ""https://api.github.com/repos/RokLenarcic/zookeeper/commits/9c02594fc4037ca2cf4c4440b08aad268b967359""}"
1614,Referenced,2022-09-03 13:14:42,RokLenarcic,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7317065498"", ""commit_url"": ""https://api.github.com/repos/RokLenarcic/zookeeper/commits/5a234184763c565bcbb724b2406b09ae7830f523""}"
1614,Referenced,2022-09-29 09:40:56,RokLenarcic,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7485043795"", ""commit_url"": ""https://api.github.com/repos/RokLenarcic/zookeeper/commits/219e75b3262b8ade2639d1f5327c7d9c49a022de""}"
1614,CrossReferenced,2022-11-02 07:17:00,anuragmadnawat1,fork_close,ZOOKEEPER-4221: Improve the error message when message goes above jute.maxbufer size,"{""reference"": {""url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/issues/107"", ""is_pull_request"": true}}"
1614,Referenced,2022-11-02 07:17:01,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7720278982"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/2b0e030d42479b4b6750311855c25887ba4e5ecc""}"
1614,Referenced,2022-11-02 07:20:12,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7720296720"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/52ab212701dabf17a99abb1837894b578fd8579c""}"
1615,SubmitCommit,2021-02-25 12:58:51,symat,fork_close,"ZOOKEEPER-4220: Redundant connection attempts during leader election if quorum members changed

We have a logic in the server code, that would try to connect to an other  quorum member, based
on its server ID. We identify the address assigned to this ID first based on the last committed
quorum configuration. If the connection attempt fails (or the server is not known in the
committed configuration) then we try to find the address based on the last proposed quorum
configuration. But we should do the second connection attempt, only if the address in the
last proposed configuration differs from the address in the last committed configuration.
Otherwise we would just retry to connect to the same address that failed just right before.

In the current code we have a bug, because we compare the address object references (use ""!="")
instead of comparing the objects themselves (using ""not equals""). In certain edge cases (e.g.
when the last proposed and last committed addresses are the same, but the address is unreachable)
this bug can lead to unneccessary retry of connection attempts. The normal behaviour would be to
mark this connection attempt to be failed and wait for e.g. the next election round or wait for
the other server to come online and initiate a connection to us.","{""sha"": ""aa521d6e670e4c4a5b659dafebec8e30fa66c4d6"", ""author"": {""name"": ""Mate Szalay-Beko"", ""email"": ""symat@apache.org"", ""date"": ""2021-02-25T12:58:51Z""}, ""committer"": {""name"": ""Mate Szalay-Beko"", ""email"": ""symat@apache.org"", ""date"": ""2021-02-25T12:58:51Z""}}"
1615,OpenPR,2021-02-25 13:17:33,symat,fork_close,,
1615,ReviewApproved,2021-02-26 10:20:25,anmolnar,fork_close,"+1 
Very nice catch @symat !
Do you think you can write a unit test for this bit?","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1615#pullrequestreview-599437736""}"
1615,IssueComment,2021-02-26 12:13:17,symat,fork_close,"> Very nice catch @symat !

it was actually Alex Mirgorodskiy (see the jira issue), the credits go to him ;)

> Do you think you can write a unit test for this bit?

good idea, I'm thinking about it. I already created a related unit test not much long ago. QuorumCnxManagerSocketConnectionTimeoutTest. I think this could be extended. Let me give a try.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/786611208"", ""author_association"": ""CONTRIBUTOR""}"
1615,IssueComment,2021-03-01 09:46:05,symat,fork_close,"unfortunately it is not really possible to create any clean and non-flaky unit test. The problem is with the async connection initiation, which makes the problem hard to reproduce. Since https://issues.apache.org/jira/browse/ZOOKEEPER-3756, we are always initiating leader election connections asynchronously. Before submitting the new connection initiation thread to the executor, we check if already is a thread submitted for the given address. Depending on the scheduling of the JVM / CPU, we may or may not submit the redundant connection attempt we try to fix here.

We could introduce some configurable (only-visible-for-tests) sleep inside the QuorumCnxManager to a certain point making sure we indeed hit this problem. But I'm not favour of complicating the production code this way. 

I spent a few hours to make a nice test, but now I kind of gave up. I think this is a trivial fix, I can live without testing this edge case. What do you think?","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/787812974"", ""author_association"": ""CONTRIBUTOR""}"
1615,IssueComment,2021-03-02 07:34:47,symat,fork_close,"@anmolnar what do you think? can I merge this without unit test?

I plan to merge it to all active branches.
@ztzg can this still fit into 3.7.0? should I also push this to branch-3.7.0, or branch-3.7 is enough for that?","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/788688451"", ""author_association"": ""CONTRIBUTOR""}"
1615,RenameTitle,2021-03-02 10:51:49,symat,fork_close,,"{""rename"": {""from"": ""ZOOKEEPER-4220: Redundant connection attempts during leader election if quorum members changed"", ""to"": ""ZOOKEEPER-4220: Potential redundant connection attempts during leader election""}, ""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4395122019""}"
1615,ReviewApproved,2021-03-06 20:49:33,ztzg,fork_close,"LGTM.

Re testing: agree that incredibly convoluted tests are not always value-added.

(Interesting that `MultipleAddresses.equals` does not consider the `timeout` field, btw.  Not that I expect it to have any impact here.)","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1615#pullrequestreview-605786850""}"
1615,ClosePR,2021-03-06 20:53:05,ztzg,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4417277681"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/6022e03177b21606575152ac323205af3fbbe9d8""}"
1615,Referenced,2021-03-06 20:53:46,ztzg,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4417278197"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/d862d0749bdc7f798031f24173b55b30d6b88a28""}"
1615,Referenced,2021-03-06 20:54:03,ztzg,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4417278438"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/ba94493c63005b4f7c7efc0aa9c35a2b39c00305""}"
1615,IssueCommentSupplement,2021-03-06 20:59:25,ztzg,fork_close,"Hi @symat, @anmolnar,

I have merged this in `master`, `branch-3.7`, and `branch-3.7.0`.  I hope Andor won't mind, and I would gladly add a test later if we come up with a reasonable idea.  I have *not* merged it in 3.5 nor 3.6 so far, as I prefer to wait for Andor's definitive answer when it comes to these ""very stable"" branches. What do you think?","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/792053602"", ""author_association"": ""CONTRIBUTOR""}"
1615,IssueCommentSupplement,2021-03-09 10:48:20,ztzg,fork_close,"@symat, @anmolnar : Just making sure you have spotted this:

> I have **not** merged it in 3.5 nor 3.6 so far, as I prefer to wait for Andor's definitive answer [wrt. including tests] when it comes to these ""very stable"" branches. What do you think?
","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/793704230"", ""author_association"": ""CONTRIBUTOR""}"
1615,IssueCommentSupplement,2021-03-09 11:07:17,symat,fork_close,"sure, thanks @ztzg !
I'm happy to do the cherry-picks to the stable branches (and run some smoke tests), if it's OK for Andor.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/793725671"", ""author_association"": ""CONTRIBUTOR""}"
1615,IssueCommentSupplement,2021-03-09 11:39:52,anmolnar,fork_close,"@ztzg I don't have a strong opinion on unit tests. I think it's fine as it is.
This should be merged to all active branches. Please go ahead.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/793762037"", ""author_association"": ""CONTRIBUTOR""}"
1615,Referenced,2021-03-09 12:24:26,symat,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4427755964"", ""commit_url"": ""https://api.github.com/repos/symat/zookeeper/commits/22e0955d251652c9ae49282b8fa8c9aa994ff50f""}"
1615,CrossReferenced,2021-03-09 12:26:18,symat,fork_close,ZOOKEEPER-4220: Potential redundant connection attempts during leader election - branch-3.6,"{""reference"": {""url"": ""https://api.github.com/repos/apache/zookeeper/issues/1630"", ""is_pull_request"": true}}"
1615,Referenced,2021-03-09 12:33:57,symat,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4427812778"", ""commit_url"": ""https://api.github.com/repos/symat/zookeeper/commits/8f8957260616abd05cad2d6de74ceab59bd2b7f6""}"
1615,CrossReferenced,2021-03-09 12:35:14,symat,fork_close,ZOOKEEPER-4220: Potential redundant connection attempts during leader election - branch-3.5,"{""reference"": {""url"": ""https://api.github.com/repos/apache/zookeeper/issues/1631"", ""is_pull_request"": true}}"
1615,IssueCommentSupplement,2021-03-09 12:36:56,symat,fork_close,I created #1630 and #1631 to start CI on the 3.5 and 3.6 branches.,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/793823825"", ""author_association"": ""CONTRIBUTOR""}"
1615,Referenced,2022-08-31 20:39:58,RokLenarcic,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7299581010"", ""commit_url"": ""https://api.github.com/repos/RokLenarcic/zookeeper/commits/b12cd6b986b4b4685c547a950dc85ece9a0a5414""}"
1615,Referenced,2022-08-31 20:50:07,RokLenarcic,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7299637965"", ""commit_url"": ""https://api.github.com/repos/RokLenarcic/zookeeper/commits/dc31f9460510fd90b514ddbb6a564f3692047d57""}"
1615,Referenced,2022-08-31 20:53:39,RokLenarcic,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7299657871"", ""commit_url"": ""https://api.github.com/repos/RokLenarcic/zookeeper/commits/83b710dc467685cf216696898223d172bc89cf1f""}"
1615,Referenced,2022-09-03 13:14:43,RokLenarcic,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7317065512"", ""commit_url"": ""https://api.github.com/repos/RokLenarcic/zookeeper/commits/18ac2a5077d266a3aade81289ceb1acee65ead78""}"
1615,Referenced,2022-09-29 09:40:56,RokLenarcic,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7485043834"", ""commit_url"": ""https://api.github.com/repos/RokLenarcic/zookeeper/commits/2c53fcb2c877d9137fcd620c6d790e6d4ef8b8a4""}"
1615,Referenced,2022-11-02 07:53:56,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7720511791"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/3241f5238d55c8c6523a5909577bf222d9179ba3""}"
1615,CrossReferenced,2022-11-02 07:53:56,anuragmadnawat1,fork_close,ZOOKEEPER-4220: Potential redundant connection attempts during leader election,"{""reference"": {""url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/issues/112"", ""is_pull_request"": true}}"
1615,Referenced,2022-11-02 07:56:36,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7720530784"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/2f2d3e6a343f80516df58ed7d92a36fdccee38da""}"
1616,OpenPR,2021-03-01 11:13:11,arshadmohammad,fork_close,,
1616,Revise,2021-03-01 11:19:43,arshadmohammad,fork_close,ZOOKEEPER-4227: X509AuthFailureTest is failing consistently,"{""sha"": ""2ba7b61dae152097a89d9b3024e83aecc0c4a784"", ""author"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2021-03-01T11:14:46Z""}, ""committer"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2021-03-01T11:19:43Z""}}"
1616,CrossReferenced,2021-03-08 14:51:38,arshadmohammad,fork_close,ZOOKEEPER-4205: Change X509AuthFailureTest to use dynamically assigne…,"{""reference"": {""url"": ""https://api.github.com/repos/apache/zookeeper/issues/1599"", ""is_pull_request"": true}}"
1616,ReviewRequested,2021-03-09 17:26:57,arshadmohammad,fork_close,,"{""requested_reviewer"": {""login"": ""ztzg"", ""id"": 393108, ""node_id"": ""MDQ6VXNlcjM5MzEwOA=="", ""avatar_url"": ""https://avatars.githubusercontent.com/u/393108?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/ztzg"", ""html_url"": ""https://github.com/ztzg"", ""followers_url"": ""https://api.github.com/users/ztzg/followers"", ""following_url"": ""https://api.github.com/users/ztzg/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/ztzg/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/ztzg/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/ztzg/subscriptions"", ""organizations_url"": ""https://api.github.com/users/ztzg/orgs"", ""repos_url"": ""https://api.github.com/users/ztzg/repos"", ""events_url"": ""https://api.github.com/users/ztzg/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/ztzg/received_events"", ""type"": ""User"", ""site_admin"": false}, ""requested_team"": null}"
1616,IssueComment,2021-03-09 17:28:08,arshadmohammad,fork_close,"Tried to merge this change with https://github.com/apache/zookeeper/pull/1599, but no response. lets review and merge this PR itself","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/794199213"", ""author_association"": ""CONTRIBUTOR""}"
1616,IssueComment,2021-03-09 17:29:04,arshadmohammad,fork_close,ping @eolivelli @ztzg ,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/794201125"", ""author_association"": ""CONTRIBUTOR""}"
1616,ReviewApproved,2021-03-09 19:51:42,ztzg,fork_close,"LGTM, and passes.  (Though I hadn't experienced that failure.)","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1616#pullrequestreview-607863730""}"
1616,ReviewApproved,2021-03-09 20:47:23,eolivelli,fork_close,"LGTM 

I will merge tomorrow ","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1616#pullrequestreview-607981607""}"
1616,ClosePR,2021-03-10 11:52:35,eolivelli,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4435745900"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/f52918abd066d85a423d38917e58fc950d4e9d09""}"
1616,ReopenPR,2021-03-10 13:34:27,arshadmohammad,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4436375145"", ""commit_url"": null}"
1616,IssueComment,2021-03-10 13:36:52,arshadmohammad,fork_close,This PR change is applicable to other branches as well.,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/795423297"", ""author_association"": ""CONTRIBUTOR""}"
1616,IssueCommentSupplement,2021-03-10 15:07:51,arshadmohammad,fork_close,"PR for branch-3.7 and 3.7.0  is https://github.com/apache/zookeeper/pull/1635
PR for branch-3.6 is https://github.com/apache/zookeeper/pull/1636
","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/795571165"", ""author_association"": ""CONTRIBUTOR""}"
1616,ClosePR,2021-03-10 15:07:52,arshadmohammad,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4437049189"", ""commit_url"": null}"
1616,Referenced,2022-08-31 20:39:59,RokLenarcic,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7299581054"", ""commit_url"": ""https://api.github.com/repos/RokLenarcic/zookeeper/commits/d10c5a2de1abe323511e8abcde9f195e04528549""}"
1616,Referenced,2022-08-31 20:50:07,RokLenarcic,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7299638015"", ""commit_url"": ""https://api.github.com/repos/RokLenarcic/zookeeper/commits/6825640804470cda2c6c0330e2187fd050e42323""}"
1616,Referenced,2022-08-31 20:53:39,RokLenarcic,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7299657917"", ""commit_url"": ""https://api.github.com/repos/RokLenarcic/zookeeper/commits/4574d1c08acdd0d54391a37217ec56ac086203e5""}"
1616,Referenced,2022-09-03 13:14:43,RokLenarcic,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7317065535"", ""commit_url"": ""https://api.github.com/repos/RokLenarcic/zookeeper/commits/3036f4578f4c4a4c53a0da531032724179b9a38b""}"
1616,Referenced,2022-09-29 09:40:57,RokLenarcic,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7485043912"", ""commit_url"": ""https://api.github.com/repos/RokLenarcic/zookeeper/commits/d226752d6a2905cf6cddc70a5c738739c2d24dac""}"
1616,Referenced,2022-11-02 08:56:02,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7720979376"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/af98257dc8feedf95964fb237b8bb7a6d42f443c""}"
1616,CrossReferenced,2022-11-02 08:56:02,anuragmadnawat1,fork_close,ZOOKEEPER-4227: X509AuthFailureTest is failing consistently,"{""reference"": {""url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/issues/118"", ""is_pull_request"": true}}"
1616,Referenced,2022-11-02 08:58:42,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7721002789"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/6f7a1f27681e3f40057b3e5d499daf1f17fdc7bc""}"
1617,SubmitCommit,2021-03-02 09:53:55,MuktiKrishnan,fork_close,ZOOKEEPER-4223: Backport ZOOKEEPER-3706 to branch-3.6,"{""sha"": ""78f0a7d1e25220f2032b7ebe4870ee3c2e77bff2"", ""author"": {""name"": ""Mukti"", ""email"": ""muktikrishnan94@gmail.com"", ""date"": ""2021-03-02T09:53:55Z""}, ""committer"": {""name"": ""Mukti"", ""email"": ""muktikrishnan94@gmail.com"", ""date"": ""2021-03-02T09:53:55Z""}}"
1617,OpenPR,2021-03-02 10:02:06,MuktiKrishnan,fork_close,,
1617,ReviewApproved,2021-03-08 18:37:31,arshadmohammad,fork_close,,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1617#pullrequestreview-606592257""}"
1617,IssueComment,2021-03-08 18:43:27,arshadmohammad,fork_close,LGTM +1,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/792984048"", ""author_association"": ""CONTRIBUTOR""}"
1617,Referenced,2021-03-09 07:04:25,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4425778454"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/d46689e5861516b92605bcb911f7ffce9ad6fba4""}"
1617,IssueComment,2021-03-09 07:14:27,arshadmohammad,fork_close,Merged. @MuktiKrishnan  please close the PR,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/793474772"", ""author_association"": ""CONTRIBUTOR""}"
1617,ClosePR,2021-03-09 08:10:13,MuktiKrishnan,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4426089302"", ""commit_url"": null}"
1618,SubmitCommit,2021-03-02 10:20:01,MuktiKrishnan,fork_close,ZOOKEEPER-4224: Backport ZOOKEEPER-3891 to branch-3.6,"{""sha"": ""9e4057592de88ccb615c388cfa67c0e11eb340c7"", ""author"": {""name"": ""Mukti"", ""email"": ""muktikrishnan94@gmail.com"", ""date"": ""2021-03-02T10:20:01Z""}, ""committer"": {""name"": ""Mukti"", ""email"": ""muktikrishnan94@gmail.com"", ""date"": ""2021-03-02T10:20:01Z""}}"
1618,OpenPR,2021-03-02 10:21:21,MuktiKrishnan,fork_close,,
1618,ClosePR,2021-03-03 10:15:51,MuktiKrishnan,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4401137962"", ""commit_url"": null}"
1618,ReopenPR,2021-03-03 10:15:57,MuktiKrishnan,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4401138465"", ""commit_url"": null}"
1618,ClosePR,2021-03-03 10:27:15,MuktiKrishnan,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4401193511"", ""commit_url"": null}"
1618,ReopenPR,2021-03-03 10:27:45,MuktiKrishnan,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4401196014"", ""commit_url"": null}"
1618,ReviewApproved,2021-03-08 18:20:43,arshadmohammad,fork_close,,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1618#pullrequestreview-606578234""}"
1618,IssueComment,2021-03-08 18:20:57,arshadmohammad,fork_close,LGTM +1,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/792968980"", ""author_association"": ""CONTRIBUTOR""}"
1618,Referenced,2021-03-09 11:16:02,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4427330248"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/8d0a6d64ae348016c4864ff49bb83281d618d8a5""}"
1618,IssueCommentSupplement,2021-03-09 11:17:23,arshadmohammad,fork_close,Merged.,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/793737058"", ""author_association"": ""CONTRIBUTOR""}"
1618,ClosePR,2021-03-09 11:17:23,arshadmohammad,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4427338984"", ""commit_url"": null}"
1619,SubmitCommit,2021-03-02 11:13:04,MuktiKrishnan,fork_close,ZOOKEEPER-4225: Backport ZOOKEEPER-3642 to branch-3.6,"{""sha"": ""51a489f2daf3e9dcae447051a3e51c1e4a2b6107"", ""author"": {""name"": ""Mukti"", ""email"": ""muktikrishnan94@gmail.com"", ""date"": ""2021-03-02T11:13:04Z""}, ""committer"": {""name"": ""Mukti"", ""email"": ""muktikrishnan94@gmail.com"", ""date"": ""2021-03-02T11:13:04Z""}}"
1619,OpenPR,2021-03-02 11:13:50,MuktiKrishnan,fork_close,,
1619,ReviewComment,2021-03-08 18:10:05,arshadmohammad,fork_close,,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1619#pullrequestreview-606568902""}"
1619,ReviewComment,2021-03-09 11:25:46,arshadmohammad,fork_close,,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1619#pullrequestreview-607296742""}"
1619,Revise,2021-03-09 11:29:53,MuktiKrishnan,fork_close,ZOOKEEPER-1871: Corrected argument order of assert statement,"{""sha"": ""cb7a9868f4075bf306901aae90127c01bd937fce"", ""author"": {""name"": ""Mukti"", ""email"": ""muktikrishnan94@gmail.com"", ""date"": ""2021-03-09T11:21:56Z""}, ""committer"": {""name"": ""Mukti"", ""email"": ""muktikrishnan94@gmail.com"", ""date"": ""2021-03-09T11:29:53Z""}}"
1619,ReviewApproved,2021-03-09 13:51:22,arshadmohammad,fork_close,LGTM +1,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1619#pullrequestreview-607426311""}"
1619,Referenced,2021-03-09 16:14:57,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4429552502"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/a53cfeb26e1e1b9b6b1e29fe7bd9f0277b8fff9a""}"
1619,ClosePR,2021-03-09 16:15:27,arshadmohammad,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4429556111"", ""commit_url"": null}"
1620,SubmitCommit,2021-03-04 02:52:17,MuktiKrishnan,fork_close,ZOOKEEPER-4230: tmp is not configurable in zookeeper-contrib-rest,"{""sha"": ""cb6b2c34f137fdeea3a7171c25d446db9a1d91ef"", ""author"": {""name"": ""Mukti"", ""email"": ""muktikrishnan94@gmail.com"", ""date"": ""2021-03-04T02:52:17Z""}, ""committer"": {""name"": ""Mukti"", ""email"": ""muktikrishnan94@gmail.com"", ""date"": ""2021-03-04T02:52:17Z""}}"
1620,OpenPR,2021-03-04 02:54:30,MuktiKrishnan,fork_close,,
1620,ReviewRejected,2021-03-04 07:12:49,eolivelli,fork_close,,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1620#pullrequestreview-603767784""}"
1620,ClosePR,2021-03-08 07:49:48,MuktiKrishnan,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4419741081"", ""commit_url"": null}"
1620,ReopenPR,2021-03-08 07:50:22,MuktiKrishnan,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4419743376"", ""commit_url"": null}"
1620,IssueComment,2021-03-08 16:39:16,arshadmohammad,fork_close,"Changes look good to me. After changes is concluded with @eolivelli I will merge.
@MuktiKrishna this PR also should have been raised on master first.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/792885947"", ""author_association"": ""CONTRIBUTOR""}"
1620,ReviewRejected,2021-03-10 09:21:39,eolivelli,fork_close,,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1620#pullrequestreview-608491269""}"
1620,IssueCommentSupplement,2021-03-11 05:09:49,arshadmohammad,fork_close,Merged from https://github.com/apache/zookeeper/pull/1633,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/796458160"", ""author_association"": ""CONTRIBUTOR""}"
1620,ClosePR,2021-03-11 05:09:49,arshadmohammad,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4441648155"", ""commit_url"": null}"
1621,SubmitCommit,2021-03-04 11:43:14,MuktiKrishnan,fork_close,ZOOKEEPER-1871: Add an option to zkCli to wailt for connection before executing commands,"{""sha"": ""ce391c9673099967b31a519052f6f9f1e3e91e57"", ""author"": {""name"": ""Mukti"", ""email"": ""muktikrishnan94@gmail.com"", ""date"": ""2021-03-04T11:43:14Z""}, ""committer"": {""name"": ""Mukti"", ""email"": ""muktikrishnan94@gmail.com"", ""date"": ""2021-03-04T11:43:14Z""}}"
1621,OpenPR,2021-03-04 11:44:03,MuktiKrishnan,fork_close,,
1621,RenameTitle,2021-03-05 14:05:32,MuktiKrishnan,fork_close,,"{""rename"": {""from"": ""ZOOKEEPER-1871: Add an option to zkCli to wailt for connection before\u2026"", ""to"": ""ZOOKEEPER-1871: Add an option to zkCli to wait for connection before\u2026""}, ""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4413706371""}"
1621,ReviewComment,2021-03-08 12:37:35,maoling,fork_close,,"{""author_association"": ""MEMBER"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1621#pullrequestreview-606244002""}"
1621,IssueComment,2021-03-08 16:29:40,arshadmohammad,fork_close,@MuktiKrishnan please raise PR on master first,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/792878770"", ""author_association"": ""CONTRIBUTOR""}"
1621,RenameTitle,2021-03-09 06:05:51,MuktiKrishnan,fork_close,,"{""rename"": {""from"": ""ZOOKEEPER-1871: Add an option to zkCli to wait for connection before\u2026"", ""to"": ""ZOOKEEPER-1871: Add an option to zkCli to wait for connection before executing commands""}, ""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4425588859""}"
1621,Revise,2021-03-09 13:07:17,MuktiKrishnan,fork_close,ZOOKEEPER-1871: Used CamelCase naming style and corrected code format,"{""sha"": ""0a7866e9ce5231e743a173e6ac29507dad7601c0"", ""author"": {""name"": ""Mukti"", ""email"": ""muktikrishnan94@gmail.com"", ""date"": ""2021-03-09T13:07:17Z""}, ""committer"": {""name"": ""Mukti"", ""email"": ""muktikrishnan94@gmail.com"", ""date"": ""2021-03-09T13:07:17Z""}}"
1621,IssueComment,2021-03-09 13:17:36,MuktiKrishnan,fork_close,"> @MuktiKrishnan please raise PR on master first

I have raised PR on master branch. ","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/793886125"", ""author_association"": ""CONTRIBUTOR""}"
1621,CrossReferenced,2021-03-11 18:24:21,arshadmohammad,fork_close,ZOOKEEPER-1871: Add an option to zkCli to wait for connection before executing commands,"{""reference"": {""url"": ""https://api.github.com/repos/apache/zookeeper/issues/1626"", ""is_pull_request"": true}}"
1621,IssueCommentSupplement,2021-03-11 18:38:45,arshadmohammad,fork_close,These changes are being merged from https://github.com/apache/zookeeper/pull/1626 PR,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/796955481"", ""author_association"": ""CONTRIBUTOR""}"
1621,ClosePR,2021-03-11 18:38:45,arshadmohammad,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4446794485"", ""commit_url"": null}"
1622,SubmitCommit,2021-03-06 18:19:20,ztzg,fork_close,"ZOOKEEPER-4232: Restore test data for ZOOKEEPER-367

A ""fixed"" copy of snapshot.83f was recently checked in my accident.

Without this revert, InvalidSnapshotTest.testSnapshot succeeds
""trivially"" instead of demonstrating recovery.","{""sha"": ""dcf5604b942ce7f84251ab7c14cc7898f40ad349"", ""author"": {""name"": ""Damien Diederen"", ""email"": ""dd@crosstwine.com"", ""date"": ""2021-03-06T18:16:39Z""}, ""committer"": {""name"": ""Damien Diederen"", ""email"": ""dd@crosstwine.com"", ""date"": ""2021-03-06T18:19:20Z""}}"
1622,SubmitCommit,2021-03-06 18:19:20,ztzg,fork_close,"ZOOKEEPER-4232: Run InvalidSnapshotTest on a copy of test data

Without this, the ZooKeeperServer ""fixes"" the 'snapshot.83f' reference
file, which:

 1. Makes the test ineffective after the first run;
 2. Causes the file to show as modified in version control tools;
 3. Can end up committed by accident.

This patch creates a temporary copy of the data directory.","{""sha"": ""92507563db925c0cc7eaaf335bc88e00f82d964e"", ""author"": {""name"": ""Damien Diederen"", ""email"": ""dd@crosstwine.com"", ""date"": ""2021-03-06T18:12:05Z""}, ""committer"": {""name"": ""Damien Diederen"", ""email"": ""dd@crosstwine.com"", ""date"": ""2021-03-06T18:19:20Z""}}"
1622,SubmitCommit,2021-03-06 18:23:34,ztzg,fork_close,ZOOKEEPER-4232: Ensure that ZOOKEEPER-367 test data fails to parse,"{""sha"": ""8b48eea98f77df40c66e50e3ae5b407f371d0556"", ""author"": {""name"": ""Damien Diederen"", ""email"": ""dd@crosstwine.com"", ""date"": ""2021-03-06T18:15:28Z""}, ""committer"": {""name"": ""Damien Diederen"", ""email"": ""dd@crosstwine.com"", ""date"": ""2021-03-06T18:23:34Z""}}"
1622,OpenPR,2021-03-06 18:30:24,ztzg,fork_close,,
1622,IssueComment,2021-03-08 16:25:41,arshadmohammad,fork_close,"Changes look good to me. Please raise PR for other branches as well.
You can raise PR for branch-3.7, I think that PR will apply on branch-3.6 and branch-3.5 also","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/792875820"", ""author_association"": ""CONTRIBUTOR""}"
1622,IssueComment,2021-03-09 10:31:02,ztzg,fork_close,"Thank you for the review, @arshadmohammad.

> Changes look good to me. Please raise PR for other branches as well.
> You can raise PR for branch-3.7, I think that PR will apply on branch-3.6 and branch-3.5 also

No such luck, unfortunately!  JUnit's API churn gets in the way…  Anyway; here you are:

  * `master`: This PR;
  * `branch-3.7`, `branch-3.7.0`: https://github.com/apache/zookeeper/pull/1627;
  * `branch-3.6`: https://github.com/apache/zookeeper/pull/1628;
  * `branch-3.5`:   https://github.com/apache/zookeeper/pull/1629.


","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/793684555"", ""author_association"": ""CONTRIBUTOR""}"
1622,ReviewApproved,2021-03-09 14:03:54,arshadmohammad,fork_close,LGTM +1,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1622#pullrequestreview-607439937""}"
1622,ClosePR,2021-03-09 14:23:25,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4428670883"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/0ab7766a8a968e03c7b3bb7c1b9d42af9eea152e""}"
1622,Referenced,2022-08-31 20:39:59,RokLenarcic,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7299581039"", ""commit_url"": ""https://api.github.com/repos/RokLenarcic/zookeeper/commits/6eae98c26365cd1e4ac7b3c0abc2853bed48ddda""}"
1622,Referenced,2022-08-31 20:50:07,RokLenarcic,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7299637999"", ""commit_url"": ""https://api.github.com/repos/RokLenarcic/zookeeper/commits/cad7708f7e9707091c42992231e9c8b9ef051aec""}"
1622,Referenced,2022-08-31 20:53:39,RokLenarcic,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7299657895"", ""commit_url"": ""https://api.github.com/repos/RokLenarcic/zookeeper/commits/95de06f5c7b68d41d97a9bd3447daec4f12b21ea""}"
1622,Referenced,2022-09-03 13:14:43,RokLenarcic,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7317065523"", ""commit_url"": ""https://api.github.com/repos/RokLenarcic/zookeeper/commits/e92d9cb06ca8bde947f774e4297556dddc7f6993""}"
1622,Referenced,2022-09-29 09:40:57,RokLenarcic,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7485043877"", ""commit_url"": ""https://api.github.com/repos/RokLenarcic/zookeeper/commits/2897e3482ba5b85caf49231dad8e8799f80bea6b""}"
1622,Referenced,2022-11-02 08:12:44,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7720644254"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/a912ac182e585cdbe35340d5ae57df9d505c1195""}"
1622,CrossReferenced,2022-11-02 08:12:44,anuragmadnawat1,fork_close,ZOOKEEPER-4232: InvalidSnapshotTest corrupts its own test data,"{""reference"": {""url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/issues/115"", ""is_pull_request"": true}}"
1622,Referenced,2022-11-02 08:27:13,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7720753332"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/02900178815439acf8a11cd5ae5c54c7cb590d7b""}"
1623,SubmitCommit,2021-03-07 08:58:00,ztzg,fork_close,ZOOKEEPER-4233: dependency-check:check failing - Jetty 9.4.35.v20201120 - CVE-2020-27223,"{""sha"": ""59cffa16d3dd89cf5a3d3fb284bd563651eb1096"", ""author"": {""name"": ""Damien Diederen"", ""email"": ""dd@crosstwine.com"", ""date"": ""2021-03-07T08:54:08Z""}, ""committer"": {""name"": ""Damien Diederen"", ""email"": ""dd@crosstwine.com"", ""date"": ""2021-03-07T08:58:00Z""}}"
1623,OpenPR,2021-03-07 09:20:44,ztzg,fork_close,,
1623,IssueComment,2021-03-07 09:28:30,ztzg,fork_close,"All active branches are affected:

  * `master`, `branch-3.7`, `branch-3.7.0`: This cherry-picks cleanly;
  * `branch-3.6`: See https://github.com/apache/zookeeper/pull/1624;
  * `branch-3.5`: See https://github.com/apache/zookeeper/pull/1625.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/792245491"", ""author_association"": ""CONTRIBUTOR""}"
1623,ReviewApproved,2021-03-07 11:26:11,eolivelli,fork_close,"LGTM
I will merge tomorrow if no one else does


Thanks","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1623#pullrequestreview-605835579""}"
1623,ReviewComment,2021-03-08 14:43:02,arshadmohammad,fork_close,,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1623#pullrequestreview-606363633""}"
1623,Referenced,2021-03-09 09:47:10,ztzg,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4426744884"", ""commit_url"": ""https://api.github.com/repos/ztzg/zookeeper/commits/b936156aa9d2ac9ab21d84524f38b64c4a3aa8c7""}"
1623,Revise,2021-03-09 09:49:01,ztzg,fork_close,"zookeeper-server: Distribution tarball does not include jetty-client

As pointed out by @arshadmohammad:

https://github.com/apache/zookeeper/pull/1623#discussion_r589472508","{""sha"": ""7cb65fbf17fa3b671b8797cad03b3f2b56d891e2"", ""author"": {""name"": ""Damien Diederen"", ""email"": ""dd@crosstwine.com"", ""date"": ""2021-03-09T09:45:27Z""}, ""committer"": {""name"": ""Damien Diederen"", ""email"": ""dd@crosstwine.com"", ""date"": ""2021-03-09T09:49:01Z""}}"
1623,IssueComment,2021-03-09 09:51:44,ztzg,fork_close,"All active branches were affected.

As of right now, branches `branch-3.5` and `branch-3.6` have already been fixed.

This patch should be applied to branches `master`, `branch-3.7`, `branch-3.7.0`; it cherry-picks cleanly.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/793640824"", ""author_association"": ""CONTRIBUTOR""}"
1623,IssueComment,2021-03-09 17:24:41,arshadmohammad,fork_close,One cppunit-tests test is failing on multiple PRs. @ztzg any idea why that test is failing..,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/794194594"", ""author_association"": ""CONTRIBUTOR""}"
1623,IssueComment,2021-03-09 19:42:52,ztzg,fork_close,"> One cppunit-tests test is failing on multiple PRs. @ztzg any idea why that test is failing..

No, I don't.  Flakiness, I believe.  It *looks* like there is much more variability in performance on the GitHub CI runners.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/794361032"", ""author_association"": ""CONTRIBUTOR""}"
1623,ReviewApproved,2021-03-10 05:13:09,arshadmohammad,fork_close,LGTM +1,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1623#pullrequestreview-608336454""}"
1623,ClosePR,2021-03-10 05:19:31,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4433526548"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/2f98b8feb297ca0b44f6686870078f2ce8d3d303""}"
1623,Referenced,2021-03-10 05:20:13,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4433529483"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/ef406e0fc4e95448356e34c0d2579bf0f29023bb""}"
1623,Referenced,2021-03-10 05:20:48,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4433531983"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/85e926510085e55605255010245b7669513c906f""}"
1623,Referenced,2022-08-31 20:39:59,RokLenarcic,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7299581047"", ""commit_url"": ""https://api.github.com/repos/RokLenarcic/zookeeper/commits/1650048b83c1aba61b14f58a9e5dc0e4ce081558""}"
1623,Referenced,2022-08-31 20:50:07,RokLenarcic,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7299638007"", ""commit_url"": ""https://api.github.com/repos/RokLenarcic/zookeeper/commits/2e25427909ca0faa990248deed61fc4b78c11870""}"
1623,Referenced,2022-08-31 20:53:39,RokLenarcic,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7299657906"", ""commit_url"": ""https://api.github.com/repos/RokLenarcic/zookeeper/commits/01b7b4de015d4854c5b1466946ef29e700a8a12d""}"
1623,Referenced,2022-09-03 13:14:43,RokLenarcic,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7317065532"", ""commit_url"": ""https://api.github.com/repos/RokLenarcic/zookeeper/commits/7be212a12b13d1623520b584daadd1a35f44a635""}"
1623,Referenced,2022-09-29 09:40:57,RokLenarcic,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7485043900"", ""commit_url"": ""https://api.github.com/repos/RokLenarcic/zookeeper/commits/037158fe653823c59ccf4b5af0e6e556e67ee1a0""}"
1623,CrossReferenced,2022-11-02 08:41:37,anuragmadnawat1,fork_close,ZOOKEEPER-4233: dependency-check:check failing - Jetty 9.4.35.v20201120 - CVE-2020-27223,"{""reference"": {""url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/issues/117"", ""is_pull_request"": true}}"
1623,Referenced,2022-11-02 08:41:38,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7720862464"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/a15668818174819ce6fa845ba4cf307b0ab374b3""}"
1623,Referenced,2022-11-02 08:55:59,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7720978980"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/3c39c48c5cbe00c303811b7cda4db4b7488e8ba5""}"
1624,SubmitCommit,2021-03-07 09:05:29,ztzg,fork_close,ZOOKEEPER-4233: dependency-check:check failing - Jetty 9.4.35.v20201120 - CVE-2020-27223,"{""sha"": ""d3da24cfff10b6706ba6b33ce7347493c17a6a37"", ""author"": {""name"": ""Damien Diederen"", ""email"": ""dd@crosstwine.com"", ""date"": ""2021-03-07T08:54:08Z""}, ""committer"": {""name"": ""Damien Diederen"", ""email"": ""dd@crosstwine.com"", ""date"": ""2021-03-07T09:05:29Z""}}"
1624,OpenPR,2021-03-07 09:22:21,ztzg,fork_close,,
1624,CrossReferenced,2021-03-07 09:28:30,ztzg,fork_close,ZOOKEEPER-4233: dependency-check:check failing - Jetty 9.4.35.v20201120 - CVE-2020-27223,"{""reference"": {""url"": ""https://api.github.com/repos/apache/zookeeper/issues/1623"", ""is_pull_request"": true}}"
1624,ReviewApproved,2021-03-07 11:26:41,eolivelli,fork_close,+1,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1624#pullrequestreview-605835614""}"
1624,ReviewApproved,2021-03-08 14:21:38,arshadmohammad,fork_close,,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1624#pullrequestreview-606339421""}"
1624,Referenced,2021-03-08 15:37:23,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4421922275"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/c78d926cc94de0710a8a7f07dd1f7f1138a3e8cc""}"
1624,IssueComment,2021-03-08 15:39:13,arshadmohammad,fork_close,Merged,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/792839005"", ""author_association"": ""CONTRIBUTOR""}"
1624,IssueCommentSupplement,2021-03-09 09:37:54,ztzg,fork_close,"Thanks!  (No idea why this PR was not automatically closed, though.)","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/793625776"", ""author_association"": ""CONTRIBUTOR""}"
1624,ClosePR,2021-03-09 09:37:54,ztzg,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4426680368"", ""commit_url"": null}"
1625,SubmitCommit,2021-03-07 09:11:19,ztzg,fork_close,ZOOKEEPER-4233: dependency-check:check failing - Jetty 9.4.35.v20201120 - CVE-2020-27223,"{""sha"": ""61792f4a1273bc569d2615e29789188eb8f0635c"", ""author"": {""name"": ""Damien Diederen"", ""email"": ""dd@crosstwine.com"", ""date"": ""2021-03-07T08:54:08Z""}, ""committer"": {""name"": ""Damien Diederen"", ""email"": ""dd@crosstwine.com"", ""date"": ""2021-03-07T09:11:19Z""}}"
1625,OpenPR,2021-03-07 09:25:28,ztzg,fork_close,,
1625,BaseRefChanged,2021-03-07 09:27:37,ztzg,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4417827684"", ""commit_url"": null}"
1625,CrossReferenced,2021-03-07 09:28:30,ztzg,fork_close,ZOOKEEPER-4233: dependency-check:check failing - Jetty 9.4.35.v20201120 - CVE-2020-27223,"{""reference"": {""url"": ""https://api.github.com/repos/apache/zookeeper/issues/1623"", ""is_pull_request"": true}}"
1625,ReviewApproved,2021-03-07 11:27:18,eolivelli,fork_close,LGTM,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1625#pullrequestreview-605835672""}"
1625,ReviewApproved,2021-03-08 14:13:50,arshadmohammad,fork_close,,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1625#pullrequestreview-606327097""}"
1625,Referenced,2021-03-08 15:32:56,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4421898159"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/59f429e77f5802a7dc5ac129451a86247c6b86ad""}"
1625,IssueComment,2021-03-08 15:34:15,arshadmohammad,fork_close,Merged,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/792835764"", ""author_association"": ""CONTRIBUTOR""}"
1625,IssueCommentSupplement,2021-03-09 09:38:19,ztzg,fork_close,"Thanks!  (No idea why this PR was not automatically closed, though.)","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/793626238"", ""author_association"": ""CONTRIBUTOR""}"
1625,ClosePR,2021-03-09 09:38:19,ztzg,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4426683084"", ""commit_url"": null}"
1626,OpenPR,2021-03-09 08:09:26,MuktiKrishnan,fork_close,,
1626,Revise,2021-03-09 11:38:46,MuktiKrishnan,fork_close,ZOOKEEPER-1871: Add an option to zkCli to wailt for connection before executing commands,"{""sha"": ""c475d46fff71d9c27bd9cd45573abec461cb553c"", ""author"": {""name"": ""Mukti"", ""email"": ""muktikrishnan94@gmail.com"", ""date"": ""2021-03-09T08:04:22Z""}, ""committer"": {""name"": ""Mukti"", ""email"": ""muktikrishnan94@gmail.com"", ""date"": ""2021-03-09T11:38:46Z""}}"
1626,RenameTitle,2021-03-09 12:51:23,MuktiKrishnan,fork_close,,"{""rename"": {""from"": ""ZOOKEEPER-1871: Add an option to zkCli to wailt for connection before executing commands"", ""to"": ""ZOOKEEPER-1871: Add an option to zkCli to wait for connection before executing commands""}, ""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4427919596""}"
1626,ReviewComment,2021-03-10 09:52:46,arshadmohammad,fork_close,,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1626#pullrequestreview-608521328""}"
1626,ReviewComment,2021-03-10 10:32:56,arshadmohammad,fork_close,,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1626#pullrequestreview-608559209""}"
1626,Revise,2021-03-10 11:29:06,MuktiKrishnan,fork_close,ZOOKEEPER-1871: Removed statement which was re-creating zookeeper admin in ZooKeeperMain.java and added documentation for waitforconnection in zookeeperCLI.md and,"{""sha"": ""2947514b2b6e9dc126a5e411cb9e59d8523998e3"", ""author"": {""name"": ""Mukti"", ""email"": ""muktikrishnan94@gmail.com"", ""date"": ""2021-03-10T11:29:06Z""}, ""committer"": {""name"": ""Mukti"", ""email"": ""muktikrishnan94@gmail.com"", ""date"": ""2021-03-10T11:29:06Z""}}"
1626,ReviewApproved,2021-03-10 14:37:25,arshadmohammad,fork_close,LGTM +1,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1626#pullrequestreview-608783337""}"
1626,ReviewRequested,2021-03-10 14:42:52,arshadmohammad,fork_close,,"{""requested_reviewer"": {""login"": ""maoling"", ""id"": 11016631, ""node_id"": ""MDQ6VXNlcjExMDE2NjMx"", ""avatar_url"": ""https://avatars.githubusercontent.com/u/11016631?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/maoling"", ""html_url"": ""https://github.com/maoling"", ""followers_url"": ""https://api.github.com/users/maoling/followers"", ""following_url"": ""https://api.github.com/users/maoling/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/maoling/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/maoling/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/maoling/subscriptions"", ""organizations_url"": ""https://api.github.com/users/maoling/orgs"", ""repos_url"": ""https://api.github.com/users/maoling/repos"", ""events_url"": ""https://api.github.com/users/maoling/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/maoling/received_events"", ""type"": ""User"", ""site_admin"": false}, ""requested_team"": null}"
1626,IssueComment,2021-03-11 05:12:18,arshadmohammad,fork_close,ping @maoling ,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/796459166"", ""author_association"": ""CONTRIBUTOR""}"
1626,IssueComment,2021-03-11 18:24:21,arshadmohammad,fork_close,"Comments given by @maoling in https://github.com/apache/zookeeper/pull/1621 are addressed in this PR.
Test failures are not related to this PR.
Merging it now.
","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/796946445"", ""author_association"": ""CONTRIBUTOR""}"
1626,ClosePR,2021-03-11 18:32:53,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4446769637"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/2e400114fdee9a870170749f6573d4499e1a850f""}"
1626,Referenced,2021-03-11 18:33:17,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4446771228"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/842973ee36d975021912a64491ea0b82f2690276""}"
1626,Referenced,2021-03-11 18:33:54,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4446774073"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/834fb00b91472a59c3c266a8a7fbedab662bba38""}"
1626,ReopenPR,2021-03-11 18:37:36,arshadmohammad,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4446789463"", ""commit_url"": null}"
1626,IssueComment,2021-03-11 18:37:36,arshadmohammad,fork_close,@MuktiKrishnan  please raise another PR for branch-3.6,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/796954805"", ""author_association"": ""CONTRIBUTOR""}"
1626,CrossReferenced,2021-03-11 18:38:45,arshadmohammad,fork_close,ZOOKEEPER-1871: Add an option to zkCli to wait for connection before executing commands,"{""reference"": {""url"": ""https://api.github.com/repos/apache/zookeeper/issues/1621"", ""is_pull_request"": true}}"
1626,IssueCommentSupplement,2021-03-15 14:54:05,arshadmohammad,fork_close,Branch-3.6 changes are merged from https://github.com/apache/zookeeper/pull/1621 PR,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/799484387"", ""author_association"": ""CONTRIBUTOR""}"
1626,ClosePR,2021-03-15 14:54:05,arshadmohammad,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4459235749"", ""commit_url"": null}"
1626,Referenced,2022-08-31 20:39:59,RokLenarcic,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7299581062"", ""commit_url"": ""https://api.github.com/repos/RokLenarcic/zookeeper/commits/8e3546dfec1c2a04b545531cffab4bc1fdad14f4""}"
1626,Referenced,2022-08-31 20:50:07,RokLenarcic,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7299638037"", ""commit_url"": ""https://api.github.com/repos/RokLenarcic/zookeeper/commits/66efec212a88246767be5d99eff6f7d860a7d327""}"
1626,Referenced,2022-08-31 20:53:39,RokLenarcic,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7299657938"", ""commit_url"": ""https://api.github.com/repos/RokLenarcic/zookeeper/commits/ed5b131b688017c8269c8452f67a96dfaa9c238d""}"
1626,Referenced,2022-09-03 13:14:43,RokLenarcic,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7317065543"", ""commit_url"": ""https://api.github.com/repos/RokLenarcic/zookeeper/commits/d0669e44008f344a589601765ebcee43eb95b162""}"
1626,Referenced,2022-09-29 09:40:57,RokLenarcic,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7485043928"", ""commit_url"": ""https://api.github.com/repos/RokLenarcic/zookeeper/commits/a77ef0d1e8bc291c2a13fad5747b997386642a4f""}"
1626,Referenced,2022-11-02 09:01:08,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7721032256"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/e0ced56dc8bb3fa67bae466f7cd7c2cfadba50c4""}"
1626,CrossReferenced,2022-11-02 09:01:08,anuragmadnawat1,fork_close,ZOOKEEPER-1871: Add an option to zkCli to wait for connection before executing commands,"{""reference"": {""url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/issues/120"", ""is_pull_request"": true}}"
1626,Referenced,2022-11-02 09:03:28,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7721059235"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/bd2fe2ba995f6d4f6cc40bad6793034379551cdc""}"
1626,Referenced,2022-11-23 14:18:40,RokLenarcic,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7877710305"", ""commit_url"": ""https://api.github.com/repos/RokLenarcic/zookeeper/commits/102d5aaa573abb6cce364b814954ff9e10813064""}"
1627,SubmitCommit,2021-03-09 10:11:07,ztzg,fork_close,"ZOOKEEPER-4232: Run InvalidSnapshotTest on a copy of test data

Without this, the ZooKeeperServer ""fixes"" the 'snapshot.83f' reference
file, which:

 1. Makes the test ineffective after the first run;
 2. Causes the file to show as modified in version control tools;
 3. Can end up committed by accident.

This patch creates a temporary copy of the data directory.","{""sha"": ""42a5a0b6ddc86f14eaf56acfab41ea97b949d171"", ""author"": {""name"": ""Damien Diederen"", ""email"": ""dd@crosstwine.com"", ""date"": ""2021-03-06T18:12:05Z""}, ""committer"": {""name"": ""Damien Diederen"", ""email"": ""dd@crosstwine.com"", ""date"": ""2021-03-09T10:11:07Z""}}"
1627,SubmitCommit,2021-03-09 10:11:19,ztzg,fork_close,ZOOKEEPER-4232: Ensure that ZOOKEEPER-367 test data fails to parse,"{""sha"": ""c18a895fa08045d8aeb32daa039c7d1208b6ab80"", ""author"": {""name"": ""Damien Diederen"", ""email"": ""dd@crosstwine.com"", ""date"": ""2021-03-06T18:15:28Z""}, ""committer"": {""name"": ""Damien Diederen"", ""email"": ""dd@crosstwine.com"", ""date"": ""2021-03-09T10:11:19Z""}}"
1627,OpenPR,2021-03-09 10:26:18,ztzg,fork_close,,
1627,CrossReferenced,2021-03-09 10:31:03,ztzg,fork_close,ZOOKEEPER-4232: InvalidSnapshotTest corrupts its own test data,"{""reference"": {""url"": ""https://api.github.com/repos/apache/zookeeper/issues/1622"", ""is_pull_request"": true}}"
1627,IssueComment,2021-03-09 16:23:50,arshadmohammad,fork_close,"""CI / mvn (full-build-cppunit-tests"" failure seems not related to this PR.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/794117051"", ""author_association"": ""CONTRIBUTOR""}"
1627,ReviewApproved,2021-03-09 17:14:37,arshadmohammad,fork_close,LGTM +1,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1627#pullrequestreview-607660056""}"
1627,Referenced,2021-03-09 17:15:13,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4429982923"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/4a19dd12ed50bca4ae17f1fa0ce01c551d9d4915""}"
1627,Referenced,2021-03-09 17:15:42,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4429986254"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/4f89853db4d1f8601684928575c65da24c9d4bf1""}"
1627,IssueCommentSupplement,2021-03-09 17:19:35,arshadmohammad,fork_close,Merged,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/794188000"", ""author_association"": ""CONTRIBUTOR""}"
1627,ClosePR,2021-03-09 17:19:35,arshadmohammad,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4430012106"", ""commit_url"": null}"
1628,SubmitCommit,2021-03-09 10:13:37,ztzg,fork_close,"ZOOKEEPER-4232: Run InvalidSnapshotTest on a copy of test data

Without this, the ZooKeeperServer ""fixes"" the 'snapshot.83f' reference
file, which:

 1. Makes the test ineffective after the first run;
 2. Causes the file to show as modified in version control tools;
 3. Can end up committed by accident.

This patch creates a temporary copy of the data directory.","{""sha"": ""a8ce9e5117f6447ea3b7b24caa5f5dec344aed85"", ""author"": {""name"": ""Damien Diederen"", ""email"": ""dd@crosstwine.com"", ""date"": ""2021-03-06T18:12:05Z""}, ""committer"": {""name"": ""Damien Diederen"", ""email"": ""dd@crosstwine.com"", ""date"": ""2021-03-09T10:13:37Z""}}"
1628,SubmitCommit,2021-03-09 10:14:19,ztzg,fork_close,ZOOKEEPER-4232: Ensure that ZOOKEEPER-367 test data fails to parse,"{""sha"": ""508d6a393c90f16bd694d44b4338ed9f38e1b9a2"", ""author"": {""name"": ""Damien Diederen"", ""email"": ""dd@crosstwine.com"", ""date"": ""2021-03-06T18:15:28Z""}, ""committer"": {""name"": ""Damien Diederen"", ""email"": ""dd@crosstwine.com"", ""date"": ""2021-03-09T10:14:19Z""}}"
1628,OpenPR,2021-03-09 10:27:21,ztzg,fork_close,,
1628,CrossReferenced,2021-03-09 10:31:03,ztzg,fork_close,ZOOKEEPER-4232: InvalidSnapshotTest corrupts its own test data,"{""reference"": {""url"": ""https://api.github.com/repos/apache/zookeeper/issues/1622"", ""is_pull_request"": true}}"
1628,ReviewApproved,2021-03-09 14:11:19,arshadmohammad,fork_close,LGTM +1,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1628#pullrequestreview-607448240""}"
1628,Referenced,2021-03-09 14:27:52,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4428713006"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/af43cde41971693b2a2db2837655a6c6b10fabbc""}"
1628,IssueCommentSupplement,2021-03-09 14:29:25,arshadmohammad,fork_close,Merged.,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/793971098"", ""author_association"": ""CONTRIBUTOR""}"
1628,ClosePR,2021-03-09 14:29:25,arshadmohammad,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4428727147"", ""commit_url"": null}"
1629,SubmitCommit,2021-03-09 10:18:48,ztzg,fork_close,"ZOOKEEPER-4232: Run InvalidSnapshotTest on a copy of test data

Without this, the ZooKeeperServer ""fixes"" the 'snapshot.83f' reference
file, which:

 1. Makes the test ineffective after the first run;
 2. Causes the file to show as modified in version control tools;
 3. Can end up committed by accident.

This patch creates a temporary copy of the data directory.","{""sha"": ""680c57ad24ed654b8260c117735c3e58a8ff418f"", ""author"": {""name"": ""Damien Diederen"", ""email"": ""dd@crosstwine.com"", ""date"": ""2021-03-06T18:12:05Z""}, ""committer"": {""name"": ""Damien Diederen"", ""email"": ""dd@crosstwine.com"", ""date"": ""2021-03-09T10:18:48Z""}}"
1629,SubmitCommit,2021-03-09 10:20:08,ztzg,fork_close,ZOOKEEPER-4232: Ensure that ZOOKEEPER-367 test data fails to parse,"{""sha"": ""52864050455783a2e506c1cb3adc7e751de8697f"", ""author"": {""name"": ""Damien Diederen"", ""email"": ""dd@crosstwine.com"", ""date"": ""2021-03-06T18:15:28Z""}, ""committer"": {""name"": ""Damien Diederen"", ""email"": ""dd@crosstwine.com"", ""date"": ""2021-03-09T10:20:08Z""}}"
1629,OpenPR,2021-03-09 10:28:12,ztzg,fork_close,,
1629,CrossReferenced,2021-03-09 10:31:03,ztzg,fork_close,ZOOKEEPER-4232: InvalidSnapshotTest corrupts its own test data,"{""reference"": {""url"": ""https://api.github.com/repos/apache/zookeeper/issues/1622"", ""is_pull_request"": true}}"
1629,ReviewApproved,2021-03-09 14:18:28,arshadmohammad,fork_close,LGTM +1,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1629#pullrequestreview-607456377""}"
1629,Referenced,2021-03-09 17:11:10,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4429956262"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/082537d4685c60419314cce7997d9b137d2d7f46""}"
1629,IssueCommentSupplement,2021-03-09 17:12:38,arshadmohammad,fork_close,Merged,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/794179511"", ""author_association"": ""CONTRIBUTOR""}"
1629,ClosePR,2021-03-09 17:12:38,arshadmohammad,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4429965951"", ""commit_url"": null}"
1629,IssueCommentSupplement,2021-03-09 19:38:40,ztzg,fork_close,"Thank you, @arshadmohammad!","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/794356110"", ""author_association"": ""CONTRIBUTOR""}"
1630,SubmitCommit,2021-03-09 12:23:44,symat,fork_close,"ZOOKEEPER-4220: Potential redundant connection attempts during leader election

We have a logic in the server code, that would try to connect to an other quorum member, based
on its server ID. We identify the address assigned to this ID first based on the last committed
quorum configuration. If the connection attempt fails (or the server is not known in the
committed configuration) then we try to find the address based on the last proposed quorum
configuration. But we should do the second connection attempt, only if the address in the
last proposed configuration differs from the address in the last committed configuration.
Otherwise we would just retry to connect to the same address that failed just right before.

In the current code we have a bug, because we compare the address object references (use ""!="")
instead of comparing the objects themselves (using ""not equals""). In certain edge cases (e.g.
when the last proposed and last committed addresses are the same, but the address is unreachable)
this bug can lead to unnecessary retry of connection attempts. The normal behaviour would be to
mark this connection attempt to be failed and wait for e.g. the next election round or wait for
the other server to come online and initiate a connection to us.

Author: Mate Szalay-Beko <symat@apache.org>

Reviewers: Andor Molnar <anmolnar@apache.org>, Damien Diederen <ddiederen@apache.org>

Closes #1615 from symat/ZOOKEEPER-4220","{""sha"": ""22e0955d251652c9ae49282b8fa8c9aa994ff50f"", ""author"": {""name"": ""Mate Szalay-Beko"", ""email"": ""symat@apache.org"", ""date"": ""2021-03-09T12:22:53Z""}, ""committer"": {""name"": ""Mate Szalay-Beko"", ""email"": ""symat@apache.org"", ""date"": ""2021-03-09T12:23:44Z""}}"
1630,OpenPR,2021-03-09 12:25:53,symat,fork_close,,
1630,IssueComment,2021-03-09 12:26:18,symat,fork_close,created this PR to kick-in CI on branch 3.6 for #1615,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/793812515"", ""author_association"": ""CONTRIBUTOR""}"
1630,RenameTitle,2021-03-09 12:34:58,symat,fork_close,,"{""rename"": {""from"": ""ZOOKEEPER-4220: Potential redundant connection attempts during leaderelection - branch-3.6"", ""to"": ""ZOOKEEPER-4220: Potential redundant connection attempts during leader election - branch-3.6""}, ""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4427818788""}"
1630,CrossReferenced,2021-03-09 12:36:56,symat,fork_close,ZOOKEEPER-4220: Potential redundant connection attempts during leader election,"{""reference"": {""url"": ""https://api.github.com/repos/apache/zookeeper/issues/1615"", ""is_pull_request"": true}}"
1630,IssueComment,2021-03-09 17:01:30,symat,fork_close,"CI is green, I'll go ahead and merge this, as the original PR #1615 for 3.7.0 was already reviewed by @anmolnar and @ztzg ","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/794165945"", ""author_association"": ""CONTRIBUTOR""}"
1630,Referenced,2021-03-09 17:06:25,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4429924264"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/9f39c33cc352be24ab8402d510aadc72849d650e""}"
1630,ClosePR,2021-03-09 17:10:15,symat,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4429950346"", ""commit_url"": null}"
1630,CrossReferenced,2021-08-24 23:24:39,nikore,fork_close,Updating Zookeeper to 3.6.3 to bring in some upstream bug fixes,"{""reference"": {""url"": ""https://api.github.com/repos/pravega/zookeeper-operator/issues/383"", ""is_pull_request"": true}}"
1631,SubmitCommit,2021-03-09 12:32:16,symat,fork_close,"ZOOKEEPER-4220: Potential redundant connection attempts during leader election

We have a logic in the server code, that would try to connect to an other quorum member, based
on its server ID. We identify the address assigned to this ID first based on the last committed
quorum configuration. If the connection attempt fails (or the server is not known in the
committed configuration) then we try to find the address based on the last proposed quorum
configuration. But we should do the second connection attempt, only if the address in the
last proposed configuration differs from the address in the last committed configuration.
Otherwise we would just retry to connect to the same address that failed just right before.

In the current code we have a bug, because we compare the address object references (use ""!="")
instead of comparing the objects themselves (using ""not equals""). In certain edge cases (e.g.
when the last proposed and last committed addresses are the same, but the address is unreachable)
this bug can lead to unnecessary retry of connection attempts. The normal behaviour would be to
mark this connection attempt to be failed and wait for e.g. the next election round or wait for
the other server to come online and initiate a connection to us.

Author: Mate Szalay-Beko <symat@apache.org>

Reviewers: Andor Molnar <anmolnar@apache.org>, Damien Diederen <ddiederen@apache.org>

Closes #1615 from symat/ZOOKEEPER-4220","{""sha"": ""8f8957260616abd05cad2d6de74ceab59bd2b7f6"", ""author"": {""name"": ""Mate Szalay-Beko"", ""email"": ""symat@apache.org"", ""date"": ""2021-03-09T12:32:16Z""}, ""committer"": {""name"": ""Mate Szalay-Beko"", ""email"": ""symat@apache.org"", ""date"": ""2021-03-09T12:32:16Z""}}"
1631,OpenPR,2021-03-09 12:34:52,symat,fork_close,,
1631,IssueComment,2021-03-09 12:35:14,symat,fork_close,created this PR to kick-in CI on branch 3.5 for #1615,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/793822001"", ""author_association"": ""CONTRIBUTOR""}"
1631,CrossReferenced,2021-03-09 12:36:56,symat,fork_close,ZOOKEEPER-4220: Potential redundant connection attempts during leader election,"{""reference"": {""url"": ""https://api.github.com/repos/apache/zookeeper/issues/1615"", ""is_pull_request"": true}}"
1631,IssueComment,2021-03-09 17:01:42,symat,fork_close,"CI is green, I'll go ahead and merge this, as the original PR #1615 for 3.7.0 was already reviewed by @anmolnar and @ztzg ","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/794166171"", ""author_association"": ""CONTRIBUTOR""}"
1631,Referenced,2021-03-09 17:08:22,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4429937489"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/755cb27914589531b338f76cc7dae89775493ab4""}"
1631,ClosePR,2021-03-09 17:10:21,symat,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4429950998"", ""commit_url"": null}"
1631,IssueCommentSupplement,2021-03-09 19:37:56,ztzg,fork_close,"Thank you for taking care of it, @symat!","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/794355248"", ""author_association"": ""CONTRIBUTOR""}"
1633,SubmitCommit,2021-03-10 09:54:01,MuktiKrishnan,fork_close,ZOOKEEPER-4230: Use dynamic temp folder instead of static temp folder in RestMain,"{""sha"": ""d31860467b3074f37ea11899f533bc21735dea8a"", ""author"": {""name"": ""Mukti"", ""email"": ""muktikrishnan94@gmail.com"", ""date"": ""2021-03-10T09:54:01Z""}, ""committer"": {""name"": ""Mukti"", ""email"": ""muktikrishnan94@gmail.com"", ""date"": ""2021-03-10T09:54:01Z""}}"
1633,OpenPR,2021-03-10 09:54:45,MuktiKrishnan,fork_close,,
1633,ClosePR,2021-03-10 11:33:27,MuktiKrishnan,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4435630793"", ""commit_url"": null}"
1633,ReopenPR,2021-03-10 11:33:34,MuktiKrishnan,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4435631582"", ""commit_url"": null}"
1633,ReviewApproved,2021-03-10 11:38:04,eolivelli,fork_close,LGTM,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1633#pullrequestreview-608614528""}"
1633,ReviewApproved,2021-03-10 16:16:33,arshadmohammad,fork_close,LGTM +1,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1633#pullrequestreview-608901106""}"
1633,IssueComment,2021-03-10 16:17:41,arshadmohammad,fork_close,retest maven build,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/795676904"", ""author_association"": ""CONTRIBUTOR""}"
1633,ClosePR,2021-03-10 16:42:21,MuktiKrishnan,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4437742094"", ""commit_url"": null}"
1633,ReopenPR,2021-03-10 16:42:32,MuktiKrishnan,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4437743319"", ""commit_url"": null}"
1633,IssueComment,2021-03-11 04:57:36,arshadmohammad,fork_close,CI / mvn (full-build-cppunit-tests)  test failure not related to this PR.,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/796453116"", ""author_association"": ""CONTRIBUTOR""}"
1633,ClosePR,2021-03-11 05:04:34,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4441621988"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/04471b2e117a0cbe08c42b0482f0adca93494e7c""}"
1633,Referenced,2021-03-11 05:04:58,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4441623944"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/2a88476bf84bcca9ab5d62404e85521b04636fd7""}"
1633,Referenced,2021-03-11 05:05:46,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4441627656"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/9afa065cf55d9b93351efe8c988ba850cb4cc246""}"
1633,Referenced,2021-03-11 05:06:27,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4441631107"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/cf306c07182e642bdbeb26b2a4e90fdda8f8dd5e""}"
1633,CrossReferenced,2021-03-11 05:09:49,arshadmohammad,fork_close,ZOOKEEPER-4230: tmp is not configurable in zookeeper-contrib-rest,"{""reference"": {""url"": ""https://api.github.com/repos/apache/zookeeper/issues/1620"", ""is_pull_request"": true}}"
1633,Referenced,2022-08-31 20:39:59,RokLenarcic,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7299581058"", ""commit_url"": ""https://api.github.com/repos/RokLenarcic/zookeeper/commits/4d47b537db485080aadbb1a6177021ffece124dd""}"
1633,Referenced,2022-08-31 20:50:07,RokLenarcic,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7299638027"", ""commit_url"": ""https://api.github.com/repos/RokLenarcic/zookeeper/commits/e0969ace44383ce51feed182408ed111631176f9""}"
1633,Referenced,2022-08-31 20:53:39,RokLenarcic,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7299657925"", ""commit_url"": ""https://api.github.com/repos/RokLenarcic/zookeeper/commits/971440126d121390b601bf89b12eac92bd5343ea""}"
1633,Referenced,2022-09-03 13:14:43,RokLenarcic,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7317065539"", ""commit_url"": ""https://api.github.com/repos/RokLenarcic/zookeeper/commits/0e3986a1d3f01016019ef608366400e23f1a3a68""}"
1633,Referenced,2022-09-29 09:40:57,RokLenarcic,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7485043920"", ""commit_url"": ""https://api.github.com/repos/RokLenarcic/zookeeper/commits/74633b6ed99ffe158a87c19f3987b569f276df68""}"
1633,CrossReferenced,2022-11-02 08:58:45,anuragmadnawat1,fork_close,ZOOKEEPER-4230: Use dynamic temp folder instead of static temp folder in RestMain,"{""reference"": {""url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/issues/119"", ""is_pull_request"": true}}"
1633,Referenced,2022-11-02 08:58:46,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7721003260"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/e8708fcb0b9bc52b919a7411f3f458e9d71a912b""}"
1633,Referenced,2022-11-02 09:01:05,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7721031765"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/95513d66a96ce171af61d8d4450a48587bd4608f""}"
1633,Referenced,2022-11-23 14:18:40,RokLenarcic,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7877710299"", ""commit_url"": ""https://api.github.com/repos/RokLenarcic/zookeeper/commits/ea51992c142e60e2681a0b046c2dcfe79331cc4d""}"
1634,OpenPR,2021-03-10 13:31:08,arshadmohammad,fork_close,,
1634,Revise,2021-03-10 13:31:42,arshadmohammad,fork_close,ZOOKEEPER-3128: Get CLI Command displays Authentication error for Authorization error,"{""sha"": ""11ae5d2c24f2955f721cf7cf23840c28734e3992"", ""author"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2021-03-10T13:31:42Z""}, ""committer"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2021-03-10T13:31:42Z""}}"
1634,ReviewRequested,2021-03-15 13:55:41,arshadmohammad,fork_close,,"{""requested_reviewer"": {""login"": ""ztzg"", ""id"": 393108, ""node_id"": ""MDQ6VXNlcjM5MzEwOA=="", ""avatar_url"": ""https://avatars.githubusercontent.com/u/393108?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/ztzg"", ""html_url"": ""https://github.com/ztzg"", ""followers_url"": ""https://api.github.com/users/ztzg/followers"", ""following_url"": ""https://api.github.com/users/ztzg/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/ztzg/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/ztzg/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/ztzg/subscriptions"", ""organizations_url"": ""https://api.github.com/users/ztzg/orgs"", ""repos_url"": ""https://api.github.com/users/ztzg/repos"", ""events_url"": ""https://api.github.com/users/ztzg/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/ztzg/received_events"", ""type"": ""User"", ""site_admin"": false}, ""requested_team"": null}"
1634,ReviewRequested,2021-03-15 13:55:41,arshadmohammad,fork_close,,"{""requested_reviewer"": {""login"": ""eolivelli"", ""id"": 9469110, ""node_id"": ""MDQ6VXNlcjk0NjkxMTA="", ""avatar_url"": ""https://avatars.githubusercontent.com/u/9469110?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/eolivelli"", ""html_url"": ""https://github.com/eolivelli"", ""followers_url"": ""https://api.github.com/users/eolivelli/followers"", ""following_url"": ""https://api.github.com/users/eolivelli/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/eolivelli/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/eolivelli/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/eolivelli/subscriptions"", ""organizations_url"": ""https://api.github.com/users/eolivelli/orgs"", ""repos_url"": ""https://api.github.com/users/eolivelli/repos"", ""events_url"": ""https://api.github.com/users/eolivelli/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/eolivelli/received_events"", ""type"": ""User"", ""site_admin"": false}, ""requested_team"": null}"
1634,ReviewRequestRemoved,2021-03-15 13:55:50,arshadmohammad,fork_close,,"{""requested_reviewer"": {""login"": ""ztzg"", ""id"": 393108, ""node_id"": ""MDQ6VXNlcjM5MzEwOA=="", ""avatar_url"": ""https://avatars.githubusercontent.com/u/393108?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/ztzg"", ""html_url"": ""https://github.com/ztzg"", ""followers_url"": ""https://api.github.com/users/ztzg/followers"", ""following_url"": ""https://api.github.com/users/ztzg/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/ztzg/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/ztzg/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/ztzg/subscriptions"", ""organizations_url"": ""https://api.github.com/users/ztzg/orgs"", ""repos_url"": ""https://api.github.com/users/ztzg/repos"", ""events_url"": ""https://api.github.com/users/ztzg/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/ztzg/received_events"", ""type"": ""User"", ""site_admin"": false}, ""requested_team"": null}"
1634,ReviewRequested,2021-03-17 07:51:02,arshadmohammad,fork_close,,"{""requested_reviewer"": {""login"": ""ztzg"", ""id"": 393108, ""node_id"": ""MDQ6VXNlcjM5MzEwOA=="", ""avatar_url"": ""https://avatars.githubusercontent.com/u/393108?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/ztzg"", ""html_url"": ""https://github.com/ztzg"", ""followers_url"": ""https://api.github.com/users/ztzg/followers"", ""following_url"": ""https://api.github.com/users/ztzg/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/ztzg/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/ztzg/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/ztzg/subscriptions"", ""organizations_url"": ""https://api.github.com/users/ztzg/orgs"", ""repos_url"": ""https://api.github.com/users/ztzg/repos"", ""events_url"": ""https://api.github.com/users/ztzg/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/ztzg/received_events"", ""type"": ""User"", ""site_admin"": false}, ""requested_team"": null}"
1634,ReviewApproved,2021-03-17 09:00:53,ztzg,fork_close,LGTM & tested on top of current `master`.,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1634#pullrequestreview-614059228""}"
1634,IssueComment,2021-03-27 17:13:00,arshadmohammad,fork_close,Test failures not related this PR change.,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/808763963"", ""author_association"": ""CONTRIBUTOR""}"
1634,ClosePR,2021-03-27 17:20:50,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4517270312"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/de726d0a824582e482d4a725210fcd6051cb3bd0""}"
1634,Referenced,2021-03-27 17:21:12,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4517270609"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/dfa262bfa9dd04ea5017fa29bd68f19800a07d32""}"
1634,IssueCommentSupplement,2021-03-27 17:41:43,arshadmohammad,fork_close,Merged to master and branch-3.7. Created PR https://github.com/apache/zookeeper/pull/1656 for branch-3.6,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/808767911"", ""author_association"": ""CONTRIBUTOR""}"
1634,Referenced,2022-11-02 09:25:16,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7721359271"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/8cf49ae9ce94d59d869e0304afba0101283370b0""}"
1634,CrossReferenced,2022-11-02 09:25:16,anuragmadnawat1,fork_close,ZOOKEEPER-3128: Get CLI Command displays Authentication error for Authorization error,"{""reference"": {""url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/issues/125"", ""is_pull_request"": true}}"
1634,Referenced,2022-11-02 09:27:15,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7721376674"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/0e2868844392542e3eb3238457e193786bbf7f46""}"
1635,OpenPR,2021-03-10 15:01:37,arshadmohammad,fork_close,,
1635,IssueComment,2021-03-10 15:02:13,arshadmohammad,fork_close,PR for branch-3.7 and branch-3.7.0,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/795559460"", ""author_association"": ""CONTRIBUTOR""}"
1635,Revise,2021-03-10 15:03:13,arshadmohammad,fork_close,ZOOKEEPER-4227: X509AuthFailureTest is failing consistently,"{""sha"": ""10ccf76e99ac7008382c2eea0b0f69213b2f6df2"", ""author"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2021-03-10T15:03:13Z""}, ""committer"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2021-03-10T15:03:13Z""}}"
1635,CrossReferenced,2021-03-10 15:07:51,arshadmohammad,fork_close,ZOOKEEPER-4227: X509AuthFailureTest is failing consistently,"{""reference"": {""url"": ""https://api.github.com/repos/apache/zookeeper/issues/1616"", ""is_pull_request"": true}}"
1635,ReviewRequested,2021-03-10 16:13:24,eolivelli,fork_close,,"{""requested_reviewer"": {""login"": ""ztzg"", ""id"": 393108, ""node_id"": ""MDQ6VXNlcjM5MzEwOA=="", ""avatar_url"": ""https://avatars.githubusercontent.com/u/393108?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/ztzg"", ""html_url"": ""https://github.com/ztzg"", ""followers_url"": ""https://api.github.com/users/ztzg/followers"", ""following_url"": ""https://api.github.com/users/ztzg/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/ztzg/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/ztzg/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/ztzg/subscriptions"", ""organizations_url"": ""https://api.github.com/users/ztzg/orgs"", ""repos_url"": ""https://api.github.com/users/ztzg/repos"", ""events_url"": ""https://api.github.com/users/ztzg/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/ztzg/received_events"", ""type"": ""User"", ""site_admin"": false}, ""requested_team"": null}"
1635,IssueComment,2021-03-10 16:13:48,eolivelli,fork_close,@ztzg I will let you follow the merge to 3.7 branch as you are currently driving the release,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/795671333"", ""author_association"": ""CONTRIBUTOR""}"
1635,ReviewApproved,2021-03-10 16:13:55,eolivelli,fork_close,,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1635#pullrequestreview-608898087""}"
1635,CrossReferenced,2021-03-16 16:47:16,arshadmohammad,fork_close,ZOOKEEPER-4205: Change X509AuthFailureTest to use dynamically assigne…,"{""reference"": {""url"": ""https://api.github.com/repos/apache/zookeeper/issues/1599"", ""is_pull_request"": true}}"
1635,IssueComment,2021-03-16 16:49:18,arshadmohammad,fork_close,"This PR change is very simple change, shall we merge it. @eolivelli please merge it.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/800431439"", ""author_association"": ""CONTRIBUTOR""}"
1635,ReviewApproved,2021-03-17 07:16:07,ztzg,fork_close,"LGTM; +1.

@eolivelli: Will do so in a few minutes.

@arshadmohammad: Sorry for the delay.","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1635#pullrequestreview-613979832""}"
1635,Referenced,2021-03-17 07:23:23,ztzg,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4468510209"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/c5f2381dc3af678e122b42ad40f47f539f593ff1""}"
1635,IssueCommentSupplement,2021-03-17 07:24:26,ztzg,fork_close,Now in `branch-3.7` and `branch-3.7.0`; closing.,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/800859272"", ""author_association"": ""CONTRIBUTOR""}"
1635,ClosePR,2021-03-17 07:24:26,ztzg,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4468514123"", ""commit_url"": null}"
1635,Referenced,2021-03-17 07:31:51,ztzg,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4468541735"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/0ac80c8a7178a3a584e2b5d31c0f7ce56a11292d""}"
1635,IssueCommentSupplement,2021-03-17 07:44:51,arshadmohammad,fork_close,"Thanks @eolivelli  for review
Thanks @ztzg  for review and merge","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/800870802"", ""author_association"": ""CONTRIBUTOR""}"
1636,OpenPR,2021-03-10 15:05:40,arshadmohammad,fork_close,,
1636,Revise,2021-03-10 15:07:07,arshadmohammad,fork_close,ZOOKEEPER-4227: X509AuthFailureTest is failing consistently,"{""sha"": ""6bdcc2c7a7cfb8aa6aec43056fd075ec11aedb27"", ""author"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2021-03-10T15:07:07Z""}, ""committer"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2021-03-10T15:07:07Z""}}"
1636,CrossReferenced,2021-03-10 15:07:51,arshadmohammad,fork_close,ZOOKEEPER-4227: X509AuthFailureTest is failing consistently,"{""reference"": {""url"": ""https://api.github.com/repos/apache/zookeeper/issues/1616"", ""is_pull_request"": true}}"
1636,Referenced,2021-03-10 16:12:58,eolivelli,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4437531448"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/732a3d3d8f0338a787a91fa4b1975c63e56d48a4""}"
1636,IssueCommentSupplement,2021-03-10 16:27:11,arshadmohammad,fork_close,Merged,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/795689996"", ""author_association"": ""CONTRIBUTOR""}"
1636,ClosePR,2021-03-10 16:27:11,arshadmohammad,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4437637602"", ""commit_url"": null}"
1637,OpenPR,2021-03-11 16:41:26,arshadmohammad,fork_close,,
1637,IssueComment,2021-03-11 16:50:02,eolivelli,fork_close,is this feature based on log4j 1 ?,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/796880991"", ""author_association"": ""CONTRIBUTOR""}"
1637,IssueComment,2021-03-11 16:51:27,arshadmohammad,fork_close,"> is this feature based on log4j 1 ?

Yes","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/796882003"", ""author_association"": ""CONTRIBUTOR""}"
1637,IssueComment,2021-03-11 17:05:30,eolivelli,fork_close,"I believe we must drop log4j1 soon, because it is EOL and unsupported and it has a few CVS.
So the short term plan is to remove it at all","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/796892596"", ""author_association"": ""CONTRIBUTOR""}"
1637,IssueComment,2021-03-11 17:12:37,arshadmohammad,fork_close,"> I believe we must drop log4j1 soon, because it is EOL and unsupported and it has a few CVS.
> So the short term plan is to remove it at all

AFAIK, moving to log4j2 is in discussion from long time but for one or other reasons getting stuck. This change I have tried to make it very independent, there is only one line change in main zookeeper code.

So whenever migration to log4j2 happens this feature can be easily removed, also these capabilities are already there in log4j2. There will no need to have this feature. Anyway we have to remove it.

But until migration to log4j2 happens, can we keep this? What you suggest?
","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/796897813"", ""author_association"": ""CONTRIBUTOR""}"
1637,Revise,2021-03-11 18:20:38,arshadmohammad,fork_close,ZOOKEEPER-4241: Change log level without restarting zookeeper,"{""sha"": ""1794a45280d7021fea072d68844a759e6ba3b92a"", ""author"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2021-03-11T08:06:19Z""}, ""committer"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2021-03-11T18:20:38Z""}}"
1637,IssueComment,2021-03-12 15:28:35,ctubbsii,fork_close,"I think it would be more constructive to focus on furthering the migration to log4j2. This is a built-in feature of log4j2 that is easy to maintain. This change, on the other hand, further entrenches the direct use of log4j1 in the code, rather than the preferred slf4j logging facade.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/797562422"", ""author_association"": ""MEMBER""}"
1637,IssueComment,2021-03-15 18:44:30,arshadmohammad,fork_close,"> This change, on the other hand, further entrenches the direct use of log4j1 in the code, rather than the preferred slf4j logging facade.
Removed direct use of log4j1","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/799663365"", ""author_association"": ""CONTRIBUTOR""}"
1637,Revise,2021-03-15 18:44:34,arshadmohammad,fork_close,Removed hard coded reference of log4j1 APIs. Using those APIs through reflection.,"{""sha"": ""06c69ca2a6960f845204a74709d6f5315684e43a"", ""author"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2021-03-15T18:44:34Z""}, ""committer"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2021-03-15T18:44:34Z""}}"
1637,ReviewComment,2021-03-16 09:37:58,anmolnar,fork_close,"I don't support adding this either especially if log4j2 has built-in support for it. What's the latest with log4j2 migration? Where are we stand?

Also removing a feature is dangerous and not backward-compatible. If we introduce this here, we'll have to continue supporting it in future versions or - once log4j migration happened - create some mechanism to transforms these settings into log4j2 config somehow.","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1637#pullrequestreview-613027994""}"
1637,ReviewComment,2021-04-13 03:12:45,abidaJustice,fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1637#pullrequestreview-634134771""}"
1637,ClosePR,2022-05-15 18:08:12,arshadmohammad,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6611628825"", ""commit_url"": null}"
1638,SubmitCommit,2021-03-11 22:46:37,kelloggm,fork_close,ZOOKEEPER-4246: Resource leaks in org.apache.zookeeper.server.persistence.SnapStream#getInputStream and #getOutputStream,"{""sha"": ""e896efa6a93af1366466cfce27ab632c5cbd97cf"", ""author"": {""name"": ""Martin Kellogg"", ""email"": ""kelloggm@cs.washington.edu"", ""date"": ""2021-03-11T22:46:37Z""}, ""committer"": {""name"": ""Martin Kellogg"", ""email"": ""kelloggm@cs.washington.edu"", ""date"": ""2021-03-11T22:46:37Z""}}"
1638,OpenPR,2021-03-11 22:50:10,kelloggm,fork_close,,
1638,Revise,2021-03-12 18:26:12,kelloggm,fork_close,fix accidental tab,"{""sha"": ""04c4b2fa65f640d04970cd6fe003240ecb6c6226"", ""author"": {""name"": ""Martin Kellogg"", ""email"": ""kelloggm@cs.washington.edu"", ""date"": ""2021-03-12T18:26:12Z""}, ""committer"": {""name"": ""Martin Kellogg"", ""email"": ""kelloggm@cs.washington.edu"", ""date"": ""2021-03-12T18:26:12Z""}}"
1638,Revise,2021-03-12 20:30:10,kelloggm,fork_close,remove all the tabs for real,"{""sha"": ""f023851ba7ba5745a4a2b14976de8b21da190689"", ""author"": {""name"": ""Martin Kellogg"", ""email"": ""kelloggm@cs.washington.edu"", ""date"": ""2021-03-12T20:30:10Z""}, ""committer"": {""name"": ""Martin Kellogg"", ""email"": ""kelloggm@cs.washington.edu"", ""date"": ""2021-03-12T20:30:10Z""}}"
1638,IssueComment,2021-03-28 07:26:12,maoling,fork_close,"@kelloggm  Looks reasonable.

>  I noticed the first because of the use of the error-prone `GZIPOutputStream`, and the other two after looking at the surrounding code.

Could you please show us how the `error-prone` complain about this?","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/808859314"", ""author_association"": ""MEMBER""}"
1638,IssueComment,2021-03-29 17:39:21,kelloggm,fork_close,"@maoling Sorry for the confusion. You asked:

> Could you please show us how the error-prone complain about this?

in reference to my comment:

> I noticed the first because of the use of the error-prone GZIPOutputStream, and the other two after looking at the surrounding code.

In this comment, I'm using ""error-prone"" as an [adjective](https://en.wiktionary.org/wiki/error-prone) - i.e. I'm saying that I think GZIPOutputStream is easy to use incorrectly. I did not intend to refer to [error-prone](https://github.com/google/error-prone), Google's code analysis tool. From your comment, it sounds like you understood me to mean that tool - sorry for the confusion! As far as I'm aware, that tool cannot find this bug, but I haven't run it on this code.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/809575037"", ""author_association"": ""CONTRIBUTOR""}"
1638,IssueComment,2021-04-04 10:18:14,maoling,fork_close,@kelloggm Sorry for my misunderstanding for code analysis tool: `error-prone`. Do you observe this resource leaks in the production or just your code analysis? ,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/813008280"", ""author_association"": ""MEMBER""}"
1638,ReviewComment,2021-04-06 15:18:22,anmolnar,fork_close,Good catch.,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1638#pullrequestreview-629100643""}"
1638,Revise,2021-04-06 18:18:06,kelloggm,fork_close,surround whole switch with one try block instead of two inside the switch,"{""sha"": ""fa1c0f08f48254fa6e305964639358fb4d0679a3"", ""author"": {""name"": ""Martin Kellogg"", ""email"": ""kelloggm@cs.washington.edu"", ""date"": ""2021-04-06T18:18:06Z""}, ""committer"": {""name"": ""Martin Kellogg"", ""email"": ""kelloggm@cs.washington.edu"", ""date"": ""2021-04-06T18:18:06Z""}}"
1638,IssueComment,2021-04-06 18:22:19,kelloggm,fork_close,"@maoling no worries, sorry again for the confusion

> @kelloggm Sorry for my misunderstanding for code analysis tool: error-prone. Do you observe this resource leaks in the production or just your code analysis?

I didn't encounter these in production, to be clear. I was already familiar with the [JDK bug](https://bugs.openjdk.java.net/browse/JDK-8180899) I linked in my bug report, and got suspicious when I saw GZIP was supported here so I looked at the code and noticed these.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/814340351"", ""author_association"": ""CONTRIBUTOR""}"
1638,IssueComment,2021-04-29 17:58:59,kelloggm,fork_close,@anmolnar is there anything else you need from me on this PR? It's been a few weeks and I don't want it to be forgotten.,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/829471452"", ""author_association"": ""CONTRIBUTOR""}"
1638,ReviewApproved,2021-05-06 09:12:07,ztzg,fork_close,"LGTM.

> I've made this change. Would you all also prefer one `try` around the entire `switch` in the other method, where only one of the `case`s can throw? It would make the code look more symmetrical, but it's otherwise unnecessary.

I, for one, have a slight preference for the ""symmetrical"" version, but let's not bikeshed.

@anmolnar, @maoling: do you approve?
","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1638#pullrequestreview-653183275""}"
1638,IssueComment,2021-05-09 10:56:54,maoling,fork_close,"LGTM.
If no other concerns, I'll merge it at this weekend(05-15). Cc  @ztzg  @anmolnar  @kelloggm","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/835781106"", ""author_association"": ""MEMBER""}"
1638,ClosePR,2021-05-15 05:08:23,maoling,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4749584735"", ""commit_url"": null}"
1638,ReopenPR,2021-05-15 05:08:29,maoling,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4749584808"", ""commit_url"": null}"
1638,ReviewApproved,2021-05-15 08:54:41,eolivelli,fork_close,Lgtm ,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1638#pullrequestreview-660321495""}"
1638,ClosePR,2021-05-15 15:50:20,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4750125445"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/766e173e9d51b6354920ebc136b246d221b87ec1""}"
1638,IssueCommentSupplement,2021-05-15 15:51:01,maoling,fork_close,"@kelloggm 
Thanks for your contribution.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/841682958"", ""author_association"": ""MEMBER""}"
1638,Referenced,2022-11-02 11:19:04,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7722330579"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/65d4128baacc7725b314f5ce2a6767e336be54b1""}"
1638,CrossReferenced,2022-11-02 11:19:04,anuragmadnawat1,fork_close,ZOOKEEPER-4246: Resource leaks in org.apache.zookeeper.server.persistence.SnapStream#getInputStream and #getOutputStream,"{""reference"": {""url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/issues/144"", ""is_pull_request"": true}}"
1638,Referenced,2022-11-02 11:21:44,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7722351035"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/3c36ed6b7f1029133aff53ea370d68686a599b18""}"
1639,OpenPR,2021-03-12 13:31:17,MuktiKrishnan,fork_close,,
1639,Revise,2021-03-15 07:10:49,MuktiKrishnan,fork_close,ZOOKEEPER-1871: Add an option to zkCli to wait for connection before executing commands,"{""sha"": ""242c1c014a6fb66daa5de643e66ab79b9463b504"", ""author"": {""name"": ""Mukti"", ""email"": ""muktikrishnan94@gmail.com"", ""date"": ""2021-03-12T13:28:04Z""}, ""committer"": {""name"": ""Mukti"", ""email"": ""muktikrishnan94@gmail.com"", ""date"": ""2021-03-15T07:10:49Z""}}"
1639,ReviewApproved,2021-03-15 14:02:26,arshadmohammad,fork_close,LGTM +1,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1639#pullrequestreview-612225911""}"
1639,Referenced,2021-03-15 14:11:30,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4458964888"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/579aa3417273ed13a0679344a96538bacb8d2eaf""}"
1639,IssueCommentSupplement,2021-03-15 14:12:57,arshadmohammad,fork_close,Merged,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/799452565"", ""author_association"": ""CONTRIBUTOR""}"
1639,ClosePR,2021-03-15 14:12:57,arshadmohammad,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4458973224"", ""commit_url"": null}"
1644,OpenPR,2021-03-17 00:33:32,li4wang,fork_close,,
1644,ReviewRejected,2021-03-20 20:42:31,ztzg,fork_close,"Hi @li4wang,

Thank you for your hard work and useful contribution!

It is a big patch, however, so I am not quite finished reviewing it.

I have already left a few comments as I have some concerns about racy accesses to `DataNode`, a mixup between ""namespaces"" and subtrees, and how limitations of our current metrics infrastructure impact the implementation.

What do you think?","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1644#pullrequestreview-616940157""}"
1644,IssueComment,2021-03-21 05:58:21,li4wang,fork_close,"Hi Damien,

Thanks for reviewing the PR and the valuable comments.  Please see my response.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/803518407"", ""author_association"": ""CONTRIBUTOR""}"
1644,ReviewComment,2021-04-01 22:29:29,sonatype-lift[bot],fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1644#pullrequestreview-626689253""}"
1644,ReviewComment,2021-05-13 20:11:07,ztzg,fork_close,"Hi @li4wang,

Great work!  Unfortunately, the patch has also gotten bigger, and I still haven't had a chance to review the tests.  I'm going to try and give it another go in the coming days.  In the meantime, thank you for addressing all the other points, some of which were quite involved; your changes LGTM.

Cheers, -D

P.-S. — @eolivelli, @symat, @maoling: PTAL.
","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1644#pullrequestreview-659258343""}"
1644,IssueComment,2021-06-09 18:52:48,ztzg,fork_close,Closing/reopening to trigger Jenkins job.,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/857981721"", ""author_association"": ""CONTRIBUTOR""}"
1644,ClosePR,2021-06-09 18:52:48,ztzg,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4867037129"", ""commit_url"": null}"
1644,ReopenPR,2021-06-09 18:52:51,ztzg,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4867037511"", ""commit_url"": null}"
1644,ReviewApproved,2021-06-09 19:05:23,ztzg,fork_close,"LGTM, @li4wang.  Thank you for your patience!

@eolivelli, @symat, @maoling: What do you think?","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1644#pullrequestreview-680042348""}"
1644,ReviewRejected,2021-06-09 19:37:44,ztzg,fork_close,"@li4wang: I [restarted the tests manually](https://ci-hadoop.apache.org/job/zookeeper-precommit-github-pr/job/PR-1644/17/testReport/junit/org.apache.zookeeper.server/ZooKeeperServerTest/testUpdateQuotaExceededMetrics/), and there is one failure:

```
org.opentest4j.AssertionFailedError: expected: <5> but was: <1>
	at org.apache.zookeeper.server.ZooKeeperServerTest.testUpdateQuotaExceededMetrics(ZooKeeperServerTest.java:183)
```

Could you have a look?  Do you know what is going on?

Not related to the failure, but: if the code has to be updated, I would suggest changing the count (5) so that it is not the same as the number of expected key prefixes (5), as it would remove some confusion.
","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1644#pullrequestreview-680069865""}"
1644,IssueComment,2021-06-10 05:55:47,eolivelli,fork_close,"The failure seems related to this patch.
I would like not to add a new flaky test","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/858328402"", ""author_association"": ""CONTRIBUTOR""}"
1644,IssueComment,2021-06-10 06:26:11,li4wang,fork_close,"> Could you have a look? Do you know what is going on?

Thanks a lot for reviewing it, @ztzg 

The test case has been fixed. 

The expected number of metrics should be 1 instead of 5 after the QUOTA_EXCEEDED_ERROR_PER_NAMESPACE is changed from SummarySet to CounterSet.

All the test cases passed when I ran on my local. Can you please take a quick look at it? Thanks.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/858346284"", ""author_association"": ""CONTRIBUTOR""}"
1644,IssueComment,2021-06-10 06:31:03,li4wang,fork_close,"> The failure seems related to this patch.
> I would like not to add a new flaky test

@eolivelli the test case has been fixed. ","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/858349421"", ""author_association"": ""CONTRIBUTOR""}"
1644,IssueComment,2021-06-10 08:14:43,ztzg,fork_close,"Hi @li4wang,

> > Could you have a look? Do you know what is going on?
> 
> Thanks a lot for reviewing it, @ztzg
> 
> The test case has been fixed.
> 
> The expected number of metrics should be 1 instead of 5 after the QUOTA_EXCEEDED_ERROR_PER_NAMESPACE is changed from SummarySet to CounterSet.

Right; makes sense.  The update looks good.
 
> All the test cases passed when I ran on my local. Can you please take a quick look at it? Thanks.

LGTM.  But I will let CI finish.

@eolivelli wrote:
> The failure seems related to this patch.
> I would like not to add a new flaky test

That failure was deterministic; the test had not been updated after the introduction of the `CounterSet`.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/858413588"", ""author_association"": ""CONTRIBUTOR""}"
1644,ReviewApproved,2021-06-10 09:06:47,eolivelli,fork_close,"LGTM

It would be better that @lvfangmin or @hanm to take a look to this patch as well","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1644#pullrequestreview-680534481""}"
1644,ReviewApproved,2021-06-10 17:06:17,ztzg,fork_close,,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1644#pullrequestreview-681042464""}"
1644,IssueComment,2021-06-11 04:14:30,hanm,fork_close,"> LGTM
> 
> It would be better that @lvfangmin or @hanm to take a look to this patch as well

This is a fairly big patch, I will try to find sometime to take a look in next few days, but please don't let me block this landing as I see this already gets at least two committer reviews.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/859251149"", ""author_association"": ""CONTRIBUTOR""}"
1644,IssueComment,2021-06-22 18:59:10,li4wang,fork_close,"@ztzg @hanm Is there anything that I can help to get the PR merged? We are preparing for 3.7 rollout and it would be great if the changes can be included.

","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/866251017"", ""author_association"": ""CONTRIBUTOR""}"
1644,IssueComment,2021-06-30 08:21:27,ztzg,fork_close,"@eolivelli, @hanm: Agree that the patch is a bit difficult to digest.  It would be great to have another set of eyes, but it takes a substantial amount of effort.  On the other hand, it would be better to merge it and deal with the potential consequences of something we would have missed than to have the patch linger for too long.  I would merge it into `master`, but I understand that @li4wang would also like to see it in `branch-3.7`, which is a tad more risky.  What do you think?  (I would be able to take care of the merge later today or tomorrow.)","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/871197634"", ""author_association"": ""CONTRIBUTOR""}"
1644,IssueComment,2021-07-28 12:56:10,ztzg,fork_close,"> @eolivelli, @hanm: [...] I would merge it into `master`, but I understand that @li4wang would also like to see it in `branch-3.7`, which is a tad more risky. What do you think? (I would be able to take care of the merge later today or tomorrow.)

Unless somebody hollers, I'm willing to merge this to both branches without waiting any further.  The patch cherry-picks cleanly into `branch-3.7`, but conflicts on `master`.  @li4wang: would you mind changing the target branch for this PR to `branch-3.7`, and submitting a refreshed one for `master`?

Cheers, -D","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/888286034"", ""author_association"": ""CONTRIBUTOR""}"
1644,IssueComment,2021-07-28 13:20:50,eolivelli,fork_close,"This is an API change (about the Metrics Provider API) and in my opinion it is better to not pick it on a released branch, in which the API must be stable.

So I would keep this only on master branch","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/888304345"", ""author_association"": ""CONTRIBUTOR""}"
1644,IssueComment,2021-07-28 17:14:09,li4wang,fork_close,The conflicts have been resolved.,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/888479191"", ""author_association"": ""CONTRIBUTOR""}"
1644,CrossReferenced,2021-07-28 21:23:05,li4wang,fork_close,ZOOKEEPER-4338: Backport ZOOKEEPER-4289 to Branch 3.7,"{""reference"": {""url"": ""https://api.github.com/repos/apache/zookeeper/issues/1731"", ""is_pull_request"": true}}"
1644,Revise,2021-07-29 00:52:03,liwang,fork_close,"ZOOKEEPER-4211: Expose Quota Metrics to Prometheus

Author: Li Wang <li4wang@gmail.com>","{""sha"": ""5fc8dbd1bec5fd0b51e74ead9b664c8efc970545"", ""author"": {""name"": ""liwang"", ""email"": ""liwang@apple.com"", ""date"": ""2021-03-17T00:05:28Z""}, ""committer"": {""name"": ""liwang"", ""email"": ""liwang@apple.com"", ""date"": ""2021-07-29T00:52:03Z""}}"
1644,IssueComment,2021-07-29 09:11:35,ztzg,fork_close,"@eolivelli wrote:

> This is an API change (about the Metrics Provider API) and in my opinion it is better to not pick it on a released branch, in which the API must be stable.
>
> So I would keep this only on master branch

You're right, of course; the change to `MetricsContext` would break third-party metrics providers.

@li4wang wrote:

> The conflicts have been resolved.

Thanks! Looking into it now…
","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/888947183"", ""author_association"": ""CONTRIBUTOR""}"
1644,IssueComment,2021-07-29 09:33:18,ztzg,fork_close,"The only CI failure is in the C client, which this changeset doesn't touch:

``` example
[exec] /home/runner/work/zookeeper/zookeeper/zookeeper-client/zookeeper-client-c/tests/TestOperations.cc:296: Assertion: equality assertion failed [Expected: 1, Actual  : 0]
[exec] Failures !!!
[exec] Run: 48   Failure total: 1   Failures: 1   Errors: 0
[exec] FAIL: zktest-st
```

Moreover, the failed assertion is related to a ping count, and running the C test suite on the same commit succeeded locally—so I'm chalking it up to flakiness.  (I really need to find some time & energy I can spend on improving that test suite…)
","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/888963304"", ""author_association"": ""CONTRIBUTOR""}"
1644,ClosePR,2021-07-29 09:36:57,ztzg,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5084949329"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/b05ea1a8454d806394e1ecdfca550e8c709d4c21""}"
1644,IssueCommentSupplement,2021-07-29 09:38:19,ztzg,fork_close,"Okay, @li4wang—this is now in `master`.  Thank you for your contribution and patience!","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/888966677"", ""author_association"": ""CONTRIBUTOR""}"
1644,IssueCommentSupplement,2021-07-29 15:36:30,li4wang,fork_close,@ztzg Thank you so much for your inputs and time. This is awesome!,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/889249252"", ""author_association"": ""CONTRIBUTOR""}"
1645,SubmitCommit,2021-03-17 10:35:01,ayushmantri,fork_close,ZOOKEEPER-4257: learner.asyncSending and learner.closeSocketAsync should be configurable in zoo.cfg,"{""sha"": ""592931232fbe4f1330fea97ffd2abf5d4fdd732c"", ""author"": {""name"": ""Ayush Mantri"", ""email"": ""aayushmantri@gmail.com"", ""date"": ""2021-03-17T10:35:01Z""}, ""committer"": {""name"": ""Ayush Mantri"", ""email"": ""aayushmantri@gmail.com"", ""date"": ""2021-03-17T10:35:01Z""}}"
1645,OpenPR,2021-03-17 10:53:30,ayushmantri,fork_close,,
1645,IssueComment,2021-03-22 19:20:55,arshadmohammad,fork_close,Lets wait for the 3.7.0 releases. We have to update the change for branch-3.7. Have to change the property in backward compatible way.,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/804331060"", ""author_association"": ""CONTRIBUTOR""}"
1645,IssueComment,2021-03-23 04:28:41,functioner,fork_close,"@arshadmohammad @ayushmantri Thanks for the commit. This configuration is important and helpful for #1582, and I appreciate it. However, the description for `learner.asyncSending` you provide in docs is not as detailed as #1582 I provided. I think providing more details about this configuration is helpful for users and developers. Do you agree? And we can improve the description together if you want.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/804608014"", ""author_association"": ""NONE""}"
1645,IssueComment,2021-03-23 04:57:11,arshadmohammad,fork_close,"sure @functioner
@ayushmantri please take the description from https://github.com/apache/zookeeper/pull/1582, lets merge this in master branch, we can merge in branch-3.7 later.
","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/804616898"", ""author_association"": ""CONTRIBUTOR""}"
1645,IssueComment,2021-03-23 04:59:10,arshadmohammad,fork_close,@functioner please raise PR to backport ZOOKEEPER-3575 in branch-3.6,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/804617542"", ""author_association"": ""CONTRIBUTOR""}"
1645,ReviewRejected,2021-03-23 09:36:16,eolivelli,fork_close,"It looks like that this is a breaking change.

Do we really need to change the name of the property?
What about adding a compatibility layer (reading the old and the new name)","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1645#pullrequestreview-618376934""}"
1645,IssueComment,2021-03-23 16:51:53,arshadmohammad,fork_close,"> Do we really need to change the name of the property?

yes, it is required to make it configurable in configuration file  zoo.cfg. Currently it is not configurable in zoo.cfg. it must be configured as java system property in some shell script file. For example, before this PR change, if I configure learner.asyncSending=true in zoo.cfg It will not be effective as in ZooKeeper before use this configured property is converted to zookeeper.learner.asyncSending. 
","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/805062706"", ""author_association"": ""CONTRIBUTOR""}"
1645,IssueComment,2021-03-23 16:56:08,arshadmohammad,fork_close,"> What about adding a compatibility layer (reading the old and the new name)

yes, compatibility layer can be added. Only thing is now there will three properties for the same thing
java system properties

- learner.asyncSending
- zookeeper.learner.asyncSending

and normal configuration property, configurable in zoo.cfg 

- learner.asyncSending



","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/805065751"", ""author_association"": ""CONTRIBUTOR""}"
1645,IssueComment,2021-03-24 22:57:19,functioner,fork_close,"> @functioner please raise PR to backport ZOOKEEPER-3575 in branch-3.6

@arshadmohammad I raised the PR in #1653.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/806237060"", ""author_association"": ""NONE""}"
1645,Revise,2021-03-25 09:32:50,ayushmantri,fork_close,"ZOOKEEPER-4257: learner.asyncSending and learner.closeSocketAsync should be configurable in zoo.cfg
                property name change done in backward compatible way","{""sha"": ""8ff5523c3becfef83bbed3b13a41b2e45c0d252e"", ""author"": {""name"": ""Ayush Mantri"", ""email"": ""aayushmantri@gmail.com"", ""date"": ""2021-03-25T09:31:35Z""}, ""committer"": {""name"": ""Ayush Mantri"", ""email"": ""aayushmantri@gmail.com"", ""date"": ""2021-03-25T09:32:50Z""}}"
1645,IssueComment,2021-03-25 10:13:41,ayushmantri,fork_close,handled property name change in backward compatible way,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/806526570"", ""author_association"": ""CONTRIBUTOR""}"
1645,ReviewRequested,2021-03-25 10:17:46,arshadmohammad,fork_close,,"{""requested_reviewer"": {""login"": ""eolivelli"", ""id"": 9469110, ""node_id"": ""MDQ6VXNlcjk0NjkxMTA="", ""avatar_url"": ""https://avatars.githubusercontent.com/u/9469110?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/eolivelli"", ""html_url"": ""https://github.com/eolivelli"", ""followers_url"": ""https://api.github.com/users/eolivelli/followers"", ""following_url"": ""https://api.github.com/users/eolivelli/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/eolivelli/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/eolivelli/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/eolivelli/subscriptions"", ""organizations_url"": ""https://api.github.com/users/eolivelli/orgs"", ""repos_url"": ""https://api.github.com/users/eolivelli/repos"", ""events_url"": ""https://api.github.com/users/eolivelli/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/eolivelli/received_events"", ""type"": ""User"", ""site_admin"": false}, ""requested_team"": null}"
1645,ReviewApproved,2021-03-27 18:28:16,arshadmohammad,fork_close,LGTM +1,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1645#pullrequestreview-622692181""}"
1645,ReviewApproved,2021-03-27 19:50:04,eolivelli,fork_close,"Great

+1","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1645#pullrequestreview-622697439""}"
1645,ClosePR,2021-03-28 04:33:37,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4517789969"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/acbfb2d78996cbaa29b9dc764d4cb3463193dc45""}"
1645,Referenced,2021-03-28 04:33:57,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4517790375"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/e2f31086965f0d9d13898bbc72c57f378b438edf""}"
1645,CrossReferenced,2021-03-28 16:45:59,arshadmohammad,fork_close,ZOOKEEPER-4260: Backport ZOOKEEPER-3575 to branch-3.6,"{""reference"": {""url"": ""https://api.github.com/repos/apache/zookeeper/issues/1653"", ""is_pull_request"": true}}"
1645,Referenced,2022-11-02 09:30:20,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7721403677"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/121f15a7490ddf90307672f1904da8356979e2ec""}"
1645,CrossReferenced,2022-11-02 09:30:20,anuragmadnawat1,fork_close,"ZOOKEEPER-4257: learner.asyncSending, learner.closeSocketAsync and leader.closeSocketAsync should be configurable in zoo.cfg","{""reference"": {""url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/issues/128"", ""is_pull_request"": true}}"
1645,Referenced,2022-11-02 09:36:38,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7721458431"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/7e5eb158a947f1b56f4389d5a554b30d14f816f4""}"
1647,OpenPR,2021-03-22 19:44:15,arshadmohammad,fork_close,,
1647,Revise,2021-03-22 19:45:23,arshadmohammad,fork_close,"ZOOKEEPER-4251: Flaky test: org.apache.zookeeper.test.WatcherTest
Moved ReconfigTest in test suites in the last.","{""sha"": ""f8d48ac52877fcefe32cda142b213a48f71fdfa2"", ""author"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2021-03-22T19:45:23Z""}, ""committer"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2021-03-22T19:45:23Z""}}"
1647,ReviewRequested,2021-03-23 04:40:20,arshadmohammad,fork_close,,"{""requested_reviewer"": {""login"": ""eolivelli"", ""id"": 9469110, ""node_id"": ""MDQ6VXNlcjk0NjkxMTA="", ""avatar_url"": ""https://avatars.githubusercontent.com/u/9469110?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/eolivelli"", ""html_url"": ""https://github.com/eolivelli"", ""followers_url"": ""https://api.github.com/users/eolivelli/followers"", ""following_url"": ""https://api.github.com/users/eolivelli/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/eolivelli/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/eolivelli/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/eolivelli/subscriptions"", ""organizations_url"": ""https://api.github.com/users/eolivelli/orgs"", ""repos_url"": ""https://api.github.com/users/eolivelli/repos"", ""events_url"": ""https://api.github.com/users/eolivelli/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/eolivelli/received_events"", ""type"": ""User"", ""site_admin"": false}, ""requested_team"": null}"
1647,ReviewApproved,2021-03-23 09:37:18,eolivelli,fork_close,Can we do the same in master branch and in branch 3.7?,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1647#pullrequestreview-618377947""}"
1647,IssueComment,2021-03-23 16:09:38,arshadmohammad,fork_close,"yes, we can do same in master and branch-3.7
Created PR https://github.com/apache/zookeeper/pull/1649","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/805031135"", ""author_association"": ""CONTRIBUTOR""}"
1647,Referenced,2021-03-25 10:20:04,ztzg,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4506946575"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/8625c363aa23ac0c14447ce6291bea17bda3293f""}"
1647,IssueCommentSupplement,2021-03-25 10:26:51,ztzg,fork_close,"Thank you, @arshadmohammad.  This is now in `branch-3.6`, whereas its sibling is in `branch-3.7` and `master`.  Is is *not* in `branch-3.7.0` because we currently have an RC open.

(Should a 3.7.1 release be created in the bug tracker, btw.?  Current status is ""Fix Version/s: 3.6.3, 3.8.0"" as 3.7.0 would be incorrect.)","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/806535233"", ""author_association"": ""CONTRIBUTOR""}"
1647,ClosePR,2021-03-25 10:26:51,ztzg,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4506981784"", ""commit_url"": null}"
1647,CrossReferenced,2021-03-25 10:27:27,ztzg,fork_close,ZOOKEEPER-4251: Flaky test: org.apache.zookeeper.test.WatcherTest,"{""reference"": {""url"": ""https://api.github.com/repos/apache/zookeeper/issues/1649"", ""is_pull_request"": true}}"
1647,IssueCommentSupplement,2021-03-25 10:34:46,arshadmohammad,fork_close,"> Current status is ""Fix Version/s: 3.6.3, 3.8.0"" as 3.7.0 would be incorrect.)

I see in JIRA there is 3.7 version. As of now we can mark this issue fixed in 3.7 version as the changes are merged in branch-3.7
Later when JIRA version 3.7.1 is created we can move all the jiras from 3.7 to 3.7.1","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/806540163"", ""author_association"": ""CONTRIBUTOR""}"
1647,IssueCommentSupplement,2021-03-25 11:47:18,arshadmohammad,fork_close,"Someone created jira version 3.7.1, Resolved this issue for 3.7.1","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/806585720"", ""author_association"": ""CONTRIBUTOR""}"
1647,Referenced,2022-05-17 10:58:15,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6623442306"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/93b1455ee34fe85b1a059191d18e4b675d7b8696""}"
1648,SubmitCommit,2021-02-25 21:35:38,spriyatham,fork_close,Incorporation of Witness into ZAB,"{""sha"": ""f15a46d98f0920b140ae2f871ed935428b50baf6"", ""author"": {""name"": ""spriyatham"", ""email"": ""srp.siram@gmail.com"", ""date"": ""2021-02-25T21:35:38Z""}, ""committer"": {""name"": ""spriyatham"", ""email"": ""srp.siram@gmail.com"", ""date"": ""2021-02-25T21:35:38Z""}}"
1648,SubmitCommit,2021-03-05 22:46:08,spriyatham,fork_close,Committing additional changes/comments.,"{""sha"": ""ee22ef7c956f57c8dcb9c5bdb3ed5f61cc7234a7"", ""author"": {""name"": ""spriyatham"", ""email"": ""srp.siram@gmail.com"", ""date"": ""2021-03-05T22:46:08Z""}, ""committer"": {""name"": ""spriyatham"", ""email"": ""srp.siram@gmail.com"", ""date"": ""2021-03-05T22:46:08Z""}}"
1648,OpenPR,2021-03-23 03:55:43,spriyatham,fork_close,,
1648,ClosePR,2021-03-23 04:00:55,spriyatham,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4493710171"", ""commit_url"": null}"
1648,ReviewCommentSupplement,2021-03-23 04:06:01,sonatype-lift[bot],fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1648#pullrequestreview-618188336""}"
1648,ReviewCommentSupplement,2021-03-23 04:06:02,sonatype-lift[bot],fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1648#pullrequestreview-618188343""}"
1648,ReviewCommentSupplement,2021-03-23 04:06:04,sonatype-lift[bot],fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1648#pullrequestreview-618188357""}"
1648,ReviewCommentSupplement,2021-03-23 04:06:06,sonatype-lift[bot],fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1648#pullrequestreview-618188366""}"
1648,ReviewCommentSupplement,2021-03-23 04:06:07,sonatype-lift[bot],fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1648#pullrequestreview-618188372""}"
1648,ReviewCommentSupplement,2021-03-23 04:06:08,sonatype-lift[bot],fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1648#pullrequestreview-618188380""}"
1648,ReviewCommentSupplement,2021-03-23 04:06:09,sonatype-lift[bot],fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1648#pullrequestreview-618188386""}"
1648,ReviewCommentSupplement,2021-03-23 04:06:10,sonatype-lift[bot],fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1648#pullrequestreview-618188391""}"
1648,ReviewCommentSupplement,2021-03-23 04:06:11,sonatype-lift[bot],fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1648#pullrequestreview-618188401""}"
1648,ReviewCommentSupplement,2021-03-23 04:06:12,sonatype-lift[bot],fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1648#pullrequestreview-618188404""}"
1648,ReviewCommentSupplement,2021-03-23 04:06:14,sonatype-lift[bot],fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1648#pullrequestreview-618188412""}"
1648,ReviewCommentSupplement,2021-03-23 04:06:15,sonatype-lift[bot],fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1648#pullrequestreview-618188416""}"
1648,ReviewCommentSupplement,2021-03-23 04:06:16,sonatype-lift[bot],fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1648#pullrequestreview-618188423""}"
1648,ReviewCommentSupplement,2021-03-23 04:06:17,sonatype-lift[bot],fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1648#pullrequestreview-618188429""}"
1648,ReviewCommentSupplement,2021-03-23 04:06:18,sonatype-lift[bot],fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1648#pullrequestreview-618188439""}"
1648,ReviewCommentSupplement,2021-03-23 04:06:19,sonatype-lift[bot],fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1648#pullrequestreview-618188445""}"
1648,ReviewCommentSupplement,2021-03-23 04:06:20,sonatype-lift[bot],fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1648#pullrequestreview-618188454""}"
1648,ReviewCommentSupplement,2021-03-23 04:06:21,sonatype-lift[bot],fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1648#pullrequestreview-618188463""}"
1649,OpenPR,2021-03-23 16:08:56,arshadmohammad,fork_close,,
1649,CrossReferenced,2021-03-23 16:09:38,arshadmohammad,fork_close,ZOOKEEPER-4251: Flaky test: org.apache.zookeeper.test.WatcherTest,"{""reference"": {""url"": ""https://api.github.com/repos/apache/zookeeper/issues/1647"", ""is_pull_request"": true}}"
1649,Revise,2021-03-23 16:10:04,arshadmohammad,fork_close,"ZOOKEEPER-4251: Flaky test: org.apache.zookeeper.test.WatcherTest
Moved ReconfigTest in test suites in the last to avoid the ReconfigTest test impacts on other test classes","{""sha"": ""95ad0e8a791b5a96238a0ee089262ae1d69508a7"", ""author"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2021-03-23T16:09:18Z""}, ""committer"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2021-03-23T16:10:04Z""}}"
1649,ReviewApproved,2021-03-23 16:54:56,eolivelli,fork_close,,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1649#pullrequestreview-618841045""}"
1649,IssueComment,2021-03-23 16:55:04,eolivelli,fork_close,+1,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/805064928"", ""author_association"": ""CONTRIBUTOR""}"
1649,ClosePR,2021-03-25 10:21:44,ztzg,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4506955450"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/461aada6b015078b9a14f787dd1f526488490df9""}"
1649,Referenced,2021-03-25 10:22:03,ztzg,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4506957045"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/3d7f374c89f1bb0959e3a3b2f2b66818aa704d32""}"
1649,IssueCommentSupplement,2021-03-25 10:27:27,ztzg,fork_close,See https://github.com/apache/zookeeper/pull/1647#issuecomment-806535233.,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/806535605"", ""author_association"": ""CONTRIBUTOR""}"
1649,CrossReferenced,2022-11-02 09:09:21,anuragmadnawat1,fork_close,ZOOKEEPER-4251: Flaky test: org.apache.zookeeper.test.WatcherTest,"{""reference"": {""url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/issues/123"", ""is_pull_request"": true}}"
1649,Referenced,2022-11-02 09:09:22,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7721116000"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/19b5efcf2a2a41572cf6b110bff4d8f7f882a36f""}"
1649,Referenced,2022-11-02 09:11:21,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7721135525"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/e5fb5b2c4053f10740fd2f1d57f83ad9ea9b0a74""}"
1652,OpenPR,2021-03-24 16:52:49,nkalmar,fork_close,,
1652,ReviewComment,2021-03-24 16:53:47,nkalmar,fork_close,,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1652#pullrequestreview-619981031""}"
1652,ReviewComment,2021-03-24 16:54:49,nkalmar,fork_close,,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1652#pullrequestreview-619982233""}"
1652,Revise,2021-03-24 16:58:30,nkalmar,fork_close,ZOOKEEPER-4259 - Allow AdminServer to force https,"{""sha"": ""137ecfdfcd8a69aa6cee050d7283be23312c2467"", ""author"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@apache.org"", ""date"": ""2021-03-24T16:51:20Z""}, ""committer"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@apache.org"", ""date"": ""2021-03-24T16:58:30Z""}}"
1652,ReviewComment,2021-03-24 17:05:52,symat,fork_close,"LGTM
Although I haven't tested it locally yet, I assume you did it. I'll try to do it tomorrow if noone else does it.

> Is this fine that I stayed with portunification, or should we have a seperate secure port?

I don't mind to stick to the same port. The user can decide now to make that single port to be http-only, https-only or http-and-https-unified. I think this is flexible enough. Usually in production people will stick to either http-only or https-only, and maybe using http-and-https-unified during upgrade / migration.

Do you thing we can add any unit test? Do we have unit tests for admin port unification? Maybe those could be reused / extended.","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1652#pullrequestreview-619994451""}"
1652,ReviewComment,2021-03-24 17:07:05,symat,fork_close,,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1652#pullrequestreview-619995659""}"
1652,IssueComment,2021-03-24 18:07:57,nkalmar,fork_close,"Thanks for the review @symat , yes, I was planning to add unit tests, this was just an initial commit to see what folks think about the implementation (mainly to sticking to one port only). I will do the unit tests shortly. ","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/806045487"", ""author_association"": ""CONTRIBUTOR""}"
1652,Revise,2021-03-24 18:10:25,nkalmar,fork_close,ZOOKEEPER-4259 - fix checkstyle validation,"{""sha"": ""5bdd3a7d421a5a42f683594867ddc9e82dc0a69b"", ""author"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@apache.org"", ""date"": ""2021-03-24T18:10:25Z""}, ""committer"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@apache.org"", ""date"": ""2021-03-24T18:10:25Z""}}"
1652,Revise,2021-03-24 19:46:18,nkalmar,fork_close,ZOOKEEPER-4259 - add unit tests,"{""sha"": ""5ac815271c8b1aeacdb0e84528cf92d65231fb56"", ""author"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@apache.org"", ""date"": ""2021-03-24T18:35:04Z""}, ""committer"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@apache.org"", ""date"": ""2021-03-24T19:46:18Z""}}"
1652,ReviewApproved,2021-03-24 20:33:03,eolivelli,fork_close,LGTM ,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1652#pullrequestreview-620206057""}"
1652,ReviewRejected,2021-03-25 07:37:26,symat,fork_close,"great work, also thanks for the unit tests!

I tested the patch locally:
- portUnification is still working (if portUnification=true and forceHttps=false)
- https enforced if forceHttps=true (independently of the value of portUnification)

I left a minor comment for the test code, PTAL.","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1652#pullrequestreview-620787370""}"
1652,IssueComment,2021-03-25 08:06:51,nkalmar,fork_close,"Also, looking at the code ""forceHTTPS"" seems funky, I will change it to ""forceHttps"". Taking a quick look, all caps is not used for HTTPS in configs.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/806450206"", ""author_association"": ""CONTRIBUTOR""}"
1652,Revise,2021-03-25 08:08:40,nkalmar,fork_close,ZOOKEEPER-4259 - fix unit tests and config name,"{""sha"": ""8086a0a1745bb5fd585ff261d13ea46a5398c5eb"", ""author"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@apache.org"", ""date"": ""2021-03-25T08:07:41Z""}, ""committer"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@apache.org"", ""date"": ""2021-03-25T08:08:40Z""}}"
1652,ReviewApproved,2021-03-25 08:36:28,symat,fork_close,"great, thanks! LGTM","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1652#pullrequestreview-620842200""}"
1652,ClosePR,2021-03-25 09:51:44,ztzg,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4506802197"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/0b6862e3aadbb8980a09a673c08c438ae5da2e81""}"
1652,Referenced,2021-03-25 09:52:34,ztzg,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4506806947"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/3a084f2f20dc771455c4825f4fbf4ff1f641793a""}"
1652,ReviewCommentSupplement,2021-03-25 09:57:09,ztzg,fork_close,"LGTM (but not tested).  This is now in `master` and `branch-3.7`.  It is *not* in `branch-3.7.0`, as we currently have an open RC, nor in `branch-3.6`, as it did not cherry-pick cleanly.  (Can you open another PR if you want it there?)

Cheers, -D","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1652#pullrequestreview-620918043""}"
1652,Referenced,2021-03-25 10:45:46,nkalmar,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4507073251"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/13e02c5731df6785fba16c71b0f47177a5c40376""}"
1652,IssueCommentSupplement,2021-03-25 10:48:02,nkalmar,fork_close,"Thank you @ztzg , about 3.6... I did the cherry-pick and accidentally committed to apache 3.6 branch instead of mine, so, consider it done I guess. Sorry about that... I will see that the commit did not break anything.

Edit: commit seems good, spotbugs fails but from a different commit (quorumpeertest has a whitespace after a function start ""("". It is not caused by my commit.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/806548198"", ""author_association"": ""CONTRIBUTOR""}"
1652,IssueCommentSupplement,2021-04-03 11:52:31,ztzg,fork_close,"> Thank you @ztzg , about 3.6... I did the cherry-pick and accidentally committed to apache 3.6 branch instead of mine, so, consider it done I guess.  Sorry about that... I will see that the commit did not break anything.

:)

> Edit: commit seems good, spotbugs fails but from a different commit (quorumpeertest has a whitespace after a function start ""("". It is not caused by my commit.

Right; that has been fixed by @arshadmohammad while preparing 3.6.3.  Thanks!
","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/812854781"", ""author_association"": ""CONTRIBUTOR""}"
1652,DeleteBranch,2022-10-06 13:16:23,nkalmar,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7534727853"", ""commit_url"": null}"
1652,Referenced,2022-11-02 09:06:06,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7721084225"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/aec0e75b8e27ebe26cf1287acc0a25ce603c1537""}"
1652,CrossReferenced,2022-11-02 09:06:06,anuragmadnawat1,fork_close,ZOOKEEPER-4259: Allow AdminServer to force https,"{""reference"": {""url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/issues/122"", ""is_pull_request"": true}}"
1652,Referenced,2022-11-02 09:09:17,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7721115411"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/6b27abd6911a2e686e5454b1a8adf64cd06836e1""}"
1653,SubmitCommit,2021-03-24 22:51:45,Jie Huang,fork_close,"ZOOKEEPER-3575: Moving sending packets in Learner to a separate thread

Author: Jie Huang <jiehuang@fb.com>

Reviewers: eolivelli@apache.org, fangmin@apache.org

Closes #1116 from jhuan31/ZOOKEEPER-3575

(cherry picked from commit 7c1251dbcf6a314466024f71ae5757bde34bb3fd)","{""sha"": ""e6cb767342ac6df9483c71fc458b217d36b22663"", ""author"": {""name"": ""Jie Huang"", ""email"": ""jiehuang@fb.com"", ""date"": ""2020-01-25T17:48:36Z""}, ""committer"": {""name"": ""functioner"", ""email"": ""oierwhz@gmail.com"", ""date"": ""2021-03-24T22:51:45Z""}}"
1653,OpenPR,2021-03-24 22:56:03,functioner,fork_close,,
1653,CrossReferenced,2021-03-24 22:57:19,functioner,fork_close,ZOOKEEPER-4257: learner.asyncSending and learner.closeSocketAsync should be configurable in zoo.cfg,"{""reference"": {""url"": ""https://api.github.com/repos/apache/zookeeper/issues/1645"", ""is_pull_request"": true}}"
1653,ReviewComment,2021-03-24 23:09:05,sonatype-lift[bot],fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1653#pullrequestreview-620302215""}"
1653,IssueComment,2021-03-28 16:45:59,arshadmohammad,fork_close,"Please include the latest changes done in PR https://github.com/apache/zookeeper/pull/1645.
Also add the documentation for learner.asyncSending property","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/808922810"", ""author_association"": ""CONTRIBUTOR""}"
1653,Revise,2021-03-29 02:03:08,functioner,fork_close,Merge branch 'branch-3.6' of https://github.com/apache/zookeeper into ZOOKEEPER-4260,"{""sha"": ""469d971d67807302c93f16b61d31dc86d1eeaf4c"", ""author"": {""name"": ""functioner"", ""email"": ""oierwhz@gmail.com"", ""date"": ""2021-03-29T02:03:08Z""}, ""committer"": {""name"": ""functioner"", ""email"": ""oierwhz@gmail.com"", ""date"": ""2021-03-29T02:03:08Z""}}"
1653,Revise,2021-03-29 02:16:36,ayushmantri,fork_close,cherry-pick ZOOKEEPER-4257 and fix conflicts,"{""sha"": ""5d827decd8f1f4a96d6c34d665c67fa8c46a0253"", ""author"": {""name"": ""Ayush Mantri"", ""email"": ""aayushmantri@gmail.com"", ""date"": ""2021-03-28T04:35:40Z""}, ""committer"": {""name"": ""functioner"", ""email"": ""oierwhz@gmail.com"", ""date"": ""2021-03-29T02:16:36Z""}}"
1653,IssueComment,2021-03-29 03:22:25,functioner,fork_close,@arshadmohammad I cherry-pick #1645. Some configurations are not available in branch-3.6 so I do not include them.,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/809038276"", ""author_association"": ""NONE""}"
1653,ReviewComment,2021-03-29 08:22:27,arshadmohammad,fork_close,,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1653#pullrequestreview-622973241""}"
1653,IssueComment,2021-03-29 08:24:30,arshadmohammad,fork_close,"Other than minor import issues, changes Looks good to me. @functioner please correct the import","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/809179189"", ""author_association"": ""CONTRIBUTOR""}"
1653,Revise,2021-03-29 15:28:15,functioner,fork_close,remove useless import,"{""sha"": ""0a19eb18d61404802456ac93ded007f29427793f"", ""author"": {""name"": ""functioner"", ""email"": ""oierwhz@gmail.com"", ""date"": ""2021-03-29T15:28:15Z""}, ""committer"": {""name"": ""functioner"", ""email"": ""oierwhz@gmail.com"", ""date"": ""2021-03-29T15:28:15Z""}}"
1653,ReviewApproved,2021-03-29 15:52:10,arshadmohammad,fork_close,LGTM +1,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1653#pullrequestreview-623387201""}"
1653,Referenced,2021-03-29 16:17:58,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4522503217"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/992abc8ce224183ef3d9e01909644f4cb489a9fc""}"
1653,IssueCommentSupplement,2021-03-29 16:20:28,arshadmohammad,fork_close,Merged,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/809518628"", ""author_association"": ""CONTRIBUTOR""}"
1653,ClosePR,2021-03-29 16:20:28,arshadmohammad,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4522516842"", ""commit_url"": null}"
1653,DeleteBranch,2021-03-29 16:23:04,functioner,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4522531876"", ""commit_url"": null}"
1654,SubmitCommit,2021-03-25 11:26:26,arshadmohammad,fork_close,ZOOKEEPER-3887: In SSL-only server zkServer.sh status command should use secureClientPortAddress instead of clientPortAddress,"{""sha"": ""d71f635117b4a24317b31ce68cf6379173440263"", ""author"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2021-03-25T11:26:26Z""}, ""committer"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2021-03-25T11:26:26Z""}}"
1654,OpenPR,2021-03-25 11:29:03,arshadmohammad,fork_close,,
1654,ReviewRequested,2021-03-25 12:55:57,eolivelli,fork_close,,"{""requested_reviewer"": {""login"": ""symat"", ""id"": 18458499, ""node_id"": ""MDQ6VXNlcjE4NDU4NDk5"", ""avatar_url"": ""https://avatars.githubusercontent.com/u/18458499?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/symat"", ""html_url"": ""https://github.com/symat"", ""followers_url"": ""https://api.github.com/users/symat/followers"", ""following_url"": ""https://api.github.com/users/symat/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/symat/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/symat/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/symat/subscriptions"", ""organizations_url"": ""https://api.github.com/users/symat/orgs"", ""repos_url"": ""https://api.github.com/users/symat/repos"", ""events_url"": ""https://api.github.com/users/symat/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/symat/received_events"", ""type"": ""User"", ""site_admin"": false}, ""requested_team"": null}"
1654,ReviewApproved,2021-03-25 13:17:35,symat,fork_close,LGTM,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1654#pullrequestreview-621097853""}"
1654,ClosePR,2021-03-27 17:09:05,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4517259820"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/51be692523b65afc21cfb0edaa4a5e60ab996aa2""}"
1654,Referenced,2021-03-27 17:09:33,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4517260229"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/862d846d25a4a53e46e576b9d69f3a2f4c144761""}"
1654,Referenced,2021-03-27 17:10:15,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4517260833"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/4946c582fa002803075bf32d0c2fec638c8f9a45""}"
1654,IssueCommentSupplement,2021-03-27 20:27:25,anmolnar,fork_close,Good catch. I didn't know about the `secureClientPortAddress` option and noticed because it's still not documented. Ouch!,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/808797937"", ""author_association"": ""CONTRIBUTOR""}"
1654,Referenced,2022-05-17 08:36:41,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6622397751"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/aa20b0e80ab9afc9043f716a06b1c862a6125092""}"
1654,Referenced,2022-11-02 09:11:24,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7721136093"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/effed37924cd335222ba0682c1e401341c58a783""}"
1654,CrossReferenced,2022-11-02 09:11:24,anuragmadnawat1,fork_close,ZOOKEEPER-3887: In SSL-only server zkServer.sh status command should use secureClientPortAddress instead of clientPortAddress,"{""reference"": {""url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/issues/124"", ""is_pull_request"": true}}"
1654,Referenced,2022-11-02 09:25:10,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7721358228"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/b3479a768ef91aedec30e45a68992a7a92c9cc21""}"
1655,SubmitCommit,2021-03-26 11:28:57,Brian Nixon,fork_close,"ZOOKEEPER-3240: Close socket on Learner shutdown to avoid dangling so…

…cket

Author: Brian Nixon <nixon@fb.com>

Reviewers: hanm@apache.org, eolivelli@apache.org, andor@apache.org

Closes #996 from enixon/learner-close-socket and squashes the following commits:

57f5e891 [Brian Nixon] delete ReconfigFailureCasesTest::testLeaderTimesoutOnNewQuorum as it relies on the fixed buggy behavior
1598b3ad [Brian Nixon] remove extraneous check on socket status
381889da [Brian Nixon] ZOOKEEPER-3240: Close socket on Learner shutdown to avoid dangling socket","{""sha"": ""917ae6c96b31185052c45ecac13224027a7b1b9a"", ""author"": {""name"": ""Brian Nixon"", ""email"": ""nixon@fb.com"", ""date"": ""2019-07-02T05:34:21Z""}, ""committer"": {""name"": ""fanyang"", ""email"": ""fanyang@smartx.com"", ""date"": ""2021-03-26T11:28:57Z""}}"
1655,SubmitCommit,2021-03-26 11:46:54,fanyang89,fork_close,"ZOOKEEPER-4262: Backport ZOOKEEPER-3911 to branch-3.5.9

ZOOKEEPER-3911 requires ZOOKEEPER-3240 to pass the unit test.","{""sha"": ""de08845c51ed1f1f4c644561080564da8ca0e255"", ""author"": {""name"": ""fanyang"", ""email"": ""fanyang@smartx.com"", ""date"": ""2021-03-26T11:28:02Z""}, ""committer"": {""name"": ""fanyang"", ""email"": ""fanyang@smartx.com"", ""date"": ""2021-03-26T11:46:54Z""}}"
1655,OpenPR,2021-03-26 11:48:15,fanyang89,fork_close,,
1655,CrossReferenced,2021-03-26 11:55:46,fanyang89,fork_close,ZOOKEEPER-3911: Data inconsistency caused by DIFF sync uncommitted log,"{""reference"": {""url"": ""https://api.github.com/repos/apache/zookeeper/issues/1445"", ""is_pull_request"": true}}"
1655,IssueCommentSupplement,2021-03-27 20:10:42,anmolnar,fork_close,"@fanyang89 3.5.9 has already been released. If you want to backport these patches to the next 3.5 release, please open pull request for branch-3.5. Thanks.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/808795773"", ""author_association"": ""CONTRIBUTOR""}"
1655,ClosePR,2021-03-27 20:10:42,anmolnar,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4517502215"", ""commit_url"": null}"
1656,OpenPR,2021-03-27 17:40:54,arshadmohammad,fork_close,,
1656,CrossReferenced,2021-03-27 17:41:43,arshadmohammad,fork_close,ZOOKEEPER-3128: Get CLI Command displays Authentication error for Authorization error,"{""reference"": {""url"": ""https://api.github.com/repos/apache/zookeeper/issues/1634"", ""is_pull_request"": true}}"
1656,ReviewRequested,2021-03-27 17:41:48,arshadmohammad,fork_close,,"{""requested_reviewer"": {""login"": ""ztzg"", ""id"": 393108, ""node_id"": ""MDQ6VXNlcjM5MzEwOA=="", ""avatar_url"": ""https://avatars.githubusercontent.com/u/393108?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/ztzg"", ""html_url"": ""https://github.com/ztzg"", ""followers_url"": ""https://api.github.com/users/ztzg/followers"", ""following_url"": ""https://api.github.com/users/ztzg/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/ztzg/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/ztzg/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/ztzg/subscriptions"", ""organizations_url"": ""https://api.github.com/users/ztzg/orgs"", ""repos_url"": ""https://api.github.com/users/ztzg/repos"", ""events_url"": ""https://api.github.com/users/ztzg/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/ztzg/received_events"", ""type"": ""User"", ""site_admin"": false}, ""requested_team"": null}"
1656,Revise,2021-03-27 17:42:26,arshadmohammad,fork_close,ZOOKEEPER-3128: Get CLI Command displays Authentication error for Authorization error,"{""sha"": ""fa78b942388bbc638adf589899e3e8306e3a4141"", ""author"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2021-03-27T17:42:26Z""}, ""committer"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2021-03-27T17:42:26Z""}}"
1656,ReviewApproved,2021-03-27 19:42:43,eolivelli,fork_close,LGTM ,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1656#pullrequestreview-622696956""}"
1656,Referenced,2021-03-28 04:24:08,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4517784295"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/62f2e2f0ea1ee78282e7fc51f97dc781614a4a27""}"
1656,ClosePR,2021-03-28 04:29:28,arshadmohammad,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4517786805"", ""commit_url"": null}"
1659,OpenPR,2021-03-28 17:01:18,arshadmohammad,fork_close,,
1659,Revise,2021-03-28 17:03:12,arshadmohammad,fork_close,"ZOOKEEPER-4266: Correct ZooKeeper version in documentation header
Changed version from 3.6 to 3.8","{""sha"": ""9c05318711c46012f6db3720f0dad7ca06b5c307"", ""author"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2021-03-28T17:03:12Z""}, ""committer"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2021-03-28T17:03:12Z""}}"
1659,ReviewApproved,2021-04-03 09:37:08,maoling,fork_close,+1,"{""author_association"": ""MEMBER"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1659#pullrequestreview-627445754""}"
1659,ReviewApproved,2021-04-03 11:27:11,ztzg,fork_close,LGTM; thanks!,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1659#pullrequestreview-627451039""}"
1659,ClosePR,2021-04-03 11:42:55,ztzg,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4548034285"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/ad5513b8dd15637c6c95585603a4e055dabad56d""}"
1659,IssueCommentSupplement,2021-04-03 18:26:20,ztzg,fork_close,Now in `master`; thanks!,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/812906586"", ""author_association"": ""CONTRIBUTOR""}"
1659,Referenced,2022-11-02 10:03:57,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7721704401"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/80420a20a95fd98b111660caed33d415cb82e02b""}"
1659,CrossReferenced,2022-11-02 10:03:57,anuragmadnawat1,fork_close,ZOOKEEPER-4266: Correct ZooKeeper version in documentation header,"{""reference"": {""url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/issues/132"", ""is_pull_request"": true}}"
1659,Referenced,2022-11-02 10:17:45,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7721822423"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/7747e1354dc4b3eea7ae60e71a2c920fac488678""}"
1660,OpenPR,2021-03-28 17:04:20,arshadmohammad,fork_close,,
1660,Revise,2021-03-28 17:06:02,arshadmohammad,fork_close,"ZOOKEEPER-4266: Correct ZooKeeper version in documentation header
Changed version from 3.6 to 3.7","{""sha"": ""bbd8d76da0a0850e0e1f7f675106639168a88e11"", ""author"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2021-03-28T17:06:02Z""}, ""committer"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2021-03-28T17:06:02Z""}}"
1660,ReviewApproved,2021-04-03 09:37:21,maoling,fork_close,+1,"{""author_association"": ""MEMBER"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1660#pullrequestreview-627445765""}"
1660,ReviewApproved,2021-04-03 11:32:28,ztzg,fork_close,"LGTM; thanks!

(Also thanks to @symat who reported this during the last RC.  It has been corrected *on the website* branches; backporting the fix to `branch-3.7` was still on my TODO list.)","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1660#pullrequestreview-627451285""}"
1660,Referenced,2021-04-03 11:44:08,ztzg,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4548035053"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/3b44589f3fb41678eb3cb09ac7fd382131373bfc""}"
1660,IssueCommentSupplement,2021-04-03 18:25:54,ztzg,fork_close,Now in `branch-3.7`.,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/812906515"", ""author_association"": ""CONTRIBUTOR""}"
1660,ClosePR,2021-04-03 18:25:54,ztzg,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4548359120"", ""commit_url"": null}"
1661,SubmitCommit,2021-03-29 02:15:21,Winbobob,fork_close,ZOOKEEPER-3764: Add High Availability Guarantee Into Docs,"{""sha"": ""b9eda4dc13b8e90ea4681858cab7cfd080053910"", ""author"": {""name"": ""Winbobob"", ""email"": ""zhu6@ncsu.edu"", ""date"": ""2021-03-29T02:15:21Z""}, ""committer"": {""name"": ""Winbobob"", ""email"": ""zhu6@ncsu.edu"", ""date"": ""2021-03-29T02:15:21Z""}}"
1661,OpenPR,2021-03-29 02:22:03,Winbobob,fork_close,,
1661,ReviewComment,2021-04-03 10:07:29,maoling,fork_close,,"{""author_association"": ""MEMBER"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1661#pullrequestreview-627447217""}"
1661,Revise,2021-04-03 15:48:56,Winbobob,fork_close,Fix a typo,"{""sha"": ""40d7815e2b2ad0a4e9a486dde4e7f8e34ef1d9d4"", ""author"": {""name"": ""Winbobob"", ""email"": ""zhu6@ncsu.edu"", ""date"": ""2021-04-03T15:48:56Z""}, ""committer"": {""name"": ""Winbobob"", ""email"": ""zhu6@ncsu.edu"", ""date"": ""2021-04-03T15:48:56Z""}}"
1661,ReviewComment,2021-04-06 13:57:34,belugabehr,fork_close,,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1661#pullrequestreview-629003419""}"
1661,ClosePR,2021-04-10 05:41:49,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4577123584"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/7fdadf7273f34dd0552db25a3771cf55b65e9208""}"
1661,Referenced,2022-11-02 10:58:03,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7722162411"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/c3336ffb60f532532a07f83a83f7dc570c9be393""}"
1661,CrossReferenced,2022-11-02 10:58:03,anuragmadnawat1,fork_close,ZOOKEEPER-3764: Add High Availability Guarantee Into Docs,"{""reference"": {""url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/issues/137"", ""is_pull_request"": true}}"
1661,Referenced,2022-11-02 10:58:49,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7722169524"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/68df53e57abca9453ec94f401b78dc32cc19f3d3""}"
1662,OpenPR,2021-03-29 07:49:45,arshadmohammad,fork_close,,
1662,RenameTitle,2021-03-29 07:52:58,arshadmohammad,fork_close,,"{""rename"": {""from"": ""ZOOKEEPER-1234: Fix check-style issues"", ""to"": ""ZOOKEEPER-4267: Fix check-style issues""}, ""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4519866456""}"
1662,Revise,2021-03-29 07:54:46,arshadmohammad,fork_close,"ZOOKEEPER-4267: Fix check-style issues
Formatted ZKHostnameVerifierTest to fix check-style issue :(whitespace) OperatorWrap: '+' should be on a new line","{""sha"": ""6fd457e4fd57a8b8dc5456b60f8e803c11691821"", ""author"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2021-03-29T07:47:38Z""}, ""committer"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2021-03-29T07:54:46Z""}}"
1662,ReviewRequested,2021-03-29 11:25:17,arshadmohammad,fork_close,,"{""requested_reviewer"": {""login"": ""anmolnar"", ""id"": 4997876, ""node_id"": ""MDQ6VXNlcjQ5OTc4NzY="", ""avatar_url"": ""https://avatars.githubusercontent.com/u/4997876?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/anmolnar"", ""html_url"": ""https://github.com/anmolnar"", ""followers_url"": ""https://api.github.com/users/anmolnar/followers"", ""following_url"": ""https://api.github.com/users/anmolnar/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/anmolnar/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/anmolnar/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/anmolnar/subscriptions"", ""organizations_url"": ""https://api.github.com/users/anmolnar/orgs"", ""repos_url"": ""https://api.github.com/users/anmolnar/repos"", ""events_url"": ""https://api.github.com/users/anmolnar/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/anmolnar/received_events"", ""type"": ""User"", ""site_admin"": false}, ""requested_team"": null}"
1662,ReviewRequested,2021-03-30 07:44:10,arshadmohammad,fork_close,,"{""requested_reviewer"": {""login"": ""eolivelli"", ""id"": 9469110, ""node_id"": ""MDQ6VXNlcjk0NjkxMTA="", ""avatar_url"": ""https://avatars.githubusercontent.com/u/9469110?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/eolivelli"", ""html_url"": ""https://github.com/eolivelli"", ""followers_url"": ""https://api.github.com/users/eolivelli/followers"", ""following_url"": ""https://api.github.com/users/eolivelli/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/eolivelli/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/eolivelli/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/eolivelli/subscriptions"", ""organizations_url"": ""https://api.github.com/users/eolivelli/orgs"", ""repos_url"": ""https://api.github.com/users/eolivelli/repos"", ""events_url"": ""https://api.github.com/users/eolivelli/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/eolivelli/received_events"", ""type"": ""User"", ""site_admin"": false}, ""requested_team"": null}"
1662,Revise,2021-03-30 10:34:01,arshadmohammad,fork_close,Removed CertificatesToPlayWith from checkstyleSuppressions.xml as issues are fixed,"{""sha"": ""25d76aa6ac92a1f4dbc862ae77602e3b2ed979fa"", ""author"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2021-03-30T10:34:01Z""}, ""committer"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2021-03-30T10:34:01Z""}}"
1662,ClosePR,2021-03-30 11:40:12,eolivelli,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4527011137"", ""commit_url"": null}"
1662,ReopenPR,2021-03-30 11:40:14,eolivelli,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4527011289"", ""commit_url"": null}"
1662,IssueComment,2021-03-30 11:40:36,eolivelli,fork_close,closing and reopening to trigger a new build on ASF Jenkins ,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/810151665"", ""author_association"": ""CONTRIBUTOR""}"
1662,ClosePR,2021-03-30 11:40:48,eolivelli,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4527013904"", ""commit_url"": null}"
1662,ReopenPR,2021-03-30 11:40:50,eolivelli,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4527014059"", ""commit_url"": null}"
1662,ClosePR,2021-11-29 11:15:09,maoling,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5684187140"", ""commit_url"": null}"
1662,ReopenPR,2021-11-29 11:15:16,maoling,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5684187769"", ""commit_url"": null}"
1662,IssueComment,2021-12-01 11:39:21,maoling,fork_close,"If no other concerns, I'll merge it at this weekend(12-05).","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/983556243"", ""author_association"": ""MEMBER""}"
1662,ReviewApproved,2021-12-01 17:03:16,eolivelli,fork_close,"LGTM

@maoling please ensure that CI passes before committing ","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1662#pullrequestreview-820550841""}"
1662,ClosePR,2021-12-04 11:54:21,maoling,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5715575644"", ""commit_url"": null}"
1662,ReopenPR,2021-12-04 11:54:24,maoling,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5715575680"", ""commit_url"": null}"
1662,ClosePR,2021-12-05 02:54:37,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5716307539"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/8d82be71dfce6b6752717ca0a68a77ec3c03032b""}"
1662,IssueCommentSupplement,2021-12-05 02:56:25,maoling,fork_close,"- @arshadmohammad Thanks for your contribution.
-  All the CI check had passed. Cc @eolivelli ","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/986156862"", ""author_association"": ""MEMBER""}"
1663,OpenPR,2021-03-29 08:01:48,arshadmohammad,fork_close,,
1663,Revise,2021-03-29 08:02:28,arshadmohammad,fork_close,"ZOOKEEPER-4267: Fix check-style issues
Formatted ZKHostnameVerifierTest to fix check-style issue :(whitespace) OperatorWrap: '+' should be on a new line
Formatted one line in QuorumPeerMainTest to fix check-style issue: (whitespace) ParenPad: '(' is followed by whitespace","{""sha"": ""7f8f57190fbfbe7a17b8b428f504d47309ae30a4"", ""author"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2021-03-29T08:02:28Z""}, ""committer"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2021-03-29T08:02:28Z""}}"
1663,ReviewApproved,2021-03-30 06:40:41,eolivelli,fork_close,LGTM,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1663#pullrequestreview-623892539""}"
1663,IssueComment,2021-03-30 06:42:08,eolivelli,fork_close,"why CI passed on all of the other patches ?
we are running checkstyle against every GitHub PR validation","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/809956567"", ""author_association"": ""CONTRIBUTOR""}"
1663,IssueComment,2021-03-30 08:32:12,arshadmohammad,fork_close,"> why CI passed on all of the other patches ?
> we are running checkstyle against every GitHub PR validation

May be CI is using different check-style rule set. I will try to find it out
","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/810028475"", ""author_association"": ""CONTRIBUTOR""}"
1663,IssueComment,2021-03-30 10:12:58,arshadmohammad,fork_close,"CertificatesToPlayWith check-style  issues are suppressed, somehow my environment suppress is not effective. Master branch has checkstyle issues only in this class. So master ci is not failing because  the suppression","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/810098037"", ""author_association"": ""CONTRIBUTOR""}"
1663,IssueComment,2021-03-30 10:16:50,arshadmohammad,fork_close,"QuorumPeerMainTest has check-style issue only in branch-3.6. CI is not failing as for branch-3.6 CI is running on master

![image](https://user-images.githubusercontent.com/5720433/112973572-1e427000-916f-11eb-8549-4bd9f0ab2dfc.png)

","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/810100667"", ""author_association"": ""CONTRIBUTOR""}"
1663,IssueComment,2021-03-30 10:24:16,arshadmohammad,fork_close,"CertificatesToPlayWith changes are fixable, better to fix it. I will remove the suppression from checkstyleSuppressions.xml","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/810105884"", ""author_association"": ""CONTRIBUTOR""}"
1663,Revise,2021-03-30 10:37:40,arshadmohammad,fork_close,Removed CertificatesToPlayWith from checkstyleSuppressions.xml as issues are fixed,"{""sha"": ""778e377ca3f1457c13a9567673eec94d924d3b13"", ""author"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2021-03-30T10:37:40Z""}, ""committer"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2021-03-30T10:37:40Z""}}"
1663,IssueComment,2021-03-30 10:39:54,arshadmohammad,fork_close,"@eolivelli, 
I have made changes after your approval, please review again.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/810115590"", ""author_association"": ""CONTRIBUTOR""}"
1663,ReviewApproved,2021-03-30 11:37:51,eolivelli,fork_close,"LGTM
thanks for clarifying","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1663#pullrequestreview-624151318""}"
1663,Referenced,2021-03-30 11:39:04,eolivelli,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4527005776"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/fc9294888f6a0e504f00b0899d8090a57891b5f5""}"
1663,IssueCommentSupplement,2021-03-30 11:39:33,eolivelli,fork_close,merged to branch-3.6,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/810151135"", ""author_association"": ""CONTRIBUTOR""}"
1663,ClosePR,2021-03-30 11:39:33,eolivelli,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4527008077"", ""commit_url"": null}"
1663,ReviewCommentSupplement,2021-03-30 21:04:17,ztzg,fork_close,LGTM.,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1663#pullrequestreview-624702453""}"
1664,OpenPR,2021-03-29 11:12:52,arshadmohammad,fork_close,,
1664,CrossReferenced,2021-03-29 11:13:46,arshadmohammad,fork_close,ZOOKEEPER-2354. zookeeper fails to start because of inconsistent epoch,"{""reference"": {""url"": ""https://api.github.com/repos/apache/zookeeper/issues/1109"", ""is_pull_request"": true}}"
1664,Revise,2021-03-29 11:14:17,arshadmohammad,fork_close,"ZOOKEEPER-4269: acceptedEpoch.tmp rename failure will cause server startup error
Using accepted epoch from acceptedEpoch.tmp if it is available","{""sha"": ""b56837e558965b4c3bbe00c4e1fe2b87a06b26aa"", ""author"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2021-03-29T11:14:17Z""}, ""committer"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2021-03-29T11:14:17Z""}}"
1664,ReviewComment,2021-03-29 11:22:33,sonatype-lift[bot],fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1664#pullrequestreview-623122143""}"
1664,ReviewRequested,2021-03-29 11:33:03,arshadmohammad,fork_close,,"{""requested_reviewer"": {""login"": ""anmolnar"", ""id"": 4997876, ""node_id"": ""MDQ6VXNlcjQ5OTc4NzY="", ""avatar_url"": ""https://avatars.githubusercontent.com/u/4997876?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/anmolnar"", ""html_url"": ""https://github.com/anmolnar"", ""followers_url"": ""https://api.github.com/users/anmolnar/followers"", ""following_url"": ""https://api.github.com/users/anmolnar/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/anmolnar/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/anmolnar/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/anmolnar/subscriptions"", ""organizations_url"": ""https://api.github.com/users/anmolnar/orgs"", ""repos_url"": ""https://api.github.com/users/anmolnar/repos"", ""events_url"": ""https://api.github.com/users/anmolnar/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/anmolnar/received_events"", ""type"": ""User"", ""site_admin"": false}, ""requested_team"": null}"
1664,ReviewRequested,2021-03-29 11:33:12,arshadmohammad,fork_close,,"{""requested_reviewer"": {""login"": ""eolivelli"", ""id"": 9469110, ""node_id"": ""MDQ6VXNlcjk0NjkxMTA="", ""avatar_url"": ""https://avatars.githubusercontent.com/u/9469110?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/eolivelli"", ""html_url"": ""https://github.com/eolivelli"", ""followers_url"": ""https://api.github.com/users/eolivelli/followers"", ""following_url"": ""https://api.github.com/users/eolivelli/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/eolivelli/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/eolivelli/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/eolivelli/subscriptions"", ""organizations_url"": ""https://api.github.com/users/eolivelli/orgs"", ""repos_url"": ""https://api.github.com/users/eolivelli/repos"", ""events_url"": ""https://api.github.com/users/eolivelli/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/eolivelli/received_events"", ""type"": ""User"", ""site_admin"": false}, ""requested_team"": null}"
1664,ReviewRejected,2021-03-30 06:44:09,eolivelli,fork_close,"good idea.
overall the change looks good to me

it is possible to add a test case ?
 probably it is better to have more eyes on this patch
tagging @hanm @symat @anmolnar ","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1664#pullrequestreview-623894698""}"
1664,IssueComment,2021-03-30 17:05:32,arshadmohammad,fork_close,Added test case,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/810427872"", ""author_association"": ""CONTRIBUTOR""}"
1664,ReviewRequested,2021-03-30 17:05:57,arshadmohammad,fork_close,,"{""requested_reviewer"": {""login"": ""eolivelli"", ""id"": 9469110, ""node_id"": ""MDQ6VXNlcjk0NjkxMTA="", ""avatar_url"": ""https://avatars.githubusercontent.com/u/9469110?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/eolivelli"", ""html_url"": ""https://github.com/eolivelli"", ""followers_url"": ""https://api.github.com/users/eolivelli/followers"", ""following_url"": ""https://api.github.com/users/eolivelli/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/eolivelli/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/eolivelli/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/eolivelli/subscriptions"", ""organizations_url"": ""https://api.github.com/users/eolivelli/orgs"", ""repos_url"": ""https://api.github.com/users/eolivelli/repos"", ""events_url"": ""https://api.github.com/users/eolivelli/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/eolivelli/received_events"", ""type"": ""User"", ""site_admin"": false}, ""requested_team"": null}"
1664,Revise,2021-03-30 17:07:19,arshadmohammad,fork_close,Added test cases,"{""sha"": ""a2cc9a5b6469393e0049d21539f732f3144877f1"", ""author"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2021-03-30T17:07:19Z""}, ""committer"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2021-03-30T17:07:19Z""}}"
1664,ReviewRequestRemoved,2021-03-30 17:11:50,arshadmohammad,fork_close,,"{""requested_reviewer"": {""login"": ""anmolnar"", ""id"": 4997876, ""node_id"": ""MDQ6VXNlcjQ5OTc4NzY="", ""avatar_url"": ""https://avatars.githubusercontent.com/u/4997876?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/anmolnar"", ""html_url"": ""https://github.com/anmolnar"", ""followers_url"": ""https://api.github.com/users/anmolnar/followers"", ""following_url"": ""https://api.github.com/users/anmolnar/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/anmolnar/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/anmolnar/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/anmolnar/subscriptions"", ""organizations_url"": ""https://api.github.com/users/anmolnar/orgs"", ""repos_url"": ""https://api.github.com/users/anmolnar/repos"", ""events_url"": ""https://api.github.com/users/anmolnar/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/anmolnar/received_events"", ""type"": ""User"", ""site_admin"": false}, ""requested_team"": null}"
1664,ReviewRequested,2021-03-30 18:27:38,arshadmohammad,fork_close,,"{""requested_reviewer"": {""login"": ""anmolnar"", ""id"": 4997876, ""node_id"": ""MDQ6VXNlcjQ5OTc4NzY="", ""avatar_url"": ""https://avatars.githubusercontent.com/u/4997876?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/anmolnar"", ""html_url"": ""https://github.com/anmolnar"", ""followers_url"": ""https://api.github.com/users/anmolnar/followers"", ""following_url"": ""https://api.github.com/users/anmolnar/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/anmolnar/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/anmolnar/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/anmolnar/subscriptions"", ""organizations_url"": ""https://api.github.com/users/anmolnar/orgs"", ""repos_url"": ""https://api.github.com/users/anmolnar/repos"", ""events_url"": ""https://api.github.com/users/anmolnar/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/anmolnar/received_events"", ""type"": ""User"", ""site_admin"": false}, ""requested_team"": null}"
1664,ReviewRejected,2021-03-30 20:59:38,ztzg,fork_close,"I must admit that I'm not quite on board with the idea of reading from `.tmp` files; this somehow goes against the idea of writing the file ""atomically."" I understand that these two small files are somewhat troublesome, though.

Independently of my feelings, the test should be updated to use the new JUnit 5 API in this branch.","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1664#pullrequestreview-624687211""}"
1664,Revise,2021-03-31 05:50:24,arshadmohammad,fork_close,Handled review comments,"{""sha"": ""d8ae084c19c0744385d86eb6f68d21fc2f1e6f05"", ""author"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2021-03-31T05:50:24Z""}, ""committer"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2021-03-31T05:50:24Z""}}"
1664,ReviewApproved,2021-03-31 09:15:26,eolivelli,fork_close,LGTM,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1664#pullrequestreview-625068829""}"
1664,ReviewApproved,2021-03-31 18:15:03,ztzg,fork_close,"Okay, LGTM.  (Still a bit queasy about these `.tmp` files.)","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1664#pullrequestreview-625586303""}"
1664,ClosePR,2021-03-31 21:20:55,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4537466765"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/cdddda4c55acf29d4e0b2bc8f3de7b5c676e8ffc""}"
1664,Referenced,2021-03-31 21:21:07,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4537467750"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/e892430a2c72188193300e44be9e0724caee41e9""}"
1664,CrossReferenced,2022-11-02 09:55:51,anuragmadnawat1,fork_close,ZOOKEEPER-4269: acceptedEpoch.tmp rename failure will cause server startup error,"{""reference"": {""url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/issues/131"", ""is_pull_request"": true}}"
1664,Referenced,2022-11-02 09:55:52,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7721632327"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/720ff66e49a4915aa98969f616bdac4656c5ee46""}"
1664,Referenced,2022-11-02 10:03:54,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7721703839"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/e37e93a1879325f8c97b8caf48d83601208950f7""}"
1665,OpenPR,2021-03-29 15:33:07,arshadmohammad,fork_close,,
1665,Revise,2021-03-29 15:33:40,arshadmohammad,fork_close,"ZOOKEEPER-4270: Flaky test: QuorumPeerMainTest#testLeaderOutOfView
The test case is expecting node3 to be leader but node2 sometimes becomes leader. This happens because leader election completes between node1 and node2 which is valid.
Changed the expectations when node2 is leader otherwise kept the same expectations","{""sha"": ""250c189778cd727a54a76e2dc7a01fc4d0220f3a"", ""author"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2021-03-29T15:33:40Z""}, ""committer"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2021-03-29T15:33:40Z""}}"
1665,ReviewApproved,2021-03-30 06:40:20,eolivelli,fork_close,LGTM,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1665#pullrequestreview-623892300""}"
1665,Referenced,2021-03-30 11:27:07,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4526947513"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/72facc3b54ddcaedc4693c01fb74474f26f262cb""}"
1665,IssueCommentSupplement,2021-03-30 13:26:28,arshadmohammad,fork_close,Merged,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/810240707"", ""author_association"": ""CONTRIBUTOR""}"
1665,ClosePR,2021-03-30 13:26:28,arshadmohammad,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4527655136"", ""commit_url"": null}"
1665,Referenced,2022-05-17 10:58:15,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6623442292"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/6f212fb049a28e450edbf5720626564a6bc01efc""}"
1666,OpenPR,2021-03-29 15:51:23,arshadmohammad,fork_close,,
1666,Revise,2021-03-29 15:52:56,arshadmohammad,fork_close,"ZOOKEEPER-4270: Flaky test: QuorumPeerMainTest#testLeaderOutOfView
The test case is expecting node3 to be leader but node2 sometimes becomes leader. This happens because leader election completes between node1 and node2 which is valid.
Changed the expectations when node2 is leader otherwise kept the same expectations","{""sha"": ""593a88686ad3763ddb03a43ea85b4b61a87e5cae"", ""author"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2021-03-29T15:52:56Z""}, ""committer"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2021-03-29T15:52:56Z""}}"
1666,ReviewApproved,2021-03-30 06:39:54,eolivelli,fork_close,LGTM,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1666#pullrequestreview-623892051""}"
1666,ClosePR,2021-03-30 11:24:45,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4526935786"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/3961bcc7d6eabfe0723c9dab653d9bb83da7f8f8""}"
1666,Referenced,2021-03-30 11:24:55,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4526936623"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/c517b04f90b76596da59fcc61b8d18cfc312260a""}"
1666,ReviewCommentSupplement,2021-03-30 21:02:23,ztzg,fork_close,"LGTM.  (Not tested, though, and I'm too late anyway.)","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1666#pullrequestreview-624701113""}"
1666,Referenced,2022-11-02 09:36:42,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7721459060"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/788f74b6c7cbe317b4ee0441315c12db14129b18""}"
1666,CrossReferenced,2022-11-02 09:36:42,anuragmadnawat1,fork_close,ZOOKEEPER-4270: Flaky test: QuorumPeerMainTest#testLeaderOutOfView,"{""reference"": {""url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/issues/129"", ""is_pull_request"": true}}"
1666,Referenced,2022-11-02 09:41:37,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7721500958"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/9f2d4da3abf57f5f8cf3e9bbe4322055f7af8c80""}"
1668,OpenPR,2021-03-30 17:50:27,arshadmohammad,fork_close,,
1668,Revise,2021-03-31 05:59:36,arshadmohammad,fork_close,"ZOOKEEPER-4269: acceptedEpoch.tmp rename failure will cause server startup error
Using accepted epoch from acceptedEpoch.tmp if it is available","{""sha"": ""72b39a382d1e941ddc86f73f931e66a6049a990a"", ""author"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2021-03-31T05:59:36Z""}, ""committer"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2021-03-31T05:59:36Z""}}"
1668,ReviewApproved,2021-03-31 09:47:35,eolivelli,fork_close,"LGTM

we should wait for @ztzg feedback on the related PR for master branch before merging this patch, that is the backport for it","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1668#pullrequestreview-625098882""}"
1668,ReviewRequested,2021-03-31 09:47:46,eolivelli,fork_close,,"{""requested_reviewer"": {""login"": ""ztzg"", ""id"": 393108, ""node_id"": ""MDQ6VXNlcjM5MzEwOA=="", ""avatar_url"": ""https://avatars.githubusercontent.com/u/393108?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/ztzg"", ""html_url"": ""https://github.com/ztzg"", ""followers_url"": ""https://api.github.com/users/ztzg/followers"", ""following_url"": ""https://api.github.com/users/ztzg/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/ztzg/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/ztzg/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/ztzg/subscriptions"", ""organizations_url"": ""https://api.github.com/users/ztzg/orgs"", ""repos_url"": ""https://api.github.com/users/ztzg/repos"", ""events_url"": ""https://api.github.com/users/ztzg/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/ztzg/received_events"", ""type"": ""User"", ""site_admin"": false}, ""requested_team"": null}"
1668,ReviewApproved,2021-03-31 18:15:59,ztzg,fork_close,"Okay, LGTM.  (Still a bit queasy about these `.tmp` files, though :)","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1668#pullrequestreview-625587122""}"
1668,Referenced,2021-03-31 21:22:27,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4537473724"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/54e563bfe13508fc3707d45e47d37e0c201f19ed""}"
1668,IssueCommentSupplement,2021-03-31 21:23:25,arshadmohammad,fork_close,Merged,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/811474915"", ""author_association"": ""CONTRIBUTOR""}"
1668,ClosePR,2021-03-31 21:23:25,arshadmohammad,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4537478206"", ""commit_url"": null}"
1668,Referenced,2022-05-17 10:07:03,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6623087237"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/a5f0eb0e5303426f9d7e3b0062e8d396ac9d98e5""}"
1669,SubmitCommit,2021-03-31 07:50:40,ayushmantri,fork_close,ZOOKEEPER-4272: Upgrade Netty library to > 4.1.60 due to security vulnerability CVE-2021-21295,"{""sha"": ""5f534417b6a970224521b11e9e5982d751820d6e"", ""author"": {""name"": ""Ayush Mantri"", ""email"": ""aayushmantri@gmail.com"", ""date"": ""2021-03-31T07:49:24Z""}, ""committer"": {""name"": ""Ayush Mantri"", ""email"": ""aayushmantri@gmail.com"", ""date"": ""2021-03-31T07:50:40Z""}}"
1669,OpenPR,2021-03-31 08:27:45,ayushmantri,fork_close,,
1669,ReviewApproved,2021-03-31 10:29:11,arshadmohammad,fork_close,LGTM +1,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1669#pullrequestreview-625134437""}"
1669,IssueComment,2021-03-31 10:29:34,arshadmohammad,fork_close,@ayushmantri please raise another PR for branch-3.6,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/810958926"", ""author_association"": ""CONTRIBUTOR""}"
1669,IssueComment,2021-03-31 11:40:02,eolivelli,fork_close,"please also create a PR for branch-3.5, in case of branch-3.5 we have to update ivy.xml files as well","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/810997496"", ""author_association"": ""CONTRIBUTOR""}"
1669,ReviewApproved,2021-03-31 11:40:18,eolivelli,fork_close,LGTM,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1669#pullrequestreview-625188067""}"
1669,ClosePR,2021-03-31 13:32:18,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4534765816"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/9213f7353b1e6ce4d0fdbc1dca963ace1fd32cec""}"
1669,Referenced,2021-03-31 13:32:35,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4534767850"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/97d0ad0a0cd87847878af87b21259be0098a3124""}"
1669,CrossReferenced,2022-11-02 09:41:40,anuragmadnawat1,fork_close,ZOOKEEPER-4272: Upgrade Netty library to > 4.1.60 due to security vulnerability CVE-2021-21295,"{""reference"": {""url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/issues/130"", ""is_pull_request"": true}}"
1669,Referenced,2022-11-02 09:41:41,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7721501408"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/bd463f723b4a4f76c46ffea1e546ab813438fd1b""}"
1669,Referenced,2022-11-02 09:55:49,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7721632078"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/9c503bb101fe3d30fbdc75ef4420fa412e113887""}"
1670,SubmitCommit,2021-03-31 12:32:15,ayushmantri,fork_close,ZOOKEEPER-4272: Upgrade Netty library to > 4.1.60 due to security vulnerability CVE-2021-21295,"{""sha"": ""6319a408a7478fa8332eb66b92921c717771acf7"", ""author"": {""name"": ""Ayush Mantri"", ""email"": ""aayushmantri@gmail.com"", ""date"": ""2021-03-31T12:32:12Z""}, ""committer"": {""name"": ""Ayush Mantri"", ""email"": ""aayushmantri@gmail.com"", ""date"": ""2021-03-31T12:32:15Z""}}"
1670,OpenPR,2021-03-31 12:37:22,ayushmantri,fork_close,,
1670,ReviewApproved,2021-03-31 12:43:47,eolivelli,fork_close,LGTM thanks,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1670#pullrequestreview-625241838""}"
1670,ReviewApproved,2021-03-31 13:24:30,arshadmohammad,fork_close,LGTM +1,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1670#pullrequestreview-625283902""}"
1670,Referenced,2021-03-31 13:34:34,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4534780787"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/744baabef4724f5f02f6bb0628249a642a4fb80a""}"
1670,IssueComment,2021-03-31 13:35:11,arshadmohammad,fork_close,Merged,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/811073183"", ""author_association"": ""CONTRIBUTOR""}"
1670,ClosePR,2021-03-31 13:35:12,arshadmohammad,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4534784832"", ""commit_url"": null}"
1671,SubmitCommit,2021-03-31 13:18:17,ayushmantri,fork_close,ZOOKEEPER-4272: ZOOKEEPER-4272: Upgrade Netty library to > 4.1.60 due to security vulnerability CVE-2021-21295,"{""sha"": ""cb6a0f75abde1c06671ae0b5732aa38c46617a5f"", ""author"": {""name"": ""Ayush Mantri"", ""email"": ""aayushmantri@gmail.com"", ""date"": ""2021-03-31T13:17:48Z""}, ""committer"": {""name"": ""Ayush Mantri"", ""email"": ""aayushmantri@gmail.com"", ""date"": ""2021-03-31T13:18:17Z""}}"
1671,OpenPR,2021-03-31 13:21:20,ayushmantri,fork_close,,
1671,ReviewApproved,2021-03-31 15:43:31,arshadmohammad,fork_close,LGTM +1,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1671#pullrequestreview-625445399""}"
1671,Referenced,2021-03-31 15:47:14,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4535647538"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/5ee2d3baefd6b647f81d92353c69c2e37f60a5f0""}"
1671,ClosePR,2021-03-31 16:01:56,arshadmohammad,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4535732934"", ""commit_url"": null}"
1673,SubmitCommit,2021-04-07 08:37:34,lyg,fork_close,Solve Poll timeout failure  caused by POLLNVAL,"{""sha"": ""54eb8295ac5d49a3f77e9bb8e8684a353b68335a"", ""author"": {""name"": ""lyg"", ""email"": ""lyg@localhost.localdomain"", ""date"": ""2021-04-07T08:37:34Z""}, ""committer"": {""name"": ""lyg"", ""email"": ""lyg@localhost.localdomain"", ""date"": ""2021-04-07T08:37:34Z""}}"
1673,OpenPR,2021-04-07 09:02:43,qwedsazzcc,fork_close,,
1673,IssueComment,2021-04-10 05:00:37,maoling,fork_close,"@qwedsazzcc 
- It's better to create a [JIRA](https://issues.apache.org/jira/projects/ZOOKEEPER/) issues (sign up JIRA if you don't have an account) to bind this PR to a JIRA-ID.
- The contributor guide is [here](https://cwiki.apache.org/confluence/display/ZOOKEEPER/HowToContribute])","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/817078786"", ""author_association"": ""MEMBER""}"
1673,ClosePR,2021-04-12 01:21:29,qwedsazzcc,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4579280358"", ""commit_url"": null}"
1673,DeleteBranch,2021-04-12 01:21:29,qwedsazzcc,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4579280362"", ""commit_url"": null}"
1673,DeleteBranch,2021-04-12 01:24:01,qwedsazzcc,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4579284212"", ""commit_url"": null}"
1673,IssueCommentSupplement,2021-04-12 01:35:16,qwedsazzcc,fork_close,https://github.com/apache/zookeeper/pull/1680,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/817422146"", ""author_association"": ""NONE""}"
1673,DeleteBranch,2021-04-12 03:33:04,qwedsazzcc,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4579530127"", ""commit_url"": null}"
1675,SubmitCommit,2021-04-07 12:38:00,nkalmar,fork_close,ZOOKEEPER-4277: update jetty to 9.4.39 due to CVE-2021-28165,"{""sha"": ""1633956305f9c9737476ff4c25e21b12e0af602c"", ""author"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@apache.org"", ""date"": ""2021-04-07T12:38:00Z""}, ""committer"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@apache.org"", ""date"": ""2021-04-07T12:38:00Z""}}"
1675,OpenPR,2021-04-07 12:38:35,nkalmar,fork_close,,
1675,IssueComment,2021-04-07 12:40:06,nkalmar,fork_close,"should be picked to 3.7, 3.6 branches as well. (possibly 3.5? needs a new PR for that, as we still have build.xml for ant there.

edit: https://github.com/apache/zookeeper/pull/1676","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/814881007"", ""author_association"": ""CONTRIBUTOR""}"
1675,ReviewApproved,2021-04-07 16:39:16,arshadmohammad,fork_close,LGTM +1,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1675#pullrequestreview-630228770""}"
1675,IssueComment,2021-04-07 17:08:51,arshadmohammad,fork_close,CI failure seems not related. I will merge this PR,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/815079128"", ""author_association"": ""CONTRIBUTOR""}"
1675,ClosePR,2021-04-07 17:38:14,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4563899068"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/b08b6bb2ea7259face0df881dcbc9f5061a35d1e""}"
1675,Referenced,2021-04-07 17:38:27,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4563900159"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/6192e0aee32a1c234047f149f22d1382417f2220""}"
1675,Referenced,2021-04-07 17:38:59,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4563902546"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/acc19ce90bedc8083fb8678050a2c689cb8772b9""}"
1675,Referenced,2021-04-07 18:27:54,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4564116441"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/72eb3f43583435aa4c73ff87ebec9b70b2db2041""}"
1675,CrossReferenced,2022-11-02 10:28:28,anuragmadnawat1,fork_close,ZOOKEEPER-4277: update jetty to 9.4.39 due to CVE-2021-28165,"{""reference"": {""url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/issues/135"", ""is_pull_request"": true}}"
1675,Referenced,2022-11-02 10:28:29,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7721915972"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/817981560bf42b47cbb60c2fd1c093269681c762""}"
1675,Referenced,2022-11-02 10:44:02,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7722044942"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/e890b735a72ea6feb95f4faf8155a9aebf64f014""}"
1676,OpenPR,2021-04-07 12:48:47,nkalmar,fork_close,,
1676,Revise,2021-04-07 12:49:42,nkalmar,fork_close,ZOOKEEPER-4277: update jetty to 9.4.39 due to CVE-2021-28165,"{""sha"": ""769b365e9c0349085ddb9cd59631e9510ed12bcf"", ""author"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@apache.org"", ""date"": ""2021-04-07T12:38:00Z""}, ""committer"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@apache.org"", ""date"": ""2021-04-07T12:49:42Z""}}"
1676,CrossReferenced,2021-04-07 12:50:24,nkalmar,fork_close,ZOOKEEPER-4277: update jetty to 9.4.39 due to CVE-2021-28165,"{""reference"": {""url"": ""https://api.github.com/repos/apache/zookeeper/issues/1675"", ""is_pull_request"": true}}"
1676,ReviewApproved,2021-04-07 16:40:11,arshadmohammad,fork_close,LGTM +1,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1676#pullrequestreview-630229596""}"
1676,Referenced,2021-04-07 17:40:57,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4563911047"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/57db922b4c51e472d5610bb28df3d2cbaca45549""}"
1676,IssueCommentSupplement,2021-04-07 17:43:20,arshadmohammad,fork_close,Merged,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/815101309"", ""author_association"": ""CONTRIBUTOR""}"
1676,ClosePR,2021-04-07 17:43:21,arshadmohammad,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4563921509"", ""commit_url"": null}"
1677,OpenPR,2021-04-08 08:00:27,ztzg,fork_close,,
1677,ReviewRequested,2021-04-08 08:00:30,ztzg,fork_close,,"{""requested_reviewer"": {""login"": ""nkalmar"", ""id"": 5468746, ""node_id"": ""MDQ6VXNlcjU0Njg3NDY="", ""avatar_url"": ""https://avatars.githubusercontent.com/u/5468746?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/nkalmar"", ""html_url"": ""https://github.com/nkalmar"", ""followers_url"": ""https://api.github.com/users/nkalmar/followers"", ""following_url"": ""https://api.github.com/users/nkalmar/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/nkalmar/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/nkalmar/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/nkalmar/subscriptions"", ""organizations_url"": ""https://api.github.com/users/nkalmar/orgs"", ""repos_url"": ""https://api.github.com/users/nkalmar/repos"", ""events_url"": ""https://api.github.com/users/nkalmar/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/nkalmar/received_events"", ""type"": ""User"", ""site_admin"": false}, ""requested_team"": null}"
1677,ReviewRequested,2021-04-08 08:00:43,ztzg,fork_close,,"{""requested_reviewer"": {""login"": ""eolivelli"", ""id"": 9469110, ""node_id"": ""MDQ6VXNlcjk0NjkxMTA="", ""avatar_url"": ""https://avatars.githubusercontent.com/u/9469110?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/eolivelli"", ""html_url"": ""https://github.com/eolivelli"", ""followers_url"": ""https://api.github.com/users/eolivelli/followers"", ""following_url"": ""https://api.github.com/users/eolivelli/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/eolivelli/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/eolivelli/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/eolivelli/subscriptions"", ""organizations_url"": ""https://api.github.com/users/eolivelli/orgs"", ""repos_url"": ""https://api.github.com/users/eolivelli/repos"", ""events_url"": ""https://api.github.com/users/eolivelli/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/eolivelli/received_events"", ""type"": ""User"", ""site_admin"": false}, ""requested_team"": null}"
1677,IssueComment,2021-04-08 08:01:41,ztzg,fork_close,"Cc: @arshadmohammad, as you will probably be the next person to update that page :)","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/815545686"", ""author_association"": ""CONTRIBUTOR""}"
1677,IssueComment,2021-04-08 08:03:45,ztzg,fork_close,"@nkalmar, @eolivelli: I am of course not against restoring 3.5.9 in `zookeeper_dist` if you think it makes more sense.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/815547121"", ""author_association"": ""CONTRIBUTOR""}"
1677,ReviewComment,2021-04-08 10:16:35,arshadmohammad,fork_close,,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1677#pullrequestreview-631220759""}"
1677,IssueComment,2021-04-08 11:10:02,sebbASF,fork_close,"It looks like the 3.6 and 3.7 branches are both currently being developed.

If so, the latest version of each should be on the mirrors, and should be above the line separating them from older releases.
","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/815673298"", ""author_association"": ""NONE""}"
1677,IssueComment,2021-04-08 12:06:14,ztzg,fork_close,"> It looks like the 3.6 and 3.7 branches are both currently being developed.

Indeed.

> If so, the latest version of each should be on the mirrors

Right.  (And that is indeed the case, unless I missed something.)

> and should be above the line separating them from older releases.

Good point; I have moved 3.6.2 back ""above the fold.""","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/815727475"", ""author_association"": ""CONTRIBUTOR""}"
1677,ReviewRejected,2021-04-08 12:20:51,eolivelli,fork_close,,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1677#pullrequestreview-631322882""}"
1677,RenameTitle,2021-04-10 09:02:24,ztzg,fork_close,,"{""rename"": {""from"": ""ZOOKEEPER-4265: Fix broken download links (some files have been archived)"", ""to"": ""ZOOKEEPER-4265: Fix broken links (some files have been archived) & terminology""}, ""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4577264814""}"
1677,ReviewRequested,2021-04-10 09:02:28,ztzg,fork_close,,"{""requested_reviewer"": {""login"": ""arshadmohammad"", ""id"": 5720433, ""node_id"": ""MDQ6VXNlcjU3MjA0MzM="", ""avatar_url"": ""https://avatars.githubusercontent.com/u/5720433?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/arshadmohammad"", ""html_url"": ""https://github.com/arshadmohammad"", ""followers_url"": ""https://api.github.com/users/arshadmohammad/followers"", ""following_url"": ""https://api.github.com/users/arshadmohammad/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/arshadmohammad/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/arshadmohammad/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/arshadmohammad/subscriptions"", ""organizations_url"": ""https://api.github.com/users/arshadmohammad/orgs"", ""repos_url"": ""https://api.github.com/users/arshadmohammad/repos"", ""events_url"": ""https://api.github.com/users/arshadmohammad/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/arshadmohammad/received_events"", ""type"": ""User"", ""site_admin"": false}, ""requested_team"": null}"
1677,ReviewRequested,2021-04-10 09:02:29,ztzg,fork_close,,"{""requested_reviewer"": {""login"": ""eolivelli"", ""id"": 9469110, ""node_id"": ""MDQ6VXNlcjk0NjkxMTA="", ""avatar_url"": ""https://avatars.githubusercontent.com/u/9469110?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/eolivelli"", ""html_url"": ""https://github.com/eolivelli"", ""followers_url"": ""https://api.github.com/users/eolivelli/followers"", ""following_url"": ""https://api.github.com/users/eolivelli/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/eolivelli/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/eolivelli/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/eolivelli/subscriptions"", ""organizations_url"": ""https://api.github.com/users/eolivelli/orgs"", ""repos_url"": ""https://api.github.com/users/eolivelli/repos"", ""events_url"": ""https://api.github.com/users/eolivelli/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/eolivelli/received_events"", ""type"": ""User"", ""site_admin"": false}, ""requested_team"": null}"
1677,IssueComment,2021-04-10 09:03:00,ztzg,fork_close,"@arshadmohammad, @eolivelli, @sebbASF: PTAL.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/817104364"", ""author_association"": ""CONTRIBUTOR""}"
1677,ReviewApproved,2021-04-10 10:02:56,eolivelli,fork_close,"Lgtm
Thanks","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1677#pullrequestreview-632907692""}"
1677,ReviewApproved,2021-04-10 11:01:32,arshadmohammad,fork_close,LGTM +1,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1677#pullrequestreview-632911333""}"
1677,Revise,2021-04-10 17:53:38,ztzg,fork_close,ZOOKEEPER-4265: Fix broken links (some files have been archived) & terminology,"{""sha"": ""bce52b42df65be3c0d82b177caf4a3b4581c92e0"", ""author"": {""name"": ""Damien Diederen"", ""email"": ""ddiederen@apache.org"", ""date"": ""2021-04-10T08:56:12Z""}, ""committer"": {""name"": ""Damien Diederen"", ""email"": ""ddiederen@apache.org"", ""date"": ""2021-04-10T17:53:38Z""}}"
1677,Referenced,2021-04-10 17:57:29,ztzg,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4577730500"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/2d9208bb0df1c196dee743d9cb47dc967f494dc8""}"
1677,Referenced,2021-04-10 18:01:30,ztzg,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4577734463"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/982feb4e37a16e5c04204eb2e5767a0162dc287a""}"
1677,IssueCommentSupplement,2021-04-10 18:03:00,ztzg,fork_close,Thanks; now merged in branch `website`; `asf-site` regenerated & pushed.,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/817179827"", ""author_association"": ""CONTRIBUTOR""}"
1677,ClosePR,2021-04-10 18:03:00,ztzg,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4577736214"", ""commit_url"": null}"
1678,SubmitCommit,2021-04-08 08:36:48,ayushmantri,fork_close,"ZOOKEEPER-4278: dependency-check:check failing - netty-transport-4.1.60.Final CVE-2021-21409
Upgraded Netty library to 4.1.63.Final","{""sha"": ""89dd9322b6f742a7275880a28be364071264be79"", ""author"": {""name"": ""Ayush Mantri"", ""email"": ""aayushmantri@gmail.com"", ""date"": ""2021-04-08T08:36:48Z""}, ""committer"": {""name"": ""Ayush Mantri"", ""email"": ""aayushmantri@gmail.com"", ""date"": ""2021-04-08T08:36:48Z""}}"
1678,OpenPR,2021-04-08 11:15:56,ayushmantri,fork_close,,
1678,IssueComment,2021-04-08 11:41:05,arshadmohammad,fork_close,Thanks @ayushmantri for raising the PR. Please raise PR for branch-3.5 as well.,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/815694128"", ""author_association"": ""CONTRIBUTOR""}"
1678,IssueComment,2021-04-08 13:53:08,arshadmohammad,fork_close,"> continuous-integration/jenkins/pr-merge — This commit cannot be built
Failure is not related to this PR. Failure is because of cmake is not installed on the CI machine.
","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/815844037"", ""author_association"": ""CONTRIBUTOR""}"
1678,ReviewApproved,2021-04-08 13:53:31,arshadmohammad,fork_close,LGTM +1,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1678#pullrequestreview-631423760""}"
1678,ClosePR,2021-04-08 14:17:08,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4568982145"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/925b5b28a0aa9e7749da9672de92eab5b95578f0""}"
1678,Referenced,2021-04-08 14:17:21,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4568983467"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/9612e2a2c2823c655808c490aa37749a2dbca4a8""}"
1678,Referenced,2021-04-08 14:36:08,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4569097983"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/daceff5384477d5bb8e975886416c6bcc4c3dcd1""}"
1678,Referenced,2021-04-08 16:06:45,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4569624644"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/45165bb4284a9570b83f3d964b3437ec844ff61d""}"
1678,IssueCommentSupplement,2021-07-27 11:27:14,sandipbhattacharya,fork_close,"Hi @ayushmantri  , @arshadmohammad  and @asfgit ,
I see no later version is available for Apache Zookeeper containing this fix. Can you please confirm me when this fix will be available and in which version?

 

I see 3.7.0 is the last released version which has this reported vulnerability

https://mvnrepository.com/artifact/org.apache.zookeeper/zookeeper

and https://zookeeper.apache.org/releases.html","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/887433384"", ""author_association"": ""NONE""}"
1678,Referenced,2022-11-02 10:44:02,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7722044997"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/3d64e64e7fb1e5eb29e872f965b98559b798af37""}"
1678,CrossReferenced,2022-11-02 10:44:03,anuragmadnawat1,fork_close,ZOOKEEPER-4278: dependency-check:check failing - netty-transport-4.1.60.Final CVE-2021-21409,"{""reference"": {""url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/issues/136"", ""is_pull_request"": true}}"
1678,Referenced,2022-11-02 10:58:00,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7722161911"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/ae79f8913142d69e0e3ad97729139aa5fbfe29c6""}"
1679,SubmitCommit,2021-04-07 08:37:34,lyg,fork_close,Solve Poll timeout failure  caused by POLLNVAL,"{""sha"": ""54eb8295ac5d49a3f77e9bb8e8684a353b68335a"", ""author"": {""name"": ""lyg"", ""email"": ""lyg@localhost.localdomain"", ""date"": ""2021-04-07T08:37:34Z""}, ""committer"": {""name"": ""lyg"", ""email"": ""lyg@localhost.localdomain"", ""date"": ""2021-04-07T08:37:34Z""}}"
1679,SubmitCommit,2021-04-12 01:32:37,lyg,fork_close,Merge branch 'branch-3.7' of https://github.com/apache/zookeeper into ZOOKEEPER-4021,"{""sha"": ""d8752eb1fee16769f1bfac79bc1951671c990655"", ""author"": {""name"": ""lyg"", ""email"": ""lyg@portsip.cn"", ""date"": ""2021-04-12T01:32:37Z""}, ""committer"": {""name"": ""lyg"", ""email"": ""lyg@portsip.cn"", ""date"": ""2021-04-12T01:32:37Z""}}"
1679,OpenPR,2021-04-12 01:34:26,qwedsazzcc,fork_close,,
1679,CrossReferenced,2021-04-12 01:35:16,qwedsazzcc,fork_close,Solve Poll timeout failure  caused by POLLNVAL,"{""reference"": {""url"": ""https://api.github.com/repos/apache/zookeeper/issues/1673"", ""is_pull_request"": true}}"
1679,ClosePR,2021-04-12 03:20:08,qwedsazzcc,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4579504872"", ""commit_url"": null}"
1679,DeleteBranch,2021-04-12 03:20:08,qwedsazzcc,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4579504881"", ""commit_url"": null}"
1679,IssueCommentSupplement,2021-04-12 03:34:50,qwedsazzcc,fork_close,https://github.com/apache/zookeeper/pull/1680,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/817455138"", ""author_association"": ""NONE""}"
1681,SubmitCommit,2021-04-12 07:21:05,symat,fork_close,"ZOOKEEPER-4247: fix NPE happens while processing messages during quorum member restart

When a ZooKeeper server realize that an other QuorumPeer was shut down (e.g. during a rolling upgrade or
rolling restart), it is possible to get NullPointerException in NettyServerCnx.receiveMessage, because
the zkServer variable is set to null when a QuorumPear is closed. This is why in the code we always
check the zkServer variable before using it. This check was missing in one place thus causing NPE:

```
2021-02-08T12:42:08.229+0000 [myid:] - ERROR [nioEventLoopGroup-4-1:NettyServerCnxnFactory$CnxnChannelHandler@329]
- Unexpected exception in receive
 java.lang.NullPointerException: null
 at org.apache.zookeeper.server.NettyServerCnxn.receiveMessage(NettyServerCnxn.java:518) ~[zookeeper-3.6.2.jar:3.6.2]
 at org.apache.zookeeper.server.NettyServerCnxn.processMessage(NettyServerCnxn.java:368) ~[zookeeper-3.6.2.jar:3.6.2]
 at org.apache.zookeeper.server.NettyServerCnxnFactory$CnxnChannelHandler.channelRead(NettyServerCnxnFactory.java:326) [zookeeper-3.6.2.jar:3.6.2]
```","{""sha"": ""3c8478a40d64f4498713602f08daf6cad7908444"", ""author"": {""name"": ""Mate Szalay-Beko"", ""email"": ""symat@apache.org"", ""date"": ""2021-04-12T06:55:30Z""}, ""committer"": {""name"": ""Mate Szalay-Beko"", ""email"": ""symat@apache.org"", ""date"": ""2021-04-12T07:21:05Z""}}"
1681,OpenPR,2021-04-12 07:40:06,symat,fork_close,,
1681,IssueComment,2021-04-12 07:40:35,symat,fork_close,I think we should cherry-pick this small bugfix to all active branches.,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/817568630"", ""author_association"": ""CONTRIBUTOR""}"
1681,RenameTitle,2021-04-12 07:42:12,symat,fork_close,,"{""rename"": {""from"": ""ZOOKEEPER-4247: NPE while processing messages during quorum member restart"", ""to"": ""ZOOKEEPER-4247: NPE while processing message from restarted quorum member""}, ""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4580326965""}"
1681,ReviewApproved,2021-04-12 09:58:13,eolivelli,fork_close,LGTM,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1681#pullrequestreview-633351592""}"
1681,ReviewComment,2021-04-12 10:10:46,arshadmohammad,fork_close,,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1681#pullrequestreview-633363052""}"
1681,Revise,2021-04-12 13:15:36,symat,fork_close,ZOOKEEPER-4247: address PR comments,"{""sha"": ""b99ee986b0dc9519f35018866b1e48480e9cf092"", ""author"": {""name"": ""Mate Szalay-Beko"", ""email"": ""symat@apache.org"", ""date"": ""2021-04-12T13:15:36Z""}, ""committer"": {""name"": ""Mate Szalay-Beko"", ""email"": ""symat@apache.org"", ""date"": ""2021-04-12T13:15:36Z""}}"
1681,ReviewComment,2021-04-12 13:45:38,arshadmohammad,fork_close,,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1681#pullrequestreview-633555316""}"
1681,Revise,2021-04-12 13:57:24,symat,fork_close,ZOOKEEPER-4247: address PR comments,"{""sha"": ""7b140177dee5c50816895b94a6ce86ce193214e1"", ""author"": {""name"": ""Mate Szalay-Beko"", ""email"": ""symat@apache.org"", ""date"": ""2021-04-12T13:57:24Z""}, ""committer"": {""name"": ""Mate Szalay-Beko"", ""email"": ""symat@apache.org"", ""date"": ""2021-04-12T13:57:24Z""}}"
1681,ReviewApproved,2021-04-12 14:05:33,arshadmohammad,fork_close,LGTM +1,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1681#pullrequestreview-633578927""}"
1681,IssueComment,2021-04-12 14:06:50,arshadmohammad,fork_close,I will merge this PR after 3.6.3 release.,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/817841943"", ""author_association"": ""CONTRIBUTOR""}"
1681,IssueComment,2021-04-12 14:35:27,symat,fork_close,"> I will merge this PR after 3.6.3 release.

Thank you @arshadmohammad !

Also thanks for the comments and quick review for both you and @eolivelli !","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/817865344"", ""author_association"": ""CONTRIBUTOR""}"
1681,ClosePR,2021-04-14 16:50:26,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4594772217"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/ea75e1f63572fc72fb8520ba8c793523047acb49""}"
1681,Referenced,2021-04-14 16:50:38,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4594773048"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/7c37cd9c89c92811da96e378c1b6ff81796b172d""}"
1681,Referenced,2021-04-14 16:51:13,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4594775669"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/4920b1555a9ea345902440f94fe7add1bb49d7c4""}"
1681,CrossReferenced,2022-11-02 10:58:52,anuragmadnawat1,fork_close,ZOOKEEPER-4247: NPE while processing message from restarted quorum member,"{""reference"": {""url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/issues/138"", ""is_pull_request"": true}}"
1681,Referenced,2022-11-02 10:58:53,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7722170150"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/a4dc5c2b70abf79310a5d238323f4a36b8ef2343""}"
1681,Referenced,2022-11-02 11:01:53,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7722194267"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/aac490f99cf8e66348071ba9a7888b9c1886e665""}"
1683,SubmitCommit,2021-04-13 18:21:18,huizhilu,fork_close,Allow packet of max packet length to be deserialized,"{""sha"": ""b097a69af2627882166b0f0969e82627183c3aa2"", ""author"": {""name"": ""Huizhi Lu"", ""email"": ""5187721+pkuwm@users.noreply.github.com"", ""date"": ""2021-04-13T18:21:18Z""}, ""committer"": {""name"": ""Huizhi Lu"", ""email"": ""5187721+pkuwm@users.noreply.github.com"", ""date"": ""2021-04-13T18:21:18Z""}}"
1683,OpenPR,2021-04-13 18:30:05,huizhilu,fork_close,,
1683,RenameTitle,2021-04-13 18:35:23,huizhilu,fork_close,,"{""rename"": {""from"": ""Allow packet of max packet length to be deserialized"", ""to"": ""[ZOOKEEPER-4281] Allow packet of max packet length to be deserialized""}, ""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4589681356""}"
1683,RenameTitle,2021-04-13 18:39:51,huizhilu,fork_close,,"{""rename"": {""from"": ""[ZOOKEEPER-4281] Allow packet of max packet length to be deserialized"", ""to"": ""ZOOKEEPER-4281: Allow packet of max packet length to be deserialized""}, ""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4589699494""}"
1683,IssueComment,2021-04-13 18:47:08,huizhilu,fork_close,@eolivelli @maoling @ztzg @hanm Could you help take a quick look and decide whether the PR is valid/helpful? Thank you!,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/818973192"", ""author_association"": ""CONTRIBUTOR""}"
1683,IssueComment,2021-04-14 07:57:25,eolivelli,fork_close,It makes sense to me,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/819314322"", ""author_association"": ""CONTRIBUTOR""}"
1683,ReviewApproved,2021-04-14 09:44:24,arshadmohammad,fork_close,LGTM +1,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1683#pullrequestreview-635422519""}"
1683,IssueComment,2021-04-14 21:42:05,huizhilu,fork_close,"Thanks for the review, @eolivelli, @arshadmohammad.

Failed CI checks don't seem related to this change.

retest maven build","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/819867536"", ""author_association"": ""CONTRIBUTOR""}"
1683,ReviewRejected,2021-04-16 20:47:40,eolivelli,fork_close,"Sorry for late reply.

Can you please add one unit test around the code you changed? In order to not introduce regressions in the future","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1683#pullrequestreview-638074258""}"
1683,Revise,2021-04-16 22:22:40,huizhilu,fork_close,Add unit test,"{""sha"": ""d0eaf78d4ce388e0e29cb496f7dff7ad1f5b5345"", ""author"": {""name"": ""Huizhi Lu"", ""email"": ""5187721+pkuwm@users.noreply.github.com"", ""date"": ""2021-04-16T22:22:40Z""}, ""committer"": {""name"": ""Huizhi Lu"", ""email"": ""5187721+pkuwm@users.noreply.github.com"", ""date"": ""2021-04-16T22:22:40Z""}}"
1683,IssueComment,2021-04-16 22:25:00,huizhilu,fork_close,"> Sorry for late reply.
> 
> Can you please add one unit test around the code you changed? In order to not introduce regressions in the future

@eolivelli Thanks for the suggestion. A unit test is added :)  Could you take another look?","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/821627598"", ""author_association"": ""CONTRIBUTOR""}"
1683,ReviewRequested,2021-04-16 22:25:08,huizhilu,fork_close,,"{""requested_reviewer"": {""login"": ""eolivelli"", ""id"": 9469110, ""node_id"": ""MDQ6VXNlcjk0NjkxMTA="", ""avatar_url"": ""https://avatars.githubusercontent.com/u/9469110?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/eolivelli"", ""html_url"": ""https://github.com/eolivelli"", ""followers_url"": ""https://api.github.com/users/eolivelli/followers"", ""following_url"": ""https://api.github.com/users/eolivelli/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/eolivelli/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/eolivelli/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/eolivelli/subscriptions"", ""organizations_url"": ""https://api.github.com/users/eolivelli/orgs"", ""repos_url"": ""https://api.github.com/users/eolivelli/repos"", ""events_url"": ""https://api.github.com/users/eolivelli/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/eolivelli/received_events"", ""type"": ""User"", ""site_admin"": false}, ""requested_team"": null}"
1683,ReviewApproved,2021-04-17 06:35:13,eolivelli,fork_close,Perfect,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1683#pullrequestreview-638203564""}"
1683,IssueComment,2021-04-20 06:18:56,huizhilu,fork_close,@eolivelli @arshadmohammad @maoling Is it fine to merge this PR? Let me know if there is anything else we should do before merging it. Thank you!,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/823005161"", ""author_association"": ""CONTRIBUTOR""}"
1683,IssueComment,2021-04-20 07:02:00,eolivelli,fork_close,"I have restarted CI jobs, as soon as CI is green I will merge.
sorry, it is taking so long","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/823027691"", ""author_association"": ""CONTRIBUTOR""}"
1683,ReviewApproved,2021-04-21 02:55:21,hanm,fork_close,,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1683#pullrequestreview-640587739""}"
1683,IssueComment,2021-04-21 06:00:06,huizhilu,fork_close,"> I have restarted CI jobs, as soon as CI is green I will merge.
> sorry, it is taking so long

@eolivelli thanks for triggering the checks. It seems a check (tests) timed out. From the previous merged PRs, the tests are not stable. It might need several retries to get all checks green :(","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/823799501"", ""author_association"": ""CONTRIBUTOR""}"
1683,IssueComment,2021-04-21 07:50:03,eolivelli,fork_close,"I have restarted the CI job, we still have a few problems with GitHub actions and JDK11, sorry","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/823856129"", ""author_association"": ""CONTRIBUTOR""}"
1683,ClosePR,2021-04-21 08:04:51,eolivelli,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4623399610"", ""commit_url"": null}"
1683,ReopenPR,2021-04-21 08:04:53,eolivelli,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4623399824"", ""commit_url"": null}"
1683,IssueComment,2021-04-21 08:05:24,eolivelli,fork_close,"it looks like the link to GH actions diappeared

btw this fix is save and main QA checks passed.
merging it now","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/823865971"", ""author_association"": ""CONTRIBUTOR""}"
1683,ClosePR,2021-04-21 08:07:40,eolivelli,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4623414431"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/1590a424cb7a8768b0ae01f2957856b1834dd68d""}"
1683,Referenced,2021-04-21 08:07:52,eolivelli,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4623415401"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/1a4cf4d6735f497ee127b9e0783e019e84888d0e""}"
1683,IssueCommentSupplement,2021-04-21 08:08:22,eolivelli,fork_close,committed to master branch (3.8.x) and to branch-3.7 (3.7.1),"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/823868265"", ""author_association"": ""CONTRIBUTOR""}"
1683,Referenced,2021-04-21 17:22:24,huizhilu,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4626327483"", ""commit_url"": ""https://api.github.com/repos/huizhilu/zookeeper/commits/c4323b0b234cc83dcdc2e095e847632d7f36a0e3""}"
1683,Referenced,2021-04-21 17:36:49,huizhilu,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4626401504"", ""commit_url"": ""https://api.github.com/repos/huizhilu/zookeeper/commits/8538ff474abc8dcd867ca452cda823985bc79a58""}"
1683,Referenced,2021-04-21 18:35:55,huizhilu,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4626657150"", ""commit_url"": ""https://api.github.com/repos/linkedin/zookeeper/commits/507da1af378279199c3a6d64b0f264933ae49be8""}"
1683,Referenced,2021-11-23 22:12:42,narendly,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5663251463"", ""commit_url"": ""https://api.github.com/repos/linkedin/zookeeper/commits/d62d8b4bd068cb388e9f89946b3cdd6e6b268c3b""}"
1683,CrossReferenced,2022-11-02 11:06:55,anuragmadnawat1,fork_close,ZOOKEEPER-4281: Allow packet of max packet length to be deserialized,"{""reference"": {""url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/issues/140"", ""is_pull_request"": true}}"
1683,Referenced,2022-11-02 11:06:56,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7722235242"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/451991231f8ee0157d37f3fdc96c379f78e9efc7""}"
1683,Referenced,2022-11-02 11:10:59,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7722267298"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/ac4977fb1cf358d772aecee103d252b59d0f641e""}"
1685,SubmitCommit,2021-04-14 08:32:41,rvaleti,fork_close,"ZOOKEEPER-4275 Slowness in sasl login or subject.doAs() causes zk client to falsely assume that the server did not respond, closes connection and goes to unnecessary retries","{""sha"": ""0f0e077469950d9fe8702a491cbe6897a5177b7e"", ""author"": {""name"": ""Ravi Kishore Valeti"", ""email"": ""v.ravikishore@gmail.com"", ""date"": ""2021-04-14T08:32:41Z""}, ""committer"": {""name"": ""Ravi Kishore Valeti"", ""email"": ""v.ravikishore@gmail.com"", ""date"": ""2021-04-14T08:32:41Z""}}"
1685,OpenPR,2021-04-14 08:33:57,rvaleti,fork_close,,
1685,IssueComment,2021-04-14 08:51:44,rvaleti,fork_close,"Hi, @symat - Raised this PR for master branch as suggested here - https://github.com/apache/zookeeper/pull/1684#pullrequestreview-635310075","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/819351190"", ""author_association"": ""CONTRIBUTOR""}"
1685,ReviewApproved,2021-04-14 08:57:17,nkalmar,fork_close,"LGTM, been reading up the jira, good catch!
I'm not strongly pro-unit test for this change, as it is always catchy to write for timeout problems. Meaning they tend to get flaky. IMHO.","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1685#pullrequestreview-635376888""}"
1685,ReviewApproved,2021-04-14 09:22:52,symat,fork_close,"LGTM, +1","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1685#pullrequestreview-635401984""}"
1685,IssueComment,2021-04-14 09:24:20,symat,fork_close,I re-triggered the CI (most probably we hit a flaky test again),"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/819373461"", ""author_association"": ""CONTRIBUTOR""}"
1685,IssueComment,2021-04-14 09:29:49,symat,fork_close,"If the CI passes, I'll merge this to master and also cherry-pick to the active branches.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/819377047"", ""author_association"": ""CONTRIBUTOR""}"
1685,ReviewApproved,2021-04-14 09:40:35,arshadmohammad,fork_close,LGTM +1,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1685#pullrequestreview-635419052""}"
1685,IssueComment,2021-04-14 13:34:24,symat,fork_close,"I already restarted the CI jobs 2 times... C client unit tests are failing, what is definitely not related to this PR about java client. If the java unit tests are passing (still running at the moment), then I'm going to merge this tomorrow unless someone has an objection.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/819522364"", ""author_association"": ""CONTRIBUTOR""}"
1685,IssueComment,2021-04-19 06:39:25,symat,fork_close,"I had to restart CI at least 5 times to get a stable run... is it always this unstable?
I'm going to merge this fix now.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/822211972"", ""author_association"": ""CONTRIBUTOR""}"
1685,RenameTitle,2021-04-19 06:42:37,symat,fork_close,,"{""rename"": {""from"": ""ZOOKEEPER-4275 Slowness in sasl login or subject.doAs() causes zk client to falsely assume that the server did not respond, closes connection and goes to unnecessary retries"", ""to"": ""ZOOKEEPER-4275: Prevent unnecessary client connection retry due to slow  Slowness in sasl login or subject.doAs() causes zk client to falsely assume that the server did not respond, closes connection and goes to unnecessary retries""}, ""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4610587421""}"
1685,RenameTitle,2021-04-19 06:42:57,symat,fork_close,,"{""rename"": {""from"": ""ZOOKEEPER-4275: Prevent unnecessary client connection retry due to slow  Slowness in sasl login or subject.doAs() causes zk client to falsely assume that the server did not respond, closes connection and goes to unnecessary retries"", ""to"": ""ZOOKEEPER-4275: Prevent unnecessary client connection retry due to slow SASL login""}, ""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4610588710""}"
1685,RenameTitle,2021-04-19 06:43:18,symat,fork_close,,"{""rename"": {""from"": ""ZOOKEEPER-4275: Prevent unnecessary client connection retry due to slow SASL login"", ""to"": ""ZOOKEEPER-4275: Prevent unnecessary client connection retry caused by slow SASL login""}, ""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4610589966""}"
1685,ClosePR,2021-04-19 06:47:13,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4610605274"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/c583a6e79654359b5daad5093d1730e370d3b75b""}"
1685,Referenced,2021-04-19 06:51:32,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4610622641"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/0d60bd2d97bad43678341fbd9de0e644dade5465""}"
1685,Referenced,2021-04-19 06:52:48,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4610628067"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/55317e9f6ac22b33b30d4114b8705ac4c318b385""}"
1685,Referenced,2021-04-19 06:53:33,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4610631267"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/347fc1b6e028aad94f4940afb1234a039fbf3946""}"
1685,Referenced,2022-11-02 11:01:57,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7722194760"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/acc4033d5da0d43ce6e89924c9c8fdae792e2563""}"
1685,CrossReferenced,2022-11-02 11:01:57,anuragmadnawat1,fork_close,ZOOKEEPER-4275: Prevent unnecessary client connection retry caused by slow SASL login,"{""reference"": {""url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/issues/139"", ""is_pull_request"": true}}"
1685,Referenced,2022-11-02 11:06:52,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7722234789"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/ce24071e91c98a6ee514ba7c93822d9634ce88f1""}"
1686,SubmitCommit,2021-04-25 11:46:14,fangxiao,fork_close,ZOOKEEPER-4280: fix the log format in the DataTree#deserializeZxidDigest method,"{""sha"": ""3b7e264dd08d6f164e63c6989760b17a010c51d5"", ""author"": {""name"": ""fangxiao"", ""email"": ""fangxiao@kuaishou.com"", ""date"": ""2021-04-25T11:46:14Z""}, ""committer"": {""name"": ""fangxiao"", ""email"": ""fangxiao@kuaishou.com"", ""date"": ""2021-04-25T11:46:14Z""}}"
1686,OpenPR,2021-04-25 11:48:16,benecdict-fang,fork_close,,
1686,ClosePR,2021-04-26 12:20:55,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4644496398"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/96d87e2809f92460f182c66311d83d59f2ab96c3""}"
1686,IssueCommentSupplement,2021-04-26 12:21:26,maoling,fork_close,@benecdict-fang  Thanks for your contribution.,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/826791286"", ""author_association"": ""MEMBER""}"
1686,CrossReferenced,2022-11-02 11:11:51,anuragmadnawat1,fork_close,ZOOKEEPER-4280: fix the log format in the DataTree#deserializeZxidDigest method,"{""reference"": {""url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/issues/142"", ""is_pull_request"": true}}"
1686,Referenced,2022-11-02 11:11:52,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7722274605"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/19dfe892ae0282a643682a77258f4e4527949459""}"
1686,Referenced,2022-11-02 11:17:09,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7722315652"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/18b97d17b7e4b9e27c9dc40bc39d7582cac52887""}"
1687,OpenPR,2021-04-25 12:17:35,benecdict-fang,fork_close,,
1687,ReviewApproved,2021-04-25 12:28:46,ZWShuai91,fork_close,"good,thanks","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1687#pullrequestreview-644133980""}"
1687,Revise,2021-04-26 13:03:04,fangxiao,fork_close,ZOOKEEPER-4007: A typo in the ZKUtil#validateFileInput method,"{""sha"": ""4bf49937fda4d4e82a0866b284e7fe228421c76a"", ""author"": {""name"": ""fangxiao"", ""email"": ""benec.fx@gmail.com"", ""date"": ""2021-04-26T13:03:04Z""}, ""committer"": {""name"": ""fangxiao"", ""email"": ""benec.fx@gmail.com"", ""date"": ""2021-04-26T13:03:04Z""}}"
1687,IssueComment,2021-05-09 10:39:20,maoling,fork_close,"- The CI has passed and I retest this change by this  approach:
```
➜  bin ./zkSnapShotToolkit.sh /data/software
'/data/software' is a directory. it must be a file.
2021-05-09 18:33:28,685 [myid:] - ERROR [main:ServiceUtils@42] - Exiting JVM with code 2
```
- if no other concerns, I'll merge it at next weekend(05-15)","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/835778029"", ""author_association"": ""MEMBER""}"
1687,ReviewApproved,2021-05-09 12:55:03,eolivelli,fork_close,,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1687#pullrequestreview-655076013""}"
1687,ClosePR,2021-05-10 11:24:44,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4716244054"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/f5c29aab9adb49d9d3580074d4d1a805579fa20d""}"
1687,IssueCommentSupplement,2021-05-10 11:27:13,maoling,fork_close,@benecdict-fang  Thanks for your contribution.,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/836579435"", ""author_association"": ""MEMBER""}"
1687,Referenced,2022-11-02 11:17:12,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7722316129"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/7ef7332957765dcff65bcf037ca6f2fda9c76f3a""}"
1687,CrossReferenced,2022-11-02 11:17:12,anuragmadnawat1,fork_close,ZOOKEEPER-4007: A typo in the ZKUtil#validateFileInput method,"{""reference"": {""url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/issues/143"", ""is_pull_request"": true}}"
1687,Referenced,2022-11-02 11:19:00,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7722330123"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/00a971c6a54bf10c76746297d5d9bc277f1a34c4""}"
1689,SubmitCommit,2019-12-16 21:09:50,symat,fork_close,"ZOOKEEPER-3651: try to fix flaky NettyServerCnxnFactoryTest

The testOutstandingHandshakeLimit is flaky, I tried to fix it in this commit.
- I added extra comments and did some restructuring in the code.
- Avoiding to start unnecessary ZooKeeper servers for tests don't require it
- Decreasing the number of client connections the test tries to initiate
- Increasing the timeout to make sure the connections get established
- Filtering the 'SyncConnected' events in the client watcher to make sure
the given connection is really established before counting it

I think the last two points above should fix the flakiness. I tried to run the
test in docker, and before the fix it failed for me once in every 4-5 execution.
After applying these changes I re-executed it 100 times without failure.

If these fixes are not enough, then we can introduce some only-visible-by-test
method to add sleep in the SSLHandshake process in the production code to
force to have handshakes in parallel. However, it would be nice to avoid that.
Let's hope that these fixes will be enough.

Author: Mate Szalay-Beko <szalay.beko.mate@gmail.com>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Norbert Kalmar <nkalmar@cloudera.com>

Closes #1184 from symat/ZOOKEEPER-3651

(cherry picked from commit 20daae7d5fa934629e7825ed72e66ad76a94d6aa)
Signed-off-by: Enrico Olivelli <eolivelli@apache.org>","{""sha"": ""66e9eda68539c7eda5c67af4f12003382aba8529"", ""author"": {""name"": ""Mate Szalay-Beko"", ""email"": ""szalay.beko.mate@gmail.com"", ""date"": ""2019-12-16T21:09:36Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2019-12-16T21:09:50Z""}}"
1689,SubmitCommit,2019-12-19 08:52:59,sujithsimon22,fork_close,"ZOOKEEPER-3653: Audit Log feature fails in a stand alone zookeeper setup

Author: sujithsimon22 <sujith.abraham.simon@huawei.com>

Reviewers: Enrico Olivelli <eolivelli@apache.org>,Mohammad Arshad <arshad@apache.org>

Closes #1185 from sujithsimon22/master

(cherry picked from commit 7c9a1e4e9ae9e3a17c4766b34787e39ca1e42794)
Signed-off-by: Mohammad Arshad <arshad@apache.org>","{""sha"": ""be57cc255918b6e015d08bfd1203a6f04b20212e"", ""author"": {""name"": ""Sujith Simon"", ""email"": ""sujith.abraham.simon@huawei.com"", ""date"": ""2019-12-19T08:51:41Z""}, ""committer"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2019-12-19T08:52:59Z""}}"
1689,SubmitCommit,2019-12-19 23:14:39,eolivelli,fork_close,ZooKeeper 3.6.0 release notes draft,"{""sha"": ""a21632bf3b38fbf41fe3b0aba9b801dc31f8c12e"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2019-12-19T23:14:03Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2019-12-19T23:14:39Z""}}"
1689,SubmitCommit,2019-12-23 15:49:38,rabi-kumar,fork_close,"ZOOKEEPER-3648: remove Hadoop logo in the ZooKeeper documentation

I have removed hadoop logo from header.html present in zookeeper-documentation and also the image hadoop-logo.jpg from images.

Please do let me know if I have missed anything.

Author: ravowlga123 <ravowlga@gmail.com>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Justin Ling Mao <maoling199210191@sina.com>

Closes #1179 from ravowlga123/ZOOKEEPER-3648

(cherry picked from commit 56f508f1828e4392caab1e50ed76b81b84a7357d)
Signed-off-by: Enrico Olivelli <enrico.olivelli@diennea.com>","{""sha"": ""97b2f8cb64061645e1d7b50bf8ad17ecba76a377"", ""author"": {""name"": ""ravowlga123"", ""email"": ""ravowlga@gmail.com"", ""date"": ""2019-12-23T15:49:27Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""enrico.olivelli@diennea.com"", ""date"": ""2019-12-23T15:49:38Z""}}"
1689,SubmitCommit,2019-12-23 15:51:11,hanm,fork_close,"ZOOKEEPER-3056: fix documentation.

snapshot.trust.empty can be used in both zoo.cfg file (with name snapshot.trust.empty), and as a system property (with name zookeeper.snapshot.trust.empty).

Author: Michael Han <lhan@twitter.com>

Reviewers: Enrico Olivelli <eolivelli@apache.org>

Closes #1178 from hanm/ZOOKEEPER-3056

(cherry picked from commit 04e91c3889b2d0a477036ae088794b6f5b3b04ba)
Signed-off-by: Enrico Olivelli <enrico.olivelli@diennea.com>","{""sha"": ""dbe29a9cffb0a6616e74df9c3f81e45cdc90e87a"", ""author"": {""name"": ""Michael Han"", ""email"": ""lhan@twitter.com"", ""date"": ""2019-12-23T15:50:59Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""enrico.olivelli@diennea.com"", ""date"": ""2019-12-23T15:51:11Z""}}"
1689,SubmitCommit,2019-12-27 21:33:37,lvfangmin,fork_close,"ZOOKEEPER-3512: Real time data consistency check during broadcast time

This is the 2nd part of data consistency based on digest, it checks the DataTree digest on every txn during broadcast time.

Author: Fangmin Lyu <fangmin@apache.org>
Author: Enrico Olivelli <eolivelli@apache.org>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Andor Molnar <andor@apache.org>, Michael Han <hanm@apache.org>

Closes #1059 from lvfangmin/ZOOKEEPER-3512

(cherry picked from commit 2805e8982c0e8964e5f8d86f4b01a293d75d4aed)
Signed-off-by: Enrico Olivelli <eolivelli@apache.org>","{""sha"": ""034bcda589ae9d64ab3467b254179ed37f9b1635"", ""author"": {""name"": ""Fangmin Lyu"", ""email"": ""fangmin@apache.org"", ""date"": ""2019-12-27T21:33:26Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2019-12-27T21:33:37Z""}}"
1689,SubmitCommit,2020-01-06 10:52:40,eolivelli,fork_close,"ZOOKEEPER-3668: Clean up release package for 3.6.0

- add LICENSE files for Snappy and Metrics core
- update Copyright year
- copy airlift reference to the NOTICE file of the binary packages
- copy the Java 8 disclaimer from branch-3.5

Author: Enrico Olivelli <eolivelli@apache.org>

Reviewers: Andor Molnar <anmolnar@apache.org>

Closes #1196 from eolivelli/fix/license-stuff","{""sha"": ""59f7bbf478151ad5bbce6610bff78dc3d7671eb6"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-01-06T10:51:49Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-01-06T10:52:40Z""}}"
1689,SubmitCommit,2020-01-06 12:04:46,ztzg,fork_close,"ZOOKEEPER-3640: Implement ""batch mode"" in cli_mt

Batch mode never was implemented in `cli_mt`.  This patch seems to work, but:

1. There may be a cleaner way of waiting for the completion;
2. ~~`nanosleep` is POSIX; the Windows path should probably use `Sleep`~~ (DONE).

symat: Comments welcome.

Author: Damien Diederen <dd@crosstwine.com>

Reviewers: andor@apache.org

Closes #1173 from ztzg/ZOOKEEPER-3640-implement-batch-mode-in-cli-mt

(cherry picked from commit d7bc7b135f486f0b91bd7e40b150f39813ef9a9a)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""d01dac1fc4983fdde60dee64f0dd2b083a4e6bf2"", ""author"": {""name"": ""Damien Diederen"", ""email"": ""dd@crosstwine.com"", ""date"": ""2020-01-06T12:04:35Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2020-01-06T12:04:46Z""}}"
1689,SubmitCommit,2020-01-06 12:07:43,coheigea,fork_close,"ZOOKEEPER-3638: Update Jetty to 9.4.24.v20191120

Author: Colm O hEigeartaigh <coheigea@apache.org>

Reviewers: eolivelli@apache.org, andor@apache.org

Closes #1165 from coheigea/ZOOKEEPER-3638

(cherry picked from commit 178e8de664bed018c339108f168ae4ae4989b3b6)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""260c8896593055f705857d8e41f1094bd2fadb33"", ""author"": {""name"": ""Colm O hEigeartaigh"", ""email"": ""coheigea@apache.org"", ""date"": ""2020-01-06T12:07:32Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2020-01-06T12:07:43Z""}}"
1689,SubmitCommit,2020-01-09 10:27:25,rabi-kumar,fork_close,"ZOOKEEPER-2083: Remove deprecated class AuthFastLeaderElection

As per [ZOOKEEPER-2083](https://jira.apache.org/jira/browse/ZOOKEEPER-2083) we need to remove class AuthFastLeaderElection.java so I made changes in Quorumpeer.java by removing two cases 1 and 2 present in createElectionAlgorithm as QuorumPeerconfig.electioalg is always 3.

Please do let me know if anything additional needs to be done.

Author: ravowlga123 <ravowlga@gmail.com>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Andor Molnar <anmolnar@apache.org>, Patrick Hunt <phunt@apache.org>

Closes #1171 from ravowlga123/ZOOKEEPER-2083

(cherry picked from commit 590e3cbcf1967d4de6ebc08a938584e3b4caf7c4)
Signed-off-by: Enrico Olivelli <enrico.olivelli@diennea.com>","{""sha"": ""3aa3029868b03e92ecf20376eb7d947629afca7a"", ""author"": {""name"": ""ravowlga123"", ""email"": ""ravowlga@gmail.com"", ""date"": ""2020-01-09T10:27:14Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""enrico.olivelli@diennea.com"", ""date"": ""2020-01-09T10:27:25Z""}}"
1689,SubmitCommit,2020-01-09 21:52:04,rabi-kumar,fork_close,"ZOOKEEPER-3649: Add a line break in ls -s CLI

As per the ticket [ZOOKEEEPER-3649](https://issues.apache.org/jira/browse/ZOOKEEPER-3649) we need to add line break ls -s command.

To achieve the desired behavior I have added new line character in option.add of  LsCommand.printChildren(). Please do let me know if made changes gives us the desired behavior or if anything else needs to be changed.

Author: ravowlga123 <ravowlga@gmail.com>

Reviewers: eolivelli@apache.org, andor@apache.org

Closes #1183 from ravowlga123/ZOOKEEPER-3649 and squashes the following commits:

f2e1997d6 [ravowlga123] ZOOKEEPER-3649 Removed additional new line from printChildren
b36d63664 [ravowlga123] ZOOKEEPER-3649 Add a line break in ls -s CLI

(cherry picked from commit 570285af427fd69471a682a071a47483f8f7ddf8)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""901d82c7fa2fe2ff9cc6a408ab0b8a490667def7"", ""author"": {""name"": ""ravowlga123"", ""email"": ""ravowlga@gmail.com"", ""date"": ""2020-01-09T21:51:51Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2020-01-09T21:52:04Z""}}"
1689,SubmitCommit,2020-01-09 21:56:52,rabi-kumar,fork_close,"ZOOKEEPER-3411: Remove deprecated ls2 and rmr command

Removed Ls2Command.java, DeleteAllCommand.printdeprecatedwarning(), statements creating new objects for ls2 and rmr in ZookeeperMain.java. Updated zookeeperCLI.md and ZookeeperTest.java.

Please do let me know if any additional changes are needed

Author: ravowlga123 <ravowlga@gmail.com>

Reviewers: andor@apache.org

Closes #1175 from ravowlga123/ZOOKEEPER-3411

(cherry picked from commit 27b92caefd57a60309af06ebce29e56954ca9aac)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""dc673cb39d89162289f2ebfc7997d4e20efb7f17"", ""author"": {""name"": ""ravowlga123"", ""email"": ""ravowlga@gmail.com"", ""date"": ""2020-01-09T21:56:39Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2020-01-09T21:56:52Z""}}"
1689,SubmitCommit,2020-01-11 07:56:49,eolivelli,fork_close,Update release notes,"{""sha"": ""dc57f63926f724a2fd8fa38d967932d2af3e74be"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-01-11T07:56:49Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-01-11T07:56:49Z""}}"
1689,SubmitCommit,2020-01-17 16:09:10,eolivelli,fork_close,"ZOOKEEPER-3695: Source release tarball does not match repository in 3.6.0

- use the same configuration as in Apache Parent Pom to generate the source tarball
- drop the custom made configuration for the source tarball

Author: Enrico Olivelli <enrico.olivelli@diennea.com>

Reviewers: andor@apache.org

Closes #1226 from eolivelli/fix/ZOOKEEPER-3695-source-tarball and squashes the following commits:

781d95e5c [Enrico Olivelli] Fix typo
21eac30dd [Enrico Olivelli] Fix formatting and add comment
7eca978f6 [Enrico Olivelli] ZOOKEEPER-3695 Source release tarball does not match repository in 3.6.0 - use the same configuration as in Apache Parent Pom to generate the source tarball - drop the custom made configuration for the source tarball

(cherry picked from commit 9053f7c431bb17ed79c2be129b6ba4ba18d15ab1)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""fea678d7837ac0673a39dc10499fc8a526f351db"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""enrico.olivelli@diennea.com"", ""date"": ""2020-01-17T16:08:56Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2020-01-17T16:09:10Z""}}"
1689,SubmitCommit,2020-01-18 19:07:27,eolivelli,fork_close,"ZOOKEEPER-3677: owasp checker failing for - CVE-2019-17571 Apache Log4j 1.2 deserialization of untrusted data in SocketServer

Suppress error for CVE-2019-17571 as it does not affect us.
We are not running the log4j server.

Author: Enrico Olivelli <eolivelli@apache.org>

Reviewers: phunt@apache.org

Closes #1209 from eolivelli/fix/ZOOKEEPER-3677-owasp-log4j

Change-Id: I0ef24a7b142cd32ccf4f5c18f9e0c0132a413d6c
(cherry picked from commit 3bd6b1950eea1fabeac4bc477c8828939d008a4a)
Signed-off-by: Patrick Hunt <phunt@apache.org>","{""sha"": ""b4d9e5730b44cad90c70c1271b895e7fdda5af06"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-01-18T19:06:01Z""}, ""committer"": {""name"": ""Patrick Hunt"", ""email"": ""phunt@apache.org"", ""date"": ""2020-01-18T19:07:27Z""}}"
1689,SubmitCommit,2020-01-20 07:40:13,sujithsimon22,fork_close,"ZOOKEEPER-3667: Setting jute.maxbuffer value in hexadecimal throws Exception

Author: sujithsimon22 <sujith.abraham.simon@huawei.com>

Reviewers: Mohammad Arshad <arshad@apache.org>

Closes #1222 from sujithsimon22/3667

(cherry picked from commit 49ad75b18bfe26e853050f5add6f10f567399058)
Signed-off-by: Mohammad Arshad <arshad@apache.org>","{""sha"": ""261f8b8b913fdf3fb42d0a0fc5763b51abd3f830"", ""author"": {""name"": ""Sujith Simon"", ""email"": ""sujith.abraham.simon@huawei.com"", ""date"": ""2020-01-20T07:39:29Z""}, ""committer"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2020-01-20T07:40:13Z""}}"
1689,SubmitCommit,2020-01-20 08:07:42,sujithsimon22,fork_close,"ZOOKEEPER-3613: ZKConfig fails to return proper value on getBoolean()when user accidentally includes spaces at the end of the value

Author: sujithsimon22 <sujith.abraham.simon@huawei.com>

Reviewers: Allan Lyu <fangmin@apache.org>,Justin Mao Ling <maoling199210191@sina.com>,Mohammad Arshad <arshad@apache.org>

Closes #1190 from sujithsimon22/3613

(cherry picked from commit dcef1a6f33d8120a93f011da1870a503aafb0312)
Signed-off-by: Mohammad Arshad <arshad@apache.org>","{""sha"": ""1066de70f21e31f394be57b970d6d4b079a04e4d"", ""author"": {""name"": ""Sujith Simon"", ""email"": ""sujith.abraham.simon@huawei.com"", ""date"": ""2020-01-20T08:06:59Z""}, ""committer"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2020-01-20T08:07:42Z""}}"
1689,SubmitCommit,2020-01-21 16:53:47,belugabehr,fork_close,"ZOOKEEPER-3669: Use switch Statement in ClientCnxn SendThread

Author: David Mollitor <dmollitor@apache.org>

Reviewers: fangmin@apache.org, andor@apache.org

Closes #1197 from belugabehr/ZOOKEEPER-3669

(cherry picked from commit 517ecde9dd3cfe574118231ec242ea73b80a4e79)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""ad425cea0fae18619653154a48a7699b8f40ed0a"", ""author"": {""name"": ""David Mollitor"", ""email"": ""dmollitor@apache.org"", ""date"": ""2020-01-21T16:53:18Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2020-01-21T16:53:47Z""}}"
1689,SubmitCommit,2020-01-22 10:08:57,symat,fork_close,"ZOOKEEPER-3482: add unit tests for client SASL authentication over SSL

We had some issues about configuring Kerberos authentication with SSL, so I created some unit tests to verify that these features work together. The problem was originally reported on 3.5.5. There was some conflicts to backport the tests to 3.5, I will prepare a separate PR on that branch.

Author: Mate Szalay-Beko <szalay.beko.mate@gmail.com>
Author: Mate Szalay-Beko <mszalay@cloudera.com>

Reviewers: eolivelli@apache.org, andor@apache.org

Closes #1204 from symat/ZOOKEEPER-3482-master and squashes the following commits:

53194f564 [Mate Szalay-Beko] ZOOKEEPER-3482: update SASL related documentation
576ac0b21 [Mate Szalay-Beko] Merge remote-tracking branch 'apache/master' into ZOOKEEPER-3482-master
28da105c2 [Mate Szalay-Beko] ZOOKEEPER-3482: reload SASL and Kerberos configs before executing the tests
396c73e8a [Mate Szalay-Beko] ZOOKEEPER-3482: add unit tests for client SASL authentication over SSL

(cherry picked from commit b7dd0e49c5b25fffc1be8e619a3164bc680ef8bd)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""cf2e5d1cbdf836cf5cf7e491057d78c85cd6d3ac"", ""author"": {""name"": ""Mate Szalay-Beko"", ""email"": ""szalay.beko.mate@gmail.com"", ""date"": ""2020-01-22T10:08:42Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2020-01-22T10:08:57Z""}}"
1689,SubmitCommit,2020-01-23 10:15:06,phunt,fork_close,"ZOOKEEPER-3699: upgrade jackson-databind to address CVE-2019-20330

Latest version of jackson-databind is 2.9.10.2.

Change-Id: Id2b0f17c2dfa9a9765fd4893643007b49f06816d

Author: Patrick Hunt <phunt@apache.org>

Reviewers: Norbert Kalmar <nkalmar@apache.org>

Closes #1232 from phunt/ZOOKEEPER-3699

(cherry picked from commit 2d29c569f2c3ca879e1d026a7086f6e376187198)
Signed-off-by: Norbert Kalmar <nkalmar@apache.org>","{""sha"": ""b0debb06dd88e6097021160c9effe3cbfbd3d5f3"", ""author"": {""name"": ""Patrick Hunt"", ""email"": ""phunt@apache.org"", ""date"": ""2020-01-23T10:14:39Z""}, ""committer"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@apache.org"", ""date"": ""2020-01-23T10:15:06Z""}}"
1689,SubmitCommit,2020-01-23 12:43:39,symat,fork_close,"ZOOKEEPER-3698: fixing NoRouteToHostException when starting large cluster locally

When we tested RC 3.6.0, we had a problem of starting ZooKeeper cluster with large
number (11+) of ensemble members locally on mac. We found exceptions in the logs
when the new MultiAddress feature tries to filter the unreachable hosts from the
address list. This involves the calling of the InetAddress.isReachable method with
a default timeout of 500ms, which goes down to a native call in java and basically
try to do a ping (an ICMP echo request) to the host. Naturally, the localhost should
be always reachable.

The problem was that on mac we have the ICMP rate limit set to 250 by default.

In this patch we:
- changed the reachability check behavior by disabling the check if there is only
a single address provided (so we wouldn't be able to filter the unreachable
addresses anyway).
- added and documented a configuration parameter to disable the reachability check
for testing. (default: enabled)
- added and documented a configuration parameter to set the timeout for the
reachability checks. (default: 1000ms)

Author: Mate Szalay-Beko <szalay.beko.mate@gmail.com>

Reviewers: eolivelli@apache.org, andor@apache.org

Closes #1228 from symat/ZOOKEEPER-3698-branch-3.6","{""sha"": ""8352f78e752a019387c1eb6095085152e7d1d4ad"", ""author"": {""name"": ""Mate Szalay-Beko"", ""email"": ""szalay.beko.mate@gmail.com"", ""date"": ""2020-01-23T12:43:39Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2020-01-23T12:43:39Z""}}"
1689,SubmitCommit,2020-01-23 15:46:39,anmolnar,fork_close,"ZOOKEEPER-1936: Server exits when unable to create data directory due to race

Resurrecting an ancient ticket which could be fixed with a simple patch.

Jira mentions a scenario when auto purging tool is in use and Zookeeper server could have a race condition when creating snapshot and data directories. (directory auto creating is enabled by default)

Double checking the directory existence might help with it.

Author: Andor Molnar <andor@apache.org>

Reviewers: Enrico Olivelli <eolivelli@apache.org>

Closes #1225 from anmolnar/ZOOKEEPER-1936

(cherry picked from commit 689c8b2c4ed264f1dd75db7cbde1f86fe4408f50)
Signed-off-by: Enrico Olivelli <enrico.olivelli@diennea.com>","{""sha"": ""6495a7afd2e69056331c2327585be3baff711013"", ""author"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2020-01-23T15:46:28Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""enrico.olivelli@diennea.com"", ""date"": ""2020-01-23T15:46:39Z""}}"
1689,SubmitCommit,2020-01-23 15:51:11,phunt,fork_close,"ZOOKEEPER-3704: upgrade maven dependency-check to 5.3.0

Upgrade to the latest version of maven dependency checker.

Change-Id: I5ac9c77bb02f54784ff3ed4bb668fe38fd88ee11

Author: Patrick Hunt <phunt@apache.org>

Reviewers: Enrico Olivelli <eolivelli@apache.org>

Closes #1231 from phunt/ZOOKEEPER-3704

(cherry picked from commit 1fbaa26d6827263b2e9e8c18d8699f4bf799eda3)
Signed-off-by: Enrico Olivelli <enrico.olivelli@diennea.com>","{""sha"": ""56a6a034c71bdee3d822cf35ebbfb0ec6f8b44c7"", ""author"": {""name"": ""Patrick Hunt"", ""email"": ""phunt@apache.org"", ""date"": ""2020-01-23T15:50:58Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""enrico.olivelli@diennea.com"", ""date"": ""2020-01-23T15:51:11Z""}}"
1689,SubmitCommit,2020-01-27 10:26:28,symat,fork_close,"ZOOKEEPER-3567: add SSL support for zkpython

This PR is about adding SSL support for zkPython, based on the C-binding. I also fixed the zkpython ant build to work with the current maven top-level build. I also added a new python test case to try to connect to ZooKeeper with SSL.

You can test this patch in the following way:
```
# cleanup everything, just to be on the safe side:
git clean -xdf

# on ubuntu 16.4 make sure you have the following packages installed
apt-get install -y libcppunit-dev openssl libssl-dev python-setuptools python2.7 python2.7-dev

# make a full build (incl. C-client)
mvn clean install -DskipTests -Pfull-build

# we only support python2, so e.g. on ubuntu 18.4 you need to switch to python2
update-alternatives --install /usr/bin/python python /usr/bin/python2.7 1

# compile and test zkpython
cd zookeeper-contrib/zookeeper-contrib-zkpython/
ant compile
ant test
```

Author: Mate Szalay-Beko <szalay.beko.mate@gmail.com>

Reviewers: andor@apache.org

Closes #1121 from symat/ZOOKEEPER-3567 and squashes the following commits:

a5839cb56 [Mate Szalay-Beko] Merge remote-tracking branch 'apache/master' into ZOOKEEPER-3567
d25d61024 [Mate Szalay-Beko] ZOOKEEPER-3567: fix build issues after top-level ant removal
a8869c969 [Mate Szalay-Beko] Merge remote-tracking branch 'apache/master' into HEAD
b92f686e8 [Mate Szalay-Beko] ZOOKEEPER-3567: fix license check issue
0150986da [Mate Szalay-Beko] ZOOKEEPER-3567: removing code duplication: re-use test SSL certificate generator from C-client tests
7d91359d3 [Mate Szalay-Beko] ZOOKEEPER-3567: add SSL support for zkpython

(cherry picked from commit e4758ba70b35dd38ff0bba9e534790391f53b050)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""2a6f1e34d93668bd24a21c37f1f0c5367c7c798a"", ""author"": {""name"": ""Mate Szalay-Beko"", ""email"": ""szalay.beko.mate@gmail.com"", ""date"": ""2020-01-27T10:26:15Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2020-01-27T10:26:28Z""}}"
1689,SubmitCommit,2020-01-28 14:23:16,symat,fork_close,"ZOOKEEPER-1105: wait for server response in C client zookeeper_close

**Thanks for Lincoln Lee for the original fix!**

In the current implementation, we always get a WARN in server side
(""EndOfStreamException: Unable to read additional data from client"")
whenever we close a zookeeper handler from the C client. This also happens
in the end of every execution of the command line C client.

The reason is that currently we don't wait for the response from the server
when we initiate the closing of the client connection, and we terminate
the socket on the client side too early.

I tested the patch both on linux and windows. I also tested it both with
NIO and Netty server side socket implementations.

Author: Mate Szalay-Beko <szalay.beko.mate@gmail.com>

Reviewers: Andor Molnar <andor@apache.org>, Norbert Kalmar <nkalmar@apache.org>

Closes #1176 from symat/ZOOKEEPER-1105

(cherry picked from commit 57be7aedd698cb824ade7373aaa4d8264e1b4eb7)
Signed-off-by: Norbert Kalmar <nkalmar@apache.org>","{""sha"": ""eedf26bb12bc33169ba2756fccd9527c75afe6ca"", ""author"": {""name"": ""Mate Szalay-Beko"", ""email"": ""szalay.beko.mate@gmail.com"", ""date"": ""2020-01-28T14:22:30Z""}, ""committer"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@apache.org"", ""date"": ""2020-01-28T14:23:16Z""}}"
1689,SubmitCommit,2020-01-28 16:26:30,anmolnar,fork_close,"ZOOKEEPER-3701: Split brain on log disk full

Issue described here:
https://issues.apache.org/jira/browse/ZOOKEEPER-3701

Proposing a fix with catching `IOException` within the truncate method to properly return with `false` if truncate fails.

Author: Andor Molnar <andor@apache.org>
Author: Andor Molnar <andor@cloudera.com>

Reviewers: Ivan Kelly <ivank@apache.org>, Enrico Olivelli <eolivelli@apache.org>, Norbert Kalmar <nkalmar@apache.org>

Closes #1233 from anmolnar/ZOOKEEPER-3701

(cherry picked from commit a4bc9857e19b6fa3832813d7e47f683b582565b8)
Signed-off-by: Norbert Kalmar <nkalmar@apache.org>","{""sha"": ""9b6badb5b43d6b6d2ef5c84ad5659d48cf968558"", ""author"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2020-01-28T16:26:14Z""}, ""committer"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@apache.org"", ""date"": ""2020-01-28T16:26:30Z""}}"
1689,SubmitCommit,2020-01-29 13:15:59,eolivelli,fork_close,Update release notes before 3.6.0rc1,"{""sha"": ""2c232e3a8a330d5804ec6f121536629c37b530ed"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-01-29T13:15:28Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-01-29T13:15:59Z""}}"
1689,SubmitCommit,2020-01-30 08:46:06,maoling,fork_close,"ZOOKEEPER-3231: Purge task may lost data when the recent snapshots are all invalid

- Purge task uses `FileTxnSnapLog#findNRecentSnapshot`, which's likely to lost data when the recent 3 snapshots are all invalid(a new valid snapshot has not generated yet) and at the same time, Purge task(`e.g ./zkCleanup.sh -n 3`) has started a new round work to clean up the preceding snapshots. we will lose all the data.that's a small probability events, but it's reproducible.
- Overall, using `snaplog.findNValidSnapshots` to make sure the purge task tries to retain N valid snapshots(rather than N snapshots) to avoid a risk of data loss.
- For the unit test, it's not easy to use the `mock` way for the following reasons:
   - when we want to test the `dataDir` which some Snapshots are valid, others not.Just writing a little data contents to the snapshot to make it valid/invalid has a better flexibility.
   - too much code changes in the `PurgeTxnTest.java`(pass the original UT) and `FileTxnSnapLog.java`(have some handles)
- more details in the [ZOOKEEPER-3231](https://issues.apache.org/jira/browse/ZOOKEEPER-3231)

Author: maoling <maoling199210191@sina.com>

Reviewers: enixon@apache.org, andor@apache.org

Closes #1079 from maoling/ZOOKEEPER-3231 and squashes the following commits:

674175bef [maoling] setUp() & tearDown().
472dfd33c [maoling] ZOOKEEPER-3231:Purge task may lost data when the recent snapshots are all invalid

(cherry picked from commit 2abdfbc261d4ba2f9d17b51f2b46ab748a7d451f)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""1ec248185669016ec0705eb9c10fddf0328bacc5"", ""author"": {""name"": ""maoling"", ""email"": ""maoling199210191@sina.com"", ""date"": ""2020-01-30T08:43:09Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2020-01-30T08:46:06Z""}}"
1689,SubmitCommit,2020-02-01 11:08:50,eolivelli,fork_close,"ZOOKEEPER-3695: Source release tarball does not match repository in 3.6.0 - part2

- upgrade to Apache Parent 23
- disable maven remote plugin
- move source assembly execution before sources generation
- move git properties resolution to the correct phase

Author: Enrico Olivelli <eolivelli@apache.org>

Reviewers: Norbert Kalmar <nkalmar@apache.org>

Closes #1238 from eolivelli/fix/ZOOKEEPER-3695-part2

(cherry picked from commit d3ce1fa7e0b9804fb7752cbb3818c03341d8c87e)
Signed-off-by: Enrico Olivelli <eolivelli@apache.org>","{""sha"": ""955b4bf1ac037a7d0f53956ba637df0c7be69c1a"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-02-01T11:08:39Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-02-01T11:08:50Z""}}"
1689,SubmitCommit,2020-02-03 03:31:00,belugabehr,fork_close,"ZOOKEEPER-3708: Move Logging Code into Logging Guard in Learner

Author: David Mollitor <dmollitor@apache.org>

Reviewers: eolivelli@apache.org, andor@apache.org

Closes #1240 from belugabehr/ZOOKEEPER-3708

(cherry picked from commit 68e1f7d4c54429caa74441c7444ef1fe0f75867c)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""fc43a29e8737c50201aa34157c4f93c31b224c39"", ""author"": {""name"": ""David Mollitor"", ""email"": ""dmollitor@apache.org"", ""date"": ""2020-02-03T03:30:41Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2020-02-03T03:31:00Z""}}"
1689,SubmitCommit,2020-02-04 09:35:24,phunt,fork_close,"ZOOKEEPER-3716: upgrade netty 4.1.42 to address CVE-2019-20444 CVE-20…

…19-20445

Updated netty to version 4.1.45 to address CVE-2019-20444 CVE-2019-20445

Change-Id: Iabcbd1f0b75a03d2a555084de841d7f8caedf6bd

Author: Patrick Hunt <phunt@apache.org>

Reviewers: Enrico Olivelli <eolivelli@apache.org>

Closes #1245 from phunt/ZOOKEEPER-3716

(cherry picked from commit 13c8a35051acbc1f8c3369ed260df2ab22275f58)
Signed-off-by: Enrico Olivelli <eolivelli@apache.org>","{""sha"": ""4d36edeb13701f91c5154d086cb47b1a9153270d"", ""author"": {""name"": ""Patrick Hunt"", ""email"": ""phunt@apache.org"", ""date"": ""2020-02-04T09:35:10Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-02-04T09:35:24Z""}}"
1689,SubmitCommit,2020-02-04 09:39:10,symat,fork_close,"ZOOKEEPER-3715: fix Kerberos test failures for new JDK versions

Using OpenJDK 8u.242 or OpenJDK 11.0.6, we have some kerberos exceptions
when running the following, Kerberos Authentication related tests:
- QuorumKerberosAuthTest
- QuorumKerberosHostBasedAuthTest
- SaslKerberosAuthOverSSLTest

After trying this with different JDK versions, we see that the problem
seems to appear:
- between OpenJDK 8u.232 and 8u.242 for java 8
- and between 11.0.3 and 11.0.6 for java 11

There are a lot of kerberos related changes after 8u.232:
see https://hg.openjdk.java.net/jdk8u/jdk8u/jdk

I didn't really found the root cause of the issue, but the problem disappeared
after upgrading the Apache Kerby. Kerby is used only by the tests to start a local
embedded KDC server. I also checked the dependencies of the new Kerby version
and there is nothing to exclude there as far as I saw.

I also improved the logging of errors during Kerberos authentication problems by
printing out some more exceptions.

Author: Mate Szalay-Beko <szalay.beko.mate@gmail.com>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Norbert Kalmar <nkalmar@apache.org>

Closes #1244 from symat/ZOOKEEPER-3715

(cherry picked from commit 6763f73cb64d87145e8e642d9e4fcc1e0d509216)
Signed-off-by: Enrico Olivelli <eolivelli@apache.org>","{""sha"": ""d95c5a3d6f1e0be77c4838d85c526d226b7798a3"", ""author"": {""name"": ""Mate Szalay-Beko"", ""email"": ""szalay.beko.mate@gmail.com"", ""date"": ""2020-02-04T09:39:02Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-02-04T09:39:10Z""}}"
1689,SubmitCommit,2020-02-04 09:43:40,Jordan Zimmerman,fork_close,"ZOOKEEPER-3703: publish a test JAR

It would be very helpful to Apache Curator and others if ZooKeeper published its testing code as a Maven Test JAR. Curator, for example, could use it to improve its testing server to make it easier to inject error conditions without having to have forced time delays and other hacks.

NOTE: if we move forward with gRPC (ZOOKEEPER-102) that would be in a new module and this would be required. So, might as well do it now.

Author: Jordan Zimmerman <jordan@jordjzimmerman@grubhub.com>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Norbert Kalmar <nkalmar@apache.org>

Closes #1229 from Randgalt/ZOOKEEPER-3703-publish-test-jar

(cherry picked from commit 6db92d7dfa426488b191afba319a16b96f4a36c6)
Signed-off-by: Enrico Olivelli <eolivelli@apache.org>","{""sha"": ""3008ab70ea418ef97a4ccff968b96a4b5198a96c"", ""author"": {""name"": ""Jordan Zimmerman"", ""email"": ""jordan@jordjzimmerman@grubhub.com"", ""date"": ""2020-02-04T09:43:30Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-02-04T09:43:40Z""}}"
1689,SubmitCommit,2020-02-04 09:52:06,eolivelli,fork_close,Update release notes for 3.6.0rc2,"{""sha"": ""5bf63d7773b3f20a5da56ba94b839ee977dfcd98"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-02-04T09:51:22Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-02-04T09:52:06Z""}}"
1689,SubmitCommit,2020-02-14 13:59:32,maoling,fork_close,"ZOOKEEPER-3710: [trivial bug] fix compile error in PurgeTxnTest introduced by ZOOKEEPER-3231

- Link to [PR-1079](https://github.com/apache/zookeeper/pull/1079#issuecomment-580275886)
- more details in the [ZOOKEEPER-3710](https://issues.apache.org/jira/browse/ZOOKEEPER-3710)

Author: maoling <maoling199210191@sina.com>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Norbert Kalmar <nkalmar@apache.org>

Closes #1239 from maoling/ZOOKEEPER-3710","{""sha"": ""824d26f92b4b5577e4386d7d8798c47830287bd1"", ""author"": {""name"": ""maoling"", ""email"": ""maoling199210191@sina.com"", ""date"": ""2020-01-31T11:01:23Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""enrico.olivelli@diennea.com"", ""date"": ""2020-02-14T13:59:32Z""}}"
1689,SubmitCommit,2020-02-16 09:25:23,symat,fork_close,"ZOOKEEPER-3720: Fix rolling upgrade failure (invalid protocol version)

The multi-address feature introduced in ZOOKEEPER-3188 required
changes in the Quorum protocol as we had to send all addresses in
the connection initiation message to enable the receiving side to
choose a reachable address in case of network failure.

The new code can handle both the old and the new protocol versions to
avoid 'invalid protocol' error e.g. during rolling restarts. However,
the new protocol version still can not be used during rolling upgrade
if the old servers are not supporting this protocol. In this case the
old and the new servers would form two distinct partitions until all
the servers get upgraded. To support rolling upgrades too, we want to
disable the MultiAddress feature by default and use the old protocol.

If the user would like enable the MultiAddress feature on a 3.6.0
cluster, she/he can do it either by 1) starting the cluster from
scratch (without rolling upgrade), or 2) performing a rolling upgrade
without the MultiAddress feature enabled then doing a rolling restart
with a new configuration where the MultiAddress feature is enabled.
During the rolling restart there will be no partitions, as all the
servers in the cluster now will run ZooKeeper version 3.6.0 which
understands now both protocols.

The changes in this patch:
- introducing new config property: multiAddress.enabled, disabled
by default
- updating QuorumCnxManager to be able to use both protocol versions
and to use the old one if MultiAddress is disabled
- failing with ConfigException if the user provides multiple
addresses in the config while having MultiAddress disabled
- updating the existing MultiAddress related tests to enable the
feature first
- add some new tests
- update the documentation

Testing:
- I ran all the unit tests
- Using https://github.com/symat/zk-rolling-upgrade-test
  - I tested rolling upgrade from 3.5.6
  - I tested rolling restart to enable the MultiAddress feature
- Using https://github.com/symat/zookeeper-docker-test
  - I tested the MultiAddress feature by disabling some virtual
    interfaces and waiting for the cluster to recover

Author: Mate Szalay-Beko <szalay.beko.mate@gmail.com>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Norbert Kalmar <nkalmar@apache.org>, Andor Molnar <andor@apache.org>

Closes #1251 from symat/ZOOKEEPER-3720

(cherry picked from commit 3aa922c5737c9ef0879f290181cb281261c965e0)
Signed-off-by: Enrico Olivelli <eolivelli@apache.org>","{""sha"": ""d4681c7bda159fac7aa864b0c71074ce95feaf38"", ""author"": {""name"": ""Mate Szalay-Beko"", ""email"": ""szalay.beko.mate@gmail.com"", ""date"": ""2020-02-16T09:25:14Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-02-16T09:25:23Z""}}"
1689,SubmitCommit,2020-02-17 18:58:17,eolivelli,fork_close,Fix release notes for 3.6.0rc3,"{""sha"": ""3da01e0b522204c1086e83e808825bed7c1997fb"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-02-17T18:57:54Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-02-17T18:58:17Z""}}"
1689,SubmitCommit,2020-02-23 16:44:05,eolivelli,fork_close,"ZOOKEEPER-3734: upgrade jackson-databind to address CVE-2020-8840

Author: Enrico Olivelli <eolivelli@apache.org>

Reviewers: phunt@apache.org

Closes #1262 from eolivelli/fix/ZOOKEEPER-3734-jackson-again

Change-Id: I21df2c160f8dd9c2542c153e4aa53500b58e8144
(cherry picked from commit f0c6ae5eb205d7c546483a6f1769cb58b68169a6)
Signed-off-by: Patrick Hunt <phunt@apache.org>","{""sha"": ""9807f0a89504c983b6a44f75bcce41c776d700e3"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-02-23T16:41:20Z""}, ""committer"": {""name"": ""Patrick Hunt"", ""email"": ""phunt@apache.org"", ""date"": ""2020-02-23T16:44:05Z""}}"
1689,SubmitCommit,2020-02-24 05:52:13,eolivelli,fork_close,"ZOOKEEPER-3733: Fix issues reported in 3.6.0rc3

- metrics library LICENSE file has wrong file name
- spotbugs is not passing when '-SNAPSHOT' suffix is removed because the Info.java interface sets a null value for ""qualifier""
- the name of the directory inside the source tarbal is not consistent with the file name and with 3.5 tradition

Author: Enrico Olivelli <eolivelli@apache.org>

Reviewers: phunt@apache.org

Closes #1258 from eolivelli/fix/ZOOKEEPER-3733

Change-Id: I70f4bf96fcd3d8371e1251a60199fe5ef1fdd4d4
(cherry picked from commit b2db3918cb2b681e0446cfe3247730deacc0567b)
Signed-off-by: Patrick Hunt <phunt@apache.org>","{""sha"": ""3c4f24bc2a3da998a25ad1e17fcfcd7606519e43"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-02-24T05:14:46Z""}, ""committer"": {""name"": ""Patrick Hunt"", ""email"": ""phunt@apache.org"", ""date"": ""2020-02-24T05:52:13Z""}}"
1689,SubmitCommit,2020-02-25 13:56:46,eolivelli,fork_close,Update release notes,"{""sha"": ""59193605109621c6cec779ee13a4afa1aee34274"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-02-25T13:56:22Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-02-25T13:56:46Z""}}"
1689,SubmitCommit,2020-02-27 13:22:20,symat,fork_close,"ZOOKEEPER-3741: fix buffer length in C client causing warning with new gcc

We get a warning that we are trying to call like `sprintf(buf,""%s:%d"",addrstr,port);`, and both `buf` and `addrstr` are 128 long char arrays. So in theory, we can overflow. The fix is to increase the length of the destination string array (`buf`).

Actually this problem only causing compile time warning / failure only on the 3.5.5 and 3.5.6. On 3.5.7 this was fixed and on 3.6+ branches the compiler can not detect the problem due to some code refactoring made by ZOOKEEPER-3068, but the issue is still present on the master branch.

Author: Mate Szalay-Beko <szalay.beko.mate@gmail.com>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Norbert Kalmar <nkalmar@apache.org>

Closes #1273 from symat/ZOOKEEPER-3741

(cherry picked from commit 4b45ff1bda65b27d2771322d4613fccfb8a726b0)
Signed-off-by: Norbert Kalmar <nkalmar@apache.org>","{""sha"": ""06d4a8fe53a2b99189d3a7aefcf06f91799fdefc"", ""author"": {""name"": ""Mate Szalay-Beko"", ""email"": ""szalay.beko.mate@gmail.com"", ""date"": ""2020-02-27T13:22:06Z""}, ""committer"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@apache.org"", ""date"": ""2020-02-27T13:22:20Z""}}"
1689,SubmitCommit,2020-03-01 05:43:00,ctubbsii,fork_close,"ZOOKEEPER-3737: Detect log4j 1.2 jmx support better

* Look for jmx class that exists only in the log4j 1.2 jar, but not in
  the log4j2 1.2 compatibility jar.
* Check if disabled before attempting to detect log4j 1.2 jmx classes.
* Update log messages to highlight that they are referring to log4j 1.2
  and not log4j2 or other versions.
* Minor javadoc fixup

Author: Christopher Tubbs <ctubbsii@apache.org>

Reviewers: phunt@apache.org

Closes #1270 from ctubbsii/ZK-3737

Change-Id: I7ebd7a28386d3fee33fcc9078d7f573dc766e8ee
(cherry picked from commit 5a2332058deba04313ad37fa05cbb1515c83b8e6)
Signed-off-by: Patrick Hunt <phunt@apache.org>","{""sha"": ""3dcc996ee6089d8001d699d2461decddf4d76c4f"", ""author"": {""name"": ""Christopher Tubbs"", ""email"": ""ctubbsii@apache.org"", ""date"": ""2020-03-01T05:42:47Z""}, ""committer"": {""name"": ""Patrick Hunt"", ""email"": ""phunt@apache.org"", ""date"": ""2020-03-01T05:43:00Z""}}"
1689,SubmitCommit,2020-03-02 16:09:23,ctubbsii,fork_close,"ZOOKEEPER-3738: Use mavanagaiata for git commit id

Use mavanagaiata plugin to get git commit id for VerGen instead of
properties-maven-plugin (which is broken in some environments).

Also add the commit to the jar manifests for easy reference when given a
jar of unknown origin (especially useful for SNAPSHOT builds).

Author: Christopher Tubbs <ctubbsii@apache.org>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Norbert Kalmar <nkalmar@apache.org>

Closes #1268 from ctubbsii/ZK-3738

(cherry picked from commit 050e56ae48b978a9f8c04dfe00e1647e4301f5a0)
Signed-off-by: Norbert Kalmar <nkalmar@apache.org>","{""sha"": ""a93ff0fe631d1c96ee056a79e3c16535ab33c794"", ""author"": {""name"": ""Christopher Tubbs"", ""email"": ""ctubbsii@apache.org"", ""date"": ""2020-03-02T16:08:47Z""}, ""committer"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@apache.org"", ""date"": ""2020-03-02T16:09:23Z""}}"
1689,SubmitCommit,2020-03-03 09:54:18,symat,fork_close,"ZOOKEEPER-3740: fix flaky PurgeTxnTest.testPurgeWhenLogRollingInProgress

This test is always passing for me when I execute only the PurgeTxnTest test
class locally, but when I execute all the tests (with multiple parallel threads,
using `mvn clean install`), then it always fails. It is failing frequently on
the `zookeeper-master-maven` Jenkins job as well.

The test starts three threads, performing 1000 ZNode creation in each thread
and timeouts if the threads are not finished in 90 seconds. Currently it is
not easy to tell based on the logs if the timeout happens because the
operations are still in progress or if one of the threads terminated due
to an unexpected exception.

In this patch I:
- increased the timeout from 90 to 120 seconds
- added an extra logic to actually fail because of the Exception on the
threads, if any happen during the execution
- I decreased the number of ZNode creations to 750 (from the original 1000)

Applying this patch locally fixed my issues, I hope it will be enough
to fix the test on Jenkins as well.

Author: Mate Szalay-Beko <szalay.beko.mate@gmail.com>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Norbert Kalmar <nkalmar@apache.org>

Closes #1274 from symat/ZOOKEEPER-3740

(cherry picked from commit 118dee4b8a4a69699eb00e12bef2907cbbece160)
Signed-off-by: Norbert Kalmar <nkalmar@apache.org>","{""sha"": ""562863979515140cdf00b848aea2810706226745"", ""author"": {""name"": ""Mate Szalay-Beko"", ""email"": ""szalay.beko.mate@gmail.com"", ""date"": ""2020-03-03T09:53:43Z""}, ""committer"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@apache.org"", ""date"": ""2020-03-03T09:54:18Z""}}"
1689,SubmitCommit,2020-03-03 21:17:43,eolivelli,fork_close,Start ZooKeeper 3.6.1-SNAPSHOT,"{""sha"": ""e99e78d25da5e995d399903db0e44657a1e0de93"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-03-03T21:17:43Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-03-03T21:17:43Z""}}"
1689,SubmitCommit,2020-03-13 18:12:38,symat,fork_close,"ZOOKEEPER-2164: Quorum members can not rejoin after restart

Ever since ZOOKEEPER-107 (released in 3.5.0) the servers are sending
their addresses during initial connection requests. The receiving
server can potentially use these addresses to send back a new
connection request if the challenge is won by the receiver.

If the server config contains wildcard address (e.g. 0.0.0.0 in case
of IPv4) then the first connection request sent by A to B will contain
this address. If the ID of A is smaller than the ID of B, then A will
lose the challenge and the second connection request sent back by B
will never reach A, as B will send the initial message to 0.0.0.0.

So in any 3.5+ ZooKeeper, if wildcard addresses are used in the configs,
then there might be some servers never able to rejoin to the quorum
after they got restarted.

In 3.5+ for backward compatibility reasons (needed during rolling
upgrade) there is a version of the QuorumCnxManager.connectOne()
method that needs no election address but use the last known address
to initiate the connection. In this commit, we simply call this method
if the address is a wildcard address.

I also added a few restart realted tests, to make sure that restart
still works when we don't use wildcard addresses. We can not test
the original error with unit tests, as it would require to start
the quorum on multiple hosts.

I also tested the patch for rolling restart manually both with and
without wildcard addresses in the config.

Author: Mate Szalay-Beko <szalay.beko.mate@gmail.com>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Norbert Kalmar <nkalmar@apache.org>

Closes #1254 from symat/ZOOKEEPER-2164","{""sha"": ""29b0122c621b6c383b381c4a30162577c92039ca"", ""author"": {""name"": ""Mate Szalay-Beko"", ""email"": ""szalay.beko.mate@gmail.com"", ""date"": ""2020-03-12T13:47:27Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""enrico.olivelli@diennea.com"", ""date"": ""2020-03-13T18:12:38Z""}}"
1689,SubmitCommit,2020-03-14 16:46:55,phunt,fork_close,"ZOOKEEPER-3751: upgrade jackson-databind to 2.10 from 2.9

Change-Id: I3c548bcb8e67f83cf6d9fb553d54a6cf9bacf5f3

Author: Patrick Hunt <phunt@apache.org>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Christopher Tubbs, Jan Hentschel

Closes #1283 from phunt/zk3751

(cherry picked from commit 222685123018f9d0d35bfd35cc4cc5924f4348bc)
Signed-off-by: Enrico Olivelli <enrico.olivelli@diennea.com>","{""sha"": ""f7eca7041b76b8f6abe9f3ec0aa649ee0772d319"", ""author"": {""name"": ""Patrick Hunt"", ""email"": ""phunt@apache.org"", ""date"": ""2020-03-14T16:45:57Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""enrico.olivelli@diennea.com"", ""date"": ""2020-03-14T16:46:55Z""}}"
1689,SubmitCommit,2020-03-14 16:50:29,tisonkun,fork_close,"ZOOKEEPER-3745: Update copyright notices from 2019 to 2020

Author: tison <wander4096@gmail.com>

Reviewers: Enrico Olivelli <eolivelli@apache.org>

Closes #1278 from TisonKun/ZOOKEEPER-3745

(cherry picked from commit a5a4743733b8939464af82c1ee68a593fadbe362)
Signed-off-by: Enrico Olivelli <enrico.olivelli@diennea.com>","{""sha"": ""cb8456c1229bb199c29e90a9d312699c3706fc3d"", ""author"": {""name"": ""tison"", ""email"": ""wander4096@gmail.com"", ""date"": ""2020-03-14T16:50:15Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""enrico.olivelli@diennea.com"", ""date"": ""2020-03-14T16:50:29Z""}}"
1689,SubmitCommit,2020-03-19 16:10:06,symat,fork_close,"ZOOKEEPER-3758: Leader reachability check fails with single address

Since ZooKeeper 3.6.0 we can specify multiple addresses for each ZooKeeper server instance
(this can increase availability when multiple physical network interfaces can be used parallel
in the cluster). ZooKeeper will perform ICMP ECHO requests or try to establish a TCP connection
on port 7 (Echo) of the destination host in order to find the reachable addresses. This should
happen only if the user provide multiple addresses in the configuration, in a single address is
used then ZooKeeper shouldn’t send any ICMP requests.

This works as we expected for the leader election connections, but in this Jira issue we found
a bug when the reachability check was performed even with a single address when the Follower
tries to connect to the newly elected Leader.

The fix follows the same approach we discussed for the election protocol before (see
ZOOKEEPER-3698). We avoid the reachability check for single addresses. Also when we have
multiple addresses and none of them can be reached, we still start to connect to all addresses
in parallel.

Author: Mate Szalay-Beko <szalay.beko.mate@gmail.com>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Norbert Kalmar <nkalmar@apache.org>

Closes #1288 from symat/ZOOKEEPER-3758

(cherry picked from commit b1105ccc47685c64d1cca7ccb0b2bb66c194374a)
Signed-off-by: Norbert Kalmar <nkalmar@apache.org>","{""sha"": ""a1d16547e7868b4b4267c5403562f1df3bdce365"", ""author"": {""name"": ""Mate Szalay-Beko"", ""email"": ""szalay.beko.mate@gmail.com"", ""date"": ""2020-03-19T16:09:38Z""}, ""committer"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@apache.org"", ""date"": ""2020-03-19T16:10:06Z""}}"
1689,SubmitCommit,2020-03-20 10:00:29,ctubbsii,fork_close,"ZOOKEEPER-3739: Remove unsupported com.sun API

Remove unsupported use of com.sun.nio.file.SensitivityWatchEventModifier
to better support builds against newer JDKs.

Also update build tooling to use strict JDK release compatibility when
building with newer JDKs by adding profiles which automatically activate
the correct compiler flag when the newer JDK is detected when building
with Maven or Eclipse.

Author: Christopher Tubbs <ctubbsii@apache.org>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Norbert Kalmar <nkalmar@apache.org>

Closes #1269 from ctubbsii/ZK-3739

(cherry picked from commit 8148f966947d3ecf3db0b756d93c9ffa88174af9)
Signed-off-by: Norbert Kalmar <nkalmar@apache.org>","{""sha"": ""d3ac2334bcb380f35ffd55a19b3ac0a02ef2aace"", ""author"": {""name"": ""Christopher Tubbs"", ""email"": ""ctubbsii@apache.org"", ""date"": ""2020-03-20T10:00:13Z""}, ""committer"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@apache.org"", ""date"": ""2020-03-20T10:00:29Z""}}"
1689,SubmitCommit,2020-03-22 13:47:18,eolivelli,fork_close,"ZOOKEEPER-3763: Restore ZKUtil.deleteRecursive in order to help compatibility of applications with 3.5 and 3.6

Author: Enrico Olivelli <enrico.olivelli@diennea.com>

Reviewers: Christopher Tubbs, Norbert Kalmar <nkalmar@apache.org>, Mate Szalay-Beko

Closes #1287 from eolivelli/fix/ZOOKEEPER-3763-compat

(cherry picked from commit bb80b813d79b0eff93d112d6d15f00c147d946c1)
Signed-off-by: Enrico Olivelli <enrico.olivelli@diennea.com>","{""sha"": ""001ed3bd069a9aa176d2ac62467edc92297986ed"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""enrico.olivelli@diennea.com"", ""date"": ""2020-03-22T13:47:08Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""enrico.olivelli@diennea.com"", ""date"": ""2020-03-22T13:47:18Z""}}"
1689,SubmitCommit,2020-03-23 15:20:19,symat,fork_close,"ZOOKEEPER-3756: Members slow to rejoin quorum using Kubernetes

Whenever we close the current master ZooKeeper server, a new leader election
is triggered. During the new election, a connection will be established between
all the servers, by calling the synchronized 'connectOne' method in
QuorumCnxManager. The method will open the socket and send a single small
initial message to the other server, usually very quickly. If the destination
host is unreachable, it should fail immediately.

However, when we use Kubernetes, then the destination host is always reachable
as it points to Kubernetes services. If the actual container / pod is not
available then the 'socket.connect' method will timeout (by default after 5 sec)
instead of failing immediately with NoRouteToHostException. As the 'connectOne'
method is synchronized, this timeout will block the creation of other
connections, so a single unreachable host can cause timeout in the leader
election protocol.

One workaround is to decrease the socket connection timeout with the
'-Dzookeeper.cnxTimeout' stystem property, but the proper fix would be to
make the connection initiation fully asynchronous, as using very low timeout can
have its own side effect. Fortunately most of the initial message sending
is already made async: the SASL authentication can take more time, so the
second (authentication + initial message sending) part of the initiation protocol
is already called in a separate thread, when Quorum SASL authentication is enabled.

In the following patch I made the whole connection initiation async, by
always using the async executor (not only when Quorum SASL is enabled) and
also moving the socket.connect call into the async thread.

I also created a unit test to verify my fix. I added a static socket factory that can be
changed by the tests using a packet private setter method. My test failed (and
produced the same error logs as we see in the original Jira ticket) before I applied
my changes and a time-outed as no leader election succeeded after 15 seconds.
After the changes the test runs very quickly, in 1-2 seconds.

Note: due to the multiAddress changes, we will need different PRs to the branch 3.5
and to the 3.6+ branches. I will submit the other PR once this got reviewed.

Author: Mate Szalay-Beko <szalay.beko.mate@gmail.com>
Author: Mate Szalay-Beko <mszalay@cloudera.com>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Norbert Kalmar <nkalmar@apache.org>

Closes #1289 from symat/ZOOKEEPER-3756-master

(cherry picked from commit 4d8caf9851f63073145996fd4a535278014d01be)
Signed-off-by: Norbert Kalmar <nkalmar@apache.org>","{""sha"": ""97db6936745bdf548f90c2383647eab62d017254"", ""author"": {""name"": ""Mate Szalay-Beko"", ""email"": ""szalay.beko.mate@gmail.com"", ""date"": ""2020-03-23T15:20:05Z""}, ""committer"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@apache.org"", ""date"": ""2020-03-23T15:20:19Z""}}"
1689,SubmitCommit,2020-03-26 17:46:05,lingjinjiang,fork_close,"ZOOKEEPER-3760: remove a useless throwing CliException

https://issues.apache.org/jira/browse/ZOOKEEPER-3760

When I upgrade zookeeper from 3.4.13 to 3.5.7 in my application, I find the function processCmd in ZooKeeperMain.java throws a CliException which has been caught in the function. So I think it can be removed

Author: lingjinjiang <lingjinjiang@gmail.com>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Norbert Kalmar <nkalmar@apache.org>

Closes #1286 from lingjinjiang/master

(cherry picked from commit 2581f71dd97cfda2cf6768c3457b81c7a93b9ef7)
Signed-off-by: Norbert Kalmar <nkalmar@apache.org>","{""sha"": ""891d81d66fe93382376df2e417b41255f0bc3dac"", ""author"": {""name"": ""lingjinjiang"", ""email"": ""lingjinjiang@gmail.com"", ""date"": ""2020-03-26T17:41:57Z""}, ""committer"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@apache.org"", ""date"": ""2020-03-26T17:46:05Z""}}"
1689,SubmitCommit,2020-03-26 21:19:26,sankalpbhatia,fork_close,"ZOOKEEPER-3689: zkCli/ZooKeeperMain relies on system properties for TLS config

The current zkCli uses system properties to set confidential information like keystore location, password etc. This is not secure as these properties need to be passed on the command line as ""-D""  arguments.

Currently, there is no way to create a ZookeeperAdmin does not have a constructor which takes both canBeReadOnly and ZKClientConfig as parameters.  I am introducing a new constructor in ZookeeperAdmin which takes an additional ZKClientConfig parameter. This ZKClientConfig is created by an optional command line argument ``client-configuration``. If no argument is passed, a ZookeeperAdmin object with null client config is created, just like before.

Author: Sankalp <sankal@amazon.com>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Norbert Kalmar <nkalmar@apache.org>, Justin Ling Mao <maoling199210191@sina.com>

Closes #1285 from sankalpbhatia/ZOOKEEPER-3689

(cherry picked from commit b4a3238d1d0cebe1c97ed23427bbcc69c8477c8a)
Signed-off-by: Enrico Olivelli <eolivelli@localhost.localdomain>","{""sha"": ""c5f55eb39249f853398adf87a1860ee1025e99c9"", ""author"": {""name"": ""Sankalp"", ""email"": ""sankal@amazon.com"", ""date"": ""2020-03-26T21:19:08Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@localhost.localdomain"", ""date"": ""2020-03-26T21:19:26Z""}}"
1689,SubmitCommit,2020-03-26 21:21:01,sushantmane,fork_close,"ZOOKEEPER-3755: Use maven to create fatjar

- replace ant build.xml with maven pom.xml for zookeeper-contrib-fatjar module
- create maven profile ""fatjar"" to build a fatjar file.
- update readme files

Author: Sushant Mane <sushant.mane@sjsu.edu>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Benjamin Reed <breed@apache.org>

Closes #1284 from sushantmane/master

(cherry picked from commit 1ff1b779b70dd794c9e45f35f8ca305229df10e0)
Signed-off-by: Enrico Olivelli <eolivelli@localhost.localdomain>","{""sha"": ""07449c6209584fb6baf10fef13a955c0d88133e2"", ""author"": {""name"": ""Sushant Mane"", ""email"": ""sushant.mane@sjsu.edu"", ""date"": ""2020-03-26T21:20:51Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@localhost.localdomain"", ""date"": ""2020-03-26T21:21:01Z""}}"
1689,SubmitCommit,2020-03-31 11:40:01,tisonkun,fork_close,"ZOOKEEPER-3771: Update zk-merge-pr script to Python3

eolivelli generally I use `2to3` util and check the codepath that I can arrive, manually fix some lines.

But it seems we can verify this patch totally when merging this patch :)

Author: tison <wander4096@gmail.com>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Norbert Kalmar <nkalmar@apache.org>

Closes #1295 from TisonKun/patch-1

(cherry picked from commit a4c97d255ad7bb86c61a35d01415de1caebd3dac)
Signed-off-by: Norbert Kalmar <nkalmar@apache.org>","{""sha"": ""1a28de74a496bcca0407cfc9ba3c73014cbe9e11"", ""author"": {""name"": ""tison"", ""email"": ""wander4096@gmail.com"", ""date"": ""2020-03-31T11:39:49Z""}, ""committer"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@apache.org"", ""date"": ""2020-03-31T11:40:01Z""}}"
1689,SubmitCommit,2020-04-07 07:08:00,symat,fork_close,"ZOOKEEPER-3769: handling malformed Leader Election notification messages

Using ZooKeeper with JDK 12.0.2 on CentOS 7 when the current leader is killed, we saw a few times that some partial Leader Election notification (vote) messages were delivered to the other ZooKeeper servers. The malformed / partial messages are causing different exceptions in the WorkerReceiver thread of FastLeaderElection which were not handled before. This was leading to the death of the WorkerReceiver thread, which caused that the given ZooKeeper Server was unable to receive leader election messages anymore and was not able to re-join to any quorum until it got restarted.

In the proposed fix I created unit tests to simulate certain error cases with regards to partial leader election messages, and fixed the error handling in FastLeaderElection.

Author: Mate Szalay-Beko <szalay.beko.mate@gmail.com>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Norbert Kalmar <nkalmar@apache.org>

Closes #1300 from symat/ZOOKEEPER-3769-master

(cherry picked from commit a548253408384d9e943b151c942d795017dca70c)
Signed-off-by: Enrico Olivelli <enrico.olivelli@diennea.com>","{""sha"": ""68466c8767fa1b3ab0e355278921752392e2ea8b"", ""author"": {""name"": ""Mate Szalay-Beko"", ""email"": ""szalay.beko.mate@gmail.com"", ""date"": ""2020-04-07T07:07:50Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""enrico.olivelli@diennea.com"", ""date"": ""2020-04-07T07:08:00Z""}}"
1689,SubmitCommit,2020-04-07 13:40:39,nkalmar,fork_close,"ZOOKEEPER-3780: restore Version.getRevision() to be bacward compatible

Added a warning in https://cwiki.apache.org/confluence/display/ZOOKEEPER/Upgrade+FAQ

Author: Norbert Kalmar <nkalmar@apache.org>

Reviewers: Enrico Olivelli <eolivelli@apache.org>

Closes #1304 from nkalmar/branch-3.6","{""sha"": ""5062c39cb028115a9b79f9b28d6837065e70bf40"", ""author"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@apache.org"", ""date"": ""2020-04-07T13:40:39Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-04-07T13:40:39Z""}}"
1689,SubmitCommit,2020-04-07 15:00:45,eolivelli,fork_close,"ZOOKEEPER-3785: Make sources buildable with JDK14

Author: Enrico Olivelli <eolivelli@apache.org>

Reviewers: Mate Szalay-Beko <szalay.beko.mate@gmail.com>, TisunKun <wander4096@gmail.com>

Closes #1308 from eolivelli/fix/jdk14

(cherry picked from commit a8fb880218410ec3b31374d957e5a0bd6c8cdf28)
Signed-off-by: Enrico Olivelli <eolivelli@apache.org>","{""sha"": ""17374c0d4e0af2b59d2b4a56d1bc2c4041e6315d"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-04-07T15:00:35Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-04-07T15:00:45Z""}}"
1689,SubmitCommit,2020-04-10 14:39:53,eolivelli,fork_close,ZooKeeper 3.6.1 release notes,"{""sha"": ""1d25e0f6d2688d13f5853a05c87efbc522c82f35"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-04-10T14:34:28Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-04-10T14:39:53Z""}}"
1689,SubmitCommit,2020-04-11 06:37:22,vtyulb,fork_close,"ZOOKEEPER-3726: invalid ipv6 address comparison in C client

Fix for https://issues.apache.org/jira/browse/ZOOKEEPER-3726

sockaddr_storage can contain ipv4 or ipv6 address. If address is ipv6, then we need to compare more bytes.

In this PR correct comparison of sockaddr_storage was added.

Author: Vladislav Tyulbashev <vtyulb@vtyulb.ru>

Reviewers: Norbert Kalmar <nkalmar@apache.org>, Mate Szalay-Beko <symat@apache.org>

Closes #1252 from vtyulb/ZOOKEEPER-3726

(cherry picked from commit 726f6843eba75bb3673284b52d8ca3801c5431d3)
Signed-off-by: Mate Szalay-Beko <symat@apache.org>","{""sha"": ""754cf015f3bc45c39e1ad66e9a535ec280d972b8"", ""author"": {""name"": ""Vladislav Tyulbashev"", ""email"": ""vtyulb@vtyulb.ru"", ""date"": ""2020-04-11T06:19:04Z""}, ""committer"": {""name"": ""Mate Szalay-Beko"", ""email"": ""symat@apache.org"", ""date"": ""2020-04-11T06:37:22Z""}}"
1689,SubmitCommit,2020-04-12 09:14:54,hanm,fork_close,"ZOOKEEPER-3793: Request throttling is broken when RequestThrottler is disabled or configured incorrectly..

When RequestThrottler is not enabled or is enabled but configured incorrectly, ZooKeeper server will stop throttling. This is a serious bug as without request throttling, it's fairly easy to overwhelm ZooKeeper which leads to all sorts of issues.

This is a regression introduced in ZOOKEEPER-3243, where the total number of queued requests in request processing pipeline is not taking into consideration when deciding whether to throttle or not, or only taken into consideration conditionally based on RequestThrottler's configurations. We should make sure always taking into account the number of queued requests in request processing pipeline before making throttling decisions.

Author: Michael Han <hanm@apache.org>

Reviewers: Enrico Olivelli <eolivelli@apache.org>

Closes #1316 from hanm/ZOOKEEPER-3793

(cherry picked from commit 4d32f6cf39f76d606b436bd4c04a8d1bc9c60148)
Signed-off-by: Enrico Olivelli <eolivelli@apache.org>","{""sha"": ""e2aef19f4be4cd8015b66dbf63bb860efe4745f4"", ""author"": {""name"": ""Michael Han"", ""email"": ""hanm@apache.org"", ""date"": ""2020-04-12T09:14:45Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-04-12T09:14:54Z""}}"
1689,SubmitCommit,2020-04-12 12:20:55,eolivelli,fork_close,Add ZOOKEEPER-3793 to release notes,"{""sha"": ""37e3032ceab81e53a783e80ee995dba1fe815899"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-04-12T12:20:37Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-04-12T12:20:55Z""}}"
1689,SubmitCommit,2020-04-15 09:44:28,phunt,fork_close,"ZOOKEEPER-3794: upgrade netty to address CVE-2020-11612

Latest owasp runs are flagging this. Simple upgrade to the current latest version of netty 4.1.x codeline.

Change-Id: I3defe8a731a2bf22abbd154e7d51054cb62aaa64

Author: Patrick Hunt <phunt@apache.org>

Reviewers: Enrico Olivelli <eolivelli@apache.org>

Closes #1319 from phunt/ZOOKEEPER-3794

(cherry picked from commit 8a1e0b3643d85ffa362207880095e08f1dbc47da)
Signed-off-by: Enrico Olivelli <enrico.olivelli@diennea.com>","{""sha"": ""8a8ec3d55c9aac4266a2e60000a91df8606525cb"", ""author"": {""name"": ""Patrick Hunt"", ""email"": ""phunt@apache.org"", ""date"": ""2020-04-15T09:44:17Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""enrico.olivelli@diennea.com"", ""date"": ""2020-04-15T09:44:28Z""}}"
1689,SubmitCommit,2020-04-15 14:11:41,ctubbsii,fork_close,"ZOOKEEPER-3738: Fix VerGen when mvngit.commit.id is null

Workaround for exec-maven-plugin treating an empty
`<argument>${mvngit.commit.id}</argument>` as null and passing an
incorrect number of arguments to VerGen.

This change allows the revision to be omitted in the command-line args
to VerGen.

This allows the mavanagaiata-maven-plugin to provide the git commit id,
when available, to the VerGen command. This change is superseded in
ZooKeeper 3.7.0 and later by ZOOKEEPER-3786
(https://github.com/apache/zookeeper/pull/1310), which simplifies
generating the version information and removes VerGen.

Author: Christopher Tubbs <ctubbsii@apache.org>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Mate Szalay-Beko <szalay.beko.mate@gmail.com>

Closes #1321 from ctubbsii/fix-vergen-for-36-mavanagaiata","{""sha"": ""4d1ddefe044e5d69783c4cbbc3d25772a152ec72"", ""author"": {""name"": ""Christopher Tubbs"", ""email"": ""ctubbsii@apache.org"", ""date"": ""2020-04-15T14:11:41Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-04-15T14:11:41Z""}}"
1689,SubmitCommit,2020-04-15 14:16:06,eolivelli,fork_close,add ZOOKEEPER-3794 to release notes,"{""sha"": ""fbe16c929347bcefe2f393098d9f8ca972a48ae6"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-04-15T14:15:47Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-04-15T14:16:06Z""}}"
1689,SubmitCommit,2020-04-15 14:36:22,eolivelli,fork_close,Prepared 3.6.1,"{""sha"": ""d7b78e023af7d8dcf2530022da8565360fe64221"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-04-15T14:24:11Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-04-15T14:36:22Z""}}"
1689,SubmitCommit,2020-04-15 14:36:30,eolivelli,fork_close,Prepared 3.6.2-SNAPSHOT,"{""sha"": ""1964b1b015cb8224ce663f07cbf6fad5c566a607"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-04-15T14:25:55Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-04-15T14:36:30Z""}}"
1689,SubmitCommit,2020-04-17 06:46:41,eolivelli,fork_close,Fix pom.xml files that contained bad version 3.7.0-SNAPSHOT,"{""sha"": ""7cc5e6aed26af86d30a03715bfd0cad51453c0fc"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-04-17T06:46:41Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-04-17T06:46:41Z""}}"
1689,SubmitCommit,2020-04-18 17:03:14,eolivelli,fork_close,"ZOOKEEPER-3797: Conflict between fatjar and full-build Maven profiles

Enable fatjar module in full-build profile.
This is a fix only for branch-3.6, on master branch maven structure is changing, there is no need for this fix

Author: Enrico Olivelli <eolivelli@apache.org>

Reviewers: phunt@apache.org, breed@apache.org

Closes #1323 from eolivelli/fix/ZOOKEEPER-3797 and squashes the following commits:

6dc3270fb [Enrico Olivelli] skip checkstyle
1cff2ff85 [Enrico Olivelli] skip spotbugs
19a869959 [Enrico Olivelli] simplify skipTests
e48811917 [Enrico Olivelli] skip tests in zookeeper-it
3d6dc500b [Enrico Olivelli] enable zookeeper-it
940aec8da [Enrico Olivelli] ZOOKEEPER-3797 Conflict between fatjar and full-build Maven profiles in branch-3.6

Change-Id: Ifbfc6d1ac63a9eeab399a1fcd575b81185b36fc3","{""sha"": ""c5b4c235fdd4abc6d4ebda2d40eb76d9452a417e"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-04-18T17:03:14Z""}, ""committer"": {""name"": ""Patrick Hunt"", ""email"": ""phunt@apache.org"", ""date"": ""2020-04-18T17:03:14Z""}}"
1689,SubmitCommit,2020-04-19 06:36:54,eolivelli,fork_close,add ZOOKEEPER-3726 and ZOOKEEPER-3797 to release notes,"{""sha"": ""b57d0e9efa04f9dcd6e519cef9df563acb7c5830"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-04-19T06:36:32Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-04-19T06:36:54Z""}}"
1689,SubmitCommit,2020-04-20 09:35:50,ctubbsii,fork_close,"ZOOKEEPER-3802: Fix rat checks in full-build and fatjar

Ensure apache-rat:check passes with and without -Pfull-build and/or -Pfatjar

Specifically, this change does:

1. Use wildcards for rat check excludes, so the build passes whether rat
   detects the fils at the build execution root or within the activated
   module, so the rat check works whether or not the full-build or
   fatjar profiles are activated.
2. Ensures properties set at zookeeper-contrib that control rat,
   spotbugs, and checkstyle, are properly passed down to the contrib
   submodules when fatjar is activated, by ensuring the intermediate
   parent pom for zookeeper-contrib is activated when any of its
   submodules are activated.
3. Also use version of spotbugs that works with newer JDKs so the full
   build, including rat checks, can be tested with newer JDKs.

Author: Christopher Tubbs <ctubbsii@apache.org>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Patrick Hunt <phunt@apache.org>

Closes #1326 from ctubbsii/fix-rat-build-36","{""sha"": ""24001493d5d24a8c36e5fa38031243391191d62b"", ""author"": {""name"": ""Christopher Tubbs"", ""email"": ""ctubbsii@apache.org"", ""date"": ""2020-04-20T09:35:50Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-04-20T09:35:50Z""}}"
1689,SubmitCommit,2020-04-21 12:23:24,eolivelli,fork_close,Add ZOOKEEPER-3802 to release notes,"{""sha"": ""e64a74fabafeb3b20109014149beb3ebd6a48be7"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-04-21T12:23:03Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-04-21T12:23:24Z""}}"
1689,SubmitCommit,2020-04-27 08:58:25,ztzg,fork_close,"ZOOKEEPER-3790: zkpython compilation and testing issues

This series makes the zkpython ""contrib"" compile cleanly, and makes the tests runnable out of the box with Python 3:

  * Defined `THREADED`, as zkpython uses the sync API

    Without this, compilation produces a number of warnings about undefined functions (and misleading suggestions!) as it only sees the async API:

        src/c/zookeeper.c:1080:13: warning: implicit declaration of function 'zoo_delete'; did you mean 'zoo_adelete'? [-Wimplicit-function-declaration]
           int err = zoo_delete(zh, path, version);
                     ^~~~~~~~~~
                     zoo_adelete

  * Define `HAVE_OPENSSL_H`, as the extension calls zookeeper_init_ssl

    The flag is unconditionally defined for now, as the function is unconditionally called.

        src/c/zookeeper.c:646:10: warning: implicit declaration of function 'zookeeper_init_ssl'; did you mean 'zookeeper_init2'? [-Wimplicit-function-declaration]
             zh = zookeeper_init_ssl( host, cert_str, watcherfn != Py_None ? watcher_dispatch : NULL,

                  ^~~~~~~~~~~~~~~~~~
                  zookeeper_init2

  * Make SSL support optional (but on by default)

  * Raise `MemoryError` if module initialization fails

  * Allow for version/ABI information in shared object name

    In some versions of the Python framework, native extensions encode the interpreter version and some ABI information in the filename, giving e.g. `zookeeper.cpython-37m-x86_64-linux-gnu.so` instead of `zookeeper.so`.  Take this into account when setting up test runs.

  * Make sure test failures are detected

  * `async` is a keyword in Python 3.5+

Author: Damien Diederen <dd@crosstwine.com>

Reviewers: Mate Szalay-Beko <szalay.beko.mate@gmail.com>, Norbert Kalmar <nkalmar@apache.org>

Closes #1312 from ztzg/ZOOKEEPER-3790-zkpython-compilation-and-testing-issues","{""sha"": ""21221ac692405962bdda3e9ceb63186ef0f180ef"", ""author"": {""name"": ""Damien Diederen"", ""email"": ""dd@crosstwine.com"", ""date"": ""2020-04-27T08:58:25Z""}, ""committer"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@apache.org"", ""date"": ""2020-04-27T08:58:25Z""}}"
1689,SubmitCommit,2020-04-29 17:26:30,belugabehr,fork_close,"ZOOKEEPER-3678: Remove Redundant GroupID from Maven POMs

Author: David Mollitor <dmollitor@apache.org>

Reviewers: Norbert Kalmar <nkalmar@apache.org>

Closes #1206 from belugabehr/ZOOKEEPER-3678

(cherry picked from commit 1c5d135d74f16275876c024401dc2de92909b20a)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""adb0d297265d876a059ef64b10c53298e4522519"", ""author"": {""name"": ""David Mollitor"", ""email"": ""dmollitor@apache.org"", ""date"": ""2020-01-13T13:09:29Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2020-04-29T17:26:30Z""}}"
1689,SubmitCommit,2020-04-29 17:32:42,belugabehr,fork_close,"ZOOKEEPER-3679: Upgrade maven-compiler-plugin For ZooKeeper-jute

Author: David Mollitor <dmollitor@apache.org>

Reviewers: Enrico Olivelli <eolivelli@apache.org>

Closes #1207 from belugabehr/ZOOKEEPER-3679","{""sha"": ""8bd0d5e06be3d508c64c34bf2aa4423bcd8d666f"", ""author"": {""name"": ""David Mollitor"", ""email"": ""dmollitor@apache.org"", ""date"": ""2020-01-08T09:43:49Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2020-04-29T17:32:42Z""}}"
1689,SubmitCommit,2020-05-04 06:50:45,phunt,fork_close,"ZOOKEEPER-3794: upgrade netty to address CVE-2020-11612 - fixed file rename typo

I borked the rename of the netty-codec file on the original submit. This fixes by renaming the one file appropriately.

Change-Id: Ifff1e7bb49b3d0a5816ee97161a4043be7cdaaa6

Author: Patrick Hunt <phunt@apache.org>

Reviewers: Mate Szalay-Beko <symat@apache.org>

Closes #1333 from phunt/ZOOKEEPER-3794_rename

(cherry picked from commit ac4da3ebed34c536c4ea873503b0a6c036fa3910)
Signed-off-by: Mate Szalay-Beko <symat@apache.org>","{""sha"": ""5b548ff6a4a10d4ecb66ead55336ee3c76bc76fd"", ""author"": {""name"": ""Patrick Hunt"", ""email"": ""phunt@apache.org"", ""date"": ""2020-05-04T06:49:35Z""}, ""committer"": {""name"": ""Mate Szalay-Beko"", ""email"": ""symat@apache.org"", ""date"": ""2020-05-04T06:50:45Z""}}"
1689,SubmitCommit,2020-05-04 12:13:50,symat,fork_close,"ZOOKEEPER-3817: suppress log4j SmtpAppender related CVE-2020-9488

Author: Mate Szalay-Beko <symat@apache.org>

Reviewers: Enrico Olivelli <eolivelli@apache.org>

Closes #1346 from symat/ZOOKEEPER-3817

(cherry picked from commit f6b54a6cd227ac37f28803f45d7287c7fd3a8142)
Signed-off-by: Enrico Olivelli <eolivelli@apache.org>","{""sha"": ""6f23dfbbe3684092cb645d52b718c8f99902cff2"", ""author"": {""name"": ""Mate Szalay-Beko"", ""email"": ""symat@apache.org"", ""date"": ""2020-05-04T12:13:41Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-05-04T12:13:50Z""}}"
1689,SubmitCommit,2020-05-04 12:17:43,anmolnar,fork_close,"ZOOKEEPER-3813: FileChangeWatcherTest is broken on Mac

This patch will increase the FS wait timeout to give Mac OSX longer time to detect file modifications.

Author: Andor Molnar <andor@apache.org>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Christopher Tubbs, Mate Szalay-Beko

Closes #1345 from anmolnar/ZOOKEEPER-3813

(cherry picked from commit 391cb4aa6b54e19a028215e1340232a114c23ed3)
Signed-off-by: Enrico Olivelli <eolivelli@apache.org>","{""sha"": ""aa930d8757d2e300fe86a6e17e3eddbe9b276e91"", ""author"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2020-05-04T12:17:33Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-05-04T12:17:43Z""}}"
1689,SubmitCommit,2020-05-05 07:18:44,lingjinjiang,fork_close,"ZOOKEEPER-3772: JettyAdminServer should not allow Http TRACE method

A nessus scan pinged the cluster after I upgrade my zookeeper cluster, because the 8080 port of JettyAdminServer allows Http TRACE method.

Author: lingjinjiang <lingjinjiang@gmail.com>

Reviewers: Mate Szalay-Beko <symat@apache.org>, Andor Molnar <andor@apache.org>, Norbert Kalmar <nkalmar@apache.org>

Closes #1296 from lingjinjiang/master

(cherry picked from commit 44de549657a539dcedba58d56e67b8c906c89580)
Signed-off-by: Norbert Kalmar <nkalmar@apache.org>","{""sha"": ""02816bbd6b4229915954a2cfdaccc4295adca2bc"", ""author"": {""name"": ""lingjinjiang"", ""email"": ""lingjinjiang@gmail.com"", ""date"": ""2020-05-05T07:18:18Z""}, ""committer"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@apache.org"", ""date"": ""2020-05-05T07:18:44Z""}}"
1689,SubmitCommit,2020-05-12 09:43:35,asutosh936,fork_close,"ZOOKEEPER-3761: Upgrade JLine version to 2.14.6

Author: asutosh936 <asutosh.pandya@hotmail.com>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Mate Szalay-Beko <symat@apache.org>

Closes #1292 from asutosh936/ZOOKEEPER-3761

(cherry picked from commit c56506162bfde339e801743396361862cc8c5b41)
Signed-off-by: Mate Szalay-Beko <symat@apache.org>","{""sha"": ""cbfb83913bd6911f80821f680accbcfb47cdb90c"", ""author"": {""name"": ""asutosh936"", ""email"": ""asutosh.pandya@hotmail.com"", ""date"": ""2020-05-12T09:39:58Z""}, ""committer"": {""name"": ""Mate Szalay-Beko"", ""email"": ""symat@apache.org"", ""date"": ""2020-05-12T09:43:35Z""}}"
1689,SubmitCommit,2020-05-12 09:56:11,symat,fork_close,"ZOOKEEPER-3818: client SSL support for zkServer.sh status command

When the ZooKeeper cluster is started in client SSL-only mode (omitting the clientPort
from the zoo.cfg), then the current `zkServer.sh status` command fails to connect to
the server.

**This patch contains:**

- a fix for the zkServer.sh to fall-back to SSL connetion if no unsecure port is defined
- documenting the necessary system properties one needs to define in this case
- some formatting fixes in the `zookeeperTools.md` file to get proper code blocks generated

**Hints for testing:**

you can generate SSL certificate files e.g. by:
```
mkdir -p /tmp/ssl
mkdir -p /tmp/zkdata
cp ./zookeeper-client/zookeeper-client-c/ssl/gencerts.sh /tmp/ssl/
cd /tmp/ssl/
./gencerts.sh localhost
```

then you can change your zoo.cfg:
```
tickTime=3000
initLimit=10
syncLimit=5
dataDir=/tmp/zkdata

secureClientPort=22281
# clientPort=2181
serverCnxnFactory=org.apache.zookeeper.server.NettyServerCnxnFactory
ssl.keyStore.location=/tmp/ssl/server.jks
ssl.keyStore.password=password
ssl.trustStore.location=/tmp/ssl/servertrust.jks
ssl.trustStore.password=password
```

then start ZooKeeper: `./bin/zkServer.sh start-foreground`

then you can run `zkServer.sh status` like:
```
CLIENT_JVMFLAGS=""-Dzookeeper.clientCnxnSocket=org.apache.zookeeper.ClientCnxnSocketNetty -Dzookeeper.ssl.trustStore.location=/tmp/ssl/clienttrust.jks -Dzookeeper.ssl.trustStore.password=password -Dzookeeper.ssl.keyStore.location=/tmp/ssl/client.jks -Dzookeeper.ssl.keyStore.password=password -Dzookeeper.client.secure=true "" ./bin/zkServer.sh status
```

Author: Mate Szalay-Beko <symat@apache.org>

Reviewers: Aishwarya Soni <aishwarya.vsoni@gmail.com>, Norbert Kalmar <nkalmar@apache.org>

Closes #1348 from symat/ZOOKEEPER-3818

(cherry picked from commit 236e3d9183606512f0e03a1f828ad0d392eb6091)
Signed-off-by: Mate Szalay-Beko <symat@apache.org>","{""sha"": ""6cf8b02120731922b64a35ca997786314a3584ec"", ""author"": {""name"": ""Mate Szalay-Beko"", ""email"": ""symat@apache.org"", ""date"": ""2020-05-12T09:53:40Z""}, ""committer"": {""name"": ""Mate Szalay-Beko"", ""email"": ""symat@apache.org"", ""date"": ""2020-05-12T09:56:11Z""}}"
1689,SubmitCommit,2020-05-20 17:56:43,belugabehr,fork_close,"ZOOKEEPER-3834: Do Not Set Explicit Test Includes in POM

Author: David Mollitor <dmollitor@apache.org>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Norbert Kalmar <nkalmar@apache.org>

Closes #1355 from belugabehr/ZOOKEEPER-3834

(cherry picked from commit 5e88b541dcc2fd30e60bb437efa7704bbec8f6e6)
Signed-off-by: Norbert Kalmar <nkalmar@apache.org>","{""sha"": ""16ddfea7134dffab0dd4220c9ee89c7a0407cf6a"", ""author"": {""name"": ""David Mollitor"", ""email"": ""dmollitor@apache.org"", ""date"": ""2020-05-20T17:56:26Z""}, ""committer"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@apache.org"", ""date"": ""2020-05-20T17:56:43Z""}}"
1689,SubmitCommit,2020-05-21 09:22:25,nkalmar,fork_close,"ZOOKEEPER-3792: fix apidocs path

Author: Norbert Kalmar <nkalmar@apache.org>

Reviewers: Mate Szalay-Beko <symat@apache.org>

Closes #1362 from nkalmar/master

(cherry picked from commit 9e50853da2da5aa982a4b0da790f2da51575b6f1)
Signed-off-by: Norbert Kalmar <nkalmar@apache.org>","{""sha"": ""977881f61f3fb308eb2a2cc28e699f50fa7a8baa"", ""author"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@apache.org"", ""date"": ""2020-05-21T09:19:39Z""}, ""committer"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@apache.org"", ""date"": ""2020-05-21T09:22:25Z""}}"
1689,SubmitCommit,2020-05-21 12:13:46,anmolnar,fork_close,"ZOOKEEPER-3832: ZKHostnameVerifier rejects valid certificates with subjectAltNames

This issue has been reported by a user who wanted to use a cert that contains SAN entries that are not of type DNS or IP.
I've come across the following ticket in http client project which seems to be related:
https://issues.apache.org/jira/browse/HTTPCLIENT-1906

This is the backport of the fix.

Original patch: https://github.com/apache/httpcomponents-client/commit/56cc24525e5ba2a5ef8fa0de2385687e83589a71

Target versions: 3.5, 3.6, 3.7

Author: Andor Molnar <andor@apache.org>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Mate Szalay-Beko <symat@apache.org>

Closes #1353 from anmolnar/ZOOKEEPER-3832

(cherry picked from commit 5820d10d9dc58c8e12d2e25386fdf92acb360359)
Signed-off-by: Enrico Olivelli <eolivelli@apache.org>","{""sha"": ""751d63a3c03f5bc077c6d27e0566fc0aa15a9210"", ""author"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2020-05-21T12:13:32Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-05-21T12:13:46Z""}}"
1689,SubmitCommit,2020-05-29 13:00:10,symat,fork_close,"ZOOKEEPER-3829: fix rolling restart when dynamic reconfig is disabled

In four different Jira tickets (ZOOKEEPER-3829, ZOOKEEPER-3830, ZOOKEEPER-3814, ZOOKEEPER-3842) we saw different errors when dynamic reconfig was disabled and we used rolling restart to change the quorum membership configuration. These rolling restart sequences was working fine on 3.4 but caused errors in 3.5 or 3.6.

In worst case the rolling restart leads to the scenario that we had an elected leader which was up but unable to commit any changes. This happens, when the quorum is extended with a new member in the following sequence:
* start server.1, server.2, server.3 (with config: 1,2,3)
* start server.4 (with config 1,2,3,4)
* stop server.1, then restart it with config 1,2,3,4
* stop server.2, then restart it with config 1,2,3,4
* stop server.3, then restart it with config 1,2,3,4
* at this point leader is server.4, but it can not commit any transaction

An other error we saw was when we changed a host name of an existing member (removing server.5 and add a new host as server.6). In this case we found in the logs of the new server (server.6) that it is still tried to connect to the old invalid server (server.5), although it was missing from it's config. The same problem remained even after making a full rolling-restart on all the nodes.

In this patch I try to fix these issues without breaking anything. The patch contains the following changes:
* We are making sure that neither the committed, nor the last seen config gets updated if dynamic reconfig is disabled.
* It is not possible now to start the leader without the ability of committing transaction, when dynamic reconfig is disabled (this is only needed to avoid a reconfig edge-case).
* I added a testcase simulating the enablement of dynamic reconfig using rolling restart
* I added a few more unit tests to cover rolling restart scenarios. (the tests are failing without the patch but succeeding after applying it).
* The enablement / disablement of reconfig is getting initialized now in the QuorumPeer and gets propagated to the other classes. This was needed for the rolling restart tests to be able to enable/disable reconfig only for the newly created servers without affecting the servers running already in the same JVM.

I also tested the changes with docker, using: https://github.com/symat/zookeeper-docker-test

target branches: 3.5, 3.6, master

Author: Mate Szalay-Beko <symat@apache.org>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Norbert Kalmar <nkalmar@apache.org>

Closes #1356 from symat/ZOOKEEPER-3829

(cherry picked from commit e91455c1e3c50405666cd8afad71d99dceb7b340)
Signed-off-by: Norbert Kalmar <nkalmar@apache.org>","{""sha"": ""48f037fde4a1887ca4aed95919366a6bbae94260"", ""author"": {""name"": ""Mate Szalay-Beko"", ""email"": ""symat@apache.org"", ""date"": ""2020-05-29T12:59:47Z""}, ""committer"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@apache.org"", ""date"": ""2020-05-29T13:00:10Z""}}"
1689,SubmitCommit,2020-06-08 12:39:24,Jie Huang,fork_close,"ZOOKEEPER-3845: Add metric JVM_PAUSE_TIME

Author: Jie Huang <jiehuang@fb.com>

Reviewers: Michael Han <hanm@apache.org>, Andor Molnar <andor@apache.org>, Enrico Olivelli <eolivelli@apache.org>, Mate Szalay-Beko <symat@apache.org>

Closes #1365 from jhuan31/ZOOKEEPER-3845

(cherry picked from commit db99959ef338783102f8755b4d10c1443f709425)
Signed-off-by: Mate Szalay-Beko <symat@apache.org>","{""sha"": ""cf131e797c32ae11f0435ac889a490372470c2e5"", ""author"": {""name"": ""Jie Huang"", ""email"": ""jiehuang@fb.com"", ""date"": ""2020-06-08T12:33:03Z""}, ""committer"": {""name"": ""Mate Szalay-Beko"", ""email"": ""symat@apache.org"", ""date"": ""2020-06-08T12:39:24Z""}}"
1689,SubmitCommit,2020-06-08 12:45:48,Jie Huang,fork_close,"ZOOKEEPER-3856: Add a couple metrics to track inflight diff syncs and snap syncs

There are useful metrics in a cluster with a large number of observes:
INFLIGHT_SNAP_COUNT
INFLIGHT_DIFF_COUNT

Author: Jie Huang <jiehuang@fb.com>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Mate Szalay-Beko <symat@apache.org>

Closes #1374 from jhuan31/ZOOKEEPER-3856

(cherry picked from commit 501125588052827d92a90f8a56d07cbbbdad2fa7)
Signed-off-by: Mate Szalay-Beko <symat@apache.org>","{""sha"": ""352fea2964ee2784697ca690e2e40c6d980ba1eb"", ""author"": {""name"": ""Jie Huang"", ""email"": ""jiehuang@fb.com"", ""date"": ""2020-06-08T12:44:38Z""}, ""committer"": {""name"": ""Mate Szalay-Beko"", ""email"": ""symat@apache.org"", ""date"": ""2020-06-08T12:45:48Z""}}"
1689,SubmitCommit,2020-06-08 13:08:42,Jordan Zimmerman,fork_close,"ZOOKEEPER-3831: add a compatibility test module

ZooKeeper has many external libraries that are dependent on staying compatible. For example, Apache Curator. This new module will be used to add compatibility tests for any third party library, tool, etc. that we want to ensure maintains compatibility. The module is configured with Maven not to install/deploy so it's only for testing purposes. An initial test using Apache Curator is added.

Author: Jordan Zimmerman <jordan@jordanzimmerman.com>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Mate Szalay-Beko <symat@apache.org>

Closes #1369 from Randgalt/ZOOKEEPER-3831-add-compatibility-test-module

(cherry picked from commit 79a99ac97cea942967a2a08e7873a0cea9a2e046)
Signed-off-by: Mate Szalay-Beko <symat@apache.org>","{""sha"": ""4abe50c1b4b7d48a74be99e18568b4bbe926d38c"", ""author"": {""name"": ""Jordan Zimmerman"", ""email"": ""jordan@jordanzimmerman.com"", ""date"": ""2020-06-08T13:07:12Z""}, ""committer"": {""name"": ""Mate Szalay-Beko"", ""email"": ""symat@apache.org"", ""date"": ""2020-06-08T13:08:42Z""}}"
1689,SubmitCommit,2020-06-10 13:22:01,nkalmar,fork_close,"ZOOKEEPER-3831: [ADDENDUM] fix apache-rat error, add missing apache license

I think we will need to push this to both master and branch-3.6.

Author: Mate Szalay-Beko <symat@apache.org>

Reviewers: Norbert Kalmar <nkalmar@apache.org>

Closes #1376 from symat/rat-fix

(cherry picked from commit 8c9590caeaaa9079d958eb79da77321586c76236)
Signed-off-by: Norbert Kalmar <nkalmar@apache.org>","{""sha"": ""5e73d169f7a50cfdfef3bc4906741aaccd05aad9"", ""author"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@apache.org"", ""date"": ""2020-06-10T13:21:39Z""}, ""committer"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@apache.org"", ""date"": ""2020-06-10T13:22:01Z""}}"
1689,SubmitCommit,2020-06-10 15:43:49,tamaashu,fork_close,"ZOOKEEPER-3857: ZooKeeper branch-3.6 doesn't build after Curator test committed

Updated version number in two pom.xml files.

Change-Id: I71194499cac0275eb6068a9adee8920b3eeb8b11

Author: Tamas Penzes <tamaas@cloudera.com>

Reviewers: Norbert Kalmar <nkalmar@apache.org>, Mate Szalay-Beko <symat@apache.org>

Closes #1377 from tamaashu/apache-branch-3.6","{""sha"": ""8ae8d339946edcc60cdcf9e4e79616e6bfddb352"", ""author"": {""name"": ""Tamas Penzes"", ""email"": ""tamaas@cloudera.com"", ""date"": ""2020-06-10T15:43:49Z""}, ""committer"": {""name"": ""Mate Szalay-Beko"", ""email"": ""symat@apache.org"", ""date"": ""2020-06-10T15:43:49Z""}}"
1689,SubmitCommit,2020-06-19 07:55:29,symat,fork_close,"ZOOKEEPER-3865: fix backward-compatibility for ZooKeeperServer constructor

In the fix of ZOOKEEPER-3829 I accidentally changed a public constructor of ZooKeeper server. I didn’t realize Curator is using it for testing (and maybe other Apache projects are doing so as well).

In this PR I restore the original constructor for master and branch-3.6.

For branch-3.5 I will submit an other PR, that will make it compatible with e.g. Curator 4.3.

Author: Mate Szalay-Beko <symat@apache.org>

Reviewers: Enrico Olivelli <eolivelli@apache.org>

Closes #1382 from symat/ZOOKEEPER-3865

(cherry picked from commit f6c9bac7d39e790171762e522fedb7b3af66d3c7)
Signed-off-by: Enrico Olivelli <eolivelli@apache.org>","{""sha"": ""9d0e3742ad7420ab81480a70113dea457564398f"", ""author"": {""name"": ""Mate Szalay-Beko"", ""email"": ""symat@apache.org"", ""date"": ""2020-06-19T07:55:12Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-06-19T07:55:29Z""}}"
1689,SubmitCommit,2020-07-13 10:10:21,Mohammad Arshad 72626,fork_close,"ZOOKEEPER-3878: Client connection fails if IPV6 is not enclosed in square brackets

Author: Mohammad Arshad 72626 <mohammad.arshad@huawei.com>

Reviewers: Enrico Olivelli <eolivelli@apache.org>

Closes #1398 from arshadmohammad/ZOOKEEPER-3878-master

(cherry picked from commit f362313860401024b7141489e66ee76af442eb76)
Signed-off-by: Enrico Olivelli <eolivelli@apache.org>","{""sha"": ""08b30f9c375c417962fc18948735eaa3adfe605d"", ""author"": {""name"": ""Mohammad Arshad 72626"", ""email"": ""mohammad.arshad@huawei.com"", ""date"": ""2020-07-13T10:10:05Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-07-13T10:10:21Z""}}"
1689,SubmitCommit,2020-07-24 06:46:58,anmolnar,fork_close,"ZOOKEEPER-3896: Migrate Jenkins jobs to Jenkinsfile based Pipeline

As part of the new CI instance migration we wanted to take advantage of Jenkinsfile based pipelines. From now on we're able to script and source control our main Jenkins settings.

This patch only adding the Jenkinsfile itself to all major branches: master, branch-3.6 and branch-3.5. Once it's in I'll create the Jenkins job which will use it.

Currently I have a testing job based on my ZK fork: https://ci-hadoop.apache.org/view/ZooKeeper/job/zookeeper-master-maven-multipipeline/

Author: Andor Molnar <andor@apache.org>

Reviewers: Enrico Olivelli <eolivelli@apache.org>

Closes #1409 from anmolnar/ZOOKEEPER-3896

(cherry picked from commit d1c40dd130a232f8b8b68940db607f14d3667f6e)
Signed-off-by: Enrico Olivelli <eolivelli@apache.org>","{""sha"": ""b7961920db593c2f69035188a2dbf60701fb372c"", ""author"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2020-07-24T06:46:43Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-07-24T06:46:58Z""}}"
1689,SubmitCommit,2020-07-24 11:27:53,anmolnar,fork_close,"ZOOKEEPER-3896: PollSCM hourly only to let previous builds to finish

Looks like that PollSCM trigger will trigger another build on the same ref if other builds haven't completed rather than haven't started.

I change the polling interval to hourly to let other builds finish in time.

Author: Andor Molnar <andor@apache.org>

Reviewers: Enrico Olivelli <eolivelli@apache.org>

Closes #1413 from anmolnar/ZOOKEEPER-3896_2

(cherry picked from commit 5de840cdfd0396341e390470c3e03c370196ce64)
Signed-off-by: Enrico Olivelli <eolivelli@apache.org>","{""sha"": ""59cb1d18ac4720f6629b74f91991d9608bc0aa22"", ""author"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2020-07-24T11:27:39Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-07-24T11:27:53Z""}}"
1689,SubmitCommit,2020-07-27 13:47:32,anmolnar,fork_close,"ZOOKEEPER-3896: Remove badly behaving PollSCM trigger

PollSCM trigger triggers a build every time it scans the ZooKeeper repo regardless the branch pointer has been changed or not. Instead, I try to use the built-in 'Scan Multibranch Pipeline' instead which should be good for the same purpose.

Author: Andor Molnar <andor@apache.org>

Reviewers: Enrico Olivelli <eolivelli@apache.org>

Closes #1415 from anmolnar/ZOOKEEPER-3896

(cherry picked from commit 1c41e127537f66842515ccb21fb48f1670003454)
Signed-off-by: Enrico Olivelli <eolivelli@apache.org>","{""sha"": ""0535faceb39a145c5e393618d7456a80baefabfd"", ""author"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2020-07-27T13:47:20Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-07-27T13:47:32Z""}}"
1689,SubmitCommit,2020-07-28 08:30:44,Alexey.Saltanov,fork_close,"ZOOKEEPER-3112: fix fd leak due to UnresolvedAddressException on connect

SocketChannel.connect() can throw different kind of exceptions but ClientCnxnSocketNIO.connect() handles only IOException. This could lead to FD leak when socked is opened but is not connected. We should handle some additional exception classes and close the socket.

Author: Alexey.Saltanov <Alexey.Saltanov@billing.ru>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Mate Szalay-Beko <symat@apache.org>

Closes #1410 from saltos/ZOOKEEPER-3112

(cherry picked from commit 6a8728d98307f7d52cf6dbadb78149e01b1d0bf5)
Signed-off-by: Mate Szalay-Beko <symat@apache.org>","{""sha"": ""536593f4d96b329fbf0fad6c45bbcb555f3ffebe"", ""author"": {""name"": ""Alexey.Saltanov"", ""email"": ""Alexey.Saltanov@billing.ru"", ""date"": ""2020-07-28T08:29:28Z""}, ""committer"": {""name"": ""Mate Szalay-Beko"", ""email"": ""symat@apache.org"", ""date"": ""2020-07-28T08:30:44Z""}}"
1689,SubmitCommit,2020-07-29 09:37:41,anmolnar,fork_close,"ZOOKEEPER-3896: Added separate Jenkinsfile for PreCommit jobs + disable concurrent builds

Further improvements to our Jenkinsfiles.

Author: Andor Molnar <andor@apache.org>

Reviewers: Enrico Olivelli <eolivelli@apache.org>

Closes #1416 from anmolnar/ZOOKEEPER-3896

(cherry picked from commit 2898ffddb05df4e826be34ad13478e78ad6fb321)
Signed-off-by: Enrico Olivelli <eolivelli@apache.org>","{""sha"": ""c6495b6d9c59584aea699c659505c2311471db30"", ""author"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2020-07-29T09:37:21Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-07-29T09:37:41Z""}}"
1689,SubmitCommit,2020-07-29 10:31:54,arshadmohammad,fork_close,"ZOOKEEPER-3876: zkServer.sh status command fails when IPV6 is configured

Modified host and IP parsing logic for IPV6

Author: Mohammad Arshad <arshad@apache.org>

Reviewers: Enrico Olivelli <eolivelli@apache.org>

Closes #1395 from arshadmohammad/ZOOKEEPER-3876

(cherry picked from commit c9f15213663fc9b86809adcbc27a4dbe1232c31a)
Signed-off-by: Enrico Olivelli <eolivelli@apache.org>","{""sha"": ""f6b7b1b35be13a2bb35f44f58773ba87f5b40b50"", ""author"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2020-07-29T10:31:40Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-07-29T10:31:54Z""}}"
1689,SubmitCommit,2020-07-29 17:12:12,eolivelli,fork_close,"ZOOKEEPER-3895: Client side NullPointerException in case of empty Multi operation

https://issues.apache.org/jira/browse/ZOOKEEPER-3895

Author: Enrico Olivelli <eolivelli@apache.org>

Reviewers: tison <wander4096@gmail.com>, Mate Szalay-Beko <symat@apache.org>

Closes #1407 from eolivelli/fix/ZOOKEEPER-3895

(cherry picked from commit ce523e01938e26ad92d613bd28b59501e9a853df)
Signed-off-by: Mate Szalay-Beko <symat@apache.org>","{""sha"": ""3dbfdf9b4414c79362a7a1426592fd9f082d45d2"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-07-29T16:55:45Z""}, ""committer"": {""name"": ""Mate Szalay-Beko"", ""email"": ""symat@apache.org"", ""date"": ""2020-07-29T17:12:12Z""}}"
1689,SubmitCommit,2020-07-31 14:10:58,tudor,fork_close,"ZOOKEEPER-3885: add locking for watchers hashtables

See the comments in the JIRA issue.

Author: Tudor Bosman <tudor@rockset.com>

Reviewers: Mate Szalay-Beko <symat@apache.org>, Damien Diederen <dd@crosstwine.com>, Enrico Olivelli <eolivelli@apache.org>

Closes #1403 from tudor/htlocking1

(cherry picked from commit b776b2360ac282fc4eef1e86fcf185d7a6c3eae5)
Signed-off-by: Mate Szalay-Beko <symat@apache.org>","{""sha"": ""07400df7f882515c7a7979db393b586fe56efb97"", ""author"": {""name"": ""Tudor Bosman"", ""email"": ""tudor@rockset.com"", ""date"": ""2020-07-31T13:42:18Z""}, ""committer"": {""name"": ""Mate Szalay-Beko"", ""email"": ""symat@apache.org"", ""date"": ""2020-07-31T14:10:58Z""}}"
1689,SubmitCommit,2020-08-12 06:23:06,anmolnar,fork_close,"ZOOKEEPER-3905: Race condition causes sessions to be created for clients even though their certificate authentication has failed (3.6)

Backport to branch-3.6

Netty channel doesn't get closed if authentication fails after a successful SSL handshake. We need a custom authentication provider in order to trigger this, because the default implementation does the same check as for the SSL handshake. Hence it never fails.

Unit test added to make sure client is not able to connect.

Author: Andor Molnar <andor@apache.org>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Mate Szalay-Beko <symat@apache.org>, Norbert Kalmar <nkalmar@apache.org>

Closes #1427 from anmolnar/ZOOKEEPER-3905_36","{""sha"": ""8bcaf7bb3cfa6470e1660e2b36964ae2284197df"", ""author"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2020-08-12T06:23:06Z""}, ""committer"": {""name"": ""Mate Szalay-Beko"", ""email"": ""symat@apache.org"", ""date"": ""2020-08-12T06:23:06Z""}}"
1689,SubmitCommit,2020-08-14 14:47:56,anmolnar,fork_close,"ZOOKEEPER-3896: Added cleanup bits to all ZK builds

Recently I noticed some weird null pointer exception issues during compile in out new builds. I usually resolve this by a full ""git clean"" locally, so I added it to the Jenkinsfiles too.

Author: Andor Molnar <andor@apache.org>

Reviewers: Enrico Olivelli <eolivelli@apache.org>

Closes #1431 from anmolnar/ZOOKEEPER-3896","{""sha"": ""b1e0380eee0ecd7f763da318c7a1e2049495bd35"", ""author"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2020-08-14T14:44:01Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-08-14T14:47:56Z""}}"
1689,SubmitCommit,2020-08-21 15:55:01,odidev,fork_close,"ZOOKEEPER-3913: Upgrade to Netty 4.1.50.Final

- Upgrade Netty to its latest version 4.1.50.Final which includes both security fixes and AArch64 performance improvements
Refer release notes for detail: https://netty.io/news/2020/05/13/4-1-50-Final.html
- Upgraded surefire to 3.0.0-M5 due to compatibility

Author: odidev <odidev@puresoftware.com>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Mate Szalay-Beko <symat@apache.org>

Closes #1428 from odidev/netty_upgrade

(cherry picked from commit e16361d8769eea9e834fd587c3914463b1fb62ed)
Signed-off-by: Enrico Olivelli <eolivelli@apache.org>","{""sha"": ""ec272f376af86b1e24f2cd2392a03e21ceb3acd2"", ""author"": {""name"": ""odidev"", ""email"": ""odidev@puresoftware.com"", ""date"": ""2020-08-21T15:54:46Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-08-21T15:55:01Z""}}"
1689,SubmitCommit,2020-08-24 07:49:29,sankalpbhatia,fork_close,"ZOOKEEPER-3893: Enhance documentation for property ssl.clientAuth

Currently, the documentation for this property just mentions TBD (check https://zookeeper.apache.org/doc/r3.5.7/zookeeperAdmin.html). I believe this was ignored until versions 3.5.7 (https://issues.apache.org/jira/browse/ZOOKEEPER-3674) and a fix was made. It will be good to add some documentation around it.

Author: Sankalp Bhatia <sankalpbhatia92@gmail.com>
Author: Sankalp <sankal@amazon.com>

Reviewers: Christopher Tubbs <ctubbsii@apache.org>, Enrico Olivelli <eolivelli@apache.org>, Mate Szalay-Beko <symat@apache.org>

Closes #1405 from sankalpbhatia/master

(cherry picked from commit fa846cbb70c031bdc126977d453dae1812b0012a)
Signed-off-by: Mate Szalay-Beko <symat@apache.org>","{""sha"": ""b42d76cd14618e7119c0d39150407405b7e87731"", ""author"": {""name"": ""Sankalp Bhatia"", ""email"": ""sankalpbhatia92@gmail.com"", ""date"": ""2020-08-24T07:47:38Z""}, ""committer"": {""name"": ""Mate Szalay-Beko"", ""email"": ""symat@apache.org"", ""date"": ""2020-08-24T07:49:29Z""}}"
1689,SubmitCommit,2020-08-27 17:01:44,eolivelli,fork_close,"ZOOKEEPER-3801: update CI link to https://ci-hadoop.apache.org/view/ZooKeeper/

Author: Enrico Olivelli <eolivelli@apache.org>

Reviewers: Christopher Tubbs <ctubbsii@apache.org>, Mate Szalay-Beko <symat@apache.org>

Closes #1440 from eolivelli/fix/ZOOKEEPER-3801-2

(cherry picked from commit 9c3281f17be8ad899a03327ccdde612ee6ef9be1)
Signed-off-by: Mate Szalay-Beko <symat@apache.org>","{""sha"": ""3d3171475f126d91423671c58d15ff6224d455a7"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-08-27T16:57:38Z""}, ""committer"": {""name"": ""Mate Szalay-Beko"", ""email"": ""symat@apache.org"", ""date"": ""2020-08-27T17:01:44Z""}}"
1689,SubmitCommit,2020-09-03 09:39:02,eolivelli,fork_close,"ZOOKEEPER-3924: Netty and JLine Licenses are inconsistent with jars in the binary tarball in 3.6.2 rc0

- Fix license file names
- Remove legacy pom.template file (for Ant based build ?)

Author: Enrico Olivelli <eolivelli@apache.org>

Reviewers: andor@apache.org

Closes #1449 from eolivelli/fix/ZOOKEEPER-3924-netty-lic

(cherry picked from commit d33193a968d4f1ffc5047c40b7a293af04f35a47)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""cea9801bc5564fd170c7f18276b1fbbca52f81fb"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-09-03T09:38:47Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2020-09-03T09:39:02Z""}}"
1689,SubmitCommit,2020-09-04 12:24:24,eolivelli,fork_close,prepare 3.6.2 release notes,"{""sha"": ""df7900d0bc6c0200b99836ace285176cfb59824b"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-08-30T07:43:41Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-09-04T12:24:24Z""}}"
1689,SubmitCommit,2020-09-04 12:24:29,eolivelli,fork_close,Fix 3.6.2 release notes,"{""sha"": ""10358c3dc564d6e36854747122f4c67496de744b"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-08-31T14:42:08Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-09-04T12:24:29Z""}}"
1689,SubmitCommit,2020-09-04 12:24:36,eolivelli,fork_close,add item to release notes,"{""sha"": ""11984725d467d5d52670e3ca4be8e44c53aacdb0"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-09-04T12:22:36Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-09-04T12:24:36Z""}}"
1689,SubmitCommit,2020-09-04 12:34:41,eolivelli,fork_close,Prepared 3.6.2,"{""sha"": ""803c7f1a12f85978cb049af5e4ef23bd8b688715"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-09-04T12:34:41Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-09-04T12:34:41Z""}}"
1689,SubmitCommit,2021-03-21 17:20:33,nnard1616,fork_close,first commit on our leaderless-zookeeper master branch,"{""sha"": ""feecdd4dd90a0874e8a9b497428d99ff5b4faa96"", ""author"": {""name"": ""Nathan Nard"", ""email"": ""nnard1616@gmail.com"", ""date"": ""2021-03-21T17:20:33Z""}, ""committer"": {""name"": ""Nathan Nard"", ""email"": ""nnard1616@gmail.com"", ""date"": ""2021-03-21T17:20:33Z""}}"
1689,SubmitCommit,2021-03-29 20:37:50,MiLan102,fork_close,Port Max Meldrum FPaxos Implementation to ZK 3.6.2,"{""sha"": ""8dedc934d11be6be9d9030c0ce4a6d3e5fea4fee"", ""author"": {""name"": ""Milan"", ""email"": ""milan102@users.noreply.github.com"", ""date"": ""2021-03-29T20:37:50Z""}, ""committer"": {""name"": ""Milan"", ""email"": ""milan102@users.noreply.github.com"", ""date"": ""2021-03-29T20:37:50Z""}}"
1689,SubmitCommit,2021-03-29 20:40:53,nnard1616,fork_close,"Merge pull request #2 from nnard1616/milan

Port Max Meldrum 3.5.2 ZK FPaxos Implementation to ZK 3.6.2","{""sha"": ""7d40b8a4116cfbfb6bd519e79b439ff9a456d3ef"", ""author"": {""name"": ""Nathan Nard"", ""email"": ""nnard1616@gmail.com"", ""date"": ""2021-03-29T20:40:53Z""}, ""committer"": {""name"": ""GitHub"", ""email"": ""noreply@github.com"", ""date"": ""2021-03-29T20:40:53Z""}}"
1689,SubmitCommit,2021-05-02 18:55:58,nnard1616,fork_close,Created fail limit parameter,"{""sha"": ""d350e87f1beec09ce601949b8c7ef0834a718f6e"", ""author"": {""name"": ""Nathan Nard"", ""email"": ""nnard1616@gmail.com"", ""date"": ""2021-05-02T18:55:58Z""}, ""committer"": {""name"": ""Nathan Nard"", ""email"": ""nnard1616@gmail.com"", ""date"": ""2021-05-02T18:55:58Z""}}"
1689,SubmitCommit,2021-05-02 21:25:26,nnard1616,fork_close,moved dockerfile stuff,"{""sha"": ""4643bcc21bd15f9a0ef7e42f2561dfc2c6df27d9"", ""author"": {""name"": ""Nathan Nard"", ""email"": ""nnard1616@gmail.com"", ""date"": ""2021-05-02T21:25:26Z""}, ""committer"": {""name"": ""Nathan Nard"", ""email"": ""nnard1616@gmail.com"", ""date"": ""2021-05-02T21:25:26Z""}}"
1689,SubmitCommit,2021-05-02 21:49:37,nnard1616,fork_close,docker file updates,"{""sha"": ""05ac4561068d5dd71835ae116412a21ba579561a"", ""author"": {""name"": ""Nathan Nard"", ""email"": ""nnard1616@gmail.com"", ""date"": ""2021-05-02T21:49:37Z""}, ""committer"": {""name"": ""Nathan Nard"", ""email"": ""nnard1616@gmail.com"", ""date"": ""2021-05-02T21:49:37Z""}}"
1689,SubmitCommit,2021-05-02 22:15:13,nnard1616,fork_close,update dockerfile again,"{""sha"": ""05e29726656052834c906dcc2fc2d4108a15980a"", ""author"": {""name"": ""Nathan Nard"", ""email"": ""nnard1616@gmail.com"", ""date"": ""2021-05-02T22:15:13Z""}, ""committer"": {""name"": ""Nathan Nard"", ""email"": ""nnard1616@gmail.com"", ""date"": ""2021-05-02T22:15:13Z""}}"
1689,SubmitCommit,2021-05-02 22:16:53,nnard1616,fork_close,update dockerfile again2,"{""sha"": ""c37774d7350878cde8ce180dbb37e37a38ae54c3"", ""author"": {""name"": ""Nathan Nard"", ""email"": ""nnard1616@gmail.com"", ""date"": ""2021-05-02T22:16:53Z""}, ""committer"": {""name"": ""Nathan Nard"", ""email"": ""nnard1616@gmail.com"", ""date"": ""2021-05-02T22:16:53Z""}}"
1689,SubmitCommit,2021-05-02 22:49:29,nnard1616,fork_close,update dockerfile again3,"{""sha"": ""368458aa708de3c3078ed13aee0936b240120a70"", ""author"": {""name"": ""Nathan Nard"", ""email"": ""nnard1616@gmail.com"", ""date"": ""2021-05-02T22:49:29Z""}, ""committer"": {""name"": ""Nathan Nard"", ""email"": ""nnard1616@gmail.com"", ""date"": ""2021-05-02T22:49:29Z""}}"
1689,SubmitCommit,2021-05-02 22:50:57,nnard1616,fork_close,update dockerfile again4,"{""sha"": ""9ee9ed79f8a3dda3bd16c36932c0b6daa68f55fe"", ""author"": {""name"": ""Nathan Nard"", ""email"": ""nnard1616@gmail.com"", ""date"": ""2021-05-02T22:50:57Z""}, ""committer"": {""name"": ""Nathan Nard"", ""email"": ""nnard1616@gmail.com"", ""date"": ""2021-05-02T22:50:57Z""}}"
1689,SubmitCommit,2021-05-02 23:08:14,nnard1616,fork_close,update dockerfile again5,"{""sha"": ""c55e8a553a72723dfdfe567c6b330f22d8a0d200"", ""author"": {""name"": ""Nathan Nard"", ""email"": ""nnard1616@gmail.com"", ""date"": ""2021-05-02T23:08:14Z""}, ""committer"": {""name"": ""Nathan Nard"", ""email"": ""nnard1616@gmail.com"", ""date"": ""2021-05-02T23:08:14Z""}}"
1689,SubmitCommit,2021-05-02 23:28:47,nnard1616,fork_close,update dockerfile again6,"{""sha"": ""2c21ef6cf91eaa0426914c6427a8c522b43985a1"", ""author"": {""name"": ""Nathan Nard"", ""email"": ""nnard1616@gmail.com"", ""date"": ""2021-05-02T23:28:47Z""}, ""committer"": {""name"": ""Nathan Nard"", ""email"": ""nnard1616@gmail.com"", ""date"": ""2021-05-02T23:28:47Z""}}"
1689,SubmitCommit,2021-05-03 00:06:38,nnard1616,fork_close,updated quorumflexible again,"{""sha"": ""55f548bc6d55a8abf2566590b39586102dcd1906"", ""author"": {""name"": ""Nathan Nard"", ""email"": ""nnard1616@gmail.com"", ""date"": ""2021-05-03T00:06:38Z""}, ""committer"": {""name"": ""Nathan Nard"", ""email"": ""nnard1616@gmail.com"", ""date"": ""2021-05-03T00:06:38Z""}}"
1689,SubmitCommit,2021-05-03 00:31:29,nnard1616,fork_close,updated quorumflexible again2,"{""sha"": ""d80a41bd0985a2b3da9e48ed25ad748e0678b371"", ""author"": {""name"": ""Nathan Nard"", ""email"": ""nnard1616@gmail.com"", ""date"": ""2021-05-03T00:31:29Z""}, ""committer"": {""name"": ""Nathan Nard"", ""email"": ""nnard1616@gmail.com"", ""date"": ""2021-05-03T00:31:29Z""}}"
1689,OpenPR,2021-05-03 01:37:38,nnard1616,fork_close,,
1689,IssueCommentSupplement,2021-05-03 01:41:02,nnard1616,fork_close,"Whoops I can't read, sorry!","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/830982737"", ""author_association"": ""NONE""}"
1689,ClosePR,2021-05-03 01:41:02,nnard1616,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4675949328"", ""commit_url"": null}"
1689,ReviewCommentSupplement,2021-05-03 01:48:15,sonatype-lift[bot],fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1689#pullrequestreview-650049851""}"
1691,OpenPR,2021-05-10 23:53:24,li4wang,fork_close,,
1691,IssueComment,2021-06-10 17:36:24,li4wang,fork_close,@eolivelli @ztzg @hanm @anmolnar would you mind taking a quick look at this PR? It's simple but would be very useful when enabling the follower hosting observers feature. Thanks.,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/858824775"", ""author_association"": ""CONTRIBUTOR""}"
1691,ReviewApproved,2021-06-10 18:13:06,eolivelli,fork_close,Lgtm,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1691#pullrequestreview-681106876""}"
1691,ReviewComment,2021-06-11 04:12:21,hanm,fork_close,,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1691#pullrequestreview-681434291""}"
1691,Revise,2021-06-14 04:23:03,liwang,fork_close,"ZOOKEEPER-4284: Add metrics for observer sync time

Author: Li Wang <li4wang@gmail.com>","{""sha"": ""9b557d767c554fdd4d7c112306724099b77ab1be"", ""author"": {""name"": ""liwang"", ""email"": ""liwang@apple.com"", ""date"": ""2021-05-10T23:52:49Z""}, ""committer"": {""name"": ""liwang"", ""email"": ""liwang@apple.com"", ""date"": ""2021-06-14T04:23:03Z""}}"
1691,IssueComment,2021-06-22 18:52:13,li4wang,fork_close,@hanm can you help approving the PR so the changes can be merged? Thanks.,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/866246545"", ""author_association"": ""CONTRIBUTOR""}"
1691,ReviewApproved,2021-06-23 04:00:45,hanm,fork_close,,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1691#pullrequestreview-690191259""}"
1691,IssueComment,2021-06-23 04:01:26,hanm,fork_close,"> @hanm can you help approving the PR so the changes can be merged? Thanks.



> @hanm can you help approving the PR so the changes can be merged? Thanks.

Apologize for the delay. Approved.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/866503791"", ""author_association"": ""CONTRIBUTOR""}"
1691,ClosePR,2021-06-30 06:55:05,ztzg,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4957614833"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/2d3065606a444c0b711c1809ce296db2ba56cb0c""}"
1691,ReviewApproved,2021-06-30 06:55:05,ztzg,fork_close,LGTM!,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1691#pullrequestreview-695756893""}"
1691,IssueCommentSupplement,2021-06-30 07:00:23,ztzg,fork_close,"Merged into `master` and `branch-3.7`.  Thank you, @li4wang!","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/871148035"", ""author_association"": ""CONTRIBUTOR""}"
1691,CrossReferenced,2021-06-30 07:03:51,ztzg,fork_close,ZOOKEEPER-4318: Only report the follower sync time metrics if sync is completed,"{""reference"": {""url"": ""https://api.github.com/repos/apache/zookeeper/issues/1712"", ""is_pull_request"": true}}"
1691,Referenced,2021-06-30 07:10:27,ztzg,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4957683146"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/203de65823bb12420fd0a030705f632e7ae5d814""}"
1691,Referenced,2022-11-02 12:51:44,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7723060790"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/4ebb97eae835948849f4f0329f918790a1f2ed56""}"
1691,CrossReferenced,2022-11-02 12:51:44,anuragmadnawat1,fork_close,ZOOKEEPER-4284: Add metrics for observer sync time,"{""reference"": {""url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/issues/160"", ""is_pull_request"": true}}"
1691,Referenced,2022-11-02 12:59:06,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7723120860"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/1c8ad9239cd744762c86d20c89624a8ec80c5c1b""}"
1693,SubmitCommit,2021-05-11 11:58:07,Kalle Norrestam,fork_close,Improve zookeeper.c,"{""sha"": ""b508ef501e3af16cf97576b6372cf2e10214125f"", ""author"": {""name"": ""Kalle Norrestam"", ""email"": ""kalle.norrestam@empear.com"", ""date"": ""2021-05-11T11:58:07Z""}, ""committer"": {""name"": ""Kalle Norrestam"", ""email"": ""kalle.norrestam@empear.com"", ""date"": ""2021-05-11T11:58:07Z""}}"
1693,OpenPR,2021-05-11 11:58:48,knorrest,fork_close,,
1693,ClosePR,2021-05-11 11:59:02,knorrest,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4726638830"", ""commit_url"": null}"
1694,SubmitCommit,2021-05-11 14:03:42,seuCHENGHQ,fork_close,ZOOKEEPER-4029: improve the log of FileTxnLog#append method,"{""sha"": ""2340ee05405731f61e4674cb13f082c237c04898"", ""author"": {""name"": ""chenghuaqing"", ""email"": ""chenghuaqing123@126.com"", ""date"": ""2021-05-11T14:00:41Z""}, ""committer"": {""name"": ""chenghuaqing"", ""email"": ""chenghuaqing123@126.com"", ""date"": ""2021-05-11T14:03:42Z""}}"
1694,OpenPR,2021-05-11 14:09:35,seuCHENGHQ,fork_close,,
1694,ClosePR,2021-05-12 14:37:04,seuCHENGHQ,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4736730462"", ""commit_url"": null}"
1694,ReopenPR,2021-05-12 14:37:08,seuCHENGHQ,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4736730914"", ""commit_url"": null}"
1694,ClosePR,2021-05-14 07:00:58,seuCHENGHQ,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4745521605"", ""commit_url"": null}"
1694,ReopenPR,2021-05-14 07:01:03,seuCHENGHQ,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4745521887"", ""commit_url"": null}"
1694,ClosePR,2021-05-16 04:59:23,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4750668094"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/fdbba27088335c79fac4cc1751c06dcada1b8751""}"
1694,IssueCommentSupplement,2021-05-16 05:04:21,maoling,fork_close,"- The CI has passed and I check the log format:  `Current zxid 6708720 is <= 6708720 for create.`. `Maybe ""zxid 0x{} "", Long.toHexString(hdr.getZxid()) is better`  :)
- @seuCHENGHQ Thanks for your contribution.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/841767185"", ""author_association"": ""MEMBER""}"
1694,Referenced,2022-11-02 11:21:47,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7722351542"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/2e31a4f93cb2860c10fa9641e711fa3526955977""}"
1694,CrossReferenced,2022-11-02 11:21:47,anuragmadnawat1,fork_close,ZOOKEEPER-4029: improve the log of FileTxnLog#append method,"{""reference"": {""url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/issues/145"", ""is_pull_request"": true}}"
1694,Referenced,2022-11-02 11:26:42,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7722389499"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/0e1f66e4be7a79f3e66fa12480ab2fdb09e5d97c""}"
1695,SubmitCommit,2018-02-20 19:27:27,Mark Fenes,fork_close,"ZOOKEEPER-2967: Add check to validate dataDir and dataLogDir parameters at startup

ZOOKEEPER-2967: Add check to validate dataDir and dataLogDir parameters at startup

This PR adds a check to protect ZK against configuring dataDir and dataLogDir opposingly.

When FileTxnSnapLog is created, it checks if transaction log directory contains snapshot files or vice versa, snapshot directory contains transaction log files. If so, the check throws LogdirContentCheckException or SnapdirContentCheckException, respectively, which translates to DatadirException at ZK startup in QuorumPeerMain and ZooKeeperServerMain.

If the two directories are the same, then no check is done.

For testing, I've added 4 new unit tests which cover the following cases:

transaction log and snapshot directories are different and they are used correctly (no Exception)
transaction log and snapshot directories are the same (in this case no check is done)
transaction log and snapshot directories are different and transaction log directory contains snapshot files (LogdirContentCheckException -> ZK quits)
transaction log and snapshot directories are different and snapshot directory contains transaction log files (SnapdirContentCheckException -> ZK quits)

Author: Mark Fenes <mfenes@cloudera.com>

Reviewers: Andor Molnár <andor@cloudera.com>, Abraham Fine <afine@apache.org>

Closes #458 from mfenes/ZOOKEEPER-2967_3.5","{""sha"": ""b3be8a75ca6ecfb61692d80a678af86a027b07fe"", ""author"": {""name"": ""Mark Fenes"", ""email"": ""mfenes@cloudera.com"", ""date"": ""2018-02-20T19:27:27Z""}, ""committer"": {""name"": ""Abraham Fine"", ""email"": ""afine@apache.org"", ""date"": ""2018-02-20T19:27:27Z""}}"
1695,SubmitCommit,2018-02-20 22:38:16,achimbab,fork_close,"ZOOKEEPER-2978: fix potential null pointer exception when deleting node

At line 518, 'existWatches.remove(clientPath)' is null because watches for clientPath is already removed.

Author: 07c00h <07c00h@gmail.com>

Reviewers: Abraham Fine <afine@apache.org>

Closes #461 from achimbab/master

(cherry picked from commit f0b67b6e49acec5f022bee25e08f82a29572c97a)
Signed-off-by: Abraham Fine <afine@apache.org>","{""sha"": ""e40d4050bdc15ddddda19cab0d1c76ad176cbc9b"", ""author"": {""name"": ""achimbab"", ""email"": ""07c00h@gmail.com"", ""date"": ""2018-02-20T22:38:00Z""}, ""committer"": {""name"": ""Abraham Fine"", ""email"": ""afine@apache.org"", ""date"": ""2018-02-20T22:38:16Z""}}"
1695,SubmitCommit,2018-02-23 22:52:45,Robert Evans,fork_close,"ZOOKEEPER-2845: Apply commit log when restarting server.

This is the version of #453 for the 3.5 branch

Author: Robert Evans <evans@yahoo-inc.com>

Reviewers: Abraham Fine <afine@apache.org>, Mark Fenes <mfenes@cloudera.com>, Andor Molnár <andor@cloudera.com>, Kishor Patil <kpatil@yahoo-inc.com>

Closes #454 from revans2/ZOOKEEPER-2845-3.5","{""sha"": ""ffb81b9a618c2e3bc0dcffb9c2d240224d49409f"", ""author"": {""name"": ""Robert Evans"", ""email"": ""evans@yahoo-inc.com"", ""date"": ""2018-02-23T22:52:45Z""}, ""committer"": {""name"": ""Abraham Fine"", ""email"": ""afine@apache.org"", ""date"": ""2018-02-23T22:52:45Z""}}"
1695,SubmitCommit,2018-03-02 22:12:39,asutosh936,fork_close,"ZOOKEEPER-2936: Removed duplicate code

Author: asutosh936 <asutosh.pandya@hotmail.com>

Reviewers: Andor Molnár <andor@cloudera.com>, Abraham Fine <afine@apache.org>

Closes #473 from asutosh936/master and squashes the following commits:

6a17613be [asutosh936] ZOOKEEPER-2936 - Deleted duplicate code
a02ef3db8 [asutosh936] ZOOKEEPER-2936 - Removed duplicate code

(cherry picked from commit ecb1162ec7f381963fb3263c7971a85fc35b27c8)
Signed-off-by: Abraham Fine <afine@apache.org>","{""sha"": ""484404ca96843c2ae5b8896eeca3d86264ca95ca"", ""author"": {""name"": ""asutosh936"", ""email"": ""asutosh.pandya@hotmail.com"", ""date"": ""2018-03-02T22:12:17Z""}, ""committer"": {""name"": ""Abraham Fine"", ""email"": ""afine@apache.org"", ""date"": ""2018-03-02T22:12:39Z""}}"
1695,SubmitCommit,2018-03-05 02:59:20,elyograg,fork_close,"ZOOKEEPER-2992: The eclipse build target fails due to protocol redirection: http->https

ZOOKEEPER-2992 is the Jira issue.

Author: Shawn Heisey <elyograg@apache.org>

Reviewers: Edward Ribeiro <edward.ribeiro@gmail.com>, Andor Molnár <andor@cloudera.com>, Michael Han <hanm@apache.org>

Closes #479 from elyograg/master","{""sha"": ""005b3fb8ddb3ef03183fd0539a40ceb86fe8f4ac"", ""author"": {""name"": ""Shawn Heisey"", ""email"": ""elyograg@apache.org"", ""date"": ""2018-03-05T02:51:25Z""}, ""committer"": {""name"": ""Michael Han"", ""email"": ""hanm@apache.org"", ""date"": ""2018-03-05T02:59:20Z""}}"
1695,SubmitCommit,2018-03-26 01:49:24,sel-fish,fork_close,"ZOOKEEPER-3001: Incorrect log message when try to delete container node

Missing `String.format`.

Author: sel-fish <fqlgy@hotmail.com>

Reviewers: Edward Ribeiro <edward.ribeiro@gmail.com>, Andor Molnár <andor@cloudera.com>, Michael Han <hanm@apache.org>, maoling <maoling199210191@sina.com>

Closes #492 from sel-fish/ZOOKEEPER-3001

(cherry picked from commit 8cfca3add9c7fd705f9114daf4adaac9fc90f040)
Signed-off-by: Michael Han <hanm@apache.org>","{""sha"": ""828eb9cd932e4ec72c5876d07d57965aefd9af17"", ""author"": {""name"": ""sel-fish"", ""email"": ""fqlgy@hotmail.com"", ""date"": ""2018-03-26T01:49:14Z""}, ""committer"": {""name"": ""Michael Han"", ""email"": ""hanm@apache.org"", ""date"": ""2018-03-26T01:49:24Z""}}"
1695,SubmitCommit,2018-03-26 02:19:08,andschwa,fork_close,"ZOOKEEPER-2997: CMake should not force static CRT linking

By removing this code, CMake will use its own defaults for the CRT
flags (e.g., `/MDd` for debug configurations). With it removed, the
user can override this behavior by setting the `CMAKE_CXX_FLAGS`
manually when configuring ZooKeeper.

Author: Andrew Schwartzmeyer <andrew@schwartzmeyer.com>

Reviewers: Michael Han <hanm@apache.org>

Closes #485 from andschwa/ZOOKEEPER-2997

(cherry picked from commit 13c9f899ff62be6a2eacb28e522d06703f1dab08)
Signed-off-by: Michael Han <hanm@apache.org>","{""sha"": ""4a4896d09d17a76b44b33b5593aae5e053ae0e5f"", ""author"": {""name"": ""Andrew Schwartzmeyer"", ""email"": ""andrew@schwartzmeyer.com"", ""date"": ""2018-03-26T02:19:01Z""}, ""committer"": {""name"": ""Michael Han"", ""email"": ""hanm@apache.org"", ""date"": ""2018-03-26T02:19:08Z""}}"
1695,SubmitCommit,2018-04-06 04:04:21,eribeiro,fork_close,"ZOOKEEPER-3006: Potential NPE in ZKDatabase#calculateTxnLogSizeLimit

LJ1043041006 found a potential NPE in ZKDatabase#calculateTxnLogSizeLimit: https://issues.apache.org/jira/browse/ZOOKEEPER-3006

```
//ZKDatabase
public long calculateTxnLogSizeLimit() {
    long snapSize = 0;
    try {
        snapSize = snapLog.findMostRecentSnapshot().length();
     } catch (IOException e) {
        LOG.error(""Unable to get size of most recent snapshot"");
    }
    return (long) (snapSize * snapshotSizeFactor);
}
```

 in FileTxnSnapLog#findMostRecentSnapshot(), it will return the result of  FileSnap#findMostRecentSnapshot:

```
// called by FileTxnSnapLog#findMostRecentSnapshot()
public File findMostRecentSnapshot() throws IOException {
        List<File> files = findNValidSnapshots(1);
        if (files.size() == 0) {
            return null;
        }
        return files.get(0);
}
```

So it will return null when the files sizes is 0, but ZKDatabase#calculateTxnLogSizeLimit has no null checker.

Author: Edward Ribeiro <edward.ribeiro@gmail.com>

Reviewers: Andor Molnár <andor@cloudera.com>, Michael Han <hanm@apache.org>, maoling <maoling199210191@sina.com>

Closes #493 from edwardoliveira/zk-3006-potential-npe

(cherry picked from commit fbd21329d32f185d198344f2d394175c92a82f9e)
Signed-off-by: Michael Han <hanm@apache.org>","{""sha"": ""df4801328d63c1b827caa86a64e8ea3fb941f7ad"", ""author"": {""name"": ""Edward Ribeiro"", ""email"": ""edward.ribeiro@gmail.com"", ""date"": ""2018-04-06T04:04:07Z""}, ""committer"": {""name"": ""Michael Han"", ""email"": ""hanm@apache.org"", ""date"": ""2018-04-06T04:04:21Z""}}"
1695,SubmitCommit,2018-04-16 04:24:36,dforsyth,fork_close,"ZOOKEEPER-3017: Link libm in CMake on FreeBSD.

andschwa

Per your suggestion here: https://reviews.apache.org/r/66384/

Author: David Forsythe <dforsyth@freebsd.org>

Reviewers: Andrew Schwartzmeyer <andrew@schwartzmeyer.com>, Andor Molnár <andor@cloudera.com>, Michael Han <hanm@apache.org>

Closes #499 from dforsyth/ZOOKEEPER-3017","{""sha"": ""cb45603ac2cfb91d155ca11cf09551301dc0d4c0"", ""author"": {""name"": ""David Forsythe"", ""email"": ""dforsyth@freebsd.org"", ""date"": ""2018-04-16T04:22:25Z""}, ""committer"": {""name"": ""Michael Han"", ""email"": ""hanm@apache.org"", ""date"": ""2018-04-16T04:24:36Z""}}"
1695,SubmitCommit,2018-04-16 04:29:53,proller,fork_close,"ZOOKEEPER-2999: CMake build should use target-level commands

CMake is using `include_directories`, which has global side effects,
instead of the more explicit `target_include_directories`, to include
directories per target (and with private or public scoping).

Furthermore, CMake should also use `CMAKE_CURRENT_SOURCE_DIR` over
`CMAKE_SOURCE_DIR` in order to allow inclusion in other projects via
`add_subdirectory()`, and we can reduce the minimally required CMake
version to 3.5 from 3.6.

Author: proller <proller@github.com>

Reviewers: Michael Han <hanm@apache.org>

Closes #486 from andschwa/ZOOKEEPER-2999

(cherry picked from commit 9ba4aeb4f92c1fc3167ff8e2b56e02f3e344d3ba)
Signed-off-by: Michael Han <hanm@apache.org>","{""sha"": ""d9605359c3b82eae37999abc377efc54fd22f34f"", ""author"": {""name"": ""proller"", ""email"": ""proller@github.com"", ""date"": ""2018-04-16T04:29:43Z""}, ""committer"": {""name"": ""Michael Han"", ""email"": ""hanm@apache.org"", ""date"": ""2018-04-16T04:29:53Z""}}"
1695,SubmitCommit,2018-04-17 04:57:32,nkalmar,fork_close,"ZOOKEEPER-3002: upgrade to jdk 8

Set minimum requirement to java 1.8
The code successfully compiled with 8.0.161-oracle and 8.0.163-zulu.

Checking the generated class file it reports 1.8 as version:
javap -verbose build/classes/org/apache/zookeeper/server/ServerStats.class | grep version
minor version: 0
major version: 52

Author: Norbert Kalmar <nkalmar@yahoo.com>

Reviewers: Andor Molnár <andor@cloudera.com>, Michael Han <hanm@apache.org>

Closes #502 from nkalmar/ZOOKEEPER-3002_java1.8

(cherry picked from commit 519db3f5c585f63a0a55e9f7929a07f9715bd729)
Signed-off-by: Michael Han <hanm@apache.org>","{""sha"": ""a6739abdf27423ff0cd8ee1c99145ed3e3690561"", ""author"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@yahoo.com"", ""date"": ""2018-04-17T04:57:24Z""}, ""committer"": {""name"": ""Michael Han"", ""email"": ""hanm@apache.org"", ""date"": ""2018-04-17T04:57:32Z""}}"
1695,SubmitCommit,2018-04-23 22:25:29,anmolnar,fork_close,"ZOOKEEPER-2994: Tool required to recover log and snapshot entries with CRC errors

https://issues.apache.org/jira/browse/ZOOKEEPER-2994

In the event  of ZooKeeper transaction log becomes corrupted and fail CRC checks (preventing startup) we should have a mechanism to get the cluster running again.

Previously we achieved this by loading the broken transaction log with a modified version of ZK with disabled CRC check and forced it to write new txn log files.

It has proven that once you end up with the corrupt txn log there is no way to recover except manually modifying the crc check. That's basically why the tool is needed.

It's called TxnLogToolkit, a new console application similar to LogFormatter and SnapshotFormatter, but it's intentionally separated to keep backward compatibility in the existing tools.

This PR contains TXN log tool only.

You probably also notice a refactoring to extract file padding logic from FileTxnLog to reuse in the new tool. Related code changes can be reviewed alone in a separate commit if preferred.

Author: Andor Molnar <andor@cloudera.com>

Reviewers: phunt@apache.org

Closes #487 from anmolnar/ZOOKEEPER-2994 and squashes the following commits:

221760ccc [Andor Molnar] ZOOKEEPER-2994. Added documentation and startup scripts
a69d7297b [Andor Molnar] ZOOKEEPER-2994. Fix findbugs warning
0b95efefd [Andor Molnar] ZOOKEEPER-2994. Fix for unit test
15fa45c68 [Andor Molnar] ZOOKEEPER-2994. Added padding, tool renamed to TxnLogToolkit, interactive mode, etc.
6a1ad0ec4 [Andor Molnar] ZOOKEEPER-2994. Refactor FileTxnLog's padding logic to separate class for reusability
0d089ccdd [Andor Molnar] ZOOKEEPER-2994. Added new tool TxnLogTool for txn log file recovery

Change-Id: I7560362633a7bc919ae6d3ca7e3588e196a1919c
(cherry picked from commit 154f9c536f7c696b774361937c6b4b08603d16cf)
Signed-off-by: Patrick Hunt <phunt@apache.org>","{""sha"": ""8139e742a82cfaeb4161492b62ed3aa0c6067e0b"", ""author"": {""name"": ""Andor Molnar"", ""email"": ""andor@cloudera.com"", ""date"": ""2018-04-23T22:20:26Z""}, ""committer"": {""name"": ""Patrick Hunt"", ""email"": ""phunt@apache.org"", ""date"": ""2018-04-23T22:25:29Z""}}"
1695,SubmitCommit,2018-04-24 00:26:13,andschwa,fork_close,"ZOOKEEPER-3025: cmake broken on windows - make `hashtable` search `include`

When ZOOKEEPER-2999 removed the directory side-effect of
`include_directories(include)`, and added it as a target-level include
to the `zookeeper` library, this broke the Windows build. It worked on
Linux (where the patch was tested) because `winconfig.h` and is not
included, but on Windows, the `hashtable` library included
`winconfig.h` (found in `include`) but no longer knew where to find
it. The fix is to add `include` to the `hashtable` library's list of
include directories.

Author: Andrew Schwartzmeyer <andrew@schwartzmeyer.com>

Reviewers: phunt@apache.org

Closes #505 from andschwa/ZOOKEEPER-3025

Change-Id: I657f8e234082068fb7adf56dad2d68cbb4bc1d31
(cherry picked from commit cb6cae91c71b679d5bbc3fb48bf707fd1bb14493)
Signed-off-by: Patrick Hunt <phunt@apache.org>","{""sha"": ""c89870db5ba158e251735a71d9f73e7c8fef652a"", ""author"": {""name"": ""Andrew Schwartzmeyer"", ""email"": ""andrew@schwartzmeyer.com"", ""date"": ""2018-04-24T00:25:44Z""}, ""committer"": {""name"": ""Patrick Hunt"", ""email"": ""phunt@apache.org"", ""date"": ""2018-04-24T00:26:13Z""}}"
1695,SubmitCommit,2018-04-24 23:43:10,anmolnar,fork_close,"ZOOKEEPER-2415: SessionTest is using Thread deprecated API

Refactored `SessionTest` class.

`testSessionTimeout()` has been extracted to a separate class and split into multiple test methods to validate the different behaviours in a more readable way.

Removed deprecated Thread API `suspend()` and reduced the server ticktime / session timeout for better performance.

Hopefully this will help on test's flakyness too.

Author: Andor Molnar <andor@cloudera.com>

Reviewers: phunt@apache.org

Closes #497 from anmolnar/ZOOKEEPER-2415 and squashes the following commits:

5f9f76c67 [Andor Molnar] ZOOKEEPER-2415. Reverted even more changes, because we don't need custom tickTime either anymore
8ed14e511 [Andor Molnar] ZOOKEEPER-2415. Moved session expiration test from ZooKeeperTestableTest class because it's redundant and more reliable
cfd18b64b [Andor Molnar] ZOOKEEPER-2415. Reset changes which are unrelated to this patch
76520025c [Andor Molnar] ZOOKEEPER-2415. Revert changes related to DisconnectableZooKeeper, because we don't need it for the new tests
6b5d26d0d [Andor Molnar] ZOOKEEPER-2415. Use ClientBase base class for the refactored unit tests
6026c591b [Andor Molnar] ZOOKEEPER-2415. Refactor testSessionTimeout() to live in separate class and not to use deprecated API. Also improved performance.

Change-Id: I33906f43de52a06e95ba3f19f8087033cd5857e2
(cherry picked from commit 3783ed58656f8719d7213329451f396f5c1e3dce)
Signed-off-by: Patrick Hunt <phunt@apache.org>","{""sha"": ""7bc67d13a450562dd470f52e47324364a25a4901"", ""author"": {""name"": ""Andor Molnar"", ""email"": ""andor@cloudera.com"", ""date"": ""2018-04-24T23:41:54Z""}, ""committer"": {""name"": ""Patrick Hunt"", ""email"": ""phunt@apache.org"", ""date"": ""2018-04-24T23:43:10Z""}}"
1695,SubmitCommit,2018-04-26 22:22:22,gongleigl.gong,fork_close,"ZOOKEEPER-3007: Potential NPE in ReferenceCountedACLCache#deserialize

LJ1043041006 found a potential NPE in ZK

Author: gongleigl.gong <gongleigl.gong@qunar.com>
Author: brettkk <1099446733@qq.com>

Reviewers: phunt@apache.org

Closes #495 from brettKK/master and squashes the following commits:

7eb9e1c9b [gongleigl.gong] fix RTE message in ReferenceCountedACLCache class
0b858826d [gongleigl.gong] del logger error and fix error message
a12b13ff7 [brettkk] fix format
f7da9b9fa [brettkk] change ZOOK3007 to compare with apache master
cf9fb5f9a [brettkk] recover code
c4db5e25d [brettkk] recover zookeeper master same with apache:master
700dfb7f4 [gongleigl.gong] fix NPE bug
7d8d5230c [gongleigl.gong] d

Change-Id: I012c242e8566fcd54c1ebde1a30ec785b6aa31b0
(cherry picked from commit 2c0168ad37b529447ac8cb1bf866d014f8a97981)
Signed-off-by: Patrick Hunt <phunt@apache.org>","{""sha"": ""de272ead45f8044a6e237e71c05895fcbc714222"", ""author"": {""name"": ""gongleigl.gong"", ""email"": ""gongleigl.gong@qunar.com"", ""date"": ""2018-04-26T22:21:06Z""}, ""committer"": {""name"": ""Patrick Hunt"", ""email"": ""phunt@apache.org"", ""date"": ""2018-04-26T22:22:22Z""}}"
1695,SubmitCommit,2018-04-27 18:29:35,anmolnar,fork_close,"ZOOKEEPER-3027: Accidently removed public API of FileTxnLog.setPreallocSize()

In my latest commit regarding TxnLogToolkit there's a refactor to outsource file padding logic from FileTxnLog to a separate class:

https://github.com/apache/zookeeper/commit/126fb0f22d701cad58bf3123bf7d8f2219e60387#diff-89717124564925d61d29dd817bcdd915L147

Unfortunately public static method setPreallocSize(int) has also been moved to the new class, but it's being actively used by hadoop-common project too:

https://github.com/apache/hadoop/blob/trunk/hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/ha/ClientBaseWithFixes.java#L384

I'd like to submit a patch to revert the deleted method which is going to call the new one, but will keep backward compatibility with Hadoop.

Author: Andor Molnar <andor@cloudera.com>

Reviewers: phunt@apache.org

Closes #509 from anmolnar/ZOOKEEPER-3027

Change-Id: I7333b5e24c2a78d10a5c5a74c181633050bd225d
(cherry picked from commit 5c96887643b2465caabbfd4763c7ebb3cd1aa024)
Signed-off-by: Patrick Hunt <phunt@apache.org>","{""sha"": ""d2aa49e423d3640b5b0012dad82db5163fb1ff54"", ""author"": {""name"": ""Andor Molnar"", ""email"": ""andor@cloudera.com"", ""date"": ""2018-04-27T18:28:15Z""}, ""committer"": {""name"": ""Patrick Hunt"", ""email"": ""phunt@apache.org"", ""date"": ""2018-04-27T18:29:35Z""}}"
1695,SubmitCommit,2018-04-30 04:35:10,Brian Nixon,fork_close,"ZOOKEEPER-2988: NPE triggered if server receives a vote for a server …

…id not in their voting view

Author: Brian Nixon <nixon@fb.com>

Reviewers: Abraham Fine <afine@apache.org>, Michael Han <hanm@apache.org>, Edward Ribeiro <edward.ribeiro@gmail.com>

Closes #476 from enixon/ZOOKEEPER-2988

(cherry picked from commit 2022766ec907f63b1b43fc5455e9e7761cd332f6)
Signed-off-by: Michael Han <hanm@apache.org>","{""sha"": ""3a309c5080674088c96c2c63915b3d313543c0dd"", ""author"": {""name"": ""Brian Nixon"", ""email"": ""nixon@fb.com"", ""date"": ""2018-04-30T04:34:57Z""}, ""committer"": {""name"": ""Michael Han"", ""email"": ""hanm@apache.org"", ""date"": ""2018-04-30T04:35:10Z""}}"
1695,SubmitCommit,2018-05-08 22:54:53,Eron Wright,fork_close,"ZOOKEEPER-2982: Re-try DNS hostname -> IP resolution if node connection fails

This PR ports a fix from the 3.4 to the master branch, that was originally made in ZOOKEEPER-1506.

Closes ZOOKEEPER-2982.

Author: Eron Wright <eron.wright@gmail.com>

Reviewers: Andor Molnar <andor@cloudera.com>, Abraham Fine <afine@apache.org>, Flavio Junqueira <fpj@apache.org>

Closes #513 from EronWright/ZOOKEEPER-2982-master

(cherry picked from commit b1f6279a8c4708d1df7dd1128dc4fdf41fc7e24a)
Signed-off-by: Flavio Junqueira (fpj) <fpj@apache.org>","{""sha"": ""04a8df77017296659c484033ccf8d1cfa1b99882"", ""author"": {""name"": ""Eron Wright"", ""email"": ""eron.wright@gmail.com"", ""date"": ""2018-05-08T22:54:02Z""}, ""committer"": {""name"": ""Flavio Junqueira (fpj)"", ""email"": ""fpj@apache.org"", ""date"": ""2018-05-08T22:54:53Z""}}"
1695,SubmitCommit,2018-05-09 22:11:41,Randgalt,fork_close,"ZOOKEEPER-2901: TTL Nodes don't work with Server IDs > 127

There was a major oversight when TTL nodes were implemented. The session ID generator for each server is seeded with the configured Server ID in the high byte. TTL Nodes were using the highest bit to denote a TTL node when used in the ephemeral owner. This meant that Server IDs > 127 that created ephemeral nodes would have those nodes always considered TTL nodes (with the TTL being essentially a random number).

This PR fixes the issue by disabling TTL Nodes by default. They must now be enabled in zoo.cfg. When TTL Nodes are enabled, the max Server ID changes from 255 to 254. This allows the high byte of a session ID stored in the ephemeral owner to use 0xFF to denote a TTL node.

About this change:

- The doc has been updated to note that TTL nodes are disabled by default and must be enabled via config. Also, the docs explains that when TTL nodes are enabled the max Server ID becomes 254
- The TTL implementation has been updated to use 0xFF in the high byte of the ephemeralOwner to denote a TTL node. This decreases the max TTL by an insignificant amount
- PrepRequestProcessor now throws `KeeperException.UnimplementedException` when an attempt to create a TTL node is made but the server has not been configured to enable TTL Nodes.
- QuorumPeer throws a `RuntimeException` if TTL Nodes are enabled but the Server ID > 254
- Tests have been added to validate all of this

IMPORTANT NOTE: TTL Nodes created in 3.5.3 will revert to EPHEMERAL with this change. We need to discuss the impact of this and consider workarounds, etc.

Author: randgalt <jordan@jordanzimmerman.com>
Author: Abraham Fine <afine@apache.org>

Reviewers: phunt@apache.org

Closes #377 from Randgalt/ZOOKEEPER-2901

Change-Id: I6923a22ecf847710d4e7151daf8c044734873f6b
(cherry picked from commit ceaeccd6e310983d37e685a9d5fff3d7e75cf125)
Signed-off-by: Patrick Hunt <phunt@apache.org>","{""sha"": ""282dc836802f67ed4814a36bdf45423cff27b577"", ""author"": {""name"": ""randgalt"", ""email"": ""jordan@jordanzimmerman.com"", ""date"": ""2018-05-09T21:57:41Z""}, ""committer"": {""name"": ""Patrick Hunt"", ""email"": ""phunt@apache.org"", ""date"": ""2018-05-09T22:11:41Z""}}"
1695,SubmitCommit,2018-05-09 22:18:40,anmolnar,fork_close,"ZOOKEEPER-3012: Fix unit test: testDataDirAndDataLogDir should not use hardcode test folders

A little bit more than just fixing the hardcoded folder names. Because the original issue was only on the 3.4 branch, the unit test has also been added to that branch only.

In this PR I add the fixed version of test to the master branch. Should be committed to 3.5 as well and I'll create a separate PR for 3.4

https://issues.apache.org/jira/browse/ZOOKEEPER-3012

Author: Andor Molnar <andor@cloudera.com>

Reviewers: phunt@apache.org

Closes #514 from anmolnar/ZOOKEEPER-3012

Change-Id: Iabba2630008158580a121a007a5c45b43a301315
(cherry picked from commit 43f117ef5098573d7378956358c653475a4b993e)
Signed-off-by: Patrick Hunt <phunt@apache.org>","{""sha"": ""fa67204d38d3da9db7a29103aefae03a9c865ef7"", ""author"": {""name"": ""Andor Molnar"", ""email"": ""andor@cloudera.com"", ""date"": ""2018-05-09T22:14:18Z""}, ""committer"": {""name"": ""Patrick Hunt"", ""email"": ""phunt@apache.org"", ""date"": ""2018-05-09T22:18:40Z""}}"
1695,SubmitCommit,2018-05-10 03:45:58,Alexander Shraer,fork_close,ZOOKEEPER-2959: ignore accepted epoch and LEADERINFO ack from observers,"{""sha"": ""c86349060274e18ce9f839cd6a50fe5f34000edd"", ""author"": {""name"": ""Alexander Shraer"", ""email"": ""ashraer@apple.com"", ""date"": ""2018-05-10T03:45:58Z""}, ""committer"": {""name"": ""Alexander Shraer"", ""email"": ""ashraer@apple.com"", ""date"": ""2018-05-10T03:45:58Z""}}"
1695,SubmitCommit,2018-05-10 04:13:59,anmolnar,fork_close,"ZOOKEEPER-3038: Cleanup some nitpicks in TTL implementation

A few nitpicks which needs to be cleaned up:

1. Rename OldEphemeralType --> EphemeralTypeEmulate353
2. Remove unused method: getTTL()
3. Remove unused import from QuorumPeer

Author: Andor Molnar <andor@cloudera.com>

Reviewers: phunt@apache.org

Closes #516 from anmolnar/ZOOKEEPER-3038

Change-Id: Iec537706a35863d53daa593da2b01f6e523ef466
(cherry picked from commit 6e64125f2aafc29253904c43ee44233c907e5fca)
Signed-off-by: Patrick Hunt <phunt@apache.org>","{""sha"": ""edb93d496105d2e0f4440cd4c533b0c42d79e9fd"", ""author"": {""name"": ""Andor Molnar"", ""email"": ""andor@cloudera.com"", ""date"": ""2018-05-10T04:13:16Z""}, ""committer"": {""name"": ""Patrick Hunt"", ""email"": ""phunt@apache.org"", ""date"": ""2018-05-10T04:13:59Z""}}"
1695,SubmitCommit,2018-05-10 20:15:10,anmolnar,fork_close,"ZOOKEEPER-3039: TxnLogToolkit uses Scanner badly

Fixed by creating a single Scanner for all queries in the main() method.

Author: Andor Molnar <andor@cloudera.com>

Reviewers: phunt@apache.org

Closes #517 from anmolnar/ZOOKEEPER-3039 and squashes the following commits:

a35e2e280 [Andor Molnar] ZOOKEEPER-3039. Optimize imports
a196443cb [Andor Molnar] ZOOKEEPER-3039. Use the same Scanner for all queries

Change-Id: Icf66888d4e6ad902615ed8ffde58a5a8fdd41237
(cherry picked from commit 2fa315b7d0ed65828479fcdcc9e76ca8552fba4a)
Signed-off-by: Patrick Hunt <phunt@apache.org>","{""sha"": ""b33ca3aa30a7d43f2b3c09fbbbeaa5d3fc4a3aa6"", ""author"": {""name"": ""Andor Molnar"", ""email"": ""andor@cloudera.com"", ""date"": ""2018-05-10T20:14:24Z""}, ""committer"": {""name"": ""Patrick Hunt"", ""email"": ""phunt@apache.org"", ""date"": ""2018-05-10T20:15:10Z""}}"
1695,SubmitCommit,2018-05-10 21:17:56,phunt,fork_close,Updating the generated docs as part of 3.5.4 release prep.,"{""sha"": ""219ee4dc702e42c9fd5c293339c7b2bf60d0b9a0"", ""author"": {""name"": ""Patrick Hunt"", ""email"": ""phunt1@gmail.com"", ""date"": ""2018-05-10T21:17:56Z""}, ""committer"": {""name"": ""Patrick Hunt"", ""email"": ""phunt1@gmail.com"", ""date"": ""2018-05-10T21:17:56Z""}}"
1695,SubmitCommit,2018-05-10 21:33:13,phunt,fork_close,Preparing for release 3.5.4,"{""sha"": ""1eecfde4e68a3fb27332ffcbad6e7a787dcda2b8"", ""author"": {""name"": ""Patrick Hunt"", ""email"": ""phunt1@gmail.com"", ""date"": ""2018-05-10T21:33:13Z""}, ""committer"": {""name"": ""Patrick Hunt"", ""email"": ""phunt1@gmail.com"", ""date"": ""2018-05-10T21:33:13Z""}}"
1695,SubmitCommit,2018-05-11 16:18:12,phunt,fork_close,Missed removing the SNAPSHOT designator on the version for release 3.5.4,"{""sha"": ""7f51e5b68cf2f80176ff944a9ebd2abbc65e7327"", ""author"": {""name"": ""Patrick Hunt"", ""email"": ""phunt1@gmail.com"", ""date"": ""2018-05-11T16:18:12Z""}, ""committer"": {""name"": ""Patrick Hunt"", ""email"": ""phunt1@gmail.com"", ""date"": ""2018-05-11T16:18:12Z""}}"
1695,SubmitCommit,2018-05-11 19:59:13,phunt,fork_close,Prepare for the next release: update the version to 3.5.5-SNAPSHOT,"{""sha"": ""ac4f4a37942924d8ee6dfe027f2e65c5b50b1511"", ""author"": {""name"": ""Patrick Hunt"", ""email"": ""phunt1@gmail.com"", ""date"": ""2018-05-11T19:59:13Z""}, ""committer"": {""name"": ""Patrick Hunt"", ""email"": ""phunt1@gmail.com"", ""date"": ""2018-05-11T19:59:13Z""}}"
1695,SubmitCommit,2018-05-16 17:32:56,hughobrienjet,fork_close,"ZOOKEEPER-3041: Typo in error message, affects log analysis; charater --> character

Author: Hugh O'Brien <hugh.obrien@jet.com>

Reviewers: phunt@apache.org

Closes #498 from hughobrienjet/master

Change-Id: I3f4145c5c3eb4052cd7f0859053bb3711dfdd64c
(cherry picked from commit dacd27568c0a20244d40f42ff8ee84b5f917128e)","{""sha"": ""87c59c03fe39c12bfb7dedb0f7da1ecc2106849d"", ""author"": {""name"": ""Hugh O'Brien"", ""email"": ""hugh.obrien@jet.com"", ""date"": ""2018-05-16T17:30:31Z""}, ""committer"": {""name"": ""Patrick Hunt"", ""email"": ""phunt@apache.org"", ""date"": ""2018-05-16T17:32:56Z""}}"
1695,SubmitCommit,2018-05-20 00:35:07,Mark Fenes,fork_close,"ZOOKEEPER-2955: Enable Clover code coverage report

ZOOKEEPER-2955: Enable Clover code coverage report

This PR configures OpenClover to generate Java code coverage reports.

To generate Java code coverage report run:
ant test-coverage-clover-java

For quick testing of this PR run:
ant -Dtestcase=test_file_name test-coverage-clover-java

Clover can also be run step-by-step:
ant -Drun.clover=true test-core-java
ant clover-report

Note: run.clover must not be set when building ZK for production use.

The reports will be placed under the build/test/clover/reports directory in HTML and XML formats.

Author: Mark Fenes <mfenescloudera.com>

Reviewers: phuntapache.org

Closes #443 from mfenes/ZOOKEEPER-2955 and squashes the following commits:

321fc0152 [Mark Fenes] ZOOKEEPER-2955: Enable Clover code coverage report
ca68181b2 [Mark Fenes] ZOOKEEPER-2955: Enable Clover code coverage report
4cd1a3170 [Mark Fenes] Trigger notification
09872a66b [Mark Fenes] ZOOKEEPER-2955: Enable Clover code coverage report
3e0f2543c [Mark Fenes] Trigger notification
0cdb44442 [Mark Fenes] ZOOKEEPER-2955: Enable Clover code coverage report
270c12efc [Mark Fenes] ZOOKEEPER-2955: Enable Clover code coverage report
f59dcf8ad [Mark Fenes] ZOOKEEPER-2955: Enable Clover code coverage report

Change-Id: I089ca39224fa6012a299a46e4a35333ecc87ef35

Author: Mark Fenes <mfenes@cloudera.com>

Reviewers: phunt@apache.org

Closes #519 from nkalmar/branch-3.5","{""sha"": ""b4be5d593a19995a5cd3399e3fc48d0c9ededeeb"", ""author"": {""name"": ""Mark Fenes"", ""email"": ""mfenes@cloudera.com"", ""date"": ""2018-05-20T00:35:07Z""}, ""committer"": {""name"": ""Patrick Hunt"", ""email"": ""phunt@apache.org"", ""date"": ""2018-05-20T00:35:07Z""}}"
1695,SubmitCommit,2018-05-21 18:11:40,lavacat,fork_close,"ZOOKEEPER-3046: added junit timeout to precede 'ant' timeout

When 'ant' timeout triggers, output of the test isn't captured.
Related issue ZOOKEEPER-2916

Author: Bogdan Kanivets <bkanivets@gmail.com>

Reviewers: phunt@apache.org

Closes #523 from lavacat/test-timeouts

Change-Id: I4941451395bd4f35342582e9f4852d73104da138","{""sha"": ""831bfebaec2500c5672fd665020b517282d9a8a9"", ""author"": {""name"": ""Bogdan Kanivets"", ""email"": ""bkanivets@gmail.com"", ""date"": ""2018-05-21T18:11:40Z""}, ""committer"": {""name"": ""Patrick Hunt"", ""email"": ""phunt@apache.org"", ""date"": ""2018-05-21T18:11:40Z""}}"
1695,SubmitCommit,2018-05-22 04:37:26,phunt,fork_close,"ZOOKEEPER-3050: update to the newest version of Jetty

Change-Id: I1f63c471e59a1ed9d1cf58e721fedf47452acc6b

Author: Patrick Hunt <phunt@apache.org>

Reviewers: Michael Han <hanm@apache.org>

Closes #526 from phunt/ZOOKEEPER-3050

(cherry picked from commit ae6ee236658e8133b0f3cb950d6d4c97553b8eb7)
Signed-off-by: Michael Han <hanm@apache.org>","{""sha"": ""f7b3bea2eac3ee490eaf5c5e32a64365ed0d97e2"", ""author"": {""name"": ""Patrick Hunt"", ""email"": ""phunt@apache.org"", ""date"": ""2018-05-22T04:37:04Z""}, ""committer"": {""name"": ""Michael Han"", ""email"": ""hanm@apache.org"", ""date"": ""2018-05-22T04:37:26Z""}}"
1695,SubmitCommit,2018-05-23 03:34:31,phunt,fork_close,"ZOOKEEPER-3051: Updated jackson to the latest version

Change-Id: Iec76a7df76f8e1928828fd716c4c25f48e887ba1

Author: Patrick Hunt <phunt@apache.org>

Reviewers: Michael Han <hanm@apache.org>

Closes #527 from phunt/ZOOKEEPER-3051

(cherry picked from commit 24f093b9c10bcfa5f890f378087e48736ed5bac5)
Signed-off-by: Michael Han <hanm@apache.org>","{""sha"": ""a692563a1054f0678adb81de68e8ef3b19e64dbe"", ""author"": {""name"": ""Patrick Hunt"", ""email"": ""phunt@apache.org"", ""date"": ""2018-05-23T03:34:19Z""}, ""committer"": {""name"": ""Michael Han"", ""email"": ""hanm@apache.org"", ""date"": ""2018-05-23T03:34:31Z""}}"
1695,SubmitCommit,2018-05-23 03:42:59,asutosh936,fork_close,"ZOOKEEPER-2993: Removed 'generated' line from .gitignore

Author: asutosh936 <asutosh.pandya@hotmail.com>

Reviewers: Abraham Fine <afine@apache.org>, Andor Molnár <andor@cloudera.com>, Michael Han <hanm@apache.org>

Closes #488 from asutosh936/ZOOKEEPER-2993

(cherry picked from commit 07228badc4691ca96f0d35e5aaa5ebcb2b9891cb)
Signed-off-by: Michael Han <hanm@apache.org>","{""sha"": ""f70716164481e535693840945598ae4fb8be745d"", ""author"": {""name"": ""asutosh936"", ""email"": ""asutosh.pandya@hotmail.com"", ""date"": ""2018-05-23T03:42:47Z""}, ""committer"": {""name"": ""Michael Han"", ""email"": ""hanm@apache.org"", ""date"": ""2018-05-23T03:42:59Z""}}"
1695,SubmitCommit,2018-05-29 23:28:31,anmolnar,fork_close,"ZOOKEEPER-1919 Update the C implementation of removeWatches to have it match ZOOKEEPER-1910

Existing patch on Jira has been rebased and applied to master.

Replaces #511

Author: Andor Molnar <andor@cloudera.com>

Reviewers: phunt@apache.org

Closes #522 from anmolnar/ZOOKEEPER-1919 and squashes the following commits:

f81a7608a [Andor Molnar] ZOOKEEPER-1919. Fixed indentation
d6455b062 [Andor Molnar] ZOOKEEPER-1919. Test fixes
769677693 [Andor Molnar] ZOOKEEPER-1919. Changes in C code

Change-Id: I2597854e4b28196a5dc5dc89553ced41537663eb
(cherry picked from commit 9c4bd4d335c52beb44f303b8b6e0abfe03cb9241)
Signed-off-by: Patrick Hunt <phunt@apache.org>","{""sha"": ""75b4ede93548d45c8876292fd6aac0b411022b6e"", ""author"": {""name"": ""Andor Molnar"", ""email"": ""andor@cloudera.com"", ""date"": ""2018-05-29T23:27:43Z""}, ""committer"": {""name"": ""Patrick Hunt"", ""email"": ""phunt@apache.org"", ""date"": ""2018-05-29T23:28:31Z""}}"
1695,SubmitCommit,2018-05-30 00:04:05,eolivelli,fork_close,"ZOOKEEPER-3043: QuorumKerberosHostBasedAuthTest fails on Linux box: Unable to parse:includedir /etc/krb5.conf.d/

Fixes QuorumKerberosHostBasedAuthTest, see ZOOKEEPER-3043

 - upgrade Kerby to 1.0.0
 - upgrade commons-io to 2.5, needed by Kerby
 - fix test dir in KerberosTestUtils

This should be also cherry-picked to 3.5 branch

Author: Enrico Olivelli <eolivelli@apache.org>

Reviewers: phunt@apache.org

Closes #524 from eolivelli/fix/ZOOKEEPER-3043 and squashes the following commits:

b4f31ad67 [Enrico Olivelli] upgrade libs
e224e823e [Enrico Olivelli] QuorumKerberosHostBasedAuthTest fails on Linux box: Unable to parse:includedir /etc/krb5.conf.d/  - upgrade Kerby to 1.0.0  - upgrade commons-io to 2.5, needed by Kerby  - fix test dir in KerberosTestUtils

Change-Id: Idaa0c05d1212c936b60fa2aa5ccb9dee114cce49
(cherry picked from commit fa34d0d01e33a40465ebd72497f37d62f0a4bce0)
Signed-off-by: Patrick Hunt <phunt@apache.org>","{""sha"": ""e3c9a3f11d53ede41118bc9b4e857808f6ca944c"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2018-05-30T00:02:56Z""}, ""committer"": {""name"": ""Patrick Hunt"", ""email"": ""phunt@apache.org"", ""date"": ""2018-05-30T00:04:05Z""}}"
1695,SubmitCommit,2018-05-30 00:23:11,timothyjward,fork_close,"ZOOKEEPER-2317: Ensure that OSGi versions are valid

Signed-off-by: Tim Ward <timothyjwardapache.org>

Author: Tim Ward <timothyjward@apache.org>

Reviewers: phunt@apache.org

Closes #531 from timothyjward/ZOOKEEPER-2317

Change-Id: I072db1e9de3bc1ad66e23be40bdea642866f6883","{""sha"": ""1c2c6849f0ebc6d56a1e987d3a637c0c050f7a53"", ""author"": {""name"": ""Tim Ward"", ""email"": ""timothyjward@apache.org"", ""date"": ""2018-05-30T00:23:11Z""}, ""committer"": {""name"": ""Patrick Hunt"", ""email"": ""phunt@apache.org"", ""date"": ""2018-05-30T00:23:11Z""}}"
1695,SubmitCommit,2018-05-31 03:55:05,phunt,fork_close,"ZOOKEEPER-2920: Upgrade OWASP Dependency Check to 3.2.1

Updated and verified on all the active branches.

Change-Id: I750d7e576e8c731aab4cef26f6863eac6b1b8dc2

Author: Patrick Hunt <phunt@apache.org>

Reviewers: Michael Han <hanm@apache.org>

Closes #536 from phunt/ZOOKEEPER-2920

(cherry picked from commit 4c5674ce4ca1ca473c897bfe8d7f848227e8b706)
Signed-off-by: Michael Han <hanm@apache.org>","{""sha"": ""82f17bb94fc26d180fcabb2ed0f5f6a81812c4a9"", ""author"": {""name"": ""Patrick Hunt"", ""email"": ""phunt@apache.org"", ""date"": ""2018-05-31T03:54:52Z""}, ""committer"": {""name"": ""Michael Han"", ""email"": ""hanm@apache.org"", ""date"": ""2018-05-31T03:55:05Z""}}"
1695,SubmitCommit,2018-05-31 19:57:54,Mark Fenes,fork_close,"ZOOKEEPER-2968: Add C client code coverage tests

ZOOKEEPER-2968: Add C client code coverage tests

This PR adds a new ant target 'c_coverage_report' which generates coverage report for the ZK C client.
The report is generated to build/c_coverage/report in html format.
As a requirement, lcov has to be installed prior to running target 'c_coverage_report'.

An additional check was added to 'check-cppunit-makefile' to ensure that the Makefile gets deleted and regenerated without the coverage compiler flags when running targets without --enable-gcov.

Author: Mark Fenes <mfenes@cloudera.com>

Reviewers: phunt@apache.org

Closes #467 from mfenes/ZOOKEEPER-2968 and squashes the following commits:

d8757821a [Mark Fenes] ZOOKEEPER-2968: Add C client code coverage tests
3c9022622 [Mark Fenes] ZOOKEEPER-2968: Add C client code coverage tests

Change-Id: Id4bd05afbff2447c593427eff5f133c3d88048d3
(cherry picked from commit a35690cd60c1d5010454056b7011e3abbbbe9116)
Signed-off-by: Patrick Hunt <phunt@apache.org>","{""sha"": ""02413d4eff5463352be1877dfd8497a604a900ed"", ""author"": {""name"": ""Mark Fenes"", ""email"": ""mfenes@cloudera.com"", ""date"": ""2018-05-31T19:57:21Z""}, ""committer"": {""name"": ""Patrick Hunt"", ""email"": ""phunt@apache.org"", ""date"": ""2018-05-31T19:57:54Z""}}"
1695,SubmitCommit,2018-06-08 14:53:40,nkalmar,fork_close,"ZOOKEEPER-3019: add metric for slow fsyncs count

Added metric to count fsyncWarningThresholdMS exceed in FileTxnLog.commit(). Both jmx bean and Command can be used to get the stat.

Also updated the python standalone client and documentation.

Tested the py script, i.e.:
src/contrib/monitoring/check_zookeeper.py -o cacti -s ""localhost:2181"" -k zk_num_alive_connections
localhost_2181:1

rc/contrib/monitoring/check_zookeeper.py -o cacti -s ""localhost:2181"" -k zk_fsync_threshold_exceed_count
localhost_2181:0

mntr command now returns:
zk_version	3.6.0-SNAPSHOT-13c9f899ff62be6a2eacb28e522d06703f1dab08, built on 04/04/2018 12:09 GMT
zk_avg_latency	0
zk_max_latency	0
zk_min_latency	0
zk_packets_received	7
zk_packets_sent	6
zk_num_alive_connections	1
zk_outstanding_requests	0
zk_server_state	standalone
zk_znode_count	5
zk_watch_count	0
zk_ephemerals_count	0
zk_approximate_data_size	44
zk_open_file_descriptor_count	61
zk_max_file_descriptor_count	10240
zk_fsync_threshold_exceed_count	0

Author: Norbert Kalmar <nkalmar@yahoo.com>

Reviewers: Andor Molnar <andor@apache.org>

Closes #501 from nkalmar/ZOOKEEPER-3019 and squashes the following commits:

067edf6a [Norbert Kalmar] ZOOKEEPER-3019 remove redundant log
7430dbce [Norbert Kalmar] ZOOKEEPER-3019 remove metric from 4ltr command as no longer supported
1916a418 [Norbert Kalmar] ZOOKEEPER-3019 add extra warning log
761450f9 [Norbert Kalmar] ZOOKEEPER-3019 remove fsync from py script stat check
3b22bb7b [Norbert Kalmar] ZOOKEEPER-3019 remove fsyncEsceed from stats
0be003a8 [Norbert Kalmar] ZOOKEEPER-3019 exclude serverStats IS chec from findbugs
b48d2958 [Norbert Kalmar] ZOOKEEPER-3019 add unit test and fix PR comments
fb4c7a31 [Norbert Kalmar] ZOOKEEPER-3019 add metric to track slow fsyncs count + update py script and docs

(cherry picked from commit a2623a625a4778720f7d5482d0a66e9b37ae556f)
Signed-off-by: Andor Molnar <andor@cloudera.com>","{""sha"": ""6db5229ebe4fb386f9906311203ea7136d03db9a"", ""author"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@yahoo.com"", ""date"": ""2018-06-08T14:52:58Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@cloudera.com"", ""date"": ""2018-06-08T14:53:40Z""}}"
1695,SubmitCommit,2018-06-15 05:41:19,yisong-yue,fork_close,"ZOOKEEPER-3063: Track outstanding changes with ArrayDeque

Changed outstandingChanges from ArrayList to ArrayDeque.

Author: Yisong Yue <yisongyue@fb.com>

Reviewers: Michael Han <hanm@apache.org>

Closes #543 from yisong-yue/ZOOKEEPER-3063

(cherry picked from commit d6490d590725345638b5973a97e6e8d8bee67d22)
Signed-off-by: Michael Han <hanm@apache.org>","{""sha"": ""48614f8288e8041010952bea0d1fc1f1db940d6a"", ""author"": {""name"": ""Yisong Yue"", ""email"": ""yisongyue@fb.com"", ""date"": ""2018-06-15T05:41:07Z""}, ""committer"": {""name"": ""Michael Han"", ""email"": ""hanm@apache.org"", ""date"": ""2018-06-15T05:41:19Z""}}"
1695,SubmitCommit,2018-06-15 06:02:58,LJ1043041006,fork_close,"ZOOKEEPER-3009: Potential NPE in NIOServerCnxnFactory

We have developed a static analysis tool [NPEDetector](https://github.com/lujiefsi/NPEDetector) to find some potential NPE. Our analysis shows that NPE reason can be simple:some callees may return null directly in corner case(e.g. node crash , IO exception), some of their callers have  !=null check but some do not have.
### Bug:
Callee getSocketAddress can return null, may caused by node crash, network exception....
<pre>
    public InetAddress getSocketAddress() {
        if (sock.isOpen() == false) {
            return null;
        }
        return sock.socket().getInetAddress();
    }
</pre>
getSocketAddress has two callers:  removeCnxn and removeCnxn

caller removeCnxn has null check
<pre>
 public boolean removeCnxn(NIOServerCnxn cnxn) {
        //other code
        InetAddress addr = cnxn.getSocketAddress();
        if (addr != null) {
            Set<NIOServerCnxn> set = ipMap.get(addr);
            //other code
        }
     //other code
    }
</pre>

but caller addCnxn has the similar code, but don't have the null check:
<pre>
     private void addCnxn(NIOServerCnxn cnxn) {
         InetAddress addr = cnxn.getSocketAddress();
         Set<NIOServerCnxn> set = ipMap.get(addr);
        //other code
      }
</pre>
I commit a patch to fix it: adding an null checker in addCnxn, and throws a semantics IOException rather than the ugly NPE.  I think the IOException  is ok, because the caller of addCnxn has the handler code:
<pre>
  private void processAcceptedConnections() {
               //other code
               try {
                    addCnxn(cnxn);
               } catch (IOException e) {
                    // register, createConnection
                    cleanupSelectionKey(key);
                    fastCloseSock(accepted);
               }
             }
</pre>
Maybe i am wrong, please point out my error.

Author: LJ1043041006 <1239497420@qq.com>

Reviewers: Patrick Hunt <phunt@apache.org>, Allan Lyu <fangmin@apache.org>, Michael Han <hanm@apache.org>

Closes #525 from lujiefsi/ZOOKEEPER-3009

(cherry picked from commit 13dd5d0db7a5c4fa926d1e44fc2047c24d5d012c)
Signed-off-by: Michael Han <hanm@apache.org>","{""sha"": ""7f317127f06336a2ee02fb7a1ace71f35679911e"", ""author"": {""name"": ""LJ1043041006"", ""email"": ""1239497420@qq.com"", ""date"": ""2018-06-15T06:02:41Z""}, ""committer"": {""name"": ""Michael Han"", ""email"": ""hanm@apache.org"", ""date"": ""2018-06-15T06:02:58Z""}}"
1695,SubmitCommit,2018-06-20 13:22:07,timothyjward,fork_close,"[ZOOKEEPER-2368] Send a watch event is when a client is closed

Currently, if the client is closed (rather than being remotely disconnected) there is no notification to the watcher. This means that asynchronous clients can end up waiting indefinitely for events that will never come. Watchers need to be aware that the client is closed for good.

Signed-off-by: Tim Ward <timothyjwardapache.org>

Note that this is a variation on a patch I produced some time ago, which was broadly accepted as a good idea, and didn't cause any problems for Curator, but was deemed by some to be too risky because it reused an existing KeeperState. This patch is therefore updated to use a new `Closed` KeeperState. Fixing this would allow me to avoid maintaining a separate fork of Zookeeper just to support this one feature!

Author: Tim Ward <timothyjward@apache.org>

Reviewers: Andor Molnar <andor@apache.org>

Closes #529 from timothyjward/ZOOKEEPER-2368 and squashes the following commits:

d7196d19 [Tim Ward] Review comments from @anmolnar
088056b4 [Tim Ward] Review comments from @enixon
7fad1d36 [Tim Ward] [ZOOKEEPER-2368] Send a watch event is when a client is closed","{""sha"": ""6748a0e3f58f2a398dec4c6988bc70ea4363b807"", ""author"": {""name"": ""Tim Ward"", ""email"": ""timothyjward@apache.org"", ""date"": ""2018-06-20T13:22:07Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@cloudera.com"", ""date"": ""2018-06-20T13:22:07Z""}}"
1695,SubmitCommit,2018-06-25 10:30:42,abhishek-chouhan,fork_close,"ZOOKEEPER-3059: EventThread leak in case of Sasl AuthFailed

Since authFailed is similar to session expired and is considered a fatal event, we should clean up after ourselves once we get a AuthFailed, other wise this results in an unavoidable and un-cleanable thread leak  of EventThread since the close operation is also a no-op (we return after checking for isAlive).

Author: Abhishek Singh Chouhan <abhishekchouhan121@gmail.com>

Reviewers: Andor Molnar <andor@apache.org>

Closes #541 from abhishek-chouhan/master and squashes the following commits:

c54a83a4 [Abhishek Singh Chouhan] ZOOKEEPER-3059 EventThread leak in case of Sasl AuthFailed. Adding testcase for the scenario
c1d9d7af [Abhishek Singh Chouhan] ZOOKEEPER-3059 EventThread leak in case of Sasl AuthFailed

(cherry picked from commit 1fb644662b8e0530dec2c5668a3e49b3f614e9de)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""f81fb443f772d363f411b356048e949cd90bcc3a"", ""author"": {""name"": ""Abhishek Singh Chouhan"", ""email"": ""abhishekchouhan121@gmail.com"", ""date"": ""2018-06-25T10:30:19Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2018-06-25T10:30:42Z""}}"
1695,SubmitCommit,2018-06-26 09:19:04,eolivelli,fork_close,"ZOOKEEPER-3066: Expose on JMX of Followers the id of the current leader

Expose a new JMX attribute ""isLeader"" in RemotePeerBean and LocalPeerBean

Author: Enrico Olivelli <eolivelli@apache.org>

Reviewers: Andor Molnar <andor@apache.org>

Closes #546 from eolivelli/fix/ZOOKEEPER-3066-leader-jmx and squashes the following commits:

bf09e37d [Enrico Olivelli] clean up spaces
ded4ce20 [Enrico Olivelli] reorder imports
81d7bb1c [Enrico Olivelli] split tests into LocalPeerBeanTest and QuorumPeerTest
a1984ef1 [Enrico Olivelli] fix typo
eb8d1bea [Enrico Olivelli] split tests
86b116b0 [Enrico Olivelli] enhance tests
b5000efc [Enrico Olivelli] clean up test
43782fe5 [Enrico Olivelli] introduce mockito tests
2778e742 [Enrico Olivelli] revert ""ZOOKEEPER-3066 add servers restart to test case""
5f120631 [Enrico Olivelli] ZOOKEEPER-3066 add servers restart to test case
067aed9e [Enrico Olivelli] ZOOKEEPER-3066 Expose on JMX of Followers the id of the current leader Enhance RemotePeerMXBean and LocalPeerMXBean by adding information about leadership

(cherry picked from commit 3465e0ced5edda2e1299662f6b75a1979b6bdc6e)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""4694b8ada3484847749a90a871aa9c9439a3a0a4"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2018-06-26T09:18:38Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2018-06-26T09:19:04Z""}}"
1695,SubmitCommit,2018-07-04 11:02:43,nkalmar,fork_close,"ZOOKEEPER-3022: MAVEN MIGRATION - Iteration 1 - docs, it

First iteration of the directory changes in maven migration.
This time, the empty zookeeper-it for future integration tests were created, and the docs source were moved to zookeeper-docs.
Tested with forest v0.9, documents generations were successful with ant.

Author: Norbert Kalmar <nkalmar@yahoo.com>

Reviewers: Andor Molnar <andor@apache.org>

Closes #550 from nkalmar/ZOOKEEPER-3022-1

(cherry picked from commit 4607a3e156f36c52349bfb370e879dbd9e4d0691)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""b024a3e2959749b46850a700a0ed694b3ee1aaef"", ""author"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@yahoo.com"", ""date"": ""2018-07-04T11:02:19Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2018-07-04T11:02:43Z""}}"
1695,SubmitCommit,2018-07-04 15:11:59,nkalmar,fork_close,"ZOOKEEPER-2873: abort startup on invalid ports

This change will check each server.x config if the client and election port are the same. Currently, ZK will startup and a race for the ports will take place. There will be an error, but ZK will keep running (without the ability to elect a leader). Now, ZK will fail on startup.

Author: Norbert Kalmar <nkalmar@yahoo.com>

Reviewers: Andor Molnar <andor@apache.org>

Closes #549 from nkalmar/ZOOKEEPER-2873 and squashes the following commits:

022c8b70 [Norbert Kalmar] ZOOKEEPER-2873 modify test case to expect exception
60b8128d [Norbert Kalmar] ZOOKEEPER-2873 fix old test - ReconfigTest.testUnspecifiedClientAddress
3d747c08 [Norbert Kalmar] ZOOKEEPER-2873 abort startup on invalid ports

(cherry picked from commit 25fd549dcd4e01de073a2e25ef07c170389b28ea)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""cdbf03a8f6411594ad38b7b12c5e0c1dd42d2842"", ""author"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@yahoo.com"", ""date"": ""2018-07-04T15:11:39Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2018-07-04T15:11:59Z""}}"
1695,SubmitCommit,2018-07-10 10:17:32,lavacat,fork_close,"ZOOKEEPER-3042: testFailedTxnAsPartOfQuorumLoss is flaky

- relaxed check of outstanding proposals queue
- close clients after restart
- restart client after old leader restart

Author: Bogdan Kanivets <bkanivets@gmail.com>

Reviewers: Andor Molnar <andor@apache.org>

Closes #521 from lavacat/testFailedTxnAsPartOfQuorumLoss-fix and squashes the following commits:

c361efa4 [Bogdan Kanivets] ZOOKEEPER-1932: ignore LETest
427ab8c9 [Bogdan Kanivets] ZOOKEEPER-3042: testFailedTxnAsPartOfQuorumLoss is flaky","{""sha"": ""f1429d071f10769342639b65e45a887dab3915be"", ""author"": {""name"": ""Bogdan Kanivets"", ""email"": ""bkanivets@gmail.com"", ""date"": ""2018-07-10T10:17:32Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2018-07-10T10:17:32Z""}}"
1695,SubmitCommit,2018-07-11 23:39:38,anmolnar,fork_close,"ZOOKEEPER-2940: Deal with maxbuffer as it relates to large requests from clients

https://issues.apache.org/jira/browse/ZOOKEEPER-2940

This PR covers the other part of Jute buffer monitoring which relates to client response sizes.

`jute.maxbuffer` is often set too small or the default (4MB) value is not enough to receive large responses from the server which causes the client unable to operate. e.g. `getChildren()` on a node which has lots of children or execution of a large multi.

These new metrics lets operators to monitor the size of generated responses to get an idea on how to properly set client's `jute.maxbuffer`.

The other part of monitoring which relates to proposal size has already been merged https://github.com/apache/zookeeper/pull/415

Author: Andor Molnar <andor@cloudera.com>

Reviewers: phunt@apache.org

Closes #466 from anmolnar/ZOOKEEPER-2940 and squashes the following commits:

29224d021 [Andor Molnar] ZOOKEEPER-2940. Test fixes
486d4961d [Andor Molnar] ZOOKEEPER-2940. Removed support of 4lw commands, because master is targeted
60916e09e [Andor Molnar] ZOOKEEPER-2940. Code review fixes
b39c4c815 [Andor Molnar] ZOOKEEPER-2940. Code review: variable names renamed to proposalStats
87e72ff31 [Andor Molnar] ZOOKEEPER-2940. Some code review cleanups
6f0adb124 [Andor Molnar] ZOOKEEPER-2940. Code review fixes: stats class renamed, added comments to unit test asserts, updated docs
bcb6d4ca5 [Andor Molnar] ZOOKEEPER-2940. Added new metrics to python files
77a5f0aa8 [Andor Molnar] ZOOKEEPER-2940. Fixed failing unit tests
2def61c30 [Andor Molnar] ZOOKEEPER-2940. Track size of client responses

Change-Id: I68df371097cc355b1f41b8dbb0168da4fa5dee43
(cherry picked from commit 328b9de0152f987429534c8adcb2ce2866c5733e)
Signed-off-by: Patrick Hunt <phunt@apache.org>","{""sha"": ""eb8ff57f22d04e060fcc015512293b27aa400862"", ""author"": {""name"": ""Andor Molnar"", ""email"": ""andor@cloudera.com"", ""date"": ""2018-07-11T23:33:51Z""}, ""committer"": {""name"": ""Patrick Hunt"", ""email"": ""phunt@apache.org"", ""date"": ""2018-07-11T23:39:38Z""}}"
1695,SubmitCommit,2018-07-13 12:58:29,nkalmar,fork_close,"ZOOKEEPER-3033: MAVEN MIGRATION - Step 1.2 - create zk-recipes maven structure

Create the zk-recipes maven structure for the maven migration.
Tested the recipes build with the new directory structure.

Author: Norbert Kalmar <nkalmar@yahoo.com>

Reviewers: andor@apache.org

Closes #564 from nkalmar/ZOOKEEPER-3033 and squashes the following commits:

c8c2e986 [Norbert Kalmar] ZOOKEEPER-3033 rename sub directories as well
d2b7f18d [Norbert Kalmar] ZOOKEEPER-3033 create zk-recipes maven structure

(cherry picked from commit 28de451aa8b45e94d1261d5e0e369f86bf3815da)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""4174a0b1dee41e62a88a787d7a424fac5adc5ed2"", ""author"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@yahoo.com"", ""date"": ""2018-07-13T12:58:03Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2018-07-13T12:58:29Z""}}"
1695,SubmitCommit,2018-07-16 03:45:56,anmolnar,fork_close,"ZOOKEEPER-2184: Zookeeper Client should re-resolve hosts when connection attempts fail

This is the master/3.5 port of #451

Author: Andor Molnar <andor@cloudera.com>
Author: Andor Molnar <andor@apache.org>

Reviewers: Michael Han <hanm@apache.org>, Flavio Junqueira <fpj@apache.org>, Edward Ribeiro <edward.ribeiro@gmail.com>, Mark Fenes <mfenes@cloudera.com>, Abraham Fine <afine@apache.org>

Closes #534 from anmolnar/ZOOKEEPER-2184_master

(cherry picked from commit 0a311873deb1847703c9b62716c626ce43d4ba48)
Signed-off-by: Michael Han <hanm@apache.org>","{""sha"": ""1e65b9f4873fc995308972433ea8a664e98fe41f"", ""author"": {""name"": ""Andor Molnar"", ""email"": ""andor@cloudera.com"", ""date"": ""2018-07-16T03:45:45Z""}, ""committer"": {""name"": ""Michael Han"", ""email"": ""hanm@apache.org"", ""date"": ""2018-07-16T03:45:56Z""}}"
1695,SubmitCommit,2018-07-18 13:49:37,maoling,fork_close,"ZOOKEEPER-3074: Flaky test:org.apache.zookeeper.server.ServerStatsTest.testLatencyMetrics

more details in [ZOOKEEPER-3074](https://issues.apache.org/jira/browse/ZOOKEEPER-3074)

Author: maoling <maoling199210191@sina.com>

Reviewers: hanm@apache.org, andor@apache.org, nkalmar@cloudera.com

Closes #556 from maoling/ZOOKEEPER-3074

(cherry picked from commit 81b51554922d4cee5dde4a848a106f286f4c407b)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""d6c1e3791c0d3cbef861bb9f2610f927b30a169f"", ""author"": {""name"": ""maoling"", ""email"": ""maoling199210191@sina.com"", ""date"": ""2018-07-18T13:49:21Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2018-07-18T13:49:37Z""}}"
1695,SubmitCommit,2018-07-19 03:59:23,Brian Nixon,fork_close,"ZOOKEEPER-3083: Remove some redundant and noisy log lines

Author: Brian Nixon <nixon@fb.com>

Reviewers: Benjamin Reed <breed@apache.org>, Michael Han <hanm@apache.org>, Andor Molnar <andor@cloudera.com>, 毛蛤丝 <maoling199210191@sina.com>

Closes #561 from enixon/ZOOKEEPER-3083

(cherry picked from commit f6bba09481dffc7db1d47be732d3cc8067603767)
Signed-off-by: Michael Han <hanm@apache.org>","{""sha"": ""f5038685e563c5e152e6301cc6bc9266438f4c97"", ""author"": {""name"": ""Brian Nixon"", ""email"": ""nixon@fb.com"", ""date"": ""2018-07-19T03:59:14Z""}, ""committer"": {""name"": ""Michael Han"", ""email"": ""hanm@apache.org"", ""date"": ""2018-07-19T03:59:23Z""}}"
1695,SubmitCommit,2018-07-19 16:58:12,lavacat,fork_close,"ZOOKEEPER-3046: increased test timeout

- bump up timeout to avoid too many build failures

Author: Bogdan Kanivets <bkanivets@gmail.com>

Reviewers: phunt@apache.org

Closes #576 from lavacat/test-timeouts-3.5

Change-Id: If0b4b45c33e1909120ad15454f1c2f3f242237b6","{""sha"": ""b78e83b1d7101b9fe76dd0b1ed8e7af37f8a587e"", ""author"": {""name"": ""Bogdan Kanivets"", ""email"": ""bkanivets@gmail.com"", ""date"": ""2018-07-19T16:58:12Z""}, ""committer"": {""name"": ""Patrick Hunt"", ""email"": ""phunt@apache.org"", ""date"": ""2018-07-19T16:58:12Z""}}"
1695,SubmitCommit,2018-07-19 17:15:29,sl4mmy,fork_close,"ZOOKEEPER-3077: build outside of source directory

Allow building native C library outside of source directory by explicitly
looking for jute generated header and source files inside source directory.

Signed-off-by: Kent R. Spillner <kspillneracm.org>

Author: Kent R. Spillner <kspillner@acm.org>

Reviewers: phunt@apache.org

Closes #557 from sl4mmy/zookeeper-3077

Change-Id: I7dafcaed6367362f3d8df283e7d0ef5804774ddc
(cherry picked from commit fc9c9fc3b2c24f78c90bd4c7b717e3410afd5e58)
Signed-off-by: Patrick Hunt <phunt@apache.org>","{""sha"": ""92fa6a7bb1ac9800fabca80c268ab87f05ad4202"", ""author"": {""name"": ""Kent R. Spillner"", ""email"": ""kspillner@acm.org"", ""date"": ""2018-07-19T17:14:59Z""}, ""committer"": {""name"": ""Patrick Hunt"", ""email"": ""phunt@apache.org"", ""date"": ""2018-07-19T17:15:29Z""}}"
1695,SubmitCommit,2018-07-19 17:28:50,sl4mmy,fork_close,"ZOOKEEPER-3093: sync zerror with ZOO_ERRORS

I noticed that zerror(ZNOWATCHER) returns ""unknown error"" and when I went to investigate why I realized that actually three new values were added to ZOO_ERRORS enum without corresponding cases in zerror.  While here, also take the opportunity to shuffle the ordering of cases in zerror to match ZOO_ERRORS in order to make it easier to visually compare the two in the future to see if any values are missing cases (e.g. the fact that ZNEWCONFIGNOQUORUM and ZRECONFIGINPROGRESS were added to the bottom of the switch made it harder to see which all cases were missing).

Author: Kent R. Spillner <kspillner@acm.org>

Reviewers: phunt@apache.org

Closes #575 from sl4mmy/zookeeper-3093

Change-Id: I52eaaad1487aa25c2ffd101d4e8f7a365e59a3ae
(cherry picked from commit 4c12f75a9dd546032eafb2d2840061399c2a6a5e)
Signed-off-by: Patrick Hunt <phunt@apache.org>","{""sha"": ""2a02d28c1c6b20590e350cc21cb886b1acdae9ec"", ""author"": {""name"": ""Kent R. Spillner"", ""email"": ""kspillner@acm.org"", ""date"": ""2018-07-19T17:28:38Z""}, ""committer"": {""name"": ""Patrick Hunt"", ""email"": ""phunt@apache.org"", ""date"": ""2018-07-19T17:28:50Z""}}"
1695,SubmitCommit,2018-07-27 03:13:34,lvfangmin,fork_close,"ZOOKEEPER-3097: Using Runnable instead of thread work items to improve the throughput of CommitProcessor

Author: Fangmin Lyu <allenlyu@fb.com>

Reviewers: Michael Han <hanm@apache.org>

Closes #578 from lvfangmin/ZOOKEEPER-3097

(cherry picked from commit 75c652f45090f5309060ab7defb37f337d327d2c)
Signed-off-by: Michael Han <hanm@apache.org>","{""sha"": ""602cbe07f3179dff1f3f6a7605d3aa42c0380024"", ""author"": {""name"": ""Fangmin Lyu"", ""email"": ""allenlyu@fb.com"", ""date"": ""2018-07-27T03:13:22Z""}, ""committer"": {""name"": ""Michael Han"", ""email"": ""hanm@apache.org"", ""date"": ""2018-07-27T03:13:34Z""}}"
1695,SubmitCommit,2018-07-27 03:16:14,arshadmohammad,fork_close,"ZOOKEEPER-2251: Add Client side packet response timeout to avoid infinite wait.

Add Client side packet response timeout to avoid infinite wait.

Author: Mohammad Arshad <arshad@apache.org>

Reviewers: Michael Han <hanm@apache.org>, nrico Olivelli <eolivelli@gmail.com>

Closes #119 from arshadmohammad/ZOOKEEPER-2251

(cherry picked from commit 9f82798415351a20136ceb1640b1781723e51cc1)
Signed-off-by: Michael Han <hanm@apache.org>","{""sha"": ""fed3ae8aee3d8811f90d8f8858959f4585be84cc"", ""author"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2018-07-27T03:16:04Z""}, ""committer"": {""name"": ""Michael Han"", ""email"": ""hanm@apache.org"", ""date"": ""2018-07-27T03:16:14Z""}}"
1695,SubmitCommit,2018-07-27 03:28:51,Jeelani Mohamed Abdul Khader,fork_close,"ZOOKEEPER-3094: Make BufferSizeTest reliable

ZKPatch: d8b825d6533e9848565beff09e9a018136ca32bd (extract)

Changes made to the testStartupFailure test to remember the old directory and switch back to it after the test has completed.

Author: Jeelani Mohamed Abdul Khader <mjeelani@devvm3360.prn2.facebook.com>

Reviewers: Michael Han <hanm@apache.org>, Norbert Kalmar

Closes #577 from mjeelanimsft/make-buffersizetest-reliable

(cherry picked from commit 7b7c6587733dba3c9f3862a034b354d067e0dc47)
Signed-off-by: Michael Han <hanm@apache.org>","{""sha"": ""21233f5a2c2b7f85a90145236f34ea85257c0984"", ""author"": {""name"": ""Jeelani Mohamed Abdul Khader"", ""email"": ""mjeelani@devvm3360.prn2.facebook.com"", ""date"": ""2018-07-27T03:28:37Z""}, ""committer"": {""name"": ""Michael Han"", ""email"": ""hanm@apache.org"", ""date"": ""2018-07-27T03:28:51Z""}}"
1695,SubmitCommit,2018-08-01 19:20:28,cpoerschke,fork_close,"ZOOKEEPER-3062: mention fsync.warningthresholdms in FileTxnLog LOG.warn message

https://issues.apache.org/jira/browse/ZOOKEEPER-3062

Author: Christine Poerschke <cpoerschke@bloomberg.net>

Reviewers: phunt@apache.org

Closes #566 from cpoerschke/master-ZOOKEEPER-3062 and squashes the following commits:

2bcccf62d [Christine Poerschke] Action code review feedback.
a2dc484d4 [Christine Poerschke] ZOOKEEPER-3062: mention fsync.warningthresholdms in FileTxnLog LOG.warn message

Change-Id: Id675e61a9ef0b247d65eaa36bb88c8569d177c49
(cherry picked from commit 7cf8035c3a5ca05bce2d183b41bf410709a5f6ee)
Signed-off-by: Patrick Hunt <phunt@apache.org>","{""sha"": ""44dbc8d9b6d4697808a5cf964de76b27f06e43c2"", ""author"": {""name"": ""Christine Poerschke"", ""email"": ""cpoerschke@bloomberg.net"", ""date"": ""2018-08-01T19:19:34Z""}, ""committer"": {""name"": ""Patrick Hunt"", ""email"": ""phunt@apache.org"", ""date"": ""2018-08-01T19:20:28Z""}}"
1695,SubmitCommit,2018-08-06 12:13:58,nkalmar,fork_close,"ZOOKEEPER-3030: MAVEN MIGRATION - Step 1.3 - move contrib directories

Move the contrib projects according to new directory structure.
In the PR src/contrib/zkperl/build/check_zk_version.c and .h looks like I removed the file. but everything looks good on my local (I just moved them, did not modify anything). Will investigate further.

DO-NOT-MERGE-YET: Checking if creating the maven structure of directories now will break anything other then the already different directory structure in build/zookeeper-[version]/src/ (I will write an e-mail about this on dev list)

Author: Norbert Kalmar <nkalmar@yahoo.com>

Reviewers: andor@apache.org

Closes #574 from nkalmar/ZOOKEEPER-3030 and squashes the following commits:

49b7519b [Norbert Kalmar] ZOOKEEPER-3030 create maven dir structure
9f19ab06 [Norbert Kalmar] ZOOKEEPER-3030 fix releaseaudit license missing exclusions
59d9d17d [Norbert Kalmar] ZOOKEEPER-3030 add missing files in dist.dir
165d4dc5 [Norbert Kalmar] ZOOKEEPER-3030 - MAVEN MIGRATION - move contrib directories

(cherry picked from commit b0df8fe1e10e63aa2b268e126d109cc61ea2d33c)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""eab8c1eb2769e9321834a0ba5eff47bafa9292e0"", ""author"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@yahoo.com"", ""date"": ""2018-08-06T12:13:17Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2018-08-06T12:13:58Z""}}"
1695,SubmitCommit,2018-08-08 04:29:26,lvfangmin,fork_close,"ZOOKEEPER-3110: Improve the closeSession throughput in PrepRequestProcessor

Author: Fangmin Lyu <allenlyu@fb.com>

Reviewers: hanm@apache.org

Closes #591 from lvfangmin/ZOOKEEPER-3110

(cherry picked from commit df2b3f4fd9944f0dd544b808ea3bad702534625d)
Signed-off-by: Michael Han <hanm@apache.org>","{""sha"": ""78fa2683c5fae85a8d4fa85a194bf16c03038177"", ""author"": {""name"": ""Fangmin Lyu"", ""email"": ""allenlyu@fb.com"", ""date"": ""2018-08-08T04:29:16Z""}, ""committer"": {""name"": ""Michael Han"", ""email"": ""hanm@apache.org"", ""date"": ""2018-08-08T04:29:26Z""}}"
1695,SubmitCommit,2018-08-17 08:34:31,eolivelli,fork_close,"ZOOKEEPER-3120: add NetBeans nbproject directory to .gitignore

Author: Enrico Olivelli <eolivelli@apache.org>

Reviewers: fangmin@apache.org, andor@apache.org

Closes #598 from eolivelli/fix/netbeans-nbproject

(cherry picked from commit b5d6786b9531240dadc369344098a001430e32b7)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""563077ceddab1656487b5748569445f91e50626c"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2018-08-17T08:34:02Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2018-08-17T08:34:31Z""}}"
1695,SubmitCommit,2018-08-17 09:56:30,nkalmar,fork_close,"ZOOKEEPER-3033: MAVEN MIGRATION - fix directory structure

I reopened step 1.2 to fix the directory structure of the recipes, as it is better to do every directory change at once. (As it has been done in step 1.3 already - first step, docs is irrelevant in this manner).

Author: Norbert Kalmar <nkalmar@yahoo.com>

Reviewers: andor@apache.org

Closes #599 from nkalmar/ZOOKEEPER-3033_fix

(cherry picked from commit 2584625cdf4bb917192479f637222d6e64518336)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""d8bd31914a1ab1a1f0c5dbaa1955aeaeb482dd43"", ""author"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@yahoo.com"", ""date"": ""2018-08-17T09:56:09Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2018-08-17T09:56:30Z""}}"
1695,SubmitCommit,2018-08-22 06:18:29,nkalmar,fork_close,"ZOOKEEPER-3031: 3.5: MAVEN MIGRATION - move client dir

Separate PR for branch 3.5, cherry picked from 176bd68222f3a3bddac9deb412eee7f538cb01ca

Author: Norbert Kalmar <nkalmar@yahoo.com>

Reviewers: andor@apache.org

Closes #602 from nkalmar/ZOOKEEPER-3031_3.5","{""sha"": ""8c87cc49bb420d7e0f74c7e568617f0283fc4fe0"", ""author"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@yahoo.com"", ""date"": ""2018-08-22T06:18:29Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2018-08-22T06:18:29Z""}}"
1695,SubmitCommit,2018-09-03 09:58:21,nkalmar,fork_close,"ZOOKEEPER-3080: MAVEN MIGRATION - Step 1.5 - move jute dir

Author: Norbert Kalmar <nkalmar@yahoo.com>

Reviewers: andor@apache.org

Closes #609 from nkalmar/ZOOKEEPER-3080

(cherry picked from commit b7181d2c5a48accbd47e30430ccfe1291a91d900)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""d69c3c201c5401d7baa040b5fa529aced273e318"", ""author"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@yahoo.com"", ""date"": ""2018-09-03T09:57:50Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2018-09-03T09:58:21Z""}}"
1695,SubmitCommit,2018-09-05 14:16:12,maoling,fork_close,"ZOOKEEPER-2913: testEphemeralNodeDeletion is flaky

- The test code is assuming the follower is up to date, which without a `sync` call.when regression,the follower could not catch up with the leader,so the `/e1` patch still exists
- this issue is not very easy to reproduce,but we can change the codes in the `FollowerZooKeeperServer.commit() ` ,just like this:

```
       Request request = pendingTxns.remove();
        if (request.getHdr().getType() == -11) {
        	try {
    			Thread.sleep(200);
    		} catch (InterruptedException e) {

    		}
        }
        commitProcessor.commit(request);
```
to slow down the commit to simulate the flaky test,then we can check the correctness of this patch
- ----------------------------------------**appendix: zk.sync() doc：**------------------------------------------

> ZooKeeper does not guarantee that at every instance in time, two different clients will have identical views of ZooKeeper data. Due to factors like network delays, one client may perform an update before another client gets notified of the change. Consider the scenario of two clients, A and B. If client A sets the value of a znode /a from 0 to 1, then tells client B to read /a, client B may read the old value of 0, depending on which server it is connected to. If it is important that Client A and Client B read the same value, Client B should should call the sync() method from the ZooKeeper API method before it performs its read.

- more detais in [ZOOKEEPER-2913](https://issues.apache.org/jira/browse/ZOOKEEPER-2913)

Author: maoling <maoling199210191@sina.com>

Reviewers: andor@apache.org

Closes #608 from maoling/ZOOKEEPER-2913

(cherry picked from commit e7ac12c952b47921bfecbad52112be51f5b9ede5)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""87a2d458f336c57b5df15c4542b08c9ccdb22cef"", ""author"": {""name"": ""maoling"", ""email"": ""maoling199210191@sina.com"", ""date"": ""2018-09-05T14:15:58Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2018-09-05T14:16:12Z""}}"
1695,SubmitCommit,2018-09-10 09:45:06,nkalmar,fork_close,"ZOOKEEPER-1990: fix Random instances

See the jira for more info.

Basically we have multiple ways of creating Random instances in ZooKeeper. Since java 1.7, the default constructor is good enough even in multi-threaded environment, we get a good seed.
But in some places, we just create a random instance, where System.nanotime is the seed, which is not a good practice in multi-threaded environments.

I only replaced those, and I also left the tests as is, because in some cases it is intentional in them.

I created the PR to bring more attention to the ticket, please feel free to share your ideas on the topic!

Author: Norbert Kalmar <nkalmar@yahoo.com>

Reviewers: fangmin@apache.org, andor@apache.org

Closes #617 from nkalmar/ZOOKEEPER-1990

(cherry picked from commit 181de25c0dc703eaff77dd6415b676f09564277a)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""5bcbb2ca61309f37634b530788c01989e7a4001a"", ""author"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@yahoo.com"", ""date"": ""2018-09-10T09:44:50Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2018-09-10T09:45:06Z""}}"
1695,SubmitCommit,2018-09-11 20:09:50,anmolnar,fork_close,"ZOOKEEPER-2261: When only secureClientPort is configured connections, configuration, connection_stat_reset, and stats admin commands throw NullPointerException

Root cause of the issue is that property getter returns the non-secure ServerCnxnFactory instance always. When Quorum SSL is enabled, we set a separate field which is the secure instance.

Property getter should detect the scenario and return the proper instance.

First commit contains some refactoring: shuffling the existing ZooKeeperServer tests to relevant places.
Second commit is the actual fix + new unit tests.

Sorry about indentation changes, but `FileTxnLogTest.java` was indented by 2 spaces instead of 4.

Author: Andor Molnar <andor@apache.org>
Author: Andor Molnar <andor@cloudera.com>

Reviewers: breed, hanm, nkalmar

Closes #545 from anmolnar/ZOOKEEPER-2261","{""sha"": ""14d0aaab853d535be268a1d7a234c9c47bf4cd25"", ""author"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2018-09-10T22:17:45Z""}, ""committer"": {""name"": ""Michael Han"", ""email"": ""hanm@apache.org"", ""date"": ""2018-09-11T20:09:50Z""}}"
1695,SubmitCommit,2018-09-12 11:32:21,maoling,fork_close,"ZOOKEEPER-1823: zkTxnLogToolkit -dump should support printing transaction data as a string

- It would be a useful addition for debuggling to show transaction data as strings with a option `-s `
- update the usage string to `USAGE: LogFormatter [-s] log_file` and add a short description for the `-s `
    option

- for the issue [michim](https://issues.apache.org/jira/secure/ViewProfile.jspa?name=michim) mentioned has been resolved,the test evidence has been included in the jira(Notice:we cannot `split("","")[1]` to replace the node data,because the node path can be like this `""/mao,ling""`)
- more details in [ZOOKEEPER-1823](https://issues.apache.org/jira/browse/ZOOKEEPER-1823).Thanks [rgs](https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rgs) for the origin work

Author: maoling <maoling199210191@sina.com>

Reviewers: andor@apache.org

Closes #613 from maoling/ZOOKEEPER-1823 and squashes the following commits:

82c375b0 [maoling] change the desc of -d option in the code
ba3ee65a [maoling] transport this improment to TxnLogToolkit
96939873 [maoling] Revert ""ZOOKEEPER-1823:LogFormatter should support printing transaction data as a string""
298428ea [maoling] ZOOKEEPER-1823:LogFormatter should support printing transaction data as a string

(cherry picked from commit 14870ddd4b87afe3af497ec0569ce439c0488053)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""78976f6aaec45b188f6c271710973f6383d33d59"", ""author"": {""name"": ""maoling"", ""email"": ""maoling199210191@sina.com"", ""date"": ""2018-09-12T11:32:07Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2018-09-12T11:32:21Z""}}"
1695,SubmitCommit,2018-09-19 10:04:52,lvfangmin,fork_close,"ZOOKEEPER-3127: Fixing potential data inconsistency due to update last processed zxid with partial multi-op txn

Port the same fix to 3.5.

Author: Fangmin Lyu <allenlyu@fb.com>

Reviewers: andor@apache.org

Closes #631 from lvfangmin/ZOOKEEPER-3127-3.5","{""sha"": ""0383625b5b4adb14b774f322704456596e7ab185"", ""author"": {""name"": ""Fangmin Lyu"", ""email"": ""allenlyu@fb.com"", ""date"": ""2018-09-19T10:04:52Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2018-09-19T10:04:52Z""}}"
1695,SubmitCommit,2018-10-05 10:44:02,afine,fork_close,"ZOOKEEPER-236: SSL Support for Atomic Broadcast protocol

This is a work in progress, I wanted to get some feedback from the community while I worked on this. Please do not merge yet. Tests, documentation, and some cleanup still coming.

This is a first pass at ssl support for the zookeeper quorum. It supports encrypting both leader election and normal operation.

Rolling upgrades are supported via port unification (`portUnification=true`). This should only be used while performing a rolling upgrade.

Some open questions:
- Anyone have any ideas for better names for the configuration options (`sslQuorum` and `portUnification` currently).
- I am using the same configuration that points to the truststore/keystore used for server <-> client ssl. Do they need to be separate?
- Is port unification the correct approach for rolling upgrades? Is the impact from the use of `BufferedSocket`s during the upgrade acceptable? See: http://stackoverflow.com/questions/25637039/detecting-ssl-connection-and-converting-socket-to-sslsocket http://stackoverflow.com/questions/6559859/is-it-possible-to-change-plain-socket-to-sslsocket
- server <-> client ssl is implemented with netty. I did not feel that rewriting our server <-> server logic with netty was necessary given how easy ssl was to implement with standard java `SSLSocket`s. Any arguments to the contrary?

Thanks,
Abe

Author: Andor Molnar <andor@cloudera.com>
Author: Andor Molnar <andor@apache.org>

Reviewers: hanm@apache.org, andor@apache.org

Closes #184 from afine/ZOOKEEPER-236 and squashes the following commits:

fdcc9151 [Andor Molnar] ZOOKEEPER-236. Replaced DefaultHostnameVerifier with custom impl
c014a54c [Andor Molnar] ZOOKEEPER-236. Temporary disabled portUnification support
e4144962 [Andor Molnar] ZOOKEEPER-236. Nit code review fixes
209fbca7 [Andor Molnar] ZOOKEEPER-236. Added new JMX properties to expose SSL quorum related settings
1f8aab05 [Andor Molnar] ZOOKEEPER-236. Revert portUnification/sslQuorum logic
a9fa6981 [Andor Molnar] ZOOKEEPER-236. Code review fixes:
777f31ac [Andor Molnar] ZOOKEEPER-236. Added Java8/Java9 default cipher suites
e8a17297 [Andor Molnar] ZOOKEEPER-236. Reverted to use single property for hostname verification
d64eb26f [Andor Molnar] ZOOKEEPER-236. Code review related changes: - server & client hostname verification can be set independently, - refactor defaultSSLContext to use AtomicReference, - some minor nitpicks
9ab476a7 [Andor Molnar] ZOOKEEPER-236. Trying to fix cipher suites test by changing the default protocol to TLSv1.2 and filter suitable cipher suites
ed10e88d [Andor Molnar] ZOOKEEPER-236. Added cipher suite to test to run on CentOS. Timeout in constant value. Null checks
c452d1b0 [Andor Molnar] ZOOKEEPER-236. Fixed unit test + added some extra debug logging
88b61716 [Andor Molnar] ZOOKEEPER-236: SSL Support for Atomic Broadcast protocol","{""sha"": ""0e3b82bdf86e9214892c7e969b2e1fd744f18f03"", ""author"": {""name"": ""Abraham Fine"", ""email"": ""afine@apache.org"", ""date"": ""2018-10-05T10:44:02Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2018-10-05T10:44:02Z""}}"
1695,SubmitCommit,2018-10-05 13:07:29,tamaashu,fork_close,"ZOOKEEPER-3153: Create MarkDown files and build process for them for …

…branch 3.5

In this sub-task we have transformed the Forest XML documents into MarkDown (.md) files and provided a (maven based) solution to create HTML documentation from them.
PDF support is dropped since it is not really used and makes everything overcomplicated.

The generated HTML content looks similar to the one generated from Forest XMLs, but not identical with them.

Change-Id: Id35984eca5d37b9e3074eab939be5c9b4cc80257

Author: Tamas Penzes <tamaas@cloudera.com>

Reviewers: andor@apache.org

Closes #644 from tamaashu/ZOOKEEPER-3153-3.5","{""sha"": ""382212371090f46aa1937ed471aa2e37ad5f52a1"", ""author"": {""name"": ""Tamas Penzes"", ""email"": ""tamaas@cloudera.com"", ""date"": ""2018-10-05T13:07:29Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2018-10-05T13:07:29Z""}}"
1695,SubmitCommit,2018-10-05 13:36:20,nkalmar,fork_close,"ZOOKEEPER-3032: MAVEN MIGRATION - branch-3.5 - move java server, client

Author: Norbert Kalmar <nkalmaryahoo.com>

Reviewers: hanmapache.org, andorapache.org

Closes #633 from nkalmar/ZOOKEEPER-3032 and squashes the following commits:

3f9a0eca [Norbert Kalmar] ZOOKEEPER-3032 fix flaky QuorumPeerMainTest.testLeaderElectionWithDisloyalVoter_stillHasMajority
27295ed6 [Norbert Kalmar] ZOOKEEPER-3032 - MAVEN MIGRATION - move java server, client

Author: Norbert Kalmar <nkalmar@yahoo.com>

Reviewers: andor@apache.org

Closes #656 from nkalmar/ZOOKEEPER-3032-3.5","{""sha"": ""3ce1b18b7c385e6e364bfdb1347b46e02ace537d"", ""author"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@yahoo.com"", ""date"": ""2018-10-05T13:36:20Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2018-10-05T13:36:20Z""}}"
1695,SubmitCommit,2018-10-12 08:28:43,anmolnar,fork_close,"ZOOKEEPER-3159: Flaky: ClientRequestTimeoutTest.testClientRequestTimeout

Can't see a reason why testing again the create method without packet drop. Timeout scenario has already been tested and this part seem to make the test flaky. Removed.

Author: Andor Molnar <andor@apache.org>

Reviewers: nkalmar@cloudera.com, andor@apache.org

Closes #653 from anmolnar/ZOOKEEPER-3159

(cherry picked from commit 6285f332a78f62272114b0f21e74b559974326ef)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""1d22b79b19dc0b095239e3a78a4e308978d0e4d0"", ""author"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2018-10-12T08:28:29Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2018-10-12T08:28:43Z""}}"
1695,SubmitCommit,2018-10-12 15:07:09,Reidddddd,fork_close,"ZOOKEEPER-1908: setAcl should be have a recursive function

Backport to branch-3.5.

Author: Reid Chan <reidchan@apache.org>

Reviewers: andor@apache.org

Closes #666 from Reidddddd/zkp-1908 and squashes the following commits:

bcafaf41 [Reid Chan] Merge branch 'branch-3.5' into zkp-1908
be3f2e7e [Reid Chan] ZOOKEEPER-1908: Missed constructor change
e06aab29 [Reid Chan] ZOOKEEPER-1908: setAcl should be have a recursive function","{""sha"": ""ea1884ee685cef3b777cca679d8e419efe50527d"", ""author"": {""name"": ""Reid Chan"", ""email"": ""reidchan@apache.org"", ""date"": ""2018-10-12T15:07:09Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2018-10-12T15:07:09Z""}}"
1695,SubmitCommit,2018-10-15 14:48:42,tamaashu,fork_close,"ZOOKEEPER-3154: Update release process to use the MarkDown solution

Added `mvn clean` and `mvn install` to `ant clean` and `ant compile` as dependency.
This way we clean and build zookeeper-docs maven sub-project when we clean and build main ant project.
Added releasenotes.md and fixed small issues in MarkDown files.

Next step is to remove not needed forrest content and dead ant code.
Only valid for branch-3.5, do not backport to branch-3.4.

Change-Id: I308a970c253be1bb82387516bf7b08bd7818a2c7

Author: Tamas Penzes <tamaas@cloudera.com>

Reviewers: andor@apache.org

Closes #663 from tamaashu/ZOOKEEPER-3154-3.5 and squashes the following commits:

fce1499b [Tamas Penzes] ZOOKEEPER-3154: Removed HTML document generation which will be put back when maven migration will be done
06cba415 [Tamas Penzes] ZOOKEEPER-3154: Update release process to use the MarkDown solution","{""sha"": ""000317fb50daae81bc0b34fef5d2895b6aa851bd"", ""author"": {""name"": ""Tamas Penzes"", ""email"": ""tamaas@cloudera.com"", ""date"": ""2018-10-15T14:48:42Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2018-10-15T14:48:42Z""}}"
1695,SubmitCommit,2018-10-16 09:57:14,anmolnar,fork_close,"ZOOKEEPER-3165: Java 9: X509UtilTest.testCreateSSLContextWithoutTrustStorePassword fails

We use JKS format explicitly, but the tests created the keystore and truststore with the default format. This has been changed in Java 9 from JKS to PKCS12 which caused the test failing on Java 9+ builds.

Author: Andor Molnar <andor@apache.org>

Reviewers: eolivelli@gmail.com, andor@apache.org

Closes #668 from anmolnar/ZOOKEEPER-3165","{""sha"": ""f5c27607e7257caacba109c461a70055b9acf0de"", ""author"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2018-10-16T09:57:14Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2018-10-16T09:57:14Z""}}"
1695,SubmitCommit,2018-10-18 09:18:39,anmolnar,fork_close,"ZOOKEEPER-3113: EphemeralType.get() fails to verify ephemeralOwner when currentElapsedTime() is small enough

I refactored the unit test `testServerIds` to verify server id verification code explicitly instead of through `EphemeralType.get()` method.

Reasons:
- The original test doesn't work on machines which booted recently, because the generated `Time.currentElapsedTime()` value is not high enough and it's possible to generate a valid ephemeralOwner even with high 0xff byte. Server ID cannot be verified reliably this way.
- EphemeralType.get() is already covered in other unit tests,
- Unit tests should test the smallest piece of logic and call the method under testing directly.

Author: Andor Molnar <andor@apache.org>

Reviewers: fangmin@apache.org, eolivelli@gmail.com, hanm@apache.org, andor@apache.org

Closes #651 from anmolnar/ZOOKEEPER-3113 and squashes the following commits:

7454d7e7 [Andor Molnar] ZOOKEEPER-3113. Added unit tests to cover EphemeralType.get edge cases
47dece7a [Andor Molnar] ZOOKEEPER-3113. Refactored unit test to validate server Id verification code explicitly

(cherry picked from commit 5c85a236c9eb0805ea8389a52dab3b1bc0efadac)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""26012313d3cb020ee3097a3b4cf46c9f6ae109c7"", ""author"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2018-10-18T09:18:25Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2018-10-18T09:18:39Z""}}"
1695,SubmitCommit,2018-10-24 09:30:47,nkalmar,fork_close,"ZOOKEEPER-3032: MAVEN MIGRATION - branch-3.5 - zookeeper-server

Separating the java code is not feasible. Moving common and client back to server.

Author: Norbert Kalmar <nkalmaryahoo.com>

Reviewers: andorapache.org

Closes #672 from nkalmar/ZOOKEEPER-3032r

Author: Norbert Kalmar <nkalmar@yahoo.com>

Reviewers: andor@apache.org

Closes #674 from nkalmar/ZOOKEEPER-3032r-3.5","{""sha"": ""43d71c2eaf7692940c374800300d886b712643bb"", ""author"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@yahoo.com"", ""date"": ""2018-10-24T09:30:47Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2018-10-24T09:30:47Z""}}"
1695,SubmitCommit,2018-11-05 18:41:42,Robert Evans,fork_close,"ZOOKEEPER-3156: Add in option to canonicalize host name

This is the master and 3.5 version of #648.  It should apply cleanly to both lines, but if you want a separate pull request for each I am happy to do it.

Author: Robert Evans <evans@yahoo-inc.com>

Reviewers: fangmin@apache.org, andor@apache.org

Closes #652 from revans2/ZOOKEEPER-3156

(cherry picked from commit 83fd6e298dda420125f8be35fda68cb226b0ee05)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""5701ddf19d4b06a11d79b238c9e2e29aa887f785"", ""author"": {""name"": ""Robert Evans"", ""email"": ""evans@yahoo-inc.com"", ""date"": ""2018-11-05T18:40:55Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2018-11-05T18:41:42Z""}}"
1695,SubmitCommit,2018-11-06 18:32:58,lvfangmin,fork_close,"ZOOKEEPER-3104: Fix potential data inconsistency due to NEWLEADER packet being sent too early during SNAP sync

Port this fix from master to 3.5.

Author: Fangmin Lyu <allenlyu@fb.com>

Reviewers: andor@apache.org

Closes #685 from lvfangmin/ZOOKEEPER-3104-3.5","{""sha"": ""427f136783c4a855cc370eb4c3861a3979ea968c"", ""author"": {""name"": ""Fangmin Lyu"", ""email"": ""allenlyu@fb.com"", ""date"": ""2018-11-06T18:32:58Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2018-11-06T18:32:58Z""}}"
1695,SubmitCommit,2018-11-07 01:30:04,ivmaykov,fork_close,"ZOOKEEPER-3173: Quorum TLS - support PEM trust/key stores

Add support for loading key and trust stores from PEM files.

Unfortunately, this PR includes 2 JIRAs, because it was quite difficult
to untangle the two features as they were developed at the same time
originally:

- ZOOKEEPER-3173: Quorum TLS - support PEM trust/key stores
- ZOOKEEPER-3175: Quorum TLS - test improvements

## Added support for PEM formatted key stores and trust stores
- key store and trust store files can now be in PEM format as well as JKS.
- Added config properties to tell ZK what type of trust/key store to load:
- `zookeeper.ssl.keyStore.type` and `zookeeper.ssl.trustStore.type` for ClientX509Util
- `zookeeper.ssl.quorum.keyStore.type` and `zookeeper.ssl.quorum.trustStore.type` for QuorumX509Util
- store type properties could have the values ""JKS"", ""PEM"", or not set
- leaving the type properties unset will cause auto-detection of the store type based on the file extension ("".jks"" or "".pem"")

## Added test utilities for easily creating X509 certs and using them in unit tests
- added new class `X509TestContext` and its friend, `X509TestHelpers`
- rewrote some existing unit tests to use these classes, and added new tests that use them
- some existing tests (i.e. `QuorumSSLTest`) should probably be ported to use this as well, haven't got around to it yet

Author: Ilya Maykov <ilyam@fb.com>

Reviewers: andor@apache.org

Closes #678 from ivmaykov/ZOOKEEPER-3173

(cherry picked from commit 03286f29d29f4c1d3496ce87d1441df91422220e)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""39fbc58f17b373a73ce529f1417678d2f4e41009"", ""author"": {""name"": ""Ilya Maykov"", ""email"": ""ilyam@fb.com"", ""date"": ""2018-11-07T01:29:49Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2018-11-07T01:30:04Z""}}"
1695,SubmitCommit,2018-11-07 23:54:54,Andrea Reale,fork_close,"ZOOKEEPER-3162: Broken lock semantics in C client lock-recipe.

This PR fixes a few issues with the C client lock-recipe, as documented in more detailed in [ZOOKEEPER-3162](https://issues.apache.org/jira/browse/ZOOKEEPER-3162) on JIRA.

Details are also provided in the individual commits, but in short:
- Fix a bug in the choice of the predecessor node while trying to acquire the lock
- Fix a possible deadlock in zkr_lock_operation
- Fix the return value of zkr_lock_lock to abide to the prescribed semantics.

Author: Andrea Reale <realean2@ie.ibm.com>

Reviewers: andor@apache.org

Closes #662 from andreareale/ZOOKEEPER-3162 and squashes the following commits:

09f7ff4ed [Andrea Reale] Fixes deadlock in zoo_lock_operation
670d25a8e [Andrea Reale] Fix return semantics of zkr_lock_lock
2a1d66c4b [Andrea Reale] Bugfix on zookeeper-recipes-lock C implementation
a9b6a1a09 [Andrea Reale] Fix wrong include path for C recipes

(cherry picked from commit 477fa0724fa66cc41d14e8a974ab4ac2a1b68433)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""bdfa704a62d7da7cee6d369719918fb81db4ff03"", ""author"": {""name"": ""Andrea Reale"", ""email"": ""realean2@ie.ibm.com"", ""date"": ""2018-11-07T23:54:43Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2018-11-07T23:54:54Z""}}"
1695,SubmitCommit,2018-11-08 18:56:08,lvfangmin,fork_close,"ZOOKEEPER-3125: Fixing pzxid consistent issue when replaying a txn for a deleted node

Port this to 3.5, this also fixed the issue where the pzxid might be overwritten by a smaller one when replaying deleteNode txn, which will be fixed in a separate PR for 3.6.

Author: Fangmin Lyu <allenlyu@fb.com>

Reviewers: andor@apache.org

Closes #647 from lvfangmin/ZOOKEEPER-3125-3.5 and squashes the following commits:

53670f9c7 [Fangmin Lyu] remove RetryRule in the patch
cee39c742 [Fangmin Lyu] move RetryRule to the zookeeper-server/src/test folder
a8b8d6669 [Fangmin Lyu] waiting States.CONNECTING after shutdown
7528d1559 [Fangmin Lyu] retry test if it is due to the connection loss
5fbf7da3b [Fangmin Lyu] ZOOKEEPER-3125: Fixing pzxid consistent issue when replaying a txn for a deleted node","{""sha"": ""14364ebb4ce6eacabca7dee22b442fe42519f703"", ""author"": {""name"": ""Fangmin Lyu"", ""email"": ""allenlyu@fb.com"", ""date"": ""2018-11-08T18:56:08Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2018-11-08T18:56:08Z""}}"
1695,SubmitCommit,2018-11-09 16:41:33,tamaashu,fork_close,"ZOOKEEPER-3155: Remove Forrest XMLs and their build process from the …

…project (branch 3.5)

In this commit I've removed the forrest XML files and their result from the repository.
I've also removed the process to generate HTML and PDF files from the forrest files, since it's not needed anymore.

It also effects the test-github-pr.sh and test-patch.sh, since we do have less parameters for them (FORREST_HOME).

Change-Id: I30ecdb181f19eed05d86838b12c75e0c03e33710

Author: Tamas Penzes <tamaas@cloudera.com>

Reviewers: andor@apache.org

Closes #697 from tamaashu/ZOOKEEPER-3155-3.5","{""sha"": ""ab59048a61022f2062818f2574cf99958677cd0b"", ""author"": {""name"": ""Tamas Penzes"", ""email"": ""tamaas@cloudera.com"", ""date"": ""2018-11-09T16:41:33Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2018-11-09T16:41:33Z""}}"
1695,SubmitCommit,2018-11-23 10:51:46,anmolnar,fork_close,"ZOOKEEPER-1441: JAVA 11 - Some test cases are failing because Port bind issue.

Fixes the Java 11 build issue.

**Issue**

`NIOServerCnxnFactory` doesn't properly close the socket when the shutdown() is called before the factory has even started. This is mostly the case in tests which use `QuorumUtil` that creates multiple QuorumPeers when instantiated without starting them and when `startAll()` gets called it shuts down the previous ones.

**Reason**

`Selectors` which have been registered with the socket must be closed in order to properly release the socket. `NIOServerCnxnFactory` registers selectors on instantiation, but only releases them in the thread run() method. So, if factory doesn't get started, it won't release the registered selectors.

This wasn't the issue before Java 11 and probably caused by:
https://www.oracle.com/technetwork/java/javase/11-relnote-issues-5012449.html#JDK-8198562

Also this is not an issue when ZooKeeper is used as a separate process (not embedded), because on shutdown the entire JVM stops anyway.

**Resolution**

I decided to try fixing the issue in the connection factory instead of fixing the tests only, because originally it's a bug in the way factory works. Resolution is to open selectors in lazy way: only when accept and selector thread starts, so they don't need to be released if the thread was not even started.

Author: Andor Molnar <andor@apache.org>

Reviewers: hanm@apache.org

Closes #700 from anmolnar/ZOOKEEPER-1441

(cherry picked from commit c3babb94275ad667dc71c10dcb08a383a3c154c2)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""92f90e823a6a46485c855d3f896e49833521e5ee"", ""author"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2018-11-23T10:51:32Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2018-11-23T10:51:46Z""}}"
1695,SubmitCommit,2018-11-27 08:56:08,anmolnar,fork_close,"ZOOKEEPER-3193: Flaky: org.apache.zookeeper.test.SaslAuthFailNotifyTest

1. Refactor SASL auth tests to use single file,
2. Use CountDownLatch to sync with watcher

More context: https://issues.apache.org/jira/browse/ZOOKEEPER-3193

Author: Andor Molnar <andor@apache.org>

Reviewers: andor@apache.org

Closes #706 from anmolnar/ZOOKEEPER-3193

(cherry picked from commit 1c488cec08809a76202f6c66be9e46533e7c409c)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""cbf9f1ba5bbc876c820f97d60ddc2f500b9f5e79"", ""author"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2018-11-27T08:55:53Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2018-11-27T08:56:08Z""}}"
1695,SubmitCommit,2018-11-27 08:58:40,asdf2014,fork_close,"ZOOKEEPER-2822: Wrong `ObjectName` about `MBeanServer` in JMX module

The wrong `ObjectName` about `MBeanServer` in JMX module, should `log4j:hierarchy=default` rather than `log4j:hiearchy=default`.

Author: asdf2014 <benedictjin2016@gmail.com>

Reviewers: andor@apache.org

Closes #294 from asdf2014/ZOOKEEPER-2822 and squashes the following commits:

294cf53ab [asdf2014] Using `System.getProperty` instead of `System.getenv` & doc this change
ed756a9b8 [asdf2014] Add `zookeeper.jmx.log4j.mbean`
82da83a71 [asdf2014] ZOOKEEPER-2822: Wrong `ObjectName` about `MBeanServer` in JMX module

(cherry picked from commit 91c6cb253c98a5c792314b1c7998ab5b939dddad)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""019e841e7703835aaa146dd1c16fd1b43d017071"", ""author"": {""name"": ""asdf2014"", ""email"": ""benedictjin2016@gmail.com"", ""date"": ""2018-11-27T08:57:53Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2018-11-27T08:58:40Z""}}"
1695,SubmitCommit,2018-11-27 16:56:44,ivmaykov,fork_close,"ZOOKEEPER-3172: Quorum TLS - fix port unification to allow rolling upgrades

Fix numerous problems with UnifiedServerSocket, such as hanging the accept() thread when the client doesn't send any data or crashing if less than 5 bytes are read from the socket in the initial read.

Re-enable the ""portUnification"" config option.

## Fixed networking issues/bugs in UnifiedServerSocket

- don't crash the accept() thread if the client closes the connection without sending any data
- don't corrupt the connection if the client sends fewer than 5 bytes for the initial read
- delay the detection of TLS vs. plaintext mode until a socket stream is read from or written to. This prevents the accept() thread from getting blocked on a read() operation from the newly connected socket.
- prepending 5 bytes to PrependableSocket and then trying to read >5 bytes would only return the first 5 bytes, even if more bytes were available. This is fixed.

Author: Ilya Maykov <ilyam@fb.com>

Reviewers: andor@apache.org

Closes #727 from ivmaykov/ZOOKEEPER-3172-branch-3.5","{""sha"": ""f3f1146a76f523bdff07699cdc0d29dd3fd98921"", ""author"": {""name"": ""Ilya Maykov"", ""email"": ""ilyam@fb.com"", ""date"": ""2018-11-27T16:56:44Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2018-11-27T16:56:44Z""}}"
1695,SubmitCommit,2018-11-27 20:05:46,ivmaykov,fork_close,"ZOOKEEPER-3194: Quorum TLS - fix copy/paste bug in ZKTrustManager

Fix an obvious copy/paste bug. Tested by making sure ZKTrustManagerTest still passes.

Author: Ilya Maykov <ilyam@fb.com>

Reviewers: andor@apache.org

Closes #709 from ivmaykov/ZOOKEEPER-3194

(cherry picked from commit a109b8b5034a160c3ad0f4d2b790df962ff4dc47)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""c6bd49c4ce217cfbfc8162158c471a9254a366f2"", ""author"": {""name"": ""Ilya Maykov"", ""email"": ""ilyam@fb.com"", ""date"": ""2018-11-27T20:04:31Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2018-11-27T20:05:46Z""}}"
1695,SubmitCommit,2018-12-07 12:11:39,Michael Edwards,fork_close,"ZOOKEEPER-2778: QuorumPeer: encapsulate addresses

[ZOOKEEPER-2778] QuorumPeer: encapsulate quorum/election/client addresses in an AddressTuple held through an AtomicReference

Author: Michael Edwards <Michael Edwards>
Author: Michael Edwards <medwards@bitpusher.com>

Reviewers: andor@apache.org

Closes #707 from mkedwards/branch-3.5 and squashes the following commits:

78df674c4 [Michael Edwards] [ZOOKEEPER-2778] QuorumPeer: halt old QCM when clobbering existing election algorithm
5038179e2 [Michael Edwards] [ZOOKEEPER-2778] QuorumPeer: warn when clobbering existing election algorithm
bbeeebf87 [Michael Edwards] [ZOOKEEPER-2778] LeaderBeanTest: set up mock QuorumVerifier so that addresses get set
9701f0576 [Michael Edwards] [ZOOKEEPER-2778] QuorumPeer: fix access to newly private data members from ReconfigTest
0531d9c8e [Michael Edwards] [ZOOKEEPER-2778] QuorumPeer: fixes from code review
03d259bae [Michael Edwards] [ZOOKEEPER-2778] QuorumPeer: add fast path for already-non-null quorum/election address
4cd10c865 [Michael Edwards] [ZOOKEEPER-2778] QuorumPeer/QuorumCnxManager: address deadlock and visibility issues
3694a4e31 [Michael Edwards] [ZOOKEEPER-2778] QuorumPeer: encapsulate quorum/election/client addresses in an AddressTuple held through an AtomicReference","{""sha"": ""914c971a749fae624fd7610f94d761ca200440e8"", ""author"": {""name"": ""Michael Edwards"", ""email"": ""Michael Edwards"", ""date"": ""2018-12-07T12:11:39Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2018-12-07T12:11:39Z""}}"
1695,SubmitCommit,2018-12-10 14:29:12,Michael Edwards,fork_close,"ZOOKEEPER-1636: cleanup completion list of a failed multi request

(from Thawan Kooburat)

Author: Michael Edwards <Michael Edwards>

Reviewers: andor@apache.org

Closes #717 from mkedwards/ZOOKEEPER-1636-for-master

(cherry picked from commit b1fd480b2c8e0cc1429345ee04510d3849001c5c)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""4bd32bef2b75238e67b13bdfc7e6896d64c32434"", ""author"": {""name"": ""Michael Edwards"", ""email"": ""Michael Edwards"", ""date"": ""2018-12-10T14:28:57Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2018-12-10T14:29:12Z""}}"
1695,SubmitCommit,2018-12-17 14:19:47,lvfangmin,fork_close,"ZOOKEEPER-1818: Correctly handle potential inconsistent zxid/electionEpoch and peerEpoch during leader election

Rebasing Fangmin Lyu's patch from https://github.com/lvfangmin/zookeeper/tree/ZOOKEEPER-1818 onto the 3.5 branch (cumulative with other PRs in flight).

Author: Michael Edwards <medwards@bitpusher.com>
Author: Fangmin Lyu <fangmin@apache.org>

Reviewers: andor@apache.org

Closes #714 from mkedwards/ZOOKEEPER-1818 and squashes the following commits:

6adf67749 [Michael Edwards] Apply changes from #703 code review
65198539f [Fangmin Lyu] ZOOKEEPER-1818: Correctly handle potentially inconsistent zxid/electionEpoch and peerEpoch during leader election","{""sha"": ""193a6ed04a1f2ae19829db974878f5ecb6505cbf"", ""author"": {""name"": ""Fangmin Lyu"", ""email"": ""fangmin@apache.org"", ""date"": ""2018-12-17T14:19:47Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2018-12-17T14:19:47Z""}}"
1695,SubmitCommit,2018-12-19 12:49:04,ivmaykov,fork_close,"ZOOKEEPER-3174: Quorum TLS - support reloading trust/key store

Allow reloading SSL trust stores and key stores from disk when the files on disk change.

## Added support for reloading key/trust stores when the file on disk changes

- new property sslQuorumReloadCertFiles which controls the behavior for reloading the key and trust store files for QuorumX509Util. Reloading of key and trust store for ClientX509Util is not in this PR but could be added easily
- this allows a ZK server to keep running on a machine that uses short-lived certs that refresh frequently without having to restart the ZK process.

This is the branch-3.5 version of #680

Author: Ilya Maykov <ilyam@fb.com>

Reviewers: fangmin@apache.org, andor@apache.org

Closes #737 from ivmaykov/ZOOKEEPER-3174-branch3.5 and squashes the following commits:

6cc1d620f [Ilya Maykov] ZOOKEEPER-3219: Fix flaky FileChangeWatcherTest
df7294491 [Ilya Maykov] ZOOKEEPER-3174: Quorum TLS - support reloading trust/key store","{""sha"": ""17307740088a0365e341208d0d985a3da624db90"", ""author"": {""name"": ""Ilya Maykov"", ""email"": ""ilyam@fb.com"", ""date"": ""2018-12-19T12:49:04Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2018-12-19T12:49:04Z""}}"
1695,SubmitCommit,2018-12-23 01:59:19,eolivelli,fork_close,"ZOOKEEPER-3230: Add Apache NetBeans Maven project files to .gitignore

Author: Enrico Olivelli <eolivelli@apache.org>

Reviewers: phunt@apache.org

Closes #746 from eolivelli/ZOOKEEPER-3230-netbeans-maven-gitignore

Change-Id: Ifd31386069a867293d21825239a38c4f8c38b3f1
(cherry picked from commit 4212a5a4db4b46ad6da8ded59aa3533f852d1aad)
Signed-off-by: Patrick Hunt <phunt@apache.org>","{""sha"": ""3a6082403a04d8bff57fb09e52a71442697c6c46"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2018-12-23T01:57:36Z""}, ""committer"": {""name"": ""Patrick Hunt"", ""email"": ""phunt@apache.org"", ""date"": ""2018-12-23T01:59:19Z""}}"
1695,SubmitCommit,2019-01-02 12:41:22,ivmaykov,fork_close,"ZOOKEEPER-3228: [TLS] Fix key usage extension in test certs

Key usage extension is wrong in test certs created by X509TestHelpers. This works with Java SSL stack because it allows sloppy certs, but breaks with Netty's OpenSSL stack. My Netty OpenSSL code is not ready for upstream yet, but fixing the test cert extensions is a prerequisite and can go in separately.

Author: Ilya Maykov <ilyam@fb.com>

Reviewers: fangmin@apache.org, andor@apache.org

Closes #743 from ivmaykov/ZOOKEEPER-3228

(cherry picked from commit 2a3800f00f4c14dde97c42a54806ba3485f27183)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""355aef526072ff422aa348713bee3dad59be3c7e"", ""author"": {""name"": ""Ilya Maykov"", ""email"": ""ilyam@fb.com"", ""date"": ""2019-01-02T12:41:06Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-01-02T12:41:22Z""}}"
1695,SubmitCommit,2019-01-03 14:57:54,anmolnar,fork_close,"ZOOKEEPER-3222: Flaky: multiple intermittent segfaults in C++ tests

1. Removed the failing test case: client cannot be validated after closing.
2. Explicitly close the client before creating new.

Author: Andor Molnar <andor@cloudera.com>

Reviewers: fangmin@apache.org, andor@apache.org

Closes #740 from anmolnar/ZOOKEEPER-3222

(cherry picked from commit f644f3d63e3d1efd3a977b2f4621734dfe617f31)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""94b18f7e2a6701ba6b4d42334b84ef70d8708a03"", ""author"": {""name"": ""Andor Molnar"", ""email"": ""andor@cloudera.com"", ""date"": ""2019-01-03T14:57:39Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-01-03T14:57:54Z""}}"
1695,SubmitCommit,2019-01-03 15:33:21,eolivelli,fork_close,"ZOOKEEPER-3217: owasp job flagging slf4j on trunk

Disable OWASP checks about slf4j.
We are not using EventData, so ZooKeeper is not subject to https://nvd.nist.gov/vuln/detail/CVE-2018-8088

Author: Enrico Olivelli - Diennea <eolivelli@apache.org>
Author: Enrico Olivelli <eolivelli@apache.org>

Reviewers: phunt@apache.org, andor@apache.org

Closes #736 from eolivelli/fix/ZOOKEEPER-3217-owasp and squashes the following commits:

7dd4473a1 [Enrico Olivelli] Add missing license header
dc9bd75cd [Enrico Olivelli - Diennea] ZOOKEEPER-3217 owasp job flagging slf4j on trunk

(cherry picked from commit 4a8fda7031d68236441b13bd878936b2607c5244)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""b966517208c2c7a6919e4e3af9b5153a921c50b1"", ""author"": {""name"": ""Enrico Olivelli - Diennea"", ""email"": ""eolivelli@apache.org"", ""date"": ""2019-01-03T15:32:46Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-01-03T15:33:21Z""}}"
1695,SubmitCommit,2019-01-04 15:21:29,anmolnar,fork_close,"ZOOKEEPER-3233: Run github pre-commit hook tests on 4 threads (branch-3.5)

1. Changed number of threads: 8 -> 4
2. Turned off test.output: yes -> no

(backport from master)

Author: Andor Molnar <andor@apache.org>

Reviewers: andor@apache.org

Closes #754 from anmolnar/ZOOKEEPER-3233_35","{""sha"": ""7f084215e635cf9e572555ec23c55ddf0e73d6b8"", ""author"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-01-04T15:21:29Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-01-04T15:21:29Z""}}"
1695,SubmitCommit,2019-01-07 14:34:19,coheigea,fork_close,"ZOOKEEPER-3197: Improve documentation in ZooKeeperServer.superSecret

Author: Colm O hEigeartaigh <coheigea@apache.org>

Reviewers: andor@apache.org

Closes #752 from coheigea/ZOOKEEPER-3197

(cherry picked from commit 36b8711ebfd7ea749d547a52ddcd7d8853931728)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""58552af97aa89ccf5b0c3e962acbd61303d72e2e"", ""author"": {""name"": ""Colm O hEigeartaigh"", ""email"": ""coheigea@apache.org"", ""date"": ""2019-01-07T14:34:02Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-01-07T14:34:19Z""}}"
1695,SubmitCommit,2019-01-08 09:25:30,nkalmar,fork_close,"ZOOKEEPER-3029: MAVEN MIGRATION 3.5 -

Author: Norbert Kalmar <nkalmaryahoo.com>

Reviewers: andorapache.org

Closes #708 from nkalmar/ZOOKEEPER-3029r and squashes the following commits:

4b1354f41 [Norbert Kalmar] ZOOKEEPER-3029 - add java clover coverage
9c4591ce5 [Norbert Kalmar] ZOOKEEPER-3029 - fix pom issues and clover classpath
5b9350abd [Norbert Kalmar] ZOOKEEPER-3029 - fix C maven test classpath issues
69a2c51b6 [Norbert Kalmar] ZOOKEEPER-3029 - change git-wip-us git to gitbox
daf273a7e [Norbert Kalmar] ZOOKEEPER-3029 - remove build.xml from c-client, use maven
e328cb812 [Norbert Kalmar] ZOOKEEPER-3029 - fix cppunit tests
5133abe46 [Norbert Kalmar] ZOOKEEPER-3029 - fix portAssigment bug with maven
eb7b4abfb [Norbert Kalmar] ZOOKEEPER-3029 - fix jute dependency import
d786b90a2 [Norbert Kalmar] ZOOKEEPER-3029 - Build C library and fix tests
438cd43de [Norbert Kalmar] ZOOKEEPER-3029 - add pom.xml for jute, client and server

Author: Norbert Kalmar <nkalmar@yahoo.com>

Reviewers: andor@apache.org

Closes #755 from nkalmar/ZOOKEEPER-3029-3.5 and squashes the following commits:

366e34eed [Norbert Kalmar] ZOOKEEPER-3029 revert netty to version 3
98066f097 [Norbert Kalmar] ZOOKEEPER-3029: add pom.xml for jute, client and server","{""sha"": ""eb8a80134e2af16aff579fa486d2485aa3db75d0"", ""author"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@yahoo.com"", ""date"": ""2019-01-08T09:25:30Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-01-08T09:25:30Z""}}"
1695,SubmitCommit,2019-01-08 16:21:19,sknot-rh,fork_close,"ZOOKEEPER-3210: typo in zookeeperInternals doc

Author: Stanislav Knot <sknot@redhat.com>

Reviewers: fangmin@apache.org, andor@apache.org

Closes #732 from stanlyDoge/patch-1

(cherry picked from commit c358dce653874ae4b97ce26629e3ddba00c8b669)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""f38d51988ce8638a428113baa7096e6de55ccde8"", ""author"": {""name"": ""Stanislav Knot"", ""email"": ""sknot@redhat.com"", ""date"": ""2019-01-08T16:21:00Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-01-08T16:21:19Z""}}"
1695,SubmitCommit,2019-01-08 16:25:51,nkalmar,fork_close,"ZOOKEEPER-3226: MAVEN MIGRATION - 3.5 -

Author: Norbert Kalmar <nkalmaryahoo.com>

Reviewers: andorapache.org

Closes #741 from nkalmar/ZOOKEEPER-3226

Author: Norbert Kalmar <nkalmar@yahoo.com>

Reviewers: andor@apache.org

Closes #758 from nkalmar/ZK-3226-3.5","{""sha"": ""5cb204728d57ab966413fb9e3e76f7c65e98ae9e"", ""author"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@yahoo.com"", ""date"": ""2019-01-08T16:25:51Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-01-08T16:25:51Z""}}"
1695,SubmitCommit,2019-01-09 14:09:37,coheigea,fork_close,"ZOOKEEPER-3235: Enable secure processing and disallow DTDs in the SAXParserFactory

It's good security practice to set the secure processing feature on SAXParserFactory and to disallow Doctypes if they aren't needed.

Author: Colm O hEigeartaigh <coheigea@apache.org>

Reviewers: andor@apache.org

Closes #716 from coheigea/sax_secureproc

(cherry picked from commit a5b3114d70d03f70b068b209fe393388f3c77991)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""fdcf0ecd1916083239c3b7c0bdeef63898dc2907"", ""author"": {""name"": ""Colm O hEigeartaigh"", ""email"": ""coheigea@apache.org"", ""date"": ""2019-01-09T14:09:14Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-01-09T14:09:37Z""}}"
1695,SubmitCommit,2019-01-11 09:15:52,nkalmar,fork_close,"ZOOKEEPER-3171: MAVEN MIGRATION - 3.5 -

Author: Norbert Kalmar <nkalmaryahoo.com>

Reviewers: andorapache.org

Closes #745 from nkalmar/ZOOKEEPER-3171r and squashes the following commits:

deb5ed337 [Norbert Kalmar] ZOOKEEPER-3171 - fix releaseaudit excludes
d70503e76 [Norbert Kalmar] ZOOKEEPER-3171 - Add recipes and contrib maven build

Author: Norbert Kalmar <nkalmar@yahoo.com>

Reviewers: andor@apache.org

Closes #765 from nkalmar/ZK-3171-3.5","{""sha"": ""09140a39ae656494ca641c51e14c6ca486b9b998"", ""author"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@yahoo.com"", ""date"": ""2019-01-11T09:15:52Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-01-11T09:15:52Z""}}"
1695,SubmitCommit,2019-01-11 13:06:33,eolivelli,fork_close,"ZOOKEEPER-3223: Configure Spotbugs

- add spotbugs configuration (default)
- make build pass spotbugs

Author: Enrico Olivelli <eolivelliapache.org>

Reviewers: andorapache.org

Author: Enrico Olivelli <eolivelli@apache.org>

Reviewers: andor@apache.org

Closes #763 from eolivelli/fix/ZOOKEEPER-3223-branch-3.5","{""sha"": ""d6b4cd6c18438d080cc96b2353fd16ec6361efb0"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2019-01-11T13:06:33Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-01-11T13:06:33Z""}}"
1695,SubmitCommit,2019-01-14 14:36:32,Michael Edwards,fork_close,"ZOOKEEPER-3202: Add timing margin to improve reliability of testClientServerSSL()

Allowing just 5 seconds for 3 quorum peers to start and elect a leader is a bit tight, at least when running 4 test processes in parallel inside a (Linux) Docker container on a (non-Linux) laptop.  Add up to 10 seconds of extra margin.

Author: Michael Edwards <Michael Edwards>

Reviewers: andor@apache.org

Closes #723 from mkedwards/ZOOKEEPER-3202

(cherry picked from commit 14eefcb7bbd1cc93d4738998ca7343cd9cae8277)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""409ac0c036ff9e6f3860a832d4fbd5319487003f"", ""author"": {""name"": ""Michael Edwards"", ""email"": ""Michael Edwards"", ""date"": ""2019-01-14T14:36:15Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-01-14T14:36:32Z""}}"
1695,SubmitCommit,2019-01-14 18:40:33,ivmaykov,fork_close,"ZOOKEEPER-3195: TLS - disable client-initiated renegotiation

Summary: client-initiated renegotiation is insecure and is vulnerable to MITM attacks.
Unfortunately, the feature is enabled in Java by default. This disables it.
See https://bugs.openjdk.java.net/browse/JDK-7188658 and
https://www.oracle.com/technetwork/java/javase/documentation/tlsreadme-141115.html

Test Plan: manually tested by running a secure ZK server and probing the listening port
with python's sslyze tool (using `sslyze --reneg ...`). Tested on Java 8, 9, 10, and 11.

Author: Ilya Maykov <ilyam@fb.com>

Reviewers: andor@apache.org

Closes #710 from ivmaykov/ZOOKEEPER-3195

(cherry picked from commit 38fab85ab476ffea3dd9668eac6fd6e09a190a09)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""41a0da19492fb04a8ef94aa474ef3a948fe791e8"", ""author"": {""name"": ""Ilya Maykov"", ""email"": ""ilyam@fb.com"", ""date"": ""2019-01-14T18:40:19Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-01-14T18:40:33Z""}}"
1695,SubmitCommit,2019-01-14 18:50:18,nkalmar,fork_close,"ZOOKEEPER-3122: MAVEN MIGRATION - 3.5 - - pom versions fix

Author: Norbert Kalmar <nkalmar@yahoo.com>

Reviewers: andor@apache.org

Closes #773 from nkalmar/ZK-3122-3.5 and squashes the following commits:

c4e5cddea [Norbert Kalmar] ZOOKEEPER-3122 - remove contrib build from default build profile
90abc3451 [Norbert Kalmar] ZOOKEEPER-3122 - pom versions fix","{""sha"": ""cc363ec4a063fc63105842fcf676fcd6ec6fc3a2"", ""author"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@yahoo.com"", ""date"": ""2019-01-14T18:50:18Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-01-14T18:50:18Z""}}"
1695,SubmitCommit,2019-01-23 15:16:19,eolivelli,fork_close,"ZOOKEEPER-3223: Configure spotbugs - part 2

    - move to spotbugs 3.1.9
    - disable spotbugs on contrib package
    - fix spotbugs warnings on recipes
    - add commons-lang 2.6 dependency in order to fix build

Author: Enrico Olivelli <eolivelli@apache.org>

Reviewers: andor@apache.org

Closes #783 from eolivelli/fix/spotbugs-branch-3.5-part2","{""sha"": ""f20f0bcb1a35c4cfbf6d80b431a2abe67e954fb5"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2019-01-23T15:16:19Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-01-23T15:16:19Z""}}"
1695,SubmitCommit,2019-01-24 10:53:18,ivmaykov,fork_close,"ZOOKEEPER-3176: Quorum TLS - add SSL config options

Add  SSL config options for enabled protocols and client auth mode.
Improve handling of SSL config options for protocols and cipher suites - previously these came from system properties, now they can come from ZKConfig which means they are easier to isolate in tests, and now we don't need to parse system properties every time we create a secure socket.

## Added more options for ssl settings to X509Util and encapsulate them better
- previously, some SSL settings came from a `ZKConfig` and others came from global `System.getProperties()`. This made it hard to isolate certain settings in tests.
- now all SSL-related settings come from the `ZKConfig` object used to create the SSL context
- new settings added:
- `zookeeper.ssl(.quorum).enabledProtocols` - list of enabled protocols. If not set, defaults to a single-entry list with the value of `zookeeper.ssl(.quorum).protocol`.
- `zookeeper.ssl(.quorum).clientAuth` - can be ""NONE"", ""WANT"", or ""NEED"". This controls whether the server doesn't want / allows / requires the client to present an X509 certificate.
- `zookeeper.ssl(.quorum).handshakeDetectionTimeoutMillis` - timeout for the first read of 5 bytes to detect the transport mode (TLS or plaintext) of a client connection made to a `UnifiedServerSocket`

Author: Ilya Maykov <ilyam@fb.com>

Reviewers: andor@apache.org

Closes #681 from ivmaykov/ZOOKEEPER-3176

(cherry picked from commit 0f44fd9629704e32cc9719eb26d14ecf11e61e90)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""d4512489eb174ae7d736cfa009bf689c23c70903"", ""author"": {""name"": ""Ilya Maykov"", ""email"": ""ilyam@fb.com"", ""date"": ""2019-01-24T10:53:00Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-01-24T10:53:18Z""}}"
1695,SubmitCommit,2019-01-24 14:28:58,eolivelli,fork_close,"ZOOKEEPER-3254: Drop 'beta' qualifier from Branch 3.5

Author: Enrico Olivelli <eolivelli@apache.org>

Reviewers: andor@apache.org

Closes #785 from eolivelli/fix/drop-beta","{""sha"": ""23870c0bbd98b05874079eb44064b5f619312d50"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2019-01-24T14:28:58Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-01-24T14:28:58Z""}}"
1695,SubmitCommit,2019-01-25 13:37:46,ivmaykov,fork_close,"ZOOKEEPER-3229: [TLS] add AES-256 ciphers to default cipher list

- Add AES-256 cipher suites
- Add AES-128-...-SHA cipher suites (for compatibility with Netty OpenSSL transport)
- code cleanup: split up the suites into CBC and GCM ciphers and put them in different order when constructing java8 / java9 defaults.

Author: Ilya Maykov <ilyam@fb.com>

Reviewers: andor@apache.org

Closes #744 from ivmaykov/ZOOKEEPER-3229

(cherry picked from commit 3583bbf0f89861a20c23cb417a1fd93daf12a1e1)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""32f941104990d3668f8075d27ea96dbd089cead8"", ""author"": {""name"": ""Ilya Maykov"", ""email"": ""ilyam@fb.com"", ""date"": ""2019-01-25T13:37:30Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-01-25T13:37:46Z""}}"
1695,SubmitCommit,2019-01-29 14:14:33,lwjli,fork_close,"ZOOKEEPER-3250: typo in doc - zookeeperInternals

""has long as"" -> ""as long as""

Author: lwjli <liwenjie.thu07@gmail.com>

Reviewers: andor@apache.org

Closes #782 from lwjli/ZOOKEEPER-3250

(cherry picked from commit 6094efde6a043462b464be7d93a541176a220b2f)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""631d1b284f0edb1c4f6b0fb221bf2428aec71aaa"", ""author"": {""name"": ""lwjli"", ""email"": ""liwenjie.thu07@gmail.com"", ""date"": ""2019-01-29T14:14:18Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-01-29T14:14:33Z""}}"
1695,SubmitCommit,2019-01-29 14:18:03,eolivelli,fork_close,"ZOOKEEPER-3256: Enable OWASP checks to Maven build

Author: Enrico Olivelli <eolivelli@apache.org>

Reviewers: andor@apache.org

Closes #788 from eolivelli/fix/owasp and squashes the following commits:

972ff67bf [Enrico Olivelli] Update ant task defs and force update of patterns
bd96cb669 [Enrico Olivelli] ZOOKEEPER-3256: Enable OWASP checks  to Maven build

(cherry picked from commit f40510534c34e6c239eb97a052caf54650593d4e)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""9be27172c3567db0a43ee0507d84b2a81cc7c7e0"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2019-01-29T14:17:46Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-01-29T14:18:03Z""}}"
1695,SubmitCommit,2019-01-29 14:57:52,yaojingguo,fork_close,"Fix typos

I think that this change is too trivial to need a JIRA issue. If a JIRA issue is needed, i can create it.

Author: Jingguo Yao <yaojingguo@gmail.com>

Reviewers: fangmin@apache.org, andor@apache.org

Closes #777 from yaojingguo/fix-typos

(cherry picked from commit 22e4acc802904231d537ae18f479cfc729851d87)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""493ab15d099054266720d990ef4568f953d8f227"", ""author"": {""name"": ""Jingguo Yao"", ""email"": ""yaojingguo@gmail.com"", ""date"": ""2019-01-29T14:57:36Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-01-29T14:57:52Z""}}"
1695,SubmitCommit,2019-01-29 15:08:39,coheigea,fork_close,"ZOOKEEPER-3236: Upgrade BouncyCastle

Author: Colm O hEigeartaigh <coheigea@apache.org>

Reviewers: fangmin@apache.org, andor@apache.org

Closes #757 from coheigea/bouncycastle

(cherry picked from commit 693b92e8615c3559f4f08032b94928447fa43e98)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""bb0ca93d8138b440a024a0be86fe0213a577117f"", ""author"": {""name"": ""Colm O hEigeartaigh"", ""email"": ""coheigea@apache.org"", ""date"": ""2019-01-29T15:08:22Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-01-29T15:08:39Z""}}"
1695,SubmitCommit,2019-01-29 15:32:15,Brian Nixon,fork_close,"ZOOKEEPER-3240: Close socket on Learner shutdown to avoid dangling so…

…cket

Author: Brian Nixon <nixon@fb.com>

Reviewers: hanm@apache.org, andor@apache.org

Closes #767 from enixon/learner-close-socket

(cherry picked from commit de7b87cd69dfd38787270c71f00576f9a235e582)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""015f9d662f2638b5ba66f07ac963de9f11d80bfd"", ""author"": {""name"": ""Brian Nixon"", ""email"": ""nixon@fb.com"", ""date"": ""2019-01-29T15:31:58Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-01-29T15:32:15Z""}}"
1695,SubmitCommit,2019-01-30 10:52:50,anmolnar,fork_close,"Revert ""ZOOKEEPER-3240: Close socket on Learner shutdown to avoid dangling so…""

This reverts commit 015f9d662f2638b5ba66f07ac963de9f11d80bfd.","{""sha"": ""41db89e31aca2fa4818a033b3f1105460614f6e8"", ""author"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-01-30T10:52:50Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-01-30T10:52:50Z""}}"
1695,SubmitCommit,2019-01-31 14:51:18,asdf2014,fork_close,"ZOOKEEPER-2825: 1. Remove unnecessary import; 2. `contains` instead of `indexOf > -1` for more readable; 3. Standardize `StringBuilder#append` usage for CLIENT module

* Remove unnecessary import;
* `contains` instead of `indexOf > -1` for more readable;
* Standardize `StringBuilder#append` usage for CLIENT module

Author: asdf2014 <benedictjin2016@gmail.com>

Reviewers: afine@apache.org, andor@apache.org

Closes #297 from asdf2014/ZOOKEEPER-2825

(cherry picked from commit cbc63dbaad14fa22e8855bfdaa71c873e0796591)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""4a62457cec4d68547da13b52c2999bdf9e8fc95f"", ""author"": {""name"": ""asdf2014"", ""email"": ""benedictjin2016@gmail.com"", ""date"": ""2019-01-31T14:50:59Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-01-31T14:51:18Z""}}"
1695,SubmitCommit,2019-01-31 14:55:27,asdf2014,fork_close,"ZOOKEEPER-2826: Code refactoring for `CLI` module

* Fix spell issues
* Remove unnecessary `import`
* Make initialization block that related with `options.addOption` into static
* Standardize `StringBuilder#append` usage
* Using `try` clause to release the resource of stream

Author: asdf2014 <benedictjin2016@gmail.com>

Reviewers: andor@apache.org

Closes #298 from asdf2014/ZOOKEEPER-2826

(cherry picked from commit 8f62ee9740c9cdd0e4e3ec5c6d906236fe35a003)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""099e9329dbd3db350184d44067ac2e399f05e495"", ""author"": {""name"": ""asdf2014"", ""email"": ""benedictjin2016@gmail.com"", ""date"": ""2019-01-31T14:55:07Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-01-31T14:55:27Z""}}"
1695,SubmitCommit,2019-02-04 16:09:04,Zsombor Gegesy,fork_close,"ZOOKEEPER-3265: Fix fileset to match shell scripts and python files i…

…n contrib directory.

Author: Zsombor Gegesy <zsombor@apache.org>

Reviewers: andor@apache.org

Closes #798 from gzsombor/ZOOKEEPER-3265-master

(cherry picked from commit 190df6abd661dfd5b07bc0657b6f8b0b14f86a8c)
Signed-off-by: Andor Molnar <andor@cloudera.com>","{""sha"": ""75f9a1ffa6bed2effa5588318423479c566e73a7"", ""author"": {""name"": ""Zsombor Gegesy"", ""email"": ""zsombor@apache.org"", ""date"": ""2019-02-04T16:08:49Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@cloudera.com"", ""date"": ""2019-02-04T16:09:04Z""}}"
1695,SubmitCommit,2019-02-06 10:18:31,lvfangmin,fork_close,"ZOOKEEPER-3131: Remove watcher when session closed in NettyServerCnxn

Backport of https://github.com/apache/zookeeper/commit/95557a30edbdfdf4479a1cb142e0d82a4ba6061d

Author: Fangmin Lyu <allenlyu@fb.com>

Reviewers: andor@apache.org

Closes #804 from anmolnar/ZOOKEEPER-3131_35","{""sha"": ""a2a09ce21d9745ad686b612555fb97d1adafc57b"", ""author"": {""name"": ""Fangmin Lyu"", ""email"": ""allenlyu@fb.com"", ""date"": ""2019-02-06T10:18:31Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-02-06T10:18:31Z""}}"
1695,SubmitCommit,2019-02-06 11:27:22,anmolnar,fork_close,ZOOKEEPER-1392: Request READ or ADMIN permission for getAcl(),"{""sha"": ""17c6b264f4e79ddb6e9d27b968d48456024d18cc"", ""author"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-01-09T16:22:40Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-02-06T11:27:22Z""}}"
1695,SubmitCommit,2019-02-06 16:42:29,anmolnar,fork_close,"ZOOKEEPER-3204: Reconfig tests are constantly failing on 3.5 after applying Java 11 fix

Looks like that Netty 3 also having problems with correctly closing sockets and we keep getting ""Bind failed"" exceptions on the 3.5 branch.

In this patch I'm trying to cherry-pick the upgrade-to-Netty4 commit by ivmaykov from master branch and it looks like it solves the problem.

I know this change is quite radical at this time of 3.5 release, but here're my 2 cents:
- Netty 3 is rather old, would be a lot nicer to release 3.5 with a shiny new Netty lib support which will become stable in this release anyway (Netty is optional in 3.4)
- After digging the net, I have absolutely no idea how to fix the Java11 binding issue with Netty 3. I suspect that the lib is as old as nobody bothers with the problem.

Please take your time for a careful review.

Author: Andor Molnar <andor@apache.org>
Author: Ilya Maykov <ilyam@fb.com>

Reviewers: andor@apache.org

Closes #753 from anmolnar/ZOOKEEPER-3204 and squashes the following commits:

00905f1ca [Andor Molnar] ZOOKEEPER-3204. Nit code review fixes
032edf801 [Andor Molnar] ZOOKEEPER-3204. Revert more accidental changes
9bd9096cf [Andor Molnar] ZOOKEEPER-3204. Revert some changes which accidently picked from master
da015c071 [Ilya Maykov] ZOOKEEPER-3152: Port ZK netty stack to netty4","{""sha"": ""33cc2cac333c0ee628570fc8954a77515cb1ce30"", ""author"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-02-06T16:42:29Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-02-06T16:42:29Z""}}"
1695,SubmitCommit,2019-02-07 06:14:25,eolivelli,fork_close,"ZOOKEEPER-3262: Update dependencies flagged by OWASP report

- Upgrade Jetty to 9.4.14.v20181114
- Upgrade Jackson to 2.9.8
- Suppress a false positive about Netty  (https://github.com/jeremylong/DependencyCheck/issues/1653)
- Suppress false positives against ZooKeeper itself: CVE-2018-8012 and  CVE-2016-5017

Author: Enrico Olivelli <eolivelliapache.org>

Author: Enrico Olivelli <eolivelli@gmail.com>
Author: Enrico Olivelli <eolivelli@apache.org>

Reviewers: andor@apache.org

Closes #805 from eolivelli/fix/owasp-35 and squashes the following commits:

811bfefe5 [Enrico Olivelli] Merge branch 'branch-3.5' into fix/owasp-35
e7089a0ab [Enrico Olivelli] ZOOKEEPER-3262: Update dependencies flagged by OWASP report","{""sha"": ""3b8e54292228f5cb465c50d89f16f229c8bd8e6c"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@gmail.com"", ""date"": ""2019-02-07T06:14:25Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-02-07T06:14:25Z""}}"
1695,SubmitCommit,2019-02-07 10:15:36,tisonkun,fork_close,"Fix typos in zookeeperOver.md

Author: tison <wander4096@gmail.com>

Reviewers: andor@apache.org

Closes #807 from TisonKun/document_0

(cherry picked from commit f78cbd17bfb5ad6310afc50181ca56bc10b78aa7)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""391b2552927ccbcfeaef0b2ce3e2e8ff4b43b3f1"", ""author"": {""name"": ""tison"", ""email"": ""wander4096@gmail.com"", ""date"": ""2019-02-07T10:15:16Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-02-07T10:15:36Z""}}"
1695,SubmitCommit,2019-02-07 10:20:21,eolivelli,fork_close,"ZOOKEEPER-3273: Sync BouncyCastle version in Maven build and Ant build

Uee 1.60 in Ant, the same version used in Maven

Author: Enrico Olivelli <eolivelli@apache.org>

Reviewers: andor@apache.org

Closes #808 from eolivelli/fix/ZOOKEEPER-3273

(cherry picked from commit 8a2a1b5bced7810b9205d111181c8ae796670955)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""668499ea2f13e0029838f2b5dfeefe361e1ad680"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2019-02-07T10:20:05Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-02-07T10:20:21Z""}}"
1695,SubmitCommit,2019-02-12 14:32:10,ivmaykov,fork_close,"ZOOKEEPER-3276: Make X509UtilTest.testCreateSSLServerSocketWithPort less flaky

Pick the free port right before using it, so there is less time for another thread/process to grab it from under us.

Author: Ilya Maykov <ilyam@fb.com>

Reviewers: andor@apache.org

Closes #816 from ivmaykov/ZOOKEEPER-3276

(cherry picked from commit bc5083f85a72837d9cf5b32b82eecc6d0c06a35c)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""c47b240809d9c4d09779072bce970e493bea3bc0"", ""author"": {""name"": ""Ilya Maykov"", ""email"": ""ilyam@fb.com"", ""date"": ""2019-02-12T14:31:55Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-02-12T14:32:10Z""}}"
1695,SubmitCommit,2019-02-12 20:02:00,anmolnar,fork_close,"ZOOKEEPER-3275: Fix release targets: package, tar, mvn-deploy

Fixed recipes and contrib path names for package and tar targets.

Author: Andor Molnar <andor@apache.org>

Reviewers: andor@apache.org

Closes #817 from anmolnar/ZOOKEEPER-3275 and squashes the following commits:

64db892af [Andor Molnar] ZOOKEEPER-3275. Fixed bin-package target
e8ad3d483 [Andor Molnar] ZOOKEEPER-3275. Added pom.xml to tar file, fixed mvn-deploy task
6667c2ff0 [Andor Molnar] ZOOKEEPER-3275. Updated release audit warnings exlcudes
5abf3b444 [Andor Molnar] ZOOKEEPER-3275. Fixed path of contrib and docs project
4e97ae8a7 [Andor Molnar] ZOOKEEPER-3275. Fixed recipes folders in ant package target

(cherry picked from commit f3f7c79bb1fd4c03d557948199cd1ce363668bfa)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""d40014158f3f6edcc33649d0f7b8bbb808a837df"", ""author"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-02-12T20:01:41Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-02-12T20:02:00Z""}}"
1695,SubmitCommit,2019-02-15 09:53:08,nkalmar,fork_close,"ZOOKEEPER-3028: MAVEN MIGRATION - 3.5 - Create maven assembly

Author: Norbert Kalmar <nkalmaryahoo.com>

Reviewers: andorapache.org

Closes #776 from nkalmar/ZK-3028 and squashes the following commits:

c255d2503 [Norbert Kalmar] ZOOKEEPER-3028 - fix javadoc warnings
b6ec90e11 [Norbert Kalmar] ZOOKEEPER-3028 - fix log4j.properties problem not getting into target
a54e49b49 [Norbert Kalmar] ZOOKEEPER-3028 - Remove empty test jar generation
be73ead6b [Norbert Kalmar] ZOOKEEPER-3028 - update README.md
d81a586bd [Norbert Kalmar] ZOOKEEPER-3028 update relese procedures
42389350e [Norbert Kalmar] ZOOKEEPER-3028 - Add maven release procedure to readme.md
dc3ab0152 [Norbert Kalmar] ZOOKEEPER-3028 - fix jars, add javadoc jar
07dfcf2d9 [Norbert Kalmar] ZOOKEEPER-3028 - move assembly descriptor
e22c708c3 [Norbert Kalmar] ZOOKEEPER-3028 - fix tarball to contain buildable source
859dfb949 [Norbert Kalmar] ZOOKEEPER-3028 add apache release
46c2f93bf [Norbert Kalmar] ZOOKEEPER-3028 add release plugin
8c56e3c70 [Norbert Kalmar] ZOOKEEPER-3028 - Create maven assembly

Author: Norbert Kalmar <nkalmar@yahoo.com>

Reviewers: andor@apache.org

Closes #813 from nkalmar/ZK-3028_3.5","{""sha"": ""4a856e5d61d681b88309d4288543f17cf1a5b985"", ""author"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@yahoo.com"", ""date"": ""2019-02-15T09:53:08Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-02-15T09:53:08Z""}}"
1695,SubmitCommit,2019-02-15 11:40:03,anmolnar,fork_close,"Fix ant package target: pom.template, zooinspector

Quick fix for the release process.

Author: Andor Molnar <andor@apache.org>

Reviewers: nkalmar@yahoo.com, eolivelli@gmail.com

Closes #821 from anmolnar/fix_package and squashes the following commits:

170acfd2d [Andor Molnar] Added copy pom.template task to bin-package target
fe0b95b46 [Andor Molnar] Fix ant package target: pom.template, zooinspector

(cherry picked from commit a7b00ed47784f101cbd38efaecb89192ae9d3344)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""e0ffee99187cacce9fc10880993c6f60a1750e08"", ""author"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-02-15T11:39:38Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-02-15T11:40:03Z""}}"
1695,SubmitCommit,2019-02-15 14:34:27,ivmaykov,fork_close,"ZOOKEEPER-3272: Clean up netty4 code per Norman Maurer's review comments

Netty4 code clean-up per the discussion in PR #753.

Author: Ilya Maykov <ilyam@fb.com>

Reviewers: andor@apache.org

Closes #819 from ivmaykov/ZOOKEEPER-3272-branch-3.5","{""sha"": ""a4ae9cd53b48d347d1f9f987416a4b390b560b36"", ""author"": {""name"": ""Ilya Maykov"", ""email"": ""ilyam@fb.com"", ""date"": ""2019-02-15T14:34:27Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-02-15T14:34:27Z""}}"
1695,SubmitCommit,2019-02-15 14:37:16,ivmaykov,fork_close,"ZOOKEEPER-3277: Add trace listener in NettyServerCnxnFactory only if trace logging is enabled

Based on the code review discussion in #819

Author: Ilya Maykov <ilyam@fb.com>

Reviewers: andor@apache.org

Closes #820 from ivmaykov/ZOOKEEPER-3277

(cherry picked from commit 226af6e29bc00fe4a33269351f20ddf5b6658fd2)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""5e57e30a51fde22e727d7910d53216a014de0a4e"", ""author"": {""name"": ""Ilya Maykov"", ""email"": ""ilyam@fb.com"", ""date"": ""2019-02-15T14:36:55Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-02-15T14:37:16Z""}}"
1695,SubmitCommit,2019-02-18 16:06:09,ivmaykov,fork_close,"ZOOKEEPER-3274: Use CompositeByteBuf to queue data in NettyServerCnxn

This avoids unnecessary buffer copies and resizes.

Author: Ilya Maykov <ilyam@fb.com>

Reviewers: andor@apache.org

Closes #810 from ivmaykov/ZOOKEEPER-3274

(cherry picked from commit 5375c2542977223ff9beaeb62d6ee5aed783118e)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""63e656d47571471f5c283276f56cf54eb3414628"", ""author"": {""name"": ""Ilya Maykov"", ""email"": ""ilyam@fb.com"", ""date"": ""2019-02-18T16:05:51Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-02-18T16:06:09Z""}}"
1695,SubmitCommit,2019-02-22 14:50:52,eolivelli,fork_close,"ZOOKEEPER-3234: Add Travis-CI configuration file

Use Travis-CI in order to build ZooKeeper on multiple JDKs and run spotbugs on every supported JDK

Author: Enrico Olivelli <eolivelli@apache.org>

Reviewers: andor@apache.org

Closes #829 from eolivelli/fix/travis-35","{""sha"": ""cde09d8eb608645353582978d5c03c11e99c753e"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2019-02-22T14:50:52Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-02-22T14:50:52Z""}}"
1695,SubmitCommit,2019-02-26 15:34:26,meszibalu,fork_close,"ZOOKEEPER-3034: Facing issues while building from source

Added a new macro (CHECK_CPPUNIT) which tries to use AM_PATH_CPPUNIT or
PKG_CHECK_MODULES.

Author: Balazs Meszaros <balazs.meszaros@cloudera.com>

Reviewers: andor@apache.org

Closes #803 from meszibalu/my/autoconf

(cherry picked from commit b3577278ab23f142fdb104a07bd61fbc74a4f152)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""eb3b42ab68993a6cf6024d3aed1f58cd2e9729a9"", ""author"": {""name"": ""Balazs Meszaros"", ""email"": ""balazs.meszaros@cloudera.com"", ""date"": ""2019-02-26T15:31:46Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-02-26T15:34:26Z""}}"
1695,SubmitCommit,2019-02-26 16:05:45,nkalmar,fork_close,"ZOOKEEPER-3285: Maven migration - add convenience tar, assembly module and sha512 generation

Author: Norbert Kalmar <nkalmar@yahoo.com>

Reviewers: andor@apache.org

Closes #828 from nkalmar/master and squashes the following commits:

817077f5c [Norbert Kalmar] ZOOKEEPER-3285 - add some info on 3rd party plugin
af1fcd508 [Norbert Kalmar] ZOOKEEPER-3285 - remove zip generation and fix versions
c19d18605 [Norbert Kalmar] ZOOKEEPER-3285 - add Apache license headers
4e7b65945 [Norbert Kalmar] ZOOKEEPER-3285 - add auto sha512 checksum generation for all maven generated artifact
915d53084 [Norbert Kalmar] ZOOKEEPER-3285 - create convenience tar and assembly sub-module

(cherry picked from commit 54b4f8aa1ab23a175d460347d250fb9497a28a09)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""dc9b90bb17576ef61eb53f08eebe50d58736a2be"", ""author"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@yahoo.com"", ""date"": ""2019-02-26T16:03:51Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-02-26T16:05:45Z""}}"
1695,SubmitCommit,2019-02-27 11:30:22,anmolnar,fork_close,"Fix for lincense files and contrib folder during release

This patch fixes the following issues that have been experiences in 3.4.14-rc3:
- JLine license file is missing,
- jsr305 jar files is included in the release, but should be excluded,

This is going to backported to 3.5 and 3.4 branches too.

Author: Andor Molnar <andor@apache.org>

Reviewers: andor@apache.org

Closes #835 from anmolnar/fix_license_contrib_master and squashes the following commits:

bbe600f32 [Andor Molnar] jline-0.9.94 is not needed on master
206a5603a [Andor Molnar] Fix for lincese files and contrib folder during release

(cherry picked from commit 879c513a8d58ebbaa37342c532ec220ee1ab3939)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""ffde45a7dccfd3e60a9509b5a97804cf7fc2aa29"", ""author"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-02-27T11:30:08Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-02-27T11:30:22Z""}}"
1695,SubmitCommit,2019-02-27 16:26:18,nicolasguyomar,fork_close,"Fix typo in error log message, added missing space

Fix typo in error log message, added missing space

Author: nicolasguyomar <nicolas.guyomar@gmail.com>

Reviewers: phunt@apache.org

Closes #837 from nicolasguyomar/patch-1

Change-Id: I6ddf782aa1397908a436b57d709e4120104bb858
(cherry picked from commit d0b60bd3cb4fe724fe5ed1670bb7d3e30842373a)
Signed-off-by: Patrick Hunt <phunt@apache.org>","{""sha"": ""736189d3930374e6760e0215445435d420291b17"", ""author"": {""name"": ""nicolasguyomar"", ""email"": ""nicolas.guyomar@gmail.com"", ""date"": ""2019-02-27T16:25:58Z""}, ""committer"": {""name"": ""Patrick Hunt"", ""email"": ""phunt@apache.org"", ""date"": ""2019-02-27T16:26:18Z""}}"
1695,SubmitCommit,2019-03-06 02:25:38,phunt,fork_close,"Add .ant-targets-build.xml to the ignore list - ant generates this automatically when using bash completion.

Change-Id: I11ef3fd6d297c61dcc6108170fda04c5282f23fc
(cherry picked from commit 87e93b7922191f838f064abe7af3592408d83282)","{""sha"": ""89e2c12ad7b72e57e15761cd348af8de5d09b602"", ""author"": {""name"": ""Patrick Hunt"", ""email"": ""phunt@apache.org"", ""date"": ""2019-03-06T02:23:38Z""}, ""committer"": {""name"": ""Patrick Hunt"", ""email"": ""phunt@apache.org"", ""date"": ""2019-03-06T02:25:38Z""}}"
1695,SubmitCommit,2019-03-06 02:33:22,Samuel Just,fork_close,"ZOOKEEPER-3253: client should not send requests with cxid=-4, -2, or -1

- Add test for cxid rollover to 1
- Modify ClientCnxn.SendThread.getXid() to increment from MAX to 1.

Author: Samuel Just <sjust@salesforce.com>

Reviewers: phunt@apache.org

Closes #787 from athanatos/forupstream/ZOOKEEPER-3253

Change-Id: Ib3d111170bb086d6982f2cf0ee5cf8afd5157588
(cherry picked from commit e10c93a590cc1b73eebad48d18cfcbceb3ec0d4d)
Signed-off-by: Patrick Hunt <phunt@apache.org>","{""sha"": ""5d44251c251ecc90288d71bd1e199d097aa4a37a"", ""author"": {""name"": ""Samuel Just"", ""email"": ""sjust@salesforce.com"", ""date"": ""2019-03-06T02:32:04Z""}, ""committer"": {""name"": ""Patrick Hunt"", ""email"": ""phunt@apache.org"", ""date"": ""2019-03-06T02:33:22Z""}}"
1695,SubmitCommit,2019-03-06 03:33:16,anmolnar,fork_close,"Exclude spotbugs annotations jar from the release

Fix for 3.4.14-rc4: exclude `spotbugs-annotations` jar from the distribution.

Author: Andor Molnar <andor@apache.org>

Reviewers: phunt@apache.org

Closes #841 from anmolnar/fix_rc_exclude_spotbugsjar

Change-Id: Ie4a36613161e103fc2c50690281fa26c90f48d1b
(cherry picked from commit 372e713a9d2d9264417313e5d68e9437ffddd0f5)
Signed-off-by: Patrick Hunt <phunt@apache.org>","{""sha"": ""eac863f26fdb600fe589c72a56834abfecae9832"", ""author"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-03-06T03:32:11Z""}, ""committer"": {""name"": ""Patrick Hunt"", ""email"": ""phunt@apache.org"", ""date"": ""2019-03-06T03:33:16Z""}}"
1695,SubmitCommit,2019-03-11 18:54:38,anmolnar,fork_close,"ZOOKEEPER-2750: Document SSL Support for Atomic Broadcast protocol

Patch is twofold:

1. Added documentation and guideline to enable Quorum TLS communication including management of certificates

2. Added extra logging intentionally at `info` level to support TLS-enabled clusters which hopefully makes the validation of secured communication a lot easier.

Author: Andor Molnar <andor@apache.org>

Reviewers: phunt@apache.org, fangmin@apache.org

Closes #826 from anmolnar/ZOOKEEPER-2750 and squashes the following commits:

22360eb75 [Andor Molnar] ZOOKEEPER-2750. Nit language improvement
84f8063e4 [Andor Molnar] ZOOKEEPER-2750. Fixed some minor glitches reported by code reviews
124ca8ddd [Andor Molnar] ZOOKEEPER-2750. Cert import, small language fix
8487072d0 [Andor Molnar] ZOOKEEPER-2750. Added all supported SSL properties
8843eaf69 [Andor Molnar] ZOOKEEPER-2750. Added port unification docs + tweak TLS connection logging
b7fbf52e6 [Andor Molnar] ZOOKEEPER-2750. Some tiny formatting fixes
6ba6be370 [Andor Molnar] ZOOKEEPER-2750. Added Quorum TLS howto + some basic log messages to verify TLS communication
f8e51455a [Andor Molnar] ZOOKEEPER-2750. Started new documentation section for Quorum TLS","{""sha"": ""ebea25520ddf71ec07426e348a80761302f198c6"", ""author"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-03-11T18:47:08Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-03-11T18:54:38Z""}}"
1695,SubmitCommit,2019-03-11 20:56:52,Michael Edwards,fork_close,"ZOOKEEPER-3046: wait for clients to reconnect after restarting server

Comment from ZOOKEEPER-3046, explaining what failure signature motivated this change:

Still seeing test failures; basically a variant of ZOOKEEPER-2508. (After stopping/starting the server, we have to wait for all clients to reconnect before continuing the test.)

```
422005     [junit] 2018-11-25 21:25:50,228 [myid:127.0.0.1:16611] - INFO  [Time-limited test-SendThread(127.0.0.1:16611):ClientCnxn$SendThread1390] - Session establishment complete on serve       r localhost/127.0.0.1:16611, sessionid = 0x100007077c50001, negotiated timeout = 30000
422006     [junit] 2018-11-25 21:25:50,286 [myid:] - INFO  [Time-limited test:JUnit4ZKTestRunner$LoggedInvokeMethod98] - TEST METHOD FAILED testManyChildWatchersAutoReset
422007     [junit] org.apache.zookeeper.KeeperException$ConnectionLossException: KeeperErrorCode = ConnectionLoss for /long-path-000000000-111111111-222222222-333333333-444444444-555555555-6       66666666-777777777-888888888-999999999/ch-0000000000/ch
422008     [junit]     at org.apache.zookeeper.KeeperException.create(KeeperException.java:102)
422009     [junit]     at org.apache.zookeeper.KeeperException.create(KeeperException.java:54)
422010     [junit]     at org.apache.zookeeper.ZooKeeper.create(ZooKeeper.java:1459)
422011     [junit]     at org.apache.zookeeper.test.DisconnectedWatcherTest.testManyChildWatchersAutoReset(DisconnectedWatcherTest.java:229)
```

Author: Michael Edwards <Michael Edwards>

Reviewers: andor@apache.org

Closes #721 from mkedwards/ZOOKEEPER-3046 and squashes the following commits:

20fd64c71 [Michael Edwards] ZOOKEEPER-3046: call setUp/tearDown from ClientBase in the setUp/tearDown of the subclass
3965ae81e [Michael Edwards] ZOOKEEPER-3046: factor common setup in DisconnectedWatcherTest tests to a setUp() method
62e6bca24 [Michael Edwards] ZOOKEEPER-3046: wait for clients to reconnect after restarting server

(cherry picked from commit bb39b83e125bb40597346aa4412e21851d1e871e)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""a14ec56f77667ecbefe2485db3a1877c8d87db1e"", ""author"": {""name"": ""Michael Edwards"", ""email"": ""Michael Edwards"", ""date"": ""2019-03-11T20:56:36Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-03-11T20:56:52Z""}}"
1695,SubmitCommit,2019-03-12 18:08:54,maoling,fork_close,"ZOOKEEPER-2474: add a way for client to reattach to a session when using ZKClientConfig

- Thanks the original work from [arshad.mohammad](https://issues.apache.org/jira/secure/ViewProfile.jspa?name=arshad.mohammad) and [timothyjward](https://github.com/timothyjward). Plz call me code-carrier(:D).
- more details in [ZOOKEEPER-2474](https://issues.apache.org/jira/browse/ZOOKEEPER-2474).if cannot backport to branch-3.5 successfully,I will give another hit.

Author: maoling <maoling199210191@sina.com>

Reviewers: andor@apache.org

Closes #825 from maoling/ZOOKEEPER-2474 and squashes the following commits:

f782b16d3 [maoling] add the version info
8238dc488 [maoling] ZOOKEEPER-2474:add a way to reattach to a session when using ZKClientConfig

(cherry picked from commit c000f96504198d999daee2b0ccb3c4217f16dc97)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""447a4daead9b4d90ccd21cda5602c44f2d3fafd8"", ""author"": {""name"": ""maoling"", ""email"": ""maoling199210191@sina.com"", ""date"": ""2019-03-12T18:08:39Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-03-12T18:08:54Z""}}"
1695,SubmitCommit,2019-03-14 15:47:42,eolivelli,fork_close,"ZOOKEEPER-3312: Upgrade Jetty to 9.4.15.v20190215

Author: Enrico Olivelli <eolivelli@apache.org>

Reviewers: phunt@apache.org

Closes #852 from eolivelli/ZOOKEEPER-3312-jetty-9.4.15.v20190215

Change-Id: I312333d70805bd433332791bcf5a5ad58449a58c
(cherry picked from commit b2535835439961c6ba24d8c0e1145635d06d7e5e)
Signed-off-by: Patrick Hunt <phunt@apache.org>","{""sha"": ""647be034fb5b0d4790b3cec107bf87d0f2a2206d"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2019-03-14T15:45:02Z""}, ""committer"": {""name"": ""Patrick Hunt"", ""email"": ""phunt@apache.org"", ""date"": ""2019-03-14T15:47:42Z""}}"
1695,SubmitCommit,2019-03-18 05:26:28,Amichai Rothman,fork_close,"ZOOKEEPER-2621: ZooKeeper doesn't start on MINGW32 (Windows)

Author: Amichai Rothman <amichai2@amichais.net>

Reviewers: phunt@apache.org

Closes #857 from amichair/ZOOKEEPER-2621

Change-Id: I876b5202de30a6fcf296756ead6843e7f59167da
(cherry picked from commit 19cb6fb8f7989121025f91889462386eb8918c56)
Signed-off-by: Patrick Hunt <phunt@apache.org>","{""sha"": ""7461a2b0d1e5d0522e58e608c9b6ee1b771faffd"", ""author"": {""name"": ""Amichai Rothman"", ""email"": ""amichai2@amichais.net"", ""date"": ""2019-03-18T05:24:13Z""}, ""committer"": {""name"": ""Patrick Hunt"", ""email"": ""phunt@apache.org"", ""date"": ""2019-03-18T05:26:28Z""}}"
1695,SubmitCommit,2019-03-19 00:12:28,meszibalu,fork_close,"ZOOKEEPER-2168: Add C APIs for new createContainer Methods

I rebased and addressed the comments of https://github.com/apache/zookeeper/pull/33 by Randgalt

Author: randgalt <jordan@jordanzimmerman.com>
Author: Balazs Meszaros <balazs.meszaros@cloudera.com>

Reviewers: andor@apache.org

Closes #838 from meszibalu/my/container and squashes the following commits:

c6c9dc0a6 [Balazs Meszaros] ZOOKEEPER-2168 - added test case for containers
ed4b842e6 [Balazs Meszaros] ZOOKEEPER-2168 - rebase and review comment fixes
f0f144129 [randgalt] ZOOKEEPER-2168 - fixed typo
4cea8d412 [randgalt] ZOOKEEPER-2168 - first pass at C changes for containers

(cherry picked from commit 9fba2f6c93a78928df4841a66185f51e242653aa)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""7b36fd550c0e5c85388918d1467a87f0b129ada6"", ""author"": {""name"": ""Balazs Meszaros"", ""email"": ""meszibalu@apache.org"", ""date"": ""2019-03-19T00:12:03Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-03-19T00:12:28Z""}}"
1695,SubmitCommit,2019-04-02 11:31:52,Matthew Cale,fork_close,"fix: grammar fixes and link adds

Author: Matthew Cale <mattcale@homeaway.com>
Author: Matthew Cale <mattc41190@gmail.com>

Reviewers: fangmin@apache.org, andor@apache.org

Closes #879 from mattc41190/master and squashes the following commits:

47d4a9cd9 [Matthew Cale] Provided more generic API link
a20a36828 [Matthew Cale] fix: grammar fixes and link adds

(cherry picked from commit 0ec4ba71fcfdf8d8d5289ada554b92250e6ba1a1)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""76d35ca5344be3731f31f4989d88ae2d3b51570c"", ""author"": {""name"": ""Matthew Cale"", ""email"": ""mattcale@homeaway.com"", ""date"": ""2019-04-02T11:31:38Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-04-02T11:31:52Z""}}"
1695,SubmitCommit,2019-04-02 13:08:21,nkalmar,fork_close,"ZOOKEEPER-3122: fix some maven release related issues

While testing the maven release procedure, I found some problems (missing license file, unused dependencies)

Author: Norbert Kalmar <nkalmar@yahoo.com>

Reviewers: andor@apache.org

Closes #885 from nkalmar/branch-3.5 and squashes the following commits:

014d9666b [Norbert Kalmar] ZOOKEEPER-3122 - fix typo in license
152cbb5c7 [Norbert Kalmar] ZOOKEEPER-3122 - fix some maven release related issues","{""sha"": ""c9a60500fea39faeca84f90a3fb22c6664adbe12"", ""author"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@yahoo.com"", ""date"": ""2019-04-02T13:08:21Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-04-02T13:08:21Z""}}"
1695,SubmitCommit,2019-04-02 13:39:59,anmolnar,fork_close,Prepare for the next release: update the version to 3.5.6-SNAPSHOT,"{""sha"": ""8f608fa807b97fc71f5090351061483bff64b010"", ""author"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-04-02T13:39:59Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-04-02T13:39:59Z""}}"
1695,SubmitCommit,2019-04-03 08:43:46,eolivelli,fork_close,"ZOOKEEPER-3122: Only deploy zk-server and zk-jute to maven repo

Skip Maven deploy plugin for modules which are not to be deployed:
- assembly
- clients (C binding)
- documentation
- recipes

Author: Enrico Olivelli <eolivelli@apache.org>

Reviewers: andor@apache.org

Closes #889 from eolivelli/fix/ZOOKEEPER-3122-fix-deploy","{""sha"": ""57296927ec268930a6c2704104849d4d7dcb6721"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2019-04-03T08:43:46Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-04-03T08:43:46Z""}}"
1695,SubmitCommit,2019-04-03 11:57:55,nkalmar,fork_close,"ZOOKEEPER-3122: Rename zookeeper-server to zookeeper

Author: Norbert Kalmar <nkalmar@yahoo.com>

Reviewers: andor@apache.org

Closes #892 from nkalmar/ZK-3122.3.5","{""sha"": ""d0876a8b6c39f6b42c91dc7227de569849c14859"", ""author"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@yahoo.com"", ""date"": ""2019-04-03T11:57:55Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-04-03T11:57:55Z""}}"
1695,SubmitCommit,2019-04-05 12:13:42,nkalmar,fork_close,"ZOOKEEPER-3122: add root dir inside tarballs

Author: Norbert Kalmar <nkalmar@yahoo.com>

Reviewers: andor@apache.org

Closes #893 from nkalmar/ZK-3122

(cherry picked from commit 96c435f4a05312a357a2692650cc6eb858896af0)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""1e92b62aa57596a3b915146d76cb023ce4715018"", ""author"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@yahoo.com"", ""date"": ""2019-04-05T12:13:25Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-04-05T12:13:42Z""}}"
1695,SubmitCommit,2019-04-09 08:12:25,nkalmar,fork_close,"ZOOKEEPER-3122: fix files included in tarballs

Author: Norbert Kalmar <nkalmar@yahoo.com>

Reviewers: andor@apache.org

Closes #897 from nkalmar/ZK-3122

(cherry picked from commit 1e8286faed13e8d8abb2d5205f99440853e4b47d)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""b1f2804aae765bfb849a2a688ad11b0f9bf4dfe2"", ""author"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@yahoo.com"", ""date"": ""2019-04-09T08:12:11Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-04-09T08:12:25Z""}}"
1695,SubmitCommit,2019-04-09 08:41:07,nkalmar,fork_close,"ZOOKEEPER-3122: add missing pom to source tarball

Author: Norbert Kalmar <nkalmar@yahoo.com>

Reviewers: andor@apache.org

Closes #900 from nkalmar/master

(cherry picked from commit 915c6acaea3f5c01d26f0bff93d1897a4da3e32c)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""6dc04519a9dd0aee05dc4b896e1268eac85c002b"", ""author"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@yahoo.com"", ""date"": ""2019-04-09T08:40:52Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-04-09T08:41:07Z""}}"
1695,SubmitCommit,2019-04-09 09:39:07,meszibalu,fork_close,"ZOOKEEPER-2609: Add TTL Node APIs to C client

* added zoo_acreate_ttl, zoo_acreate2_ttl, zoo_create_ttl,
  zoo_create2_ttl methods, where ttl (int64_t) can be defined.
* renamed flags to mode in zoo_*create* because it is not a bitmask on the
  server side.
* added Create mode contants to match CreateMode.java enum fields.
  ZOO_SEQUENCE is kept for backward compatibility.
  ZOO_EPHEMERAL|ZOO_SEQUENCE is still usable, but ZOO_EPHEMERAL_SEQUENTIAL
  is preferred.
* added / fixed doxygen comments for create methods.
* modified tests/zkServer.sh to pass system properties to ZK.
* added +t, +c shell commands to zookeeper cli.
* added a test case for create ttl.

Author: Balazs Meszaros <balazs.meszaros@cloudera.com>

Reviewers: andor@apache.org

Closes #891 from meszibalu/my/ttl

(cherry picked from commit 3b93f7671464bef1824288b13ee66dec547bb97e)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""e76a0e8bcef61cecfd1ebb9a8199650265e97166"", ""author"": {""name"": ""Balazs Meszaros"", ""email"": ""balazs.meszaros@cloudera.com"", ""date"": ""2019-04-09T09:36:55Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-04-09T09:39:07Z""}}"
1695,SubmitCommit,2019-04-13 16:08:25,nkalmar,fork_close,"ZOOKEEPER-3351: 3.5 - Fix findBugs and rat check, add filename to sha

Author: Norbert Kalmar <nkalmar@yahoo.com>

Reviewers: andor@apache.org

Closes #908 from nkalmar/ZK-3351-3.5 and squashes the following commits:

a9f311963 [Norbert Kalmar] ZOOKEEPER-3351 - fix findBugs issue on released versions
9149b27ff [Norbert Kalmar] ZOOKEEPER-3351 - add rat exceptions and fix sha generation","{""sha"": ""07de70cce69705f415c86f74d533be013fec7f11"", ""author"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@yahoo.com"", ""date"": ""2019-04-13T16:08:25Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-04-13T16:08:25Z""}}"
1695,SubmitCommit,2019-04-25 12:55:37,nkalmar,fork_close,"ZOOKEEPER-3369: 3.5 - Maven release artifacts cleanup

Author: Norbert Kalmar <nkalmar@yahoo.com>

Reviewers: andor@apache.org

Closes #920 from nkalmar/ZK-3369-3.5","{""sha"": ""bfda10ce219a02f5d6606e35fe8dc139e090692f"", ""author"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@yahoo.com"", ""date"": ""2019-04-25T12:55:37Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-04-25T12:55:37Z""}}"
1695,SubmitCommit,2019-04-29 11:49:28,eolivelli,fork_close,"ZOOKEEPER-3372: Cleanup pom.xml in order to let Maven clients import as few dependencies as possible

- mark as 'provided' all of the dependencies not needed by java clients
- rework assembly project in order to build correctly the 'lib' directory
- update jetty to latest version
- use project.version in order to refer to the current version
- fix references to junit in recipes and in contrib

Author: Enrico Olivelli <eolivelli@apache.org>

Reviewers: andor@apache.org

Closes #926 from eolivelli/fix/ZOOKEEPER-3372-fix-dep-35","{""sha"": ""09aa3c5a21d327810eb969161c4d0b782f8210a5"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2019-04-29T11:49:28Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-04-29T11:49:28Z""}}"
1695,SubmitCommit,2019-05-03 11:36:00,anmolnar,fork_close,"ZOOKEEPER-3375: Docs enhancements for 3.5 release

I need this PR to be merged to 3.5 before creating a new RC.

- Backport latest release notes to 3.5
- Added comments on compiling with Java 8

Author: Andor Molnar <andor@apache.org>

Reviewers: andor@apache.org

Closes #928 from anmolnar/ZOOKEEPER-3375 and squashes the following commits:

bdb828194 [Andor Molnar] ZOOKEEPER-3375. Some styling fixes
186ce54bc [Andor Molnar] ZOOKEEPER-3375. Backported release notes to 3.5. Added comments on compiling with Java 8.","{""sha"": ""b45eae2b75f8ec79c977183e7ec51782e7b7a32e"", ""author"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-05-03T11:36:00Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-05-03T11:36:00Z""}}"
1695,SubmitCommit,2019-05-21 14:43:26,eolivelli,fork_close,"ZOOKEEPER-3364: Compile with strict options in order to check code quality

This is the port of ZOOKEEPER-3364 to branch-3.5

- Add extra compiler arguments in order to achieve better code quality.
- Fix some minor issues reported by javac
- Extra checks are not enabled in ""contrib"" module.

Author: Enrico Olivelli <eolivelliapache.org>

Reviewers: andorapache.org

Closes #910 from eolivelli/fix/ZOOKEEPER-3364-javac-strict and squashes the following commits:

9660aff82 [Enrico Olivelli] Fix tests and fix warnings on JDK12
52895ec9d [Enrico Olivelli] ZOOKEEPER-3364 Compile with strict options in order to check code quality

Author: Enrico Olivelli <eolivelli@apache.org>

Reviewers: Andor Molnar <andor@apache.org>, Fangmin Lyu <allenlyu@fb.com>

Closes #952 from eolivelli/fix/ZOOKEEPER-3364-35","{""sha"": ""1cf2b846378febf55632faaa8882728eba18065a"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2019-05-21T14:43:26Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2019-05-21T14:43:26Z""}}"
1695,SubmitCommit,2019-05-23 16:42:58,maoling,fork_close,"ZOOKEEPER-2694: sync CLI command does not wait for result from server

- Thanks the original work from [arshad.mohammad ](https://issues.apache.org/jira/secure/ViewProfile.jspa?name=arshad.mohammad)
- more details in [ZOOKEEPER-2694](https://issues.apache.org/jira/browse/ZOOKEEPER-2694)

Author: maoling <maoling199210191@sina.com>

Reviewers: eolivelli@apache.org, andor@apache.org

Closes #823 from maoling/ZOOKEEPER-2694 and squashes the following commits:

41723cdca [maoling] print the resultCode when sync has failed
95123c003 [maoling] make the Sync more user-friendly
a3ce1704d [maoling] SYNC_TIMEOUT & use the TimeUnit.SECONDS.toMillis & a responsible way of handling the InterruptedException
df0bf7371 [maoling] CliWrapperException
52c3ad0ac [maoling] change CountDownLatch to CompletableFuture
0cc1edd98 [maoling] add the wait_timeout: 30s
cf01294f4 [maoling] ZOOKEEPER-2694:sync CLI command does not wait for result from server

(cherry picked from commit e2bb6e80f598415bba975edcff166ff1bd750340)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""2a1b69a901f0727b7871af2d762048fb623e6702"", ""author"": {""name"": ""maoling"", ""email"": ""maoling199210191@sina.com"", ""date"": ""2019-05-23T16:42:39Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-05-23T16:42:58Z""}}"
1695,SubmitCommit,2019-05-23 18:41:27,anmolnar,fork_close,"ZOOKEEPER-3263: JAVA9/11 Warnings: Illegal reflective access in zookeeper's kerberosUtil (3.5)

Fixes warning messages of JDK 9/11 by upgrading libraries and refactoring `KerberosUtils` based on experiences of [HADOOP-10848](https://issues.apache.org/jira/browse/HADOOP-10848)

Reviewers please run unit tests with various JDK versions including 9 and 11, because CI only runs on JDK 8. Thanks.

Target branches are master and 3.5

Author: Andor Molnar <andorapache.org>

Reviewers: Enrico Olivelli <eolivelliapache.org>

Closes #950 from anmolnar/ZOOKEEPER-3263

Author: Andor Molnar <andor@apache.org>

Reviewers: eolivelli@apache.org

Closes #954 from anmolnar/ZOOKEEPER-3263_35","{""sha"": ""02dd927a75365ecba474f010a1f3c92bc62bb623"", ""author"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-05-23T18:41:27Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2019-05-23T18:41:27Z""}}"
1695,SubmitCommit,2019-05-24 15:58:00,eolivelli,fork_close,"ZOOKEEPER-3362: Create a simple checkstyle file

Create a basic checkstyle file, in order to cover the minimal check on author tags.

This is needed in order to drop old ANT based precommit job (see ZOOKEEPER-3351)

We will not remove legacy checkstyle configuration file in zookeeper-server/src/test/resources/checkstyle.xml because it is referred by ANT build.xml files (even if we are not actually using that target).

This task won't add a complete checkstyle configuration with usual checks because it would imply almost a change at every .java in the codebase.

Author: Enrico Olivelli <eolivelliapache.org>

Reviewers: andorapache.org

Closes #909 from eolivelli/fix/checkstyle and squashes the following commits:

fdda1571c [Enrico Olivelli] use a property in order to define checkstyle version
92192981f [Enrico Olivelli] Skip CPP tests when using -DskipTests
b816e563e [Enrico Olivelli] Add cppunit for Travis
faf37bb37 [Enrico Olivelli] ZOOKEEPER-3362 Create a simple checkstyle file

Author: Enrico Olivelli <eolivelli@apache.org>

Reviewers: nkalmar@apache.org, andor@apache.org

Closes #955 from eolivelli/fix/ZOOKEEPER-3362-35","{""sha"": ""8fad92197df2f1b525cba22e1a7017eda49adc56"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2019-05-24T15:58:00Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-05-24T15:58:00Z""}}"
1695,SubmitCommit,2019-05-28 14:06:47,anmolnar,fork_close,"ZOOKEEPER-3404: Downgrade BouncyCastle to 1.60

I've seen a lot of test timeout errors with QuorumSSL tests since I upgraded master to BouncyCastle 1.61 due to a Java 9 warning. The warning has been reported by Enrico Olivelli which we tried to solve by the upgrade, but the warning message is still present so I don't see any harm in downgrading to the previous version.

https://issues.apache.org/jira/browse/ZOOKEEPER-3404

Author: Andor Molnar <andor@apache.org>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Norbert Kalmar <nkalmar@apache.org>

Closes #961 from anmolnar/ZOOKEEPER-3404

(cherry picked from commit 78b3d1a8c1ea8453423682ad09675dfb1df04384)
Signed-off-by: Norbert Kalmar <nkalmar@apache.org>","{""sha"": ""d6194f62b57de6ff413d7151028787146bbf84f1"", ""author"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-05-28T14:04:34Z""}, ""committer"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@apache.org"", ""date"": ""2019-05-28T14:06:47Z""}}"
1695,SubmitCommit,2019-05-30 13:55:35,phunt,fork_close,"ZOOKEEPER-3405: Upgrade the version of Jackson-databind to address OWASP CVE

Upgraded the library to the latest version.

Change-Id: I94743e7f7817202fff25c757730ba05fe0a9cc17

Author: Patrick Hunt <phunt@apache.org>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Norbert Kalmar <nkalmar@apache.org>

Closes #962 from phunt/ZOOKEEPER-3405

(cherry picked from commit ca4b12430ef579f67785146a195ebfed5ca73f39)
Signed-off-by: Norbert Kalmar <nkalmar@apache.org>","{""sha"": ""186c6db480f0a19b0df29cc61a369cb31cc6dfe6"", ""author"": {""name"": ""Patrick Hunt"", ""email"": ""phunt@apache.org"", ""date"": ""2019-05-30T13:53:35Z""}, ""committer"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@apache.org"", ""date"": ""2019-05-30T13:55:35Z""}}"
1695,SubmitCommit,2019-06-19 01:52:38,phunt,fork_close,"Add some python basics to gitignore

Change-Id: Iab8f39d89aa1b6319fb7b319431d786f0ee60c4d
(cherry picked from commit 48a78fa65e23ffe4b93e24b8f61f4f6ad14daaad)","{""sha"": ""5503fef20d2ce58f41fad3814d2c13a131ce611c"", ""author"": {""name"": ""Patrick Hunt"", ""email"": ""phunt@apache.org"", ""date"": ""2019-06-19T01:51:04Z""}, ""committer"": {""name"": ""Patrick Hunt"", ""email"": ""phunt@apache.org"", ""date"": ""2019-06-19T01:52:38Z""}}"
1695,SubmitCommit,2019-06-19 04:08:26,lordofkey,fork_close,"ZOOKEEPER-3105: Character coding problem occur when create a node using python3

when creating a node using python3, InvalidACLException occurs all the time. it`s caused by imcompatible way of parsing acl passed through python3 api.
so

```
acls->data[i].id.id = strdup( PyUnicode_AsUnicode( PyDict_GetItemString( a, ""id"" ) ) );
acls->data[i].id.scheme = strdup( PyUnicode_AsUnicode( PyDict_GetItemString( a, ""scheme"" ) ) );
```
is changed to

```
acls->data[i].id.id = strdup( PyBytes_AS_STRING( PyUnicode_AsASCIIString( PyDict_GetItemString( a, ""id"" ) ) ) );
acls->data[i].id.scheme = strdup( PyBytes_AS_STRING( PyUnicode_AsASCIIString( PyDict_GetItemString( a, ""scheme"" ) ) ) );
```

because `acls->data[i].id.id` and `acls->data[i].id.scheme` must be an ASCII string.

Author: lordofkey <yyyhhh125@163.com>
Author: yanghao <yyyhhh125@163.com>

Reviewers: phunt@apache.org

Closes #586 from lordofkey/ZOOKEEPER-3105 and squashes the following commits:

24a60d982 [lordofkey] Update zookeeper.c
9f2fd54ca [lordofkey] ZOOKEEPER-3105:Character coding problem occur when create a node usin… …
519a7805f [lordofkey] Merge remote-tracking branch 'shared/master' into HEAD
5a441ed60 [yanghao] ZOOKEEPER-3105:Character coding problem occur when create a node using python3

Change-Id: I72c104edc4c77159f75db1211fcd62b33c7d33d6
(cherry picked from commit 52dcf72b0a035116f83431e30c7acf7301982a28)
Signed-off-by: Patrick Hunt <phunt@apache.org>","{""sha"": ""3813d407e86afbea9bdcab97cbb830cc9e8e99df"", ""author"": {""name"": ""lordofkey"", ""email"": ""yyyhhh125@163.com"", ""date"": ""2019-06-19T04:07:14Z""}, ""committer"": {""name"": ""Patrick Hunt"", ""email"": ""phunt@apache.org"", ""date"": ""2019-06-19T04:08:26Z""}}"
1695,SubmitCommit,2019-06-25 13:48:53,phunt,fork_close,"ZOOKEEPER-3433: zkpython build broken after maven migration

Fixed the build and test infrastructure for zkpython.

Verified the build and tests all passing under both ubuntu and macos.

Change-Id: I3c80774a2712f280d1f14739d1eb78baa066fdc6

Author: Patrick Hunt <phunt@apache.org>

Reviewers: Norbert Kalmar <nkalmar@apache.org>

Closes #991 from phunt/zk3433

(cherry picked from commit 2711d69297ce45cb6fc5beab482e4ec36d07249f)
Signed-off-by: Norbert Kalmar <nkalmar@apache.org>","{""sha"": ""098ad82b2e43a944e8621f1ef2a58d8b070c65a2"", ""author"": {""name"": ""Patrick Hunt"", ""email"": ""phunt@apache.org"", ""date"": ""2019-06-25T13:47:58Z""}, ""committer"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@apache.org"", ""date"": ""2019-06-25T13:48:53Z""}}"
1695,SubmitCommit,2019-06-27 12:49:47,eolivelli,fork_close,"Move Travis to openjdk11, oraclejdk11 does not work anymore

Author: Enrico Olivelli <eolivelli@apache.org>

Reviewers: Norbert Kalmar <nkalmar@apache.org>

Closes #1005 from eolivelli/fix/travis-openjdk11

(cherry picked from commit 5e7d88bc27c3d1d7aa0ebb77e0609ae0a39cf309)
Signed-off-by: Norbert Kalmar <nkalmar@apache.org>","{""sha"": ""69367814ad95317ddbdfc7614e8de3d7292fd365"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2019-06-27T12:49:29Z""}, ""committer"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@apache.org"", ""date"": ""2019-06-27T12:49:47Z""}}"
1695,SubmitCommit,2019-07-01 13:17:03,tisonkun,fork_close,"ZOOKEEPER-3370: Remove SVN specific revision generation

As we don't maintain the SVN repo any more.

ref 8771ffdaacb87126a485ae740558f6a288ab980b

Author: tison <wander4096@gmail.com>

Reviewers: eolivelli@apache.org, andor@apache.org

Closes #915 from TisonKun/ZOOKEEPER-3370

(cherry picked from commit 44c9d56f22195223250765f2138336b903e960c0)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""96880c0b2ba39f1841f8bdc4a0119a467b462d03"", ""author"": {""name"": ""tison"", ""email"": ""wander4096@gmail.com"", ""date"": ""2019-07-01T13:16:01Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-07-01T13:17:03Z""}}"
1695,SubmitCommit,2019-07-09 00:31:17,xoiss,fork_close,"ZOOKEEPER-2894: Memory and completions leak on zookeeper_close

If I call `zookeeper_close()` when the call-stack does not pass through any of zookeeper mechanics (for example, some of completion handler called back by zookeeper) the following happens:
1. If there are requests waiting for responses in `zh.sent_requests` queue, they all are removed from this queue and each of them is ""completed"" with personal fake response having status `ZCLOSING`. Such fake responses are put into `zh.completions_to_process` queue. It's Ok
2. But then, `zh.completions_to_process` queue is left unhandled. **Neither completion callbacks are called, nor dynamic memory allocated for fake responses is freed**
3. Different structures within `zh` are dismissed and finally `zh` is freed

Consequently we have a tiny **memory leak** and, which is much more important, **completions leak**. I.e. completions are not called at all.

This is not the case if I call `zookeeper_close()` when the call-stack does pass through some of zookeeper mechanics. Here, zookeeper client handles completions properly.

Proposed changes remove this defects.

For more details see: https://issues.apache.org/jira/browse/ZOOKEEPER-2894

Author: Alexander A. Strelets <streletsaa@gmail.com>

Reviewers: Enrico Olivelli <eolivelli@gmail.com>, Michael Han <hanm@apache.org>

Closes #1000 from xoiss/ZOOKEEPER-2894","{""sha"": ""2034c9dd1b06a87e1a9eafca57dd412e725ec369"", ""author"": {""name"": ""Alexander A. Strelets"", ""email"": ""streletsaa@gmail.com"", ""date"": ""2019-07-09T00:22:15Z""}, ""committer"": {""name"": ""Michael Han"", ""email"": ""hanm@apache.org"", ""date"": ""2019-07-09T00:31:17Z""}}"
1695,SubmitCommit,2019-07-12 20:54:48,phunt,fork_close,"ZOOKEEPER-3441: OWASP is flagging jackson-databind-2.9.9.jar for CVE-…

The JIRA is resolved by updating jackson to version 2.9.9.1.

However in so doing I found that it was impossible to run the
dependency check as the CVE lists would always fail to download,
regardless ant or maven. In researching the issue 5.1.0 of the
dependency checker is now available. That fixes this issue (d/l).

However in so doing a couple new problems arise:

The ant dependency check now fails with a circular dependency issue in
one of the transient libraries
(org.sonatype.ossindex#ossindex-service-client;1.2.0). I was unable to
workaround this issue. As such the ant dependency checker is not able
to update to the new version. I believe we should just stop using it
in favor of the maven one as this seems to be Ivy related, as mvn
works just fine with the same change.

Another problem that arises with the dependency checker version
upgrade is that two new issues are identified:

https://www.cvedetails.com/cve/CVE-2008-7220/
which is resolved with the updated prototype.js

https://www.cvedetails.com/cve/CVE-2019-3826/
which seems like a false positive. Please check my work on this.

After these changes the mvn owasp check passes. The code compiles. I
tested the generated documentation and it seems unaffected by the
prototype.js change, although I could have missed this.

Change-Id: I12c9b3111641b066417fc85b155877af5edf9929

Author: Patrick Hunt <phunt@apache.org>

Reviewers: Enrico Olivelli <eolivelli@apache.org>

Closes #1014 from phunt/ZOOKEEPER-3441","{""sha"": ""3bd87f122394f23b3c2e3e8aec4771c32c1d6105"", ""author"": {""name"": ""Patrick Hunt"", ""email"": ""phunt@apache.org"", ""date"": ""2019-07-12T05:32:42Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2019-07-12T20:54:48Z""}}"
1695,SubmitCommit,2019-07-15 12:49:35,ivanyu,fork_close,"ZOOKEEPER-3443: Add support of PKCS12 trust/key stores

This commit adds support of PKCS12 trust store and key store type.
The existing mechanism for trust/key store types that support JKS and
PEM were extended with PKCS12.

The implementations of JKSFileLoader and PKCS12FileLoader were almost
identical so most of it were abstracted away in
StandardTypeFileKeyStoreLoader.

Author: Ivan Yurchenko <ivanyu@aiven.io>

Reviewers: eolivelli@apache.org, andor@apache.org

Closes #1003 from ivanyu/ZOOKEEPER-3443

(cherry picked from commit 1c83846615701e88749690f06993a6e77452b83c)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""427899ce4a14fd97673a36c0a3ac2282da656589"", ""author"": {""name"": ""Ivan Yurchenko"", ""email"": ""ivanyu@aiven.io"", ""date"": ""2019-07-15T12:46:48Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-07-15T12:49:35Z""}}"
1695,SubmitCommit,2019-07-24 13:43:38,anmolnar,fork_close,"ZOOKEEPER-3463: Enable warning messages in maven compiler plugin (3.5)

Backported changes from #1016

eolivelli ptal.

Author: Andor Molnar <andor@apache.org>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Norbert Kalmar <nkalmar@apache.org>

Closes #1018 from anmolnar/ZOOKEEPER-3463_35","{""sha"": ""e27eab65c546a991a226dac2684a64df6a17770c"", ""author"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-07-24T13:43:38Z""}, ""committer"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@apache.org"", ""date"": ""2019-07-24T13:43:38Z""}}"
1695,SubmitCommit,2019-08-02 11:56:30,symat,fork_close,"ZOOKEEPER-3455: fix UnifiedServerSocketTest on jdk 13

The `UnifiedServerSocketTest.testConnectWithoutSSLToStrictServer` fails on OpenJDK 13 because in the new default socket implementation (https://openjdk.java.net/jeps/353) the `NioSocketImpl.getInputStream.read()` behaves differently than the old `SocketInputStream.read()`.

A workaround could be to execute the tests using the `-Djdk.net.usePlainSocketImpl` system property (hardcoding it in the maven / ant configs), which enforces the usage of the old socket implementation in JDK 13. But I preferred instead to make the test compatible with both older and newer JDK, so it should succeed even if someone is executing it outside of our build environment.

Author: Mate Szalay-Beko <szalay.beko.mate@gmail.com>

Reviewers: andor@apache.org

Closes #1029 from symat/master

(cherry picked from commit 6b6ff1d11009d1301eb48d7801175d6af7dbf3fe)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""f2cb75d19514e898e39f70797fcb45feb051c07e"", ""author"": {""name"": ""Mate Szalay-Beko"", ""email"": ""szalay.beko.mate@gmail.com"", ""date"": ""2019-08-02T11:55:01Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-08-02T11:56:30Z""}}"
1695,SubmitCommit,2019-08-06 10:59:58,nkalmar,fork_close,"ZOOKEEPER-3494: 3.5) remove unnecessary broad netty-all dependency

Currently netty-all is a 4MB dependency.
Using netty-handler (429KB) and netty-transport-native-epoll (115KB) brings it down to about 1/8 in size.

Author: Norbert Kalmar <nkalmaryahoo.com>

Reviewers: Enrico Olivelli <eolivelligmail.com>, Tamás Pénzes, Michael Han <hanmapache.org>

Closes #1039 from nkalmar/ZK-3494

Author: Norbert Kalmar <nkalmar@yahoo.com>

Reviewers: andor@apache.org

Closes #1041 from nkalmar/branch-3.5","{""sha"": ""034226ba5f98bcdf5deb6b1f91d471ade4467209"", ""author"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@yahoo.com"", ""date"": ""2019-08-06T10:59:58Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-08-06T10:59:58Z""}}"
1695,SubmitCommit,2019-08-06 16:02:46,xoiss,fork_close,"ZOOKEEPER-2891: Invalid processing of zookeeper_close for mutli-request

When I call `zookeeper_close()` while there is a pending multi request, I expect the request completes with `ZCLOSING` status.

But with the existing code I actually get the following:
* the program exits with `SIGABRT` from `assert(entry)` in `deserialize_multi()`
* and even if I remove this assertion and just break the enclosing loop, the returned status is `ZOK` but not `ZCLOSING`

So, there are two defects with processing calls to `zookeeper_close()` for pending multi requests: improper assertion in implementation and invalid status in confirmation.

Proposed changes remove these defects.

For more details see: https://issues.apache.org/jira/browse/ZOOKEEPER-2891

Author: Alexander A. Strelets <streletsaa@gmail.com>

Reviewers: Michael Han <hanm@apache.org>

Closes #999 from xoiss/ZOOKEEPER-2891","{""sha"": ""05ec80849b719c4e08aac85b5a3f12c6ea3beb7b"", ""author"": {""name"": ""Alexander A. Strelets"", ""email"": ""streletsaa@gmail.com"", ""date"": ""2019-08-05T23:59:27Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-08-06T16:02:46Z""}}"
1695,SubmitCommit,2019-08-08 15:04:33,tisonkun,fork_close,"ZOOKEEPER-3498: Move jute generated sources to generated-source/java

Avoid mixup with class files.

cc phunt anmolnar eolivelli nkalmar

Author: tison <wander4096@gmail.com>

Reviewers: eolivelli@apache.org, andor@apache.org

Closes #1043 from TisonKun/ZOOKEEPER-3498

(cherry picked from commit abf1865c3a0701beef1dddd128e9ad25712a4c33)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""d86b14b68ee3dfe8e0828c83992aa17dab572133"", ""author"": {""name"": ""tison"", ""email"": ""wander4096@gmail.com"", ""date"": ""2019-08-08T15:00:54Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-08-08T15:04:33Z""}}"
1695,SubmitCommit,2019-08-13 11:36:15,Igor Skokov,fork_close,"ZOOKEEPER-3320: backport to branch-3.5): Leader election port stop listen when hostname unresolvable for some time

Backport of #1033 to branch-3.5

Author: Igor Skokov <igor.skokov@cinarra.com>

Reviewers: eolivelli@apache.org, andor@apache.org

Closes #1053 from Lagrang/ZOOKEEPER-3320-BACKPORT35","{""sha"": ""eb2de507105c94e5ff0b83e2a4794bc21bf25a82"", ""author"": {""name"": ""Igor Skokov"", ""email"": ""igor.skokov@cinarra.com"", ""date"": ""2019-08-13T11:36:15Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-08-13T11:36:15Z""}}"
1695,SubmitCommit,2019-08-23 10:15:57,ztzg,fork_close,"ZOOKEEPER-3510: Make 'zkServer.sh stop' more reliable

As mentioned in https://github.com/apache/zookeeper/pull/1054#discussion_r314208678 :

There is a `sleep 3` statement in `zkServer.sh restart`. I am unable to unearth the history of that particular line, but I believe part—if not all—of that sleep should be part of `zkServer.sh stop`.

I frequently observe `FAILED TO START` errors in the C test suite; the logs consistently show that those are caused by `java.net.BindException: Address already in use`. Adding a simple `sleep 1` before `echo STOPPED` ""fixes"" it for me.

As noted in the commit message, the `sleep` is far from optimal, an adaptive mechanism would be better—but I do not want to make the first iteration too complicated.

Author: Damien Diederen <dd@crosstwine.com>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Norbert Kalmar <nkalmar@apache.org>

Closes #1055 from ztzg/ZOOKEEPER-3510-zkserver-stop-delay

(cherry picked from commit 942213dfe28e464f068f8a195d1424c4b29af585)
Signed-off-by: Norbert Kalmar <nkalmar@apache.org>","{""sha"": ""05307d61a8f472e4b5ce4d5e2cb997ddba2b375e"", ""author"": {""name"": ""Damien Diederen"", ""email"": ""dd@crosstwine.com"", ""date"": ""2019-08-23T10:14:46Z""}, ""committer"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@apache.org"", ""date"": ""2019-08-23T10:15:57Z""}}"
1695,SubmitCommit,2019-08-25 19:32:17,phunt,fork_close,"ZOOKEEPER-3518: owasp check flagging jackson-databind 2.9.9.1

Fix is to upgrade to latest - 2.9.9.3

Change-Id: Ibedbe434def73959c1e5209d5321e9e66c151929

Author: Patrick Hunt <phunt@apache.org>

Reviewers: Enrico Olivelli <eolivelli@apache.org>

Closes #1061 from phunt/ZOOKEEPER-3518

(cherry picked from commit b5399da61d305da2fe80dc9be6f9bba5037209cf)","{""sha"": ""9b68d64176305f3063f40b7a13e4629ecd822f20"", ""author"": {""name"": ""Patrick Hunt"", ""email"": ""phunt@apache.org"", ""date"": ""2019-08-25T18:42:49Z""}, ""committer"": {""name"": ""Patrick Hunt"", ""email"": ""phunt@apache.org"", ""date"": ""2019-08-25T19:32:17Z""}}"
1695,SubmitCommit,2019-09-03 06:51:10,hanm,fork_close,"ZOOKEEPER-3056: Fails to load database with missing snapshot file but with valid transaction log file.

This is a port of patch https://github.com/apache/zookeeper/pull/1069

Author: Michael Han <lhan@twitter.com>

Reviewers: Enrico Olivelli<eolivelli@apache.org>, Brian Nixon <nixon@fb.com>

Closes #1072 from hanm/ZOOKEEPER-3056-3.5","{""sha"": ""77496b948f1eec3f8fa243bb8003cc97839982e4"", ""author"": {""name"": ""Michael Han"", ""email"": ""lhan@twitter.com"", ""date"": ""2019-09-03T06:51:10Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""enrico.olivelli@diennea.com"", ""date"": ""2019-09-03T06:51:10Z""}}"
1695,SubmitCommit,2019-09-09 11:48:05,eolivelli,fork_close,"ZOOKEEPER-3539: Fix CI for branch-3.5:

- do not execute findbugs on CI for ant-based tasks
- fix usage of fprintf on C client

Maven + Spotbugs superseded Ant + Findbugs

Author: Enrico Olivelli <eolivelli@apache.org>

Reviewers: Norbert Kalmar <nkalmar@apache.org>

Closes #1082 from eolivelli/fix/fix-ci-35","{""sha"": ""44911cfb3f04af09947d51403d55418d422e5c41"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2019-09-09T11:48:05Z""}, ""committer"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@apache.org"", ""date"": ""2019-09-09T11:48:05Z""}}"
1695,SubmitCommit,2019-09-09 17:17:47,eolivelli,fork_close,Prepare for the next release: update the version to 3.5.7-SNAPSHOT,"{""sha"": ""7b025103952f3c0c652ff00af302448f05b91f8e"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2019-09-09T17:17:47Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2019-09-09T17:17:47Z""}}"
1695,SubmitCommit,2019-09-11 07:08:04,eolivelli,fork_close,"ZOOKEEPER-3532: Provide a docker-based environment to work on a known OS

Just run dev/docker/run.sh and you will have a Linux environment with all that is needed to build ZooKeeper, even on MacOs.

The original idea patch was from Sijie Guo (sijie), Apache BookKeeper project.

The script creates a local image that accesses the local filesystem with the current user (UID), this way the container can work on local files without problems of ownership of files.

Author: Enrico Olivelli <enrico.olivelli@diennea.com>

Reviewers: maoling <maoling199210191@sina.com>, Michael Han <hanm@apache.org>

Closes #1075 from eolivelli/fix/docker-env","{""sha"": ""bde26b5aedf2f8a202770da8bea7b9f138096766"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""enrico.olivelli@diennea.com"", ""date"": ""2019-09-09T22:33:07Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""enrico.olivelli@diennea.com"", ""date"": ""2019-09-11T07:08:04Z""}}"
1695,SubmitCommit,2019-09-12 21:52:03,eolivelli,fork_close,"ZOOKEEPER-3440: Fix Apache RAT on branch 3.5

Partial port of commit 1e6edc9229c418b8bea46ccc5d603ea1c4a47a9e to branch-3.5 in order to make Apache RAT check pass.

Author: Enrico Olivelli <eolivelli@apache.org>

Reviewers: Allan Lyu <fangmin@apache.org>, Michael Han <hanm@apache.org>

Closes #1086 from eolivelli/fix/ZOOKEEPER-3440-3.5","{""sha"": ""7eb4cca1c44d62768de60185345b6ab344785556"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2019-09-12T21:52:03Z""}, ""committer"": {""name"": ""Michael Han"", ""email"": ""hanm@apache.org"", ""date"": ""2019-09-12T21:52:03Z""}}"
1695,SubmitCommit,2019-09-14 14:30:30,eolivelli,fork_close,"ZOOKEEPER-3542: X509UtilTest#testClientRenegotiationFails is flaky on JDK8 + linux on machines with 2 cores

Author: Enrico Olivelli <eolivelli@apache.org>

Reviewers: Norbert Kalmar <nkalmar@apache.org>

Closes #1087 from eolivelli/fix/ZOOKEEPER-3542-35","{""sha"": ""54de5f55ac75206088efd23239240214780f8bca"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2019-09-14T14:30:30Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2019-09-14T14:30:30Z""}}"
1695,SubmitCommit,2019-09-16 10:19:30,eolivelli,fork_close,"ZOOKEEPER-3545: Fix LICENSE files for netty dependency

Drop LICENSE file for netty-all and add files for separate netty bundles.

Author: Enrico Olivelli <eolivelli@apache.org>

Reviewers: Norbert Kalmar <nkalmar@apache.org>

Closes #1090 from eolivelli/fix/ZOOKEEPER-3545-lic-netty

(cherry picked from commit 930436b65fd1e965582ab6381587b286b4491e63)
Signed-off-by: Norbert Kalmar <nkalmar@apache.org>","{""sha"": ""75c6a32d97c8281b652831d93110db7913eda26c"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2019-09-16T10:19:10Z""}, ""committer"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@apache.org"", ""date"": ""2019-09-16T10:19:30Z""}}"
1695,SubmitCommit,2019-09-20 08:19:01,eolivelli,fork_close,"ZOOKEEPER-3552: Source tarbal for branch-3.5 does not set execution permissions to ""configure"" file

Remove explicit permissions for the binary tarbal, this way Maven will pick up the current file permissions.

Author: Enrico Olivelli <eolivelli@apache.org>

Reviewers: Norbert Kalmar <nkalmar@apache.org>

Closes #1093 from eolivelli/fix/fix-perm-source-package-35","{""sha"": ""81d5b0ec6f596cd8b7e63addc65698803c72d30f"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2019-09-20T08:19:01Z""}, ""committer"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@apache.org"", ""date"": ""2019-09-20T08:19:01Z""}}"
1695,SubmitCommit,2019-09-24 19:31:26,arshadmohammad,fork_close,"ZOOKEEPER-3496: Transaction larger than jute.maxbuffer makes ZooKeeper service unavailable

Author: Mohammad Arshad <arshad@apache.org>

Reviewers: Enrico Olivelli <eolivelli@gmail.com>, Michael Han <hanm@apache.org>, Allan Lyu <fangmin@apache.org>

Closes #1080 from arshadmohammad/ZOOKEEPER-3496","{""sha"": ""7d263d0af62fbba6fa6e2e2464129bd959d81067"", ""author"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2019-09-24T19:31:26Z""}, ""committer"": {""name"": ""Michael Han"", ""email"": ""hanm@apache.org"", ""date"": ""2019-09-24T19:31:26Z""}}"
1695,SubmitCommit,2019-09-27 11:19:39,coheigea,fork_close,"ZOOKEEPER-3559: Update Jackson to 2.9.10

Jackson should be updated to the latest version to pick up a fix for CVE-2019-14540

Author: Colm O hEigeartaigh <coheigea@apache.org>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Norbert Kalmar <nkalmar@apache.org>

Closes #1097 from coheigea/ZOOKEEPER-3559

(cherry picked from commit 63a825372eaa745cf117f53b0f9b263a0db05a4f)
Signed-off-by: Norbert Kalmar <nkalmar@apache.org>","{""sha"": ""f23c1b14feca314784310fb5bc2c58072a3852b8"", ""author"": {""name"": ""Colm O hEigeartaigh"", ""email"": ""coheigea@apache.org"", ""date"": ""2019-09-27T11:18:24Z""}, ""committer"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@apache.org"", ""date"": ""2019-09-27T11:19:39Z""}}"
1695,SubmitCommit,2019-09-27 13:43:35,ztzg,fork_close,"ZOOKEEPER-2282: C Client: chroot not stripped in asynchronous callbacks

This is related to ZOOKEEPER-1027, which adjusted the result of `create` calls to account for the chroot path.  It did not, however, correct the problem for asynchronous calls:

    $ cli_st $ENSEMBLE_HOSTS/rt-46444

    create /x/fred
    Creating [/x/fred] node (mode: 0)
    [/x/fred]: rc = 0
            name = /rt-46444/x/fred

    create2 /x/wilma
    Creating [/x/wilma] node (mode: 0)
    [/x/wilma]: rc = 0
            name = /rt-46444/x/wilma
            ctime = Wed Aug 28 18:14:16 2019
            czxid=1f00000041
            mtime=Wed Aug 28 18:14:16 2019
            mzxid=1f00000041
            version=0	aversion=0
            ephemeralOwner = 0

(It turns out that there was already a ticket, with a patch, for this issue.  I am mentioning Andrew Grasso as a co-author.  This commit also avoids the test failure, however.)

Co-authored-by: Andrew Grasso <andrew-grassousers.noreply.github.com>

Author: Damien Diederen <dd@crosstwine.com>

Reviewers: eolivelli@apache.org, andor@apache.org

Closes #1066 from ztzg/ZOOKEEPER-2282-c-client-async-chroot-paths

(cherry picked from commit 1e7fae31af634ccfb85cde17fa634d188145b9b7)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""c93f6a88e565669a9d4f3d2f9c7e6f15297a5dae"", ""author"": {""name"": ""Damien Diederen"", ""email"": ""dd@crosstwine.com"", ""date"": ""2019-09-27T13:43:19Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-09-27T13:43:35Z""}}"
1695,SubmitCommit,2019-10-01 07:18:22,sujithsimon22,fork_close,"ZOOKEEPER-1467: Make server principal configurable at client side.

Make server principal configurable at the client side

Author: sujithsimon22 <sujith.abraham.simon@huawei.com>

Reviewers: Mohammad Arshad <arshad@apache.org>, enixon, Enrico Olivelli <eolivelli@apache.org>

Closes #1104 from sujithsimon22/ZOOKEEPER-1467-3.5","{""sha"": ""457d7dee925fddbed6114cd9d3686697057c5d42"", ""author"": {""name"": ""Sujith Simon"", ""email"": ""sujith.abraham.simon@huawei.com"", ""date"": ""2019-10-01T07:18:22Z""}, ""committer"": {""name"": ""Mohammad"", ""email"": ""arshad@apache.org"", ""date"": ""2019-10-01T07:18:22Z""}}"
1695,SubmitCommit,2019-10-03 13:41:41,phunt,fork_close,"ZOOKEEPER-3563: Update Netty to fix CVE-2019-16869

…E-2019-16869 on Netty

Updated netty to 4.1.42.Final to address CVE-2019-16869

Change-Id: Ia14d695815143cdfcda1d2efcc0d83211cb356dd

Author: Patrick Hunt <phunt@apache.org>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Norbert Kalmar <nkalmar@apache.org>, Brian Nixon <brian.nixon.cs@gmail.com

Closes #1102 from phunt/zk3563_br35","{""sha"": ""82b04e852aa46917274964d01565be931353248f"", ""author"": {""name"": ""Patrick Hunt"", ""email"": ""phunt@apache.org"", ""date"": ""2019-10-03T13:41:41Z""}, ""committer"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@apache.org"", ""date"": ""2019-10-03T13:41:41Z""}}"
1695,SubmitCommit,2019-10-08 13:16:34,eolivelli,fork_close,"ZOOKEEPER-3563: Update Netty to 4.1.42.Final - fix license files

Fix licence files not changed in 874aaf136ccda2759cc61f4c48ff9d15f6433e07

Author: Enrico Olivelli <eolivelli@localhost.localdomain>

Reviewers: andor@apache.org

Closes #1111 from eolivelli/fix/ZOOKEEPER-3563-netty-lic

(cherry picked from commit 2dcb5e799ec02a2c6a6c7bad80c47169dc095271)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""4ce3666d6bfdda8ed42eb6d2dfe405f31c23117e"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@localhost.localdomain"", ""date"": ""2019-10-08T13:16:18Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-10-08T13:16:34Z""}}"
1695,SubmitCommit,2019-11-22 22:42:49,aristotelhs,fork_close,"ZOOKEEPER-3590: Zookeeper is unable to set the zookeeper.sasl.client.canonicalize.hostname using system property

See https://issues.apache.org/jira/browse/ZOOKEEPER-3590

This is a very small patch that gives sets the option after reading it from the system.getProperty().

There should not be any side effects since this is mostly copy paste.

Author: aristotelhs <aristotelhs@lenses.io>

Reviewers: eolivelli@apache.org, andor@apache.org

Closes #1124 from aristotelhs/ZOOKEEPER-3590

(cherry picked from commit 0b9d30faedd27dec9d03220635467fdb23de6b8b)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""bd51cb17c1f140c6fdb583331cd2ceecf0bed902"", ""author"": {""name"": ""aristotelhs"", ""email"": ""aristotelhs@lenses.io"", ""date"": ""2019-11-22T22:42:31Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-11-22T22:42:49Z""}}"
1695,SubmitCommit,2019-12-03 14:46:44,symat,fork_close,"ZOOKEEPER-3633: AdminServer commands throw NPE when only secure client port is used

When only secureClientPort is defined in the config and there is no regular clientPort,
then both the stat and the conf commands on the AdminServer result in 500 Server Error caused by
NullPointerExceptions. The problem is that no serverCnxFactory is defined in the
ZooKeeperServer in this case, we have only secureServerCnxnFactory.

In the fix we return info about both the secure and unsecure connections.
Example of the stat command output for secure-only configuration:
```
{
  ""version"" : ""3.6.0-SNAPSHOT-8e8905069f4bff670c0492fe9e28ced0f86bca00, built on 11/29/2019 08:04 GMT"",
  ""read_only"" : false,
  ""server_stats"" : {
    ""packets_sent"" : 1,
    ""packets_received"" : 1,
    ""fsync_threshold_exceed_count"" : 0,
    ""client_response_stats"" : {
      ""last_buffer_size"" : -1,
      ""min_buffer_size"" : -1,
      ""max_buffer_size"" : -1
    },
    ""data_dir_size"" : 671094270,
    ""log_dir_size"" : 671094270,
    ""last_processed_zxid"" : 20,
    ""outstanding_requests"" : 0,
    ""server_state"" : ""standalone"",
    ""avg_latency"" : 5.0,
    ""max_latency"" : 5,
    ""min_latency"" : 5,
    ""num_alive_client_connections"" : 1,
    ""provider_null"" : false,
    ""uptime"" : 15020
  },
  ""client_response"" : {
    ""last_buffer_size"" : -1,
    ""min_buffer_size"" : -1,
    ""max_buffer_size"" : -1
  },
  ""node_count"" : 6,
  ""connections"" : [ ],
  ""secure_connections"" : [ {
    ""remote_socket_address"" : ""127.0.0.1:57276"",
    ""interest_ops"" : 1,
    ""outstanding_requests"" : 0,
    ""packets_received"" : 1,
    ""packets_sent"" : 1
  } ],
  ""command"" : ""stats"",
  ""error"" : null
}
```

Author: Mate Szalay-Beko <szalay.beko.mate@gmail.com>

Reviewers: Andor Molnar <andor@apache.org>, Enrico Olivelli <eolivelli@apache.org>, Norbert Kalmar <nkalmar@apache.org>

Closes #1161 from symat/ZOOKEEPER-3633

(cherry picked from commit 01e198aec9ceae52f160ddcf2e45cd234823e505)
Signed-off-by: Norbert Kalmar <nkalmar@apache.org>","{""sha"": ""3dd56ff4210648753fe08c323159e5260b815467"", ""author"": {""name"": ""Mate Szalay-Beko"", ""email"": ""szalay.beko.mate@gmail.com"", ""date"": ""2019-12-03T09:01:22Z""}, ""committer"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@apache.org"", ""date"": ""2019-12-03T14:46:44Z""}}"
1695,SubmitCommit,2019-12-16 12:20:48,anmolnar,fork_close,"ZOOKEEPER-3388: Allow client port to support plaintext and encrypted connections simultaneously (3.5)

Backport of #944

Author: Andor Molnar <andor@apache.org>
Author: Brian Nixon <nixon@fb.com>

Reviewers: andor@apache.org

Closes #1174 from anmolnar/ZOOKEEPER-3388_35 and squashes the following commits:

b51f843a2 [Andor Molnar] ZOOKEEPER-3388. Added new tag to documentation
744c938dd [Brian Nixon] ZOOKEEPER-3388: Allow client port to support plaintext and encrypted connections simultaneously","{""sha"": ""f21f951fe063bd30914db9a65721320bb8554fad"", ""author"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-12-16T12:20:48Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-12-16T12:20:48Z""}}"
1695,SubmitCommit,2019-12-17 12:57:15,coheigea,fork_close,"ZOOKEEPER-3627: Update Jackson to 2.9.10.1 and the Owasp plugin to 5…

….2.4

Author: Colm O hEigeartaigh <coheigea@apache.org>

Reviewers: eolivelli@apache.org, andor@apache.org

Closes #1157 from coheigea/ZOOKEEPER-3627-3.5","{""sha"": ""56a82caac3f978a2bb400145d7644fe15f8fad8f"", ""author"": {""name"": ""Colm O hEigeartaigh"", ""email"": ""coheigea@apache.org"", ""date"": ""2019-12-17T12:57:15Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-12-17T12:57:15Z""}}"
1695,SubmitCommit,2019-12-18 07:26:39,xy24,fork_close,"ZOOKEEPER-3057: Fix IPv6 literal usage

This commit backports #548 to branch-3.5.

I cherry picked all the changes except the file (NetUtils.java) where modification were already made by other backports.

Author: Xiangyu Yao <yaoxiangyu@bytedance.com>

Reviewers: eolivelli@apache.org, andor@apache.org

Closes #1168 from xy24/fix-ipv6-literal","{""sha"": ""0ec8ffc13cd543a51ffa63af7c6d07290d1b23d1"", ""author"": {""name"": ""Xiangyu Yao"", ""email"": ""yaoxiangyu@bytedance.com"", ""date"": ""2019-12-18T07:26:39Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-12-18T07:26:39Z""}}"
1695,SubmitCommit,2019-12-19 22:40:07,eolivelli,fork_close,Add ZooKeeper 3.5.6 release notes,"{""sha"": ""61d24141b02efa1ae7b09fe9e0295cf5f047b1c2"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2019-12-19T22:40:07Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2019-12-19T22:40:07Z""}}"
1695,SubmitCommit,2019-12-23 15:49:52,rabi-kumar,fork_close,"ZOOKEEPER-3648: remove Hadoop logo in the ZooKeeper documentation

I have removed hadoop logo from header.html present in zookeeper-documentation and also the image hadoop-logo.jpg from images.

Please do let me know if I have missed anything.

Author: ravowlga123 <ravowlga@gmail.com>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Justin Ling Mao <maoling199210191@sina.com>

Closes #1179 from ravowlga123/ZOOKEEPER-3648

(cherry picked from commit 56f508f1828e4392caab1e50ed76b81b84a7357d)
Signed-off-by: Enrico Olivelli <enrico.olivelli@diennea.com>","{""sha"": ""61c1a45c9c9c464e8c8847fcd7ff08d1b310a376"", ""author"": {""name"": ""ravowlga123"", ""email"": ""ravowlga@gmail.com"", ""date"": ""2019-12-23T15:49:27Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""enrico.olivelli@diennea.com"", ""date"": ""2019-12-23T15:49:52Z""}}"
1695,SubmitCommit,2019-12-23 15:51:23,hanm,fork_close,"ZOOKEEPER-3056: fix documentation.

snapshot.trust.empty can be used in both zoo.cfg file (with name snapshot.trust.empty), and as a system property (with name zookeeper.snapshot.trust.empty).

Author: Michael Han <lhan@twitter.com>

Reviewers: Enrico Olivelli <eolivelli@apache.org>

Closes #1178 from hanm/ZOOKEEPER-3056

(cherry picked from commit 04e91c3889b2d0a477036ae088794b6f5b3b04ba)
Signed-off-by: Enrico Olivelli <enrico.olivelli@diennea.com>","{""sha"": ""20f5986b0d4b9e191cb25338d15d59eb3e1c6db3"", ""author"": {""name"": ""Michael Han"", ""email"": ""lhan@twitter.com"", ""date"": ""2019-12-23T15:50:59Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""enrico.olivelli@diennea.com"", ""date"": ""2019-12-23T15:51:23Z""}}"
1695,SubmitCommit,2020-01-05 21:18:27,hanm,fork_close,"ZOOKEEPER-3644: cherry pick PR 1177 to branch-3.5

Author: Michael Han <hanm@apache.org>

Reviewers: eolivelli@apache.org, andor@apache.org

Closes #1182 from hanm/ZOOKEEPER-3644","{""sha"": ""a314855f0733c620dd1c690f05c13fafd9a1a1c4"", ""author"": {""name"": ""Michael Han"", ""email"": ""hanm@apache.org"", ""date"": ""2020-01-05T21:18:27Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2020-01-05T21:18:27Z""}}"
1695,SubmitCommit,2020-01-06 18:15:50,coheigea,fork_close,"ZOOKEEPER-3638: Update Jetty to 9.4.24.v20191120

Author: Colm O hEigeartaigh <coheigeaapache.org>

Reviewers: eolivelliapache.org, andorapache.org

Closes #1165 from coheigea/ZOOKEEPER-3638

(cherry picked from commit 178e8de664bed018c339108f168ae4ae4989b3b6)
Signed-off-by: Andor Molnar <andorapache.org>

Author: Colm O hEigeartaigh <coheigea@apache.org>

Reviewers: andor@apache.org

Closes #1201 from coheigea/ZOOKEEPER-3638","{""sha"": ""59337e7ec8ab67fecf7cfc1b8c5b76397c02bfd6"", ""author"": {""name"": ""Colm O hEigeartaigh"", ""email"": ""coheigea@apache.org"", ""date"": ""2020-01-06T18:15:50Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2020-01-06T18:15:50Z""}}"
1695,SubmitCommit,2020-01-18 19:07:46,eolivelli,fork_close,"ZOOKEEPER-3677: owasp checker failing for - CVE-2019-17571 Apache Log4j 1.2 deserialization of untrusted data in SocketServer

Suppress error for CVE-2019-17571 as it does not affect us.
We are not running the log4j server.

Author: Enrico Olivelli <eolivelli@apache.org>

Reviewers: phunt@apache.org

Closes #1209 from eolivelli/fix/ZOOKEEPER-3677-owasp-log4j

Change-Id: I0ef24a7b142cd32ccf4f5c18f9e0c0132a413d6c
(cherry picked from commit 3bd6b1950eea1fabeac4bc477c8828939d008a4a)
Signed-off-by: Patrick Hunt <phunt@apache.org>","{""sha"": ""df1dc8204fdb79276f10169fbd115f24012f4b21"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-01-18T19:06:01Z""}, ""committer"": {""name"": ""Patrick Hunt"", ""email"": ""phunt@apache.org"", ""date"": ""2020-01-18T19:07:46Z""}}"
1695,SubmitCommit,2020-01-20 07:41:10,sujithsimon22,fork_close,"ZOOKEEPER-3667: Setting jute.maxbuffer value in hexadecimal throws Exception

Author: sujithsimon22 <sujith.abraham.simon@huawei.com>

Reviewers: Mohammad Arshad <arshad@apache.org>

Closes #1222 from sujithsimon22/3667

(cherry picked from commit 49ad75b18bfe26e853050f5add6f10f567399058)
Signed-off-by: Mohammad Arshad <arshad@apache.org>","{""sha"": ""4a20176e4c48fe32c60272ba4bd6aeac490bc0e7"", ""author"": {""name"": ""Sujith Simon"", ""email"": ""sujith.abraham.simon@huawei.com"", ""date"": ""2020-01-20T07:39:29Z""}, ""committer"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2020-01-20T07:41:10Z""}}"
1695,SubmitCommit,2020-01-20 08:08:39,sujithsimon22,fork_close,"ZOOKEEPER-3613: ZKConfig fails to return proper value on getBoolean()when user accidentally includes spaces at the end of the value

Author: sujithsimon22 <sujith.abraham.simon@huawei.com>

Reviewers: Allan Lyu <fangmin@apache.org>,Justin Mao Ling <maoling199210191@sina.com>,Mohammad Arshad <arshad@apache.org>

Closes #1190 from sujithsimon22/3613

(cherry picked from commit dcef1a6f33d8120a93f011da1870a503aafb0312)
Signed-off-by: Mohammad Arshad <arshad@apache.org>","{""sha"": ""458b67f3dd63ffad195a602b67613dbd2ea1ed36"", ""author"": {""name"": ""Sujith Simon"", ""email"": ""sujith.abraham.simon@huawei.com"", ""date"": ""2020-01-20T08:06:59Z""}, ""committer"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2020-01-20T08:08:39Z""}}"
1695,SubmitCommit,2020-01-22 10:10:21,symat,fork_close,"ZOOKEEPER-3482: add unit tests for client SASL authentication over SSL

We had some issues about configuring Kerberos authentication with SSL, so I created some unit tests to verify that these features work together on the master branch.

The problem was originally reported on 3.5.5. There was some conflicts to backport the tests to 3.5, so I created this separate PR.

Author: Mate Szalay-Beko <szalay.beko.mate@gmail.com>

Reviewers: eolivelli@apache.org, andor@apache.org

Closes #1205 from symat/ZOOKEEPER-3482-branch-3.5 and squashes the following commits:

87db57f26 [Mate Szalay-Beko] ZOOKEEPER-3482: update SASL related documentation
9aff9527e [Mate Szalay-Beko] ZOOKEEPER-3482: reload SASL and Kerberos configs before executing the tests
21fe834d2 [Mate Szalay-Beko] ZOOKEEPER-3482: add unit tests for client SASL authentication over SSL","{""sha"": ""8d2f798c4d3eab4513743b3bf8828d061e7e1b90"", ""author"": {""name"": ""Mate Szalay-Beko"", ""email"": ""szalay.beko.mate@gmail.com"", ""date"": ""2020-01-22T10:10:21Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2020-01-22T10:10:21Z""}}"
1695,SubmitCommit,2020-01-23 10:16:53,phunt,fork_close,"ZOOKEEPER-3699: upgrade jackson-databind to address CVE-2019-20330

Latest version of jackson-databind is 2.9.10.2.

Change-Id: Id2b0f17c2dfa9a9765fd4893643007b49f06816d

Author: Patrick Hunt <phunt@apache.org>

Reviewers: Norbert Kalmar <nkalmar@apache.org>

Closes #1232 from phunt/ZOOKEEPER-3699

(cherry picked from commit 2d29c569f2c3ca879e1d026a7086f6e376187198)
Signed-off-by: Norbert Kalmar <nkalmar@apache.org>","{""sha"": ""bf0474a2dba33dc3595a4f560d563af2c7f9c48a"", ""author"": {""name"": ""Patrick Hunt"", ""email"": ""phunt@apache.org"", ""date"": ""2020-01-23T10:14:39Z""}, ""committer"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@apache.org"", ""date"": ""2020-01-23T10:16:53Z""}}"
1695,SubmitCommit,2020-01-23 15:51:26,phunt,fork_close,"ZOOKEEPER-3704: upgrade maven dependency-check to 5.3.0

Upgrade to the latest version of maven dependency checker.

Change-Id: I5ac9c77bb02f54784ff3ed4bb668fe38fd88ee11

Author: Patrick Hunt <phunt@apache.org>

Reviewers: Enrico Olivelli <eolivelli@apache.org>

Closes #1231 from phunt/ZOOKEEPER-3704

(cherry picked from commit 1fbaa26d6827263b2e9e8c18d8699f4bf799eda3)
Signed-off-by: Enrico Olivelli <enrico.olivelli@diennea.com>","{""sha"": ""42ebbc8aca7ee8f5cae0c1e57c874996b00602c8"", ""author"": {""name"": ""Patrick Hunt"", ""email"": ""phunt@apache.org"", ""date"": ""2020-01-23T15:50:58Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""enrico.olivelli@diennea.com"", ""date"": ""2020-01-23T15:51:26Z""}}"
1695,SubmitCommit,2020-01-24 14:18:16,anmolnar,fork_close,"ZOOKEEPER-1936: Server exits when unable to create data directory due to race

Resurrecting an ancient ticket which could be fixed with a simple patch.

Jira mentions a scenario when auto purging tool is in use and Zookeeper server could have a race condition when creating snapshot and data directories. (directory auto creating is enabled by default)

Double checking the directory existence might help with it.

Author: Andor Molnar <andor@apache.org>

Reviewers: Enrico Olivelli <eolivelli@apache.org>

Closes #1225 from anmolnar/ZOOKEEPER-1936

(cherry picked from commit 689c8b2c4ed264f1dd75db7cbde1f86fe4408f50)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""d461171d95e13184055c08f66fad4094ae5c5e36"", ""author"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2020-01-23T15:46:28Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2020-01-24T14:18:16Z""}}"
1695,SubmitCommit,2020-01-28 14:24:54,symat,fork_close,"ZOOKEEPER-1105: wait for server response in C client zookeeper_close

**Thanks for Lincoln Lee for the original fix!**

In the current implementation, we always get a WARN in server side
(""EndOfStreamException: Unable to read additional data from client"")
whenever we close a zookeeper handler from the C client. This also happens
in the end of every execution of the command line C client.

The reason is that currently we don't wait for the response from the server
when we initiate the closing of the client connection, and we terminate
the socket on the client side too early.

I tested the patch both on linux and windows. I also tested it both with
NIO and Netty server side socket implementations.

Author: Mate Szalay-Beko <szalay.beko.mate@gmail.com>

Reviewers: Andor Molnar <andor@apache.org>, Norbert Kalmar <nkalmar@apache.org>

Closes #1176 from symat/ZOOKEEPER-1105

(cherry picked from commit 57be7aedd698cb824ade7373aaa4d8264e1b4eb7)
Signed-off-by: Norbert Kalmar <nkalmar@apache.org>","{""sha"": ""49cf7ec1a7238d677eb92fcdb6c022684a043a25"", ""author"": {""name"": ""Mate Szalay-Beko"", ""email"": ""szalay.beko.mate@gmail.com"", ""date"": ""2020-01-28T14:22:30Z""}, ""committer"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@apache.org"", ""date"": ""2020-01-28T14:24:54Z""}}"
1695,SubmitCommit,2020-01-28 22:09:02,symat,fork_close,"ZOOKEEPER-1105: wait for server response in C client zookeeper_close - ADDENDUM

On the branch-3.5 the socket is represented a bit differently (as the SSL support
in ZOOKEEPER-2122 was not backported to branch-3.5 yet) so we had to fix the
code to be compatible with the old branch.

I compiled the code and tested the C client with a real 3.5.5 server. When I used
the patched client, the warnings disappeared.

Author: Mate Szalay-Beko <szalay.beko.mate@gmail.com>

Reviewers: Norbert Kalmar <nkalmar@apache.org>

Closes #1236 from symat/ZOOKEEPER-1105-branch-3.5","{""sha"": ""33f98a215abeb52825fc76ddaf8d867c200ae4a4"", ""author"": {""name"": ""Mate Szalay-Beko"", ""email"": ""szalay.beko.mate@gmail.com"", ""date"": ""2020-01-28T22:09:02Z""}, ""committer"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@apache.org"", ""date"": ""2020-01-28T22:09:02Z""}}"
1695,SubmitCommit,2020-01-30 20:55:08,anmolnar,fork_close,"ZOOKEEPER-3701: Split brain on log disk full (3.5)

Backport of #1233

Unfortunately the unit test cannot be backported, because 3.5 doesn't have the abstract `requestSystemExit` feature.

Author: Andor Molnar <andor@apache.org>

Reviewers: Norbert Kalmar <nkalmar@apache.org>

Closes #1237 from anmolnar/ZOOKEEPER-3701_35","{""sha"": ""7dd25bb8bf3925c3da1eb452b8916a6b2becfe61"", ""author"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2020-01-30T20:55:08Z""}, ""committer"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@apache.org"", ""date"": ""2020-01-30T20:55:08Z""}}"
1695,SubmitCommit,2020-02-03 03:31:54,belugabehr,fork_close,"ZOOKEEPER-3708: Move Logging Code into Logging Guard in Learner

Author: David Mollitor <dmollitor@apache.org>

Reviewers: eolivelli@apache.org, andor@apache.org

Closes #1240 from belugabehr/ZOOKEEPER-3708

(cherry picked from commit 68e1f7d4c54429caa74441c7444ef1fe0f75867c)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""58eca43a201362167eb33b501f452bc37d36b5f3"", ""author"": {""name"": ""David Mollitor"", ""email"": ""dmollitor@apache.org"", ""date"": ""2020-02-03T03:30:41Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2020-02-03T03:31:54Z""}}"
1695,SubmitCommit,2020-02-04 09:44:09,Jordan Zimmerman,fork_close,"ZOOKEEPER-3703: publish a test JAR

It would be very helpful to Apache Curator and others if ZooKeeper published its testing code as a Maven Test JAR. Curator, for example, could use it to improve its testing server to make it easier to inject error conditions without having to have forced time delays and other hacks.

NOTE: if we move forward with gRPC (ZOOKEEPER-102) that would be in a new module and this would be required. So, might as well do it now.

Author: Jordan Zimmerman <jordan@jordjzimmerman@grubhub.com>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Norbert Kalmar <nkalmar@apache.org>

Closes #1229 from Randgalt/ZOOKEEPER-3703-publish-test-jar

(cherry picked from commit 6db92d7dfa426488b191afba319a16b96f4a36c6)
Signed-off-by: Enrico Olivelli <eolivelli@apache.org>","{""sha"": ""e45b5a873aa1e238c753413e73ff81962ab991d4"", ""author"": {""name"": ""Jordan Zimmerman"", ""email"": ""jordan@jordjzimmerman@grubhub.com"", ""date"": ""2020-02-04T09:43:30Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-02-04T09:44:09Z""}}"
1695,SubmitCommit,2020-02-05 08:54:19,symat,fork_close,"ZOOKEEPER-3715: fix Kerberos test failures for new JDK versions

Using OpenJDK 8u.242 or OpenJDK 11.0.6, we have some kerberos exceptions
when running the following, Kerberos Authentication related tests:
- QuorumKerberosAuthTest
- QuorumKerberosHostBasedAuthTest
- SaslKerberosAuthOverSSLTest

After trying this with different JDK versions, we see that the problem
seems to appear:
- between OpenJDK 8u.232 and 8u.242 for java 8
- and between 11.0.3 and 11.0.6 for java 11

There are a lot of kerberos related changes after 8u.232:
see https://hg.openjdk.java.net/jdk8u/jdk8u/jdk

I didn't really found the root cause of the issue, but the problem disappeared
after upgrading the Apache Kerby. Kerby is used only by the tests to start a local
embedded KDC server. I also checked the dependencies of the new Kerby version
and there is nothing to exclude there as far as I saw.

I also improved the logging of errors during Kerberos authentication problems by
printing out some more exceptions.

Author: Mate Szalay-Beko <szalay.beko.mate@gmail.com>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Norbert Kalmar <nkalmar@apache.org>

Closes #1248 from symat/ZOOKEEPER-3715-branch-3.5","{""sha"": ""80947563c892e084569a05f4f1c2637c08379172"", ""author"": {""name"": ""Mate Szalay-Beko"", ""email"": ""szalay.beko.mate@gmail.com"", ""date"": ""2020-02-05T08:54:19Z""}, ""committer"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@apache.org"", ""date"": ""2020-02-05T08:54:19Z""}}"
1695,SubmitCommit,2020-02-05 10:21:41,nkalmar,fork_close,Prepare for the next release: update the version to 3.5.8-SNAPSHOT,"{""sha"": ""b812bd43ff3fdfd47bc1251f9e158e28e710e056"", ""author"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@yahoo.com"", ""date"": ""2020-02-05T10:21:41Z""}, ""committer"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@yahoo.com"", ""date"": ""2020-02-05T10:21:41Z""}}"
1695,SubmitCommit,2020-02-09 13:48:03,phunt,fork_close,"ZOOKEEPER-3716: upgrade netty 4.1.42 to address CVE-2019-20444 CVE-20…

…19-20445

Updated netty to version 4.1.45 to address CVE-2019-20444 CVE-2019-20445

Change-Id: Iabcbd1f0b75a03d2a555084de841d7f8caedf6bd
(cherry picked from commit c3f6d4627579e3ee1a25a7c3f08ceb261eee5af1)

Author: Patrick Hunt <phunt@apache.org>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Norbert Kalmar <nkalmar@apache.org>

Closes #1246 from phunt/ZOOKEEPER-3716_br35","{""sha"": ""b3adc29f9c4bf1ed3f05dbac0aa5b597a6ca2fd9"", ""author"": {""name"": ""Patrick Hunt"", ""email"": ""phunt@apache.org"", ""date"": ""2020-02-09T13:48:03Z""}, ""committer"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@apache.org"", ""date"": ""2020-02-09T13:48:03Z""}}"
1695,SubmitCommit,2020-02-09 13:55:00,ztzg,fork_close,"ZOOKEEPER-3719: Fix C Client compilation issues

This series fixes the following:

  * Actually build the C code in `full-build` profile:

    Without this, the C client is configured by Maven, but not built.
    This helps avoiding compilation errors, but has other downsides.

  * Fix Windows compilation issue:

    The backport of ZOOKEEPER-1105 introduced a compilation error in
    one of the `WIN32` branches of the C client code.

    This happened because the ""socket object"" does not use the same
    representation on `branch-3.5` (as it does not include the SSL
    support introduced by ZOOKEEPER-2122).

  * Fix GCC 8.3 compilation issues:

    `Makefile.am` uses `-Werror`, and this causes the build to fail
    with GCC 8.3, which warns about a couple possible buffer overruns.

Author: Damien Diederen <dd@crosstwine.com>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Norbert Kalmar <nkalmar@apache.org>

Closes #1249 from ztzg/ZOOKEEPER-3719-c-client-3.5.7-fixes

(cherry picked from commit 89730f4adcda9c9b3bf19ccdaf4cc65b0a8fec1d)
Signed-off-by: Norbert Kalmar <nkalmar@apache.org>","{""sha"": ""9c0773cbac6958e1a47071c6ebded65f38b1517f"", ""author"": {""name"": ""Damien Diederen"", ""email"": ""dd@crosstwine.com"", ""date"": ""2020-02-09T13:54:44Z""}, ""committer"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@apache.org"", ""date"": ""2020-02-09T13:55:00Z""}}"
1695,SubmitCommit,2020-02-10 07:13:05,nkalmar,fork_close,"ZOOKEEPER-3718: The tarball generated by assembly is missing some files

There were missing files from the generated source tarball, namely:
-checkstyleSuppressions.xml, .travis.yml and ""dev"" directory missing
-the generated jute was included with the C client code

Author: Norbert Kalmar <nkalmar@yahoo.com>

Reviewers: Enrico Olivelli <eolivelli@apache.org>

Closes #1250 from nkalmar/ZOOKEEPER-3718","{""sha"": ""24240107d0d6cdf8ab9a676b74a48b4e7663bbed"", ""author"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@yahoo.com"", ""date"": ""2020-02-10T07:13:05Z""}, ""committer"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@apache.org"", ""date"": ""2020-02-10T07:13:05Z""}}"
1695,SubmitCommit,2020-02-10 10:20:02,JustCallMeFeng,fork_close,"ZOOKEEPER-3453: missing 'SET' in zkCli on windows

from #1195

Author: 慕华 <wrdfeng@gmail.com>

Reviewers: Andor Molnar <andor@apache.org>, Norbert Kalmar <nkalmar@apache.org>

Closes #1234 from wordfeng/patch-1","{""sha"": ""bc0a065fbaa9c0e6fa77d185563573b0f114c44b"", ""author"": {""name"": ""\u6155\u534e"", ""email"": ""wrdfeng@gmail.com"", ""date"": ""2020-02-10T10:20:02Z""}, ""committer"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@apache.org"", ""date"": ""2020-02-10T10:20:02Z""}}"
1695,SubmitCommit,2020-02-23 16:46:32,eolivelli,fork_close,"ZOOKEEPER-3734: upgrade jackson-databind to address CVE-2020-8840

Author: Enrico Olivelli <eolivelli@apache.org>

Reviewers: phunt@apache.org

Closes #1262 from eolivelli/fix/ZOOKEEPER-3734-jackson-again

Change-Id: I21df2c160f8dd9c2542c153e4aa53500b58e8144
(cherry picked from commit f0c6ae5eb205d7c546483a6f1769cb58b68169a6)
Signed-off-by: Patrick Hunt <phunt@apache.org>","{""sha"": ""c01aef824b556f68085a8bbeeaf379172c2bf8a4"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-02-23T16:41:20Z""}, ""committer"": {""name"": ""Patrick Hunt"", ""email"": ""phunt@apache.org"", ""date"": ""2020-02-23T16:46:32Z""}}"
1695,SubmitCommit,2020-03-01 05:43:16,ctubbsii,fork_close,"ZOOKEEPER-3737: Detect log4j 1.2 jmx support better

* Look for jmx class that exists only in the log4j 1.2 jar, but not in
  the log4j2 1.2 compatibility jar.
* Check if disabled before attempting to detect log4j 1.2 jmx classes.
* Update log messages to highlight that they are referring to log4j 1.2
  and not log4j2 or other versions.
* Minor javadoc fixup

Author: Christopher Tubbs <ctubbsii@apache.org>

Reviewers: phunt@apache.org

Closes #1270 from ctubbsii/ZK-3737

Change-Id: I7ebd7a28386d3fee33fcc9078d7f573dc766e8ee
(cherry picked from commit 5a2332058deba04313ad37fa05cbb1515c83b8e6)
Signed-off-by: Patrick Hunt <phunt@apache.org>","{""sha"": ""1332b0d049f60239cc3001f9bf49b83444ec8cab"", ""author"": {""name"": ""Christopher Tubbs"", ""email"": ""ctubbsii@apache.org"", ""date"": ""2020-03-01T05:42:47Z""}, ""committer"": {""name"": ""Patrick Hunt"", ""email"": ""phunt@apache.org"", ""date"": ""2020-03-01T05:43:16Z""}}"
1695,SubmitCommit,2020-03-12 16:10:43,suhasdantkale,fork_close,"ZOOKEEPER-2164: Quorum members can not rejoin after restart

(Ported from Mate Szalay-Beko's work in master branch.
Refer to https://github.com/apache/zookeeper/pull/1254)

Ever since ZOOKEEPER-107 (released in 3.5.0) the servers are sending
their addresses during initial connection requests. The receiving
server can potentially use these addresses to send back a new
connection request if the challenge is won by the receiver.

If the server config contains wildcard address (e.g. 0.0.0.0 in case
of IPv4) then the first connection request sent by A to B will contain
this address. If the ID of A is smaller than the ID of B, then A will
lose the challenge and the second connection request sent back by B
will never reach A, as B will send the initial message to 0.0.0.0.

So in any 3.5+ ZooKeeper, if wildcard addresses are used in the configs,
then there might be some servers never able to rejoin to the quorum
after they got restarted.

In 3.5+ for backward compatibility reasons (needed during rolling
upgrade) there is a version of the QuorumCnxManager.connectOne()
method that needs no election address but use the last known address
to initiate the connection. In this commit, we simply call this method
if the address is a wildcard address.

I also added a few restart related tests, to make sure that restart
still works when we don't use no wildcard addresses. We can not test
the original error with unit tests, as it would require to start
the quorum on multiple hosts.

I also tested manually the rolling restart both with and without
wildcard addresses in the config.

Reviewer: Mate Szalay-Beko <szalay.beko.mategmail.com>

Author: Suhas Dantkale <sdantkale@salesforce.com>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Norbert Kalmar <nkalmar@apache.org>

Closes #1256 from suhasdantkale/suhas/ZOOKEEPER-2164","{""sha"": ""800cc26a768fceda9ea42fe8121acf45fe781c57"", ""author"": {""name"": ""Suhas Dantkale"", ""email"": ""sdantkale@salesforce.com"", ""date"": ""2020-03-12T16:10:43Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""enrico.olivelli@diennea.com"", ""date"": ""2020-03-12T16:10:43Z""}}"
1695,SubmitCommit,2020-03-26 16:31:43,symat,fork_close,"ZOOKEEPER-3756: Members slow to rejoin quorum using Kubernetes

Whenever we close the current master ZooKeeper server, a new leader election
is triggered. During the new election, a connection will be established between
all the servers, by calling the synchronized 'connectOne' method in
QuorumCnxManager. The method will open the socket and send a single small
initial message to the other server, usually very quickly. If the destination
host is unreachable, it should fail immediately.

However, when we use Kubernetes, then the destination host is always reachable
as it points to Kubernetes services. If the actual container / pod is not
available then the 'socket.connect' method will timeout (by default after 5 sec)
instead of failing immediately with NoRouteToHostException. As the 'connectOne'
method is synchronized, this timeout will block the creation of other
connections, so a single unreachable host can cause timeout in the leader
election protocol.

One workaround is to decrease the socket connection timeout with the
'-Dzookeeper.cnxTimeout' stystem property, but the proper fix would be to
make the connection initiation fully asynchronous, as using very low timeout can
have its own side effect. Fortunately most of the initial message sending
is already made async: the SASL authentication can take more time, so the
second (authentication + initial message sending) part of the initiation protocol
is already called in a separate thread, when Quorum SASL authentication is enabled.

In the following patch I made the whole connection initiation async, by
always using the async executor (not only when Quorum SASL is enabled) and
also moving the socket.connect call into the async thread.

I also created a unit test to verify my fix. I added a static socket factory that can be
changed by the tests using a packet private setter method. My test failed (and
produced the same error logs as we see in the original Jira ticket) before I applied
my changes and a time-outed as no leader election succeeded after 15 seconds.
After the changes the test runs very quickly, in 1-2 seconds.

Note: due to the multiAddress changes, we will need different PRs to the branch 3.5
and to the 3.6+ branches. I will submit the other PR once this got reviewed.

Author: Mate Szalay-Beko <szalay.beko.mate@gmail.com>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Norbert Kalmar <nkalmar@apache.org>

Closes #1293 from symat/ZOOKEEPER-3756-branch-3.5","{""sha"": ""e30991d8aa068c6ede2c33476ab4a25493fd1c49"", ""author"": {""name"": ""Mate Szalay-Beko"", ""email"": ""szalay.beko.mate@gmail.com"", ""date"": ""2020-03-26T16:31:43Z""}, ""committer"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@apache.org"", ""date"": ""2020-03-26T16:31:43Z""}}"
1695,SubmitCommit,2020-03-26 17:44:42,lingjinjiang,fork_close,"ZOOKEEPER-3760: remove a useless throwing CliException

https://issues.apache.org/jira/browse/ZOOKEEPER-3760

When I upgrade zookeeper from 3.4.13 to 3.5.7 in my application, I find the function processCmd in ZooKeeperMain.java throws a CliException which has been caught in the function. So I think it can be removed

Author: lingjinjiang <lingjinjiang@gmail.com>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Norbert Kalmar <nkalmar@apache.org>

Closes #1286 from lingjinjiang/master

(cherry picked from commit 2581f71dd97cfda2cf6768c3457b81c7a93b9ef7)
Signed-off-by: Norbert Kalmar <nkalmar@apache.org>","{""sha"": ""95852ea842980482c6f71a94942c687a378d5a9f"", ""author"": {""name"": ""lingjinjiang"", ""email"": ""lingjinjiang@gmail.com"", ""date"": ""2020-03-26T17:41:57Z""}, ""committer"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@apache.org"", ""date"": ""2020-03-26T17:44:42Z""}}"
1695,SubmitCommit,2020-04-07 07:09:53,symat,fork_close,"ZOOKEEPER-3769: handling malformed Leader Election notification messages

Using ZooKeeper with JDK 12.0.2 on CentOS 7 when the current leader is killed, we saw a few times that some partial Leader Election notification (vote) messages were delivered to the other ZooKeeper servers. The malformed / partial messages are causing different exceptions in the WorkerReceiver thread of FastLeaderElection which were not handled before. This was leading to the death of the WorkerReceiver thread, which caused that the given ZooKeeper Server was unable to receive leader election messages anymore and was not able to re-join to any quorum until it got restarted.

In the proposed fix I created unit tests to simulate certain error cases with regards to partial leader election messages, and fixed the error handling in FastLeaderElection.

Author: Mate Szalay-Beko <szalay.beko.mate@gmail.com>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Norbert Kalmar <nkalmar@apache.org>

Closes #1305 from symat/ZOOKEEPER-3769-branch-3.5","{""sha"": ""f6df585ba4f1f5a012461d9c15c55e541d64f97a"", ""author"": {""name"": ""Mate Szalay-Beko"", ""email"": ""szalay.beko.mate@gmail.com"", ""date"": ""2020-04-07T07:09:53Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""enrico.olivelli@diennea.com"", ""date"": ""2020-04-07T07:09:53Z""}}"
1695,SubmitCommit,2020-04-07 15:00:59,eolivelli,fork_close,"ZOOKEEPER-3785: Make sources buildable with JDK14

Author: Enrico Olivelli <eolivelli@apache.org>

Reviewers: Mate Szalay-Beko <szalay.beko.mate@gmail.com>, TisunKun <wander4096@gmail.com>

Closes #1308 from eolivelli/fix/jdk14

(cherry picked from commit a8fb880218410ec3b31374d957e5a0bd6c8cdf28)
Signed-off-by: Enrico Olivelli <eolivelli@apache.org>","{""sha"": ""7bf53e7985948e9fd59bbce74b5b3403a7c7aaf5"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-04-07T15:00:35Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-04-07T15:00:59Z""}}"
1695,SubmitCommit,2020-04-11 06:47:53,vtyulb,fork_close,"ZOOKEEPER-3726: invalid ipv6 address comparison in C client

Fix for https://issues.apache.org/jira/browse/ZOOKEEPER-3726

sockaddr_storage can contain ipv4 or ipv6 address. If address is ipv6, then we need to compare more bytes.

In this PR correct comparison of sockaddr_storage was added.

Author: Vladislav Tyulbashev <vtyulb@vtyulb.ru>

Reviewers: Norbert Kalmar <nkalmar@apache.org>, Mate Szalay-Beko <symat@apache.org>

Closes #1252 from vtyulb/ZOOKEEPER-3726

(cherry picked from commit 726f6843eba75bb3673284b52d8ca3801c5431d3)
Signed-off-by: Mate Szalay-Beko <symat@apache.org>","{""sha"": ""0f67ee74bed60fd4240e297257c3cd40bd2ea608"", ""author"": {""name"": ""Vladislav Tyulbashev"", ""email"": ""vtyulb@vtyulb.ru"", ""date"": ""2020-04-11T06:19:04Z""}, ""committer"": {""name"": ""Mate Szalay-Beko"", ""email"": ""symat@apache.org"", ""date"": ""2020-04-11T06:47:53Z""}}"
1695,SubmitCommit,2020-04-15 09:46:41,phunt,fork_close,"ZOOKEEPER-3794: upgrade netty to address CVE-2020-11612

Author: Patrick Hunt <phunt@apache.org>

Reviewers: Enrico Olivelli <eolivelli@apache.org>

Closes #1320 from phunt/ZOOKEEPER-3794_br35","{""sha"": ""c0e708531c0bfc2f6ef61e5e729c486393a5e3db"", ""author"": {""name"": ""Patrick Hunt"", ""email"": ""phunt@apache.org"", ""date"": ""2020-04-15T09:46:41Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""enrico.olivelli@diennea.com"", ""date"": ""2020-04-15T09:46:41Z""}}"
1695,SubmitCommit,2020-04-27 09:06:21,nkalmar,fork_close,"ZOOKEEPER-3780: restore Version.getRevision() to be bacward compatible

for branch-3.5

Author: Norbert Kalmar <nkalmar@apache.org>

Reviewers: Mate Szalay-Beko <symat@apache.org>

Closes #1309 from nkalmar/branch-3.5","{""sha"": ""fc7cc9412c6579defdba175b050a3a14709aec45"", ""author"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@apache.org"", ""date"": ""2020-04-27T09:06:21Z""}, ""committer"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@apache.org"", ""date"": ""2020-04-27T09:06:21Z""}}"
1695,SubmitCommit,2020-04-28 14:33:32,arshadmohammad,fork_close,"ZOOKEEPER-2307: ZooKeeper not starting because acceptedEpoch is less than the currentEpoch

Update acceptedEpoch and currentEpoch in file first then in memory.

cherry-picked from the original commit (19d8567) and fixed to be compatible with branch-3.5

Author: Mohammad Arshad <arshadapache.org>

Reviewers: andorapache.org

Author: Mate Szalay-Beko <symat@apache.org>

Reviewers: Andor Molnar <andor@apache.org>, Mate Szalay-Beko <symat@apache.org>

Closes #1339 from symat/ZOOKEEPER-3810","{""sha"": ""e9dbd6357e7c93fa5e31eb37062f4d17da179597"", ""author"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2020-04-28T14:33:32Z""}, ""committer"": {""name"": ""Mate Szalay-Beko"", ""email"": ""symat@apache.org"", ""date"": ""2020-04-28T14:33:32Z""}}"
1695,SubmitCommit,2020-04-28 20:44:59,ctubbsii,fork_close,"ZOOKEEPER-3739: Remove use of com.sun.nio.file.SensitivityWatchEventModifier

3.5 backport of #1269

Author: Christopher Tubbs <ctubbsii@apache.org>

Reviewers: Andor Molnar <andor@apache.org>, Enrico Olivelli <eolivelli@apache.org>, Mate Szalay-Beko <symat@apache.org>

Closes #1340 from anmolnar/ZOOKEEPER-3215_35","{""sha"": ""35f7a8e037d2f3b5e699f4c6ce1da869b8fe6b3f"", ""author"": {""name"": ""Christopher Tubbs"", ""email"": ""ctubbsii@apache.org"", ""date"": ""2020-04-28T20:44:59Z""}, ""committer"": {""name"": ""Mate Szalay-Beko"", ""email"": ""symat@apache.org"", ""date"": ""2020-04-28T20:44:59Z""}}"
1695,SubmitCommit,2020-04-29 09:20:59,belugabehr,fork_close,"ZOOKEEPER-3357: Remove Dead Link from ZooKeeper Programmer Guide

backporting PR #903 to branch-3.5

Author: Beluga Behr <dam6923@gmail.com>

Reviewers: Norbert Kalmar <nkalmar@apache.org>

Closes #1342 from symat/ZOOKEEPER-3357-branch-3.5","{""sha"": ""838d7e54eeead89598859b0b775ff1a11e4ec7d7"", ""author"": {""name"": ""Beluga Behr"", ""email"": ""dam6923@gmail.com"", ""date"": ""2020-04-29T09:20:59Z""}, ""committer"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@apache.org"", ""date"": ""2020-04-29T09:20:59Z""}}"
1695,SubmitCommit,2020-04-29 09:22:15,belugabehr,fork_close,"ZOOKEEPER-3355: Remove 'tbd' From Docs

backporting PR #902 to branch-3.5

Author: Beluga Behr <dam6923@gmail.com>

Reviewers: Norbert Kalmar <nkalmar@apache.org>

Closes #1343 from symat/ZOOKEEPER-3355-branch-3.5","{""sha"": ""f84d00cb0f679d070aed302e2deaaa93142372db"", ""author"": {""name"": ""Beluga Behr"", ""email"": ""dam6923@gmail.com"", ""date"": ""2020-04-29T09:22:15Z""}, ""committer"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@apache.org"", ""date"": ""2020-04-29T09:22:15Z""}}"
1695,SubmitCommit,2020-04-29 17:27:55,belugabehr,fork_close,"ZOOKEEPER-3678: Remove Redundant GroupID from Maven POMs

Author: David Mollitor <dmollitor@apache.org>

Reviewers: Norbert Kalmar <nkalmar@apache.org>

Closes #1206 from belugabehr/ZOOKEEPER-3678

(cherry picked from commit 1c5d135d74f16275876c024401dc2de92909b20a)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""b9898feb700ce45ed0bba8c308aaac25076a038c"", ""author"": {""name"": ""David Mollitor"", ""email"": ""dmollitor@apache.org"", ""date"": ""2020-01-13T13:09:29Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2020-04-29T17:27:55Z""}}"
1695,SubmitCommit,2020-04-29 17:33:11,belugabehr,fork_close,"ZOOKEEPER-3679: Upgrade maven-compiler-plugin For ZooKeeper-jute

Author: David Mollitor <dmollitor@apache.org>

Reviewers: Enrico Olivelli <eolivelli@apache.org>

Closes #1207 from belugabehr/ZOOKEEPER-3679","{""sha"": ""b321ff9a7240e010a9417dfe2622181ed4963541"", ""author"": {""name"": ""David Mollitor"", ""email"": ""dmollitor@apache.org"", ""date"": ""2020-01-08T09:43:49Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2020-04-29T17:33:11Z""}}"
1695,SubmitCommit,2020-04-30 10:15:50,symat,fork_close,"ZOOKEEPER-3751: upgrade jackson-databind to 2.10 from 2.9

The original PR (#1283) was only merged to 3.6+ as in 3.5 we also have to change the ant configs. I created a new PR to kick-in the CI also for branch 3.5.

Author: Mate Szalay-Beko <symat@apache.org>

Reviewers: Enrico Olivelli <eolivelli@apache.org>

Closes #1341 from symat/ZOOKEEPER-3751-branch-3.5","{""sha"": ""c7914994a8e86668f9f5f18f96afb995410ca9ce"", ""author"": {""name"": ""Mate Szalay-Beko"", ""email"": ""symat@apache.org"", ""date"": ""2020-04-30T10:15:50Z""}, ""committer"": {""name"": ""Mate Szalay-Beko"", ""email"": ""symat@apache.org"", ""date"": ""2020-04-30T10:15:50Z""}}"
1695,SubmitCommit,2020-05-04 06:51:56,phunt,fork_close,"ZOOKEEPER-3794: upgrade netty to address CVE-2020-11612 - fixed file rename typo

I borked the rename of the netty-codec file on the original submit. This fixes by renaming the one file appropriately.

Change-Id: Ifff1e7bb49b3d0a5816ee97161a4043be7cdaaa6

Author: Patrick Hunt <phunt@apache.org>

Reviewers: Mate Szalay-Beko <symat@apache.org>

Closes #1333 from phunt/ZOOKEEPER-3794_rename

(cherry picked from commit ac4da3ebed34c536c4ea873503b0a6c036fa3910)
Signed-off-by: Mate Szalay-Beko <symat@apache.org>","{""sha"": ""12276e3ccf75916135e2fd94a0aa3c1f87a40a16"", ""author"": {""name"": ""Patrick Hunt"", ""email"": ""phunt@apache.org"", ""date"": ""2020-05-04T06:49:35Z""}, ""committer"": {""name"": ""Mate Szalay-Beko"", ""email"": ""symat@apache.org"", ""date"": ""2020-05-04T06:51:56Z""}}"
1695,SubmitCommit,2020-05-04 12:12:57,symat,fork_close,"ZOOKEEPER-3727: Fix 3.5 source tarball to represent the git repository

Comparing the 3.5 source tarball with the freshly cloned branch-3.5,
we see the following differences:

```
diff --brief --recursive ./tarball/ ./cloned/

Only in ./cloned: .git
Only in ./cloned: .gitattributes
Only in ./cloned: .gitignore
Only in ./cloned: checkstyle.xml
Only in ./tarball/zookeeper-server/src/main/java/org/apache/zookeeper/version: Info.java
Only in ./tarball/zookeeper-server/src/main/resources: git.properties
```

I added the `checkstyle.xml`, as it was missing due to a typo.

The git related files / folders are not present in the 3.6 releases either, so I don't think we
should change the current behaviour on 3.5.

The `Info.java` and `git.properties` files are generated by the Git-Commit-Id-Plugin during
the build. We don't have these files generated on the 3.6 / master branches. I would suggest
to keep them in the source tarball, as users who use the source tarball will not have the
git commit info as they didn't clone the repo from git.

Author: Mate Szalay-Beko <symat@apache.org>

Reviewers: Norbert Kalmar <nkalmar@apache.org>

Closes #1344 from symat/ZOOKEEPER-3727","{""sha"": ""2b85b9bd1644660b70d33b46b1b891359dfdd101"", ""author"": {""name"": ""Mate Szalay-Beko"", ""email"": ""symat@apache.org"", ""date"": ""2020-05-04T12:12:57Z""}, ""committer"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@apache.org"", ""date"": ""2020-05-04T12:12:57Z""}}"
1695,SubmitCommit,2020-05-04 12:14:02,symat,fork_close,"ZOOKEEPER-3817: suppress log4j SmtpAppender related CVE-2020-9488

Author: Mate Szalay-Beko <symat@apache.org>

Reviewers: Enrico Olivelli <eolivelli@apache.org>

Closes #1346 from symat/ZOOKEEPER-3817

(cherry picked from commit f6b54a6cd227ac37f28803f45d7287c7fd3a8142)
Signed-off-by: Enrico Olivelli <eolivelli@apache.org>","{""sha"": ""3b5be590b7b0bbccfea2a114e10daeb75ce63cef"", ""author"": {""name"": ""Mate Szalay-Beko"", ""email"": ""symat@apache.org"", ""date"": ""2020-05-04T12:13:41Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-05-04T12:14:02Z""}}"
1695,SubmitCommit,2020-05-04 12:22:46,suhasdantkale,fork_close,"ZOOKEEPER-3723: Zookeeper Client should not fail with ZSYSTEMERROR if DNS does not resolve one of the servers in the zk ensemble

The change is backported from
Jeelani Mohamed Abdul Khader <mjeelanidevvm3360.prn2.facebook.com>'s
https://github.com/apache/zookeeper/pull/579 change done in
""ZOOKEEPER-3095: Connect string fix for non-existent hosts""

Code changes to not fail the session initiation if the DNS is not able to
resolve the hostname of one of the servers in the Zookeeper ensemble.

Some Background:
The Zookeeper client resolves all the hostnames in the ensemble while establishing the session.
In Kubernetes environment with coreDNS, the hostname entry gets removed from coreDNS during the POD restarts.
Though we can manipulate the coreDNS settings to delay the removal of the hostname entry from DNS,
we don't want to leave any race where Zookeeper client is trying to establish a session and it fails
because the DNS temporarily is not able to resolve the hostname. So as long as one of the servers
in the ensemble is able to be DNS resolvable, should we not fail the session establishment with hard error
and instead try to establish the connection with one of the other servers

Author: Suhas Dantkale <sdantkale@salesforce.com>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Mate Szalay-Beko <szalay.beko.mate@gmail.com>, Damien Diederen <dd@crosstwine.com>

Closes #1259 from suhasdantkale/suhas/ZOOKEEPER-3723","{""sha"": ""d336e5a76d18f5d9135a6676170dfadc3cd5b332"", ""author"": {""name"": ""Suhas Dantkale"", ""email"": ""sdantkale@salesforce.com"", ""date"": ""2020-05-04T12:22:46Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-05-04T12:22:46Z""}}"
1695,SubmitCommit,2020-05-04 13:59:44,symat,fork_close,add missing 3.5.7 release notes,"{""sha"": ""2d307cefff6173fde65f7fac6edf7be974e3a3d7"", ""author"": {""name"": ""Mate Szalay-Beko"", ""email"": ""symat@apache.org"", ""date"": ""2020-05-04T13:59:44Z""}, ""committer"": {""name"": ""Mate Szalay-Beko"", ""email"": ""symat@apache.org"", ""date"": ""2020-05-04T13:59:44Z""}}"
1695,SubmitCommit,2020-05-04 14:24:46,symat,fork_close,Preparing for release 3.5.8,"{""sha"": ""f439ca583e70862c3068a1f2a7d4d068eec33315"", ""author"": {""name"": ""Mate Szalay-Beko"", ""email"": ""symat@apache.org"", ""date"": ""2020-05-04T14:24:46Z""}, ""committer"": {""name"": ""Mate Szalay-Beko"", ""email"": ""symat@apache.org"", ""date"": ""2020-05-04T14:24:46Z""}}"
1695,SubmitCommit,2021-05-11 15:10:07,roy-commits,fork_close,zookeeper选举模块注解,"{""sha"": ""7796c46c45743bb0e71ac5ba259f0ad5d533bef5"", ""author"": {""name"": ""EagerToLeave"", ""email"": ""personalemail_mc@163.com"", ""date"": ""2021-05-11T15:10:07Z""}, ""committer"": {""name"": ""EagerToLeave"", ""email"": ""personalemail_mc@163.com"", ""date"": ""2021-05-11T15:10:07Z""}}"
1695,OpenPR,2021-05-11 15:11:11,roy-commits,fork_close,,
1695,IssueComment,2021-05-11 15:14:38,maoling,fork_close,@EagerToLeave  Is this a misoperation???,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/838656711"", ""author_association"": ""MEMBER""}"
1695,ReviewComment,2021-05-11 15:21:32,sonatype-lift[bot],fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1695#pullrequestreview-656865446""}"
1695,ReviewComment,2021-05-11 15:21:34,sonatype-lift[bot],fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1695#pullrequestreview-656865483""}"
1695,ReviewComment,2021-05-11 15:21:36,sonatype-lift[bot],fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1695#pullrequestreview-656865514""}"
1695,ReviewComment,2021-05-11 15:21:37,sonatype-lift[bot],fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1695#pullrequestreview-656865534""}"
1695,ReviewComment,2021-05-11 15:21:38,sonatype-lift[bot],fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1695#pullrequestreview-656865562""}"
1695,ReviewComment,2021-05-11 15:21:40,sonatype-lift[bot],fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1695#pullrequestreview-656865581""}"
1695,ReviewComment,2021-05-11 15:21:42,sonatype-lift[bot],fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1695#pullrequestreview-656865624""}"
1695,ReviewComment,2021-05-11 15:21:44,sonatype-lift[bot],fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1695#pullrequestreview-656865662""}"
1695,ReviewComment,2021-05-11 15:21:46,sonatype-lift[bot],fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1695#pullrequestreview-656865694""}"
1695,ReviewComment,2021-05-11 15:21:47,sonatype-lift[bot],fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1695#pullrequestreview-656865731""}"
1695,ReviewComment,2021-05-11 15:21:49,sonatype-lift[bot],fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1695#pullrequestreview-656865757""}"
1695,ReviewComment,2021-05-11 15:21:51,sonatype-lift[bot],fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1695#pullrequestreview-656865800""}"
1695,ReviewComment,2021-05-11 15:22:21,sonatype-lift[bot],fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1695#pullrequestreview-656866390""}"
1695,ReviewComment,2021-05-11 15:22:23,sonatype-lift[bot],fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1695#pullrequestreview-656866430""}"
1695,ReviewComment,2021-05-11 15:22:25,sonatype-lift[bot],fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1695#pullrequestreview-656866458""}"
1695,ReviewComment,2021-05-11 15:22:26,sonatype-lift[bot],fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1695#pullrequestreview-656866489""}"
1695,ReviewComment,2021-05-11 15:22:27,sonatype-lift[bot],fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1695#pullrequestreview-656866515""}"
1695,ReviewComment,2021-05-11 15:22:29,sonatype-lift[bot],fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1695#pullrequestreview-656866542""}"
1695,ReviewComment,2021-05-11 15:22:30,sonatype-lift[bot],fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1695#pullrequestreview-656866577""}"
1695,ReviewComment,2021-05-11 15:22:32,sonatype-lift[bot],fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1695#pullrequestreview-656866621""}"
1695,ReviewComment,2021-05-11 15:22:34,sonatype-lift[bot],fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1695#pullrequestreview-656866661""}"
1695,ReviewComment,2021-05-11 15:22:35,sonatype-lift[bot],fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1695#pullrequestreview-656866690""}"
1695,ReviewComment,2021-05-11 15:22:37,sonatype-lift[bot],fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1695#pullrequestreview-656866724""}"
1695,ReviewComment,2021-05-11 15:22:38,sonatype-lift[bot],fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1695#pullrequestreview-656866763""}"
1695,ReviewComment,2021-05-11 15:22:40,sonatype-lift[bot],fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1695#pullrequestreview-656866787""}"
1695,ReviewComment,2021-05-11 15:22:41,sonatype-lift[bot],fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1695#pullrequestreview-656866811""}"
1695,ReviewComment,2021-05-11 15:22:43,sonatype-lift[bot],fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1695#pullrequestreview-656866838""}"
1695,ReviewComment,2021-05-11 15:22:45,sonatype-lift[bot],fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1695#pullrequestreview-656866860""}"
1695,ReviewComment,2021-05-11 15:22:46,sonatype-lift[bot],fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1695#pullrequestreview-656866876""}"
1695,ReviewComment,2021-05-11 15:22:48,sonatype-lift[bot],fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1695#pullrequestreview-656866902""}"
1695,ReviewComment,2021-05-11 15:22:49,sonatype-lift[bot],fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1695#pullrequestreview-656866925""}"
1695,ReviewComment,2021-05-11 15:22:51,sonatype-lift[bot],fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1695#pullrequestreview-656866964""}"
1695,ReviewComment,2021-05-11 15:22:53,sonatype-lift[bot],fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1695#pullrequestreview-656867002""}"
1695,ReviewComment,2021-05-11 15:22:54,sonatype-lift[bot],fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1695#pullrequestreview-656867030""}"
1695,ReviewComment,2021-05-11 15:22:56,sonatype-lift[bot],fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1695#pullrequestreview-656867062""}"
1695,ReviewComment,2021-05-11 15:22:57,sonatype-lift[bot],fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1695#pullrequestreview-656867084""}"
1695,ReviewComment,2021-05-11 15:22:58,sonatype-lift[bot],fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1695#pullrequestreview-656867118""}"
1695,ReviewComment,2021-05-11 15:23:00,sonatype-lift[bot],fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1695#pullrequestreview-656867143""}"
1695,ReviewComment,2021-05-11 15:23:02,sonatype-lift[bot],fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1695#pullrequestreview-656867167""}"
1695,ReviewComment,2021-05-11 15:23:03,sonatype-lift[bot],fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1695#pullrequestreview-656867206""}"
1695,ReviewComment,2021-05-11 15:23:05,sonatype-lift[bot],fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1695#pullrequestreview-656867252""}"
1695,ReviewComment,2021-05-11 15:23:07,sonatype-lift[bot],fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1695#pullrequestreview-656867285""}"
1695,ReviewComment,2021-05-11 15:23:09,sonatype-lift[bot],fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1695#pullrequestreview-656867317""}"
1695,ReviewComment,2021-05-11 15:23:10,sonatype-lift[bot],fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1695#pullrequestreview-656867345""}"
1695,ReviewComment,2021-05-11 15:23:12,sonatype-lift[bot],fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1695#pullrequestreview-656867371""}"
1695,ReviewComment,2021-05-11 15:23:14,sonatype-lift[bot],fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1695#pullrequestreview-656867410""}"
1695,ReviewComment,2021-05-11 15:23:16,sonatype-lift[bot],fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1695#pullrequestreview-656867451""}"
1695,ReviewComment,2021-05-11 15:23:17,sonatype-lift[bot],fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1695#pullrequestreview-656867475""}"
1695,ReviewComment,2021-05-11 15:23:19,sonatype-lift[bot],fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1695#pullrequestreview-656867503""}"
1695,ReviewComment,2021-05-11 15:23:21,sonatype-lift[bot],fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1695#pullrequestreview-656867534""}"
1695,ReviewComment,2021-05-11 15:23:22,sonatype-lift[bot],fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1695#pullrequestreview-656867574""}"
1695,ReviewComment,2021-05-11 15:23:24,sonatype-lift[bot],fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1695#pullrequestreview-656867616""}"
1695,ReviewComment,2021-05-11 15:23:26,sonatype-lift[bot],fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1695#pullrequestreview-656867652""}"
1695,ReviewComment,2021-05-11 15:23:28,sonatype-lift[bot],fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1695#pullrequestreview-656867689""}"
1695,ReviewComment,2021-05-11 15:23:29,sonatype-lift[bot],fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1695#pullrequestreview-656867718""}"
1695,ReviewComment,2021-05-11 15:23:31,sonatype-lift[bot],fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1695#pullrequestreview-656867755""}"
1695,ReviewComment,2021-05-11 15:23:32,sonatype-lift[bot],fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1695#pullrequestreview-656867791""}"
1695,ReviewComment,2021-05-11 15:23:34,sonatype-lift[bot],fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1695#pullrequestreview-656867823""}"
1695,ReviewComment,2021-05-11 15:23:35,sonatype-lift[bot],fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1695#pullrequestreview-656867849""}"
1695,ReviewComment,2021-05-11 15:23:37,sonatype-lift[bot],fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1695#pullrequestreview-656867887""}"
1695,ReviewComment,2021-05-11 15:23:39,sonatype-lift[bot],fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1695#pullrequestreview-656867927""}"
1695,ReviewComment,2021-05-11 15:23:41,sonatype-lift[bot],fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1695#pullrequestreview-656867946""}"
1695,ReviewComment,2021-05-11 15:23:42,sonatype-lift[bot],fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1695#pullrequestreview-656867981""}"
1695,ReviewComment,2021-05-11 15:23:44,sonatype-lift[bot],fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1695#pullrequestreview-656868010""}"
1695,ReviewComment,2021-05-11 15:23:46,sonatype-lift[bot],fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1695#pullrequestreview-656868097""}"
1695,ReviewComment,2021-05-11 15:23:47,sonatype-lift[bot],fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1695#pullrequestreview-656868152""}"
1695,ReviewComment,2021-05-11 15:23:49,sonatype-lift[bot],fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1695#pullrequestreview-656868243""}"
1695,ReviewComment,2021-05-11 15:23:51,sonatype-lift[bot],fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1695#pullrequestreview-656868316""}"
1695,ReviewComment,2021-05-11 15:23:53,sonatype-lift[bot],fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1695#pullrequestreview-656868395""}"
1695,ReviewComment,2021-05-11 15:23:54,sonatype-lift[bot],fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1695#pullrequestreview-656868486""}"
1695,ReviewComment,2021-05-11 15:23:56,sonatype-lift[bot],fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1695#pullrequestreview-656868561""}"
1695,ReviewComment,2021-05-11 15:23:58,sonatype-lift[bot],fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1695#pullrequestreview-656868633""}"
1695,ReviewComment,2021-05-11 15:23:59,sonatype-lift[bot],fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1695#pullrequestreview-656868730""}"
1695,ReviewComment,2021-05-11 15:24:01,sonatype-lift[bot],fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1695#pullrequestreview-656868812""}"
1695,ReviewComment,2021-05-11 15:24:03,sonatype-lift[bot],fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1695#pullrequestreview-656868911""}"
1695,ReviewComment,2021-05-11 15:24:05,sonatype-lift[bot],fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1695#pullrequestreview-656869001""}"
1695,ReviewComment,2021-05-11 15:24:07,sonatype-lift[bot],fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1695#pullrequestreview-656869088""}"
1695,ReviewComment,2021-05-11 15:24:09,sonatype-lift[bot],fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1695#pullrequestreview-656869195""}"
1695,ReviewComment,2021-05-11 15:24:11,sonatype-lift[bot],fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1695#pullrequestreview-656869279""}"
1695,IssueComment,2021-05-16 04:33:25,maoling,fork_close,"@EagerToLeave  I close this PR, you can reopen it if I make a wrong judgment.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/841764845"", ""author_association"": ""MEMBER""}"
1695,ClosePR,2021-05-16 04:33:38,maoling,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4750656654"", ""commit_url"": null}"
1696,SubmitCommit,2021-05-17 11:39:20,gpiyush-dev,fork_close,ZOOKEEPER-4295: Upgrade Netty library to > 4.1.60 due to security vulnerability CVE-2021-21409 in branch-3.5,"{""sha"": ""1b475ad8e1d3c09356177144daba756568a17f5a"", ""author"": {""name"": ""Piyush Gupta"", ""email"": ""gpiyush@vmware.com"", ""date"": ""2021-05-17T11:39:20Z""}, ""committer"": {""name"": ""Piyush Gupta"", ""email"": ""gpiyush@vmware.com"", ""date"": ""2021-05-17T11:39:20Z""}}"
1696,OpenPR,2021-05-17 11:45:35,gpiyush-dev,fork_close,,
1696,IssueComment,2021-05-21 13:02:30,maoling,fork_close,@eolivelli  PTAL :),"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/845934669"", ""author_association"": ""MEMBER""}"
1696,ReviewApproved,2021-07-01 09:00:18,ztzg,fork_close,"Approving the PR, because the problem is not new, but:

 1. The Netty JARs, as published on Maven Central, do not include a license file.  @eolivelli: is that something we should report to upstream?

 2. The files we embed are not quite the same as the ones shipped with the Netty sources.  No significant differences, but perhaps we should sync up?
","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1696#pullrequestreview-696997675""}"
1696,IssueCommentSupplement,2021-11-29 10:23:32,maoling,fork_close,"we have bump Netty to `4.1.70`, Let me close this PR
","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/981498453"", ""author_association"": ""MEMBER""}"
1696,ClosePR,2021-11-29 10:23:32,maoling,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5683894373"", ""commit_url"": null}"
1698,OpenPR,2021-05-18 23:14:04,li4wang,fork_close,,
1698,ReviewRejected,2021-05-19 06:21:58,eolivelli,fork_close,"Great work !

I left a comment about configuration, apart from that it looks great to me","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1698#pullrequestreview-662803749""}"
1698,IssueComment,2021-05-19 06:22:50,eolivelli,fork_close,"@merlimat @dlg99 @lhotari 
you may be interested in this work","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/843782261"", ""author_association"": ""CONTRIBUTOR""}"
1698,IssueComment,2021-05-20 17:47:17,li4wang,fork_close,"Thanks a lot for comments and feedback. @eolivelli 
","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/845331925"", ""author_association"": ""CONTRIBUTOR""}"
1698,IssueComment,2021-05-26 00:23:17,li4wang,fork_close,"Hi @eolivelli, thanks again for your feedback. I have changed the way of reading the config parameters and also added the documentation for the properties. Would you mind taking a look at it? ","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/848367745"", ""author_association"": ""CONTRIBUTOR""}"
1698,ReviewApproved,2021-06-07 07:03:50,anmolnar,fork_close,"Neat. Does it make sense to ever disable this feature? (Setting num_workers to 0)
This is not a new feature, this is a performance fix.","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1698#pullrequestreview-677051633""}"
1698,IssueComment,2021-06-07 22:47:01,li4wang,fork_close,"Thanks a lot for reviewing it, @anmolnar .

No, I think we would want to enable this in normal cases, that's why the default value is num of cpu cores. I added the support for num_works to 0 to provide the flexibility /possibility to switch between sync vs async for the cases of

1.  people want to run benchmark comparison tests with and without the fix
2. people really have limited number of threads they can use for the system

I can definitely remove the support if we don't need to support the above the cases.  WDYT?","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/856311027"", ""author_association"": ""CONTRIBUTOR""}"
1698,ReviewApproved,2021-06-10 13:24:13,eolivelli,fork_close,LGTM,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1698#pullrequestreview-680778186""}"
1698,IssueComment,2021-06-10 13:25:10,eolivelli,fork_close,"we should cherry pick this patch to 3.7.1 and probably also to 3.6.4.
","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/858620904"", ""author_association"": ""CONTRIBUTOR""}"
1698,IssueComment,2021-06-11 17:02:06,li4wang,fork_close,"Hi @eolivelli thanks for taking time review it.
> we should cherry pick this patch to 3.7.1 and probably also to 3.6.4.

What's the process of cherry picking changes? Do I need to open two separate JIRA tickets and having PR for each branch?




","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/859719128"", ""author_association"": ""CONTRIBUTOR""}"
1698,IssueComment,2021-06-11 18:18:25,eolivelli,fork_close,"No need  for a new jira. We can set multiple fix version.

If the change applies cleanly to the other branches there  is no need for additional prs","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/859758718"", ""author_association"": ""CONTRIBUTOR""}"
1698,IssueComment,2021-06-11 18:40:46,li4wang,fork_close,"Excellent! Thanks @eolivelli 

Please let me know if anything else needed from me for getting the changes to the master and other branches.  This is the first time for me submitting changes, so I am not quite sure the process. 



","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/859770515"", ""author_association"": ""CONTRIBUTOR""}"
1698,IssueComment,2021-06-14 06:45:33,eolivelli,fork_close,"@li4wang sure.
I will try to make CI pass if it is a case of flaky tests.
I will try to cherry pick to branch-3.7 and branch 3.6. I will ping you in case of problems","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/860423676"", ""author_association"": ""CONTRIBUTOR""}"
1698,IssueComment,2021-06-22 18:48:04,li4wang,fork_close,@eolivelli is there anything outstanding that I can help to get the changes merged so we can get the changes from the Zookeeper repo and prepare for 3.7 rollout?,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/866243921"", ""author_association"": ""CONTRIBUTOR""}"
1698,Revise,2021-07-27 21:52:57,liwang,fork_close,"ZOOKEEPER-4289: Reduce the performance impact of Prometheus metrics

Li Wang <liwang@gmail.com>","{""sha"": ""b06dc2bee94a892d0807ca816a9f4c0bdf48ec6e"", ""author"": {""name"": ""liwang"", ""email"": ""liwang@apple.com"", ""date"": ""2021-05-18T22:45:28Z""}, ""committer"": {""name"": ""liwang"", ""email"": ""liwang@apple.com"", ""date"": ""2021-07-27T21:52:57Z""}}"
1698,ClosePR,2021-07-28 09:24:31,eolivelli,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5078977008"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/a692cbab92e9bae53c9313241d9668d9de97ed8b""}"
1698,IssueCommentSupplement,2021-07-28 09:27:10,eolivelli,fork_close,"@li4wang I have committed the patch to master branch.
It does not apply to branch-3.7.

Do you mind sending another patch for branch-3.7 ?","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/888158310"", ""author_association"": ""CONTRIBUTOR""}"
1698,IssueCommentSupplement,2021-07-28 17:00:26,li4wang,fork_close,"Thanks for committing the patch to the master branch, Enrico.

The patch for branch-3.7 is ready now.  https://github.com/apache/zookeeper/pull/1731

Cheers,

Li

On Wed, Jul 28, 2021 at 2:27 AM Enrico Olivelli ***@***.***>
wrote:

> @li4wang <https://github.com/li4wang> I have committed the patch to
> master branch.
> It does not apply to branch-3.7.
>
> Do you mind sending another patch for branch-3.7 ?
>
> —
> You are receiving this because you were mentioned.
> Reply to this email directly, view it on GitHub
> <https://github.com/apache/zookeeper/pull/1698#issuecomment-888158310>,
> or unsubscribe
> <https://github.com/notifications/unsubscribe-auth/AQMZS2C4MP7Q5QVZWEQTT6TTZ7EPTANCNFSM45DO6GEA>
> .
>
","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/888470316"", ""author_association"": ""CONTRIBUTOR""}"
1698,CrossReferenced,2021-07-28 21:23:37,li4wang,fork_close,ZOOKEEPER-4338: Backport ZOOKEEPER-4289 to Branch 3.7,"{""reference"": {""url"": ""https://api.github.com/repos/apache/zookeeper/issues/1731"", ""is_pull_request"": true}}"
1698,IssueCommentSupplement,2022-05-13 10:09:14,ChaosJu,fork_close,great work,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1125878990"", ""author_association"": ""NONE""}"
1699,SubmitCommit,2021-05-19 09:42:18,lanicc,fork_close,ZOOKEEPER-4298: Update http to https in zoo_sample.cfg,"{""sha"": ""3d3a3a4690d860df97294609e020ca5a0158a179"", ""author"": {""name"": ""lan"", ""email"": ""liaonan@souche.com"", ""date"": ""2021-05-19T09:42:18Z""}, ""committer"": {""name"": ""lan"", ""email"": ""liaonan@souche.com"", ""date"": ""2021-05-19T09:42:18Z""}}"
1699,OpenPR,2021-05-19 09:43:19,lanicc,fork_close,,
1699,ReviewComment,2021-05-21 12:27:36,maoling,fork_close,+1,"{""author_association"": ""MEMBER"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1699#pullrequestreview-665407877""}"
1699,ClosePR,2021-05-24 14:21:56,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4786974764"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/c499202a2c470e2e365ef109c8e49784cb043367""}"
1699,IssueCommentSupplement,2021-05-24 14:22:16,maoling,fork_close,"@lanicc  
Thanks for your contribution.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/847076950"", ""author_association"": ""MEMBER""}"
1699,CrossReferenced,2022-11-02 11:49:53,anuragmadnawat1,fork_close,ZOOKEEPER-4298: Update http to https in zoo_sample.cfg,"{""reference"": {""url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/issues/148"", ""is_pull_request"": true}}"
1699,Referenced,2022-11-02 11:49:54,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7722570871"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/a382bd5e97e5bef2d6d86a9e34345517d07a877e""}"
1699,Referenced,2022-11-02 12:04:07,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7722683552"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/aa3374e4c0555386348a244fdfe10eac0333139b""}"
1700,SubmitCommit,2021-05-20 05:52:37,lan,fork_close,ZOOKEEPER-4300: Simplify assignment statements of boolean,"{""sha"": ""4967acc95c23900b9db71e66f34830530f278f88"", ""author"": {""name"": ""lan"", ""email"": ""liaonan@souche.com"", ""date"": ""2021-05-20T05:52:37Z""}, ""committer"": {""name"": ""lan"", ""email"": ""liaonan@souche.com"", ""date"": ""2021-05-20T05:52:37Z""}}"
1700,OpenPR,2021-05-20 05:53:27,lanicc,fork_close,,
1700,ReviewApproved,2021-05-21 12:52:41,maoling,fork_close,"- +1. sigh, I wrote this redundant(stupid) code.
- @lanicc  Thanks for your contribution.","{""author_association"": ""MEMBER"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1700#pullrequestreview-665429624""}"
1700,ClosePR,2021-05-24 14:11:49,maoling,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4786923317"", ""commit_url"": null}"
1700,ReopenPR,2021-05-24 14:11:52,maoling,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4786923585"", ""commit_url"": null}"
1700,ClosePR,2021-05-28 07:55:24,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4810695339"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/016ffd9a3ec2cb669071e881d677441314aa8bfd""}"
1700,CrossReferenced,2022-11-02 12:04:10,anuragmadnawat1,fork_close,ZOOKEEPER-4300: Simplify assignment statements of boolean,"{""reference"": {""url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/issues/149"", ""is_pull_request"": true}}"
1700,Referenced,2022-11-02 12:04:11,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7722684231"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/332a0fcbdcd6b6ed8a3aaf5fce1801ea00959eb8""}"
1700,Referenced,2022-11-02 12:12:23,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7722748236"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/4cf488ddc4067103b4b31332d5555fee7faf2844""}"
1701,SubmitCommit,2021-05-20 12:27:41,lan,fork_close,ZOOKEEPER-4301: fix typo,"{""sha"": ""dbe65263b7e8753daf5c24d0ea62ea7c60f9dd01"", ""author"": {""name"": ""lan"", ""email"": ""liaonan@souche.com"", ""date"": ""2021-05-20T12:27:41Z""}, ""committer"": {""name"": ""lan"", ""email"": ""liaonan@souche.com"", ""date"": ""2021-05-20T12:27:41Z""}}"
1701,OpenPR,2021-05-20 12:29:49,lanicc,fork_close,,
1701,IssueComment,2021-08-25 04:55:56,maoling,fork_close,+1 LGTM,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/905182459"", ""author_association"": ""MEMBER""}"
1701,ClosePR,2021-09-04 09:14:42,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5256274532"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/1e74a3395a9c3c4d67093f9a073bffb5a176916c""}"
1701,IssueCommentSupplement,2021-09-04 09:16:45,maoling,fork_close,"@lanicc 
Thanks for your contribution.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/912940507"", ""author_association"": ""MEMBER""}"
1702,SubmitCommit,2021-05-20 18:33:05,eas5,fork_close,"Refactored AtomicFileWritingIdiomTest to use TempDir annotation

Signed-off-by: Elvys Soares <eas5@cin.ufpe.br>","{""sha"": ""2296c8506768d16d8db2c77891b7b47e0b9789e9"", ""author"": {""name"": ""Elvys Soares"", ""email"": ""eas5@cin.ufpe.br"", ""date"": ""2021-05-20T18:33:05Z""}, ""committer"": {""name"": ""Elvys Soares"", ""email"": ""eas5@cin.ufpe.br"", ""date"": ""2021-05-20T18:33:05Z""}}"
1702,OpenPR,2021-05-20 18:36:52,eas5,fork_close,,
1702,ReviewApproved,2021-06-14 10:20:25,maoling,fork_close,"+1. lgtm
- Using this approach, we will not create a redundancy `build/test/tmp` file under `zookeeper/zookeeper-server` directory, and we also don't need to remove the `target` file manually
- @eas5 . Thanks for this contribution. It's better to create a [JIRA](https://issues.apache.org/jira/projects/ZOOKEEPER/) issue (sign up JIRA if you don't have an account) to bind this PR to a JIRA-ID. ZooKeeper uses the GitHub workflow. The contributor guideline is [here](https://cwiki.apache.org/confluence/display/ZOOKEEPER/HowToContribute)
","{""author_association"": ""MEMBER"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1702#pullrequestreview-682745485""}"
1702,ClosePR,2021-06-14 15:23:43,eas5,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4886393988"", ""commit_url"": null}"
1702,DeleteBranch,2021-06-14 15:23:44,eas5,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4886394009"", ""commit_url"": null}"
1702,ReopenPR,2021-06-14 15:26:17,eas5,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4886409305"", ""commit_url"": null}"
1702,RenameTitle,2021-06-14 15:28:59,eas5,fork_close,,"{""rename"": {""from"": ""Refactored AtomicFileWritingIdiomTest to use TempDir annotation"", ""to"": ""ZOOKEEPER-4319: Refactored AtomicFileWritingIdiomTest to use TempDir annotation""}, ""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4886424958""}"
1702,IssueComment,2021-06-14 15:43:20,eas5,fork_close,"@maoling thank you for your analysis! I created the JIRA issue according to the contributor guideline but, unfortunately, the PR closes when I try to rename the branch to the pattern ZOOKEEPER-<JIRA#>","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/860788618"", ""author_association"": ""CONTRIBUTOR""}"
1702,IssueComment,2021-06-17 14:16:27,maoling,fork_close,"@eas5 
If no other concerns, I'll merge it at next weekend(06-26). ","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/863278174"", ""author_association"": ""MEMBER""}"
1702,IssueComment,2021-06-17 15:05:23,eas5,fork_close,No remaining concerns. Thank you @maoling.,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/863318548"", ""author_association"": ""CONTRIBUTOR""}"
1702,ClosePR,2021-06-27 07:44:25,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4943648577"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/16187c48a1d9b339866b81e69c522021b031c4c3""}"
1702,IssueCommentSupplement,2021-06-27 07:44:58,maoling,fork_close,"@eas5 
Thanks for your contribution.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/869117688"", ""author_association"": ""MEMBER""}"
1702,ReviewCommentSupplement,2021-07-26 05:09:27,Asil9691,fork_close,Fraud identity theft ,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1702#pullrequestreview-714446275""}"
1702,Referenced,2022-11-02 12:50:03,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7723047176"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/7032fe9a96241d11b98f86ea7f13d56ceebdf568""}"
1702,CrossReferenced,2022-11-02 12:50:03,anuragmadnawat1,fork_close,ZOOKEEPER-4319: Refactored AtomicFileWritingIdiomTest to use TempDir annotation,"{""reference"": {""url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/issues/159"", ""is_pull_request"": true}}"
1702,Referenced,2022-11-02 12:51:41,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7723060300"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/f33a0d3c6f8cd50c7ba2b3305bcadd43d8dfb30b""}"
1703,SubmitCommit,2021-05-27 09:35:18,emilaasa,fork_close,codescene code-health rules,"{""sha"": ""afb613d95d031c53852d63fcdf0721e34bc1af23"", ""author"": {""name"": ""Emil Aasa"", ""email"": ""emilaasa@gmail.com"", ""date"": ""2021-05-27T09:35:18Z""}, ""committer"": {""name"": ""Emil Aasa"", ""email"": ""emilaasa@gmail.com"", ""date"": ""2021-05-27T09:35:18Z""}}"
1703,SubmitCommit,2021-05-27 09:38:27,emilaasa,fork_close,add more code health to custom rules,"{""sha"": ""308e0eeba57b5bd6c39823f693ee077665389dea"", ""author"": {""name"": ""Emil Aasa"", ""email"": ""emilaasa@gmail.com"", ""date"": ""2021-05-27T09:38:27Z""}, ""committer"": {""name"": ""Emil Aasa"", ""email"": ""emilaasa@gmail.com"", ""date"": ""2021-05-27T09:38:27Z""}}"
1703,SubmitCommit,2021-05-27 09:42:55,emilaasa,fork_close,tweak content path,"{""sha"": ""aa0a280ac7a0f693d95164663039b12929bed45a"", ""author"": {""name"": ""Emil Aasa"", ""email"": ""emilaasa@gmail.com"", ""date"": ""2021-05-27T09:42:55Z""}, ""committer"": {""name"": ""Emil Aasa"", ""email"": ""emilaasa@gmail.com"", ""date"": ""2021-05-27T09:42:55Z""}}"
1703,SubmitCommit,2021-05-28 07:59:27,emilaasa,fork_close,asdasdasdsadasdasd,"{""sha"": ""4f971366fb83338ef90f2f9b116c9573c1beae88"", ""author"": {""name"": ""Emil Aasa"", ""email"": ""emilaasa@gmail.com"", ""date"": ""2021-05-28T07:59:27Z""}, ""committer"": {""name"": ""Emil Aasa"", ""email"": ""emilaasa@gmail.com"", ""date"": ""2021-05-28T07:59:27Z""}}"
1703,SubmitCommit,2021-05-28 08:29:19,emilaasa,fork_close,make java great again,"{""sha"": ""68d1dce9f6680caa0411d6bd4d2f2aa65d2c32b3"", ""author"": {""name"": ""Emil Aasa"", ""email"": ""emilaasa@gmail.com"", ""date"": ""2021-05-28T08:22:24Z""}, ""committer"": {""name"": ""Emil Aasa"", ""email"": ""emilaasa@gmail.com"", ""date"": ""2021-05-28T08:29:19Z""}}"
1703,OpenPR,2021-05-28 08:31:13,emilaasa,fork_close,,
1703,IssueCommentSupplement,2021-05-28 08:32:11,emilaasa,fork_close,"Sorry guys - messed up when trying out a tool for pull request integrations. Please close this, I'll be more careful!","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/850250083"", ""author_association"": ""NONE""}"
1703,ClosePR,2021-05-28 08:32:11,emilaasa,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4810906500"", ""commit_url"": null}"
1703,DeleteBranch,2021-05-28 08:32:17,emilaasa,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4810907135"", ""commit_url"": null}"
1705,SubmitCommit,2021-05-31 13:29:01,franz1981,fork_close,ZOOKEEPER-4309 QuorumCnxManager's ListenerHandler thread leak,"{""sha"": ""c8d03e6c6f7f7b9f1416fdb1c15605d891c50d5d"", ""author"": {""name"": ""franz1981"", ""email"": ""nigro.fra@gmail.com"", ""date"": ""2021-05-31T13:29:01Z""}, ""committer"": {""name"": ""franz1981"", ""email"": ""nigro.fra@gmail.com"", ""date"": ""2021-05-31T13:29:01Z""}}"
1705,OpenPR,2021-05-31 13:29:26,franz1981,fork_close,,
1705,IssueComment,2021-05-31 13:31:42,franz1981,fork_close,Writing a test for this means both mocking or adding more state into `Listener` class: let me know if it's needed. It just looks like a simple executor leak.,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/851494434"", ""author_association"": ""CONTRIBUTOR""}"
1705,IssueComment,2021-06-01 03:24:12,kyangcmXF,fork_close,"hi guy,
I replied to you in apache link.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/851777051"", ""author_association"": ""NONE""}"
1705,IssueComment,2021-06-01 07:15:50,franz1981,fork_close,in order to explain what's the issue I've created a test application to show it: https://issues.apache.org/jira/browse/ZOOKEEPER-4309?focusedCommentId=17354802&page=com.atlassian.jira.plugin.system.issuetabpanels%3Acomment-tabpanel#comment-17354802,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/851885960"", ""author_association"": ""CONTRIBUTOR""}"
1705,ReviewApproved,2021-06-01 09:20:22,eolivelli,fork_close,"Overall LGTM

I left a suggestion, if you want to take it into consideration please @franz1981 

otherwise I am happy with merging the patch as it is","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1705#pullrequestreview-672846320""}"
1705,IssueComment,2021-06-07 08:23:41,franz1981,fork_close,@eolivelli Any news on this? ,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/855716157"", ""author_association"": ""CONTRIBUTOR""}"
1705,IssueComment,2021-06-07 08:39:15,eolivelli,fork_close,"@franz1981 
in order to commit the patch we need at least another reviewer

tagging @anmolnar @hanm @nkalmar @symat @ztzg ","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/855729976"", ""author_association"": ""CONTRIBUTOR""}"
1705,IssueComment,2021-06-07 09:55:32,franz1981,fork_close,"> let's stick with this patch.
> we can improve things later
@eolivelli 

I'm a OSS lover (beside my actual job), so would be happy to help on this :)","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/855787366"", ""author_association"": ""CONTRIBUTOR""}"
1705,IssueComment,2021-06-07 18:46:35,ztzg,fork_close,"Planning to look into this on Wednesday (unless somebody beats me to it, of course).","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/856174833"", ""author_association"": ""CONTRIBUTOR""}"
1705,ReviewApproved,2021-06-09 19:59:41,ztzg,fork_close,LGTM!  I agree that getting rid of the leak is a good first step.,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1705#pullrequestreview-680094246""}"
1705,ReviewApproved,2021-06-11 03:27:21,hanm,fork_close,,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1705#pullrequestreview-681416060""}"
1705,IssueComment,2021-06-14 08:48:42,franz1981,fork_close,@hanm @ztzg @eolivelli happy that the fix is sound: as said probably worth considering some centralized way to create thread(s)/thread pools for a follow-up work on this,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/860512224"", ""author_association"": ""CONTRIBUTOR""}"
1705,ClosePR,2021-06-14 09:46:08,eolivelli,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4884593787"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/78550453204e89a13aee87d86b6d94c458c9dd63""}"
1705,Referenced,2021-06-14 09:46:15,eolivelli,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4884594371"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/7048d3a583eff4fff88d5071f5427a2ad36c1acf""}"
1705,IssueCommentSupplement,2021-06-14 09:47:03,eolivelli,fork_close,"committed to master branch and to branch-3.7.
the fix will be available on ZK 3.8.0 and 3.7.1

thank you !","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/860551683"", ""author_association"": ""CONTRIBUTOR""}"
1705,CrossReferenced,2022-11-02 12:28:01,anuragmadnawat1,fork_close,ZOOKEEPER-4309: QuorumCnxManager's ListenerHandler thread leak,"{""reference"": {""url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/issues/154"", ""is_pull_request"": true}}"
1705,Referenced,2022-11-02 12:28:02,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7722867598"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/971e2220be57eb1eab27c96fb6d7021d084858c5""}"
1705,Referenced,2022-11-02 12:30:42,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7722891809"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/7905fb415ae2a6d53f1b8c131b68385e443c966d""}"
1706,OpenPR,2021-06-02 11:58:43,DimasKovas,fork_close,,
1706,ReviewApproved,2021-06-02 13:06:35,eolivelli,fork_close,LGTM,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1706#pullrequestreview-674174047""}"
1706,ReviewApproved,2021-06-02 18:50:19,anmolnar,fork_close,+1,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1706#pullrequestreview-674574147""}"
1706,Revise,2021-06-07 13:43:01,DimasKovas,fork_close,Fix,"{""sha"": ""449ba8a61a6f7c2a2b3aa27aa7e9b952f464dfcc"", ""author"": {""name"": ""Dmitrii Kovalkov"", ""email"": ""dimas.kovas@gmail.com"", ""date"": ""2021-06-02T10:10:45Z""}, ""committer"": {""name"": ""Dmitrii Kovalkov"", ""email"": ""dimas.kovas@gmail.com"", ""date"": ""2021-06-07T13:43:01Z""}}"
1706,Revise,2021-06-07 13:43:01,DimasKovas,fork_close,cosmetics,"{""sha"": ""75e5256170dfe792afdc4f118bdeae8b9a3604e6"", ""author"": {""name"": ""Dmitrii Kovalkov"", ""email"": ""dimas.kovas@gmail.com"", ""date"": ""2021-06-02T10:16:25Z""}, ""committer"": {""name"": ""Dmitrii Kovalkov"", ""email"": ""dimas.kovas@gmail.com"", ""date"": ""2021-06-07T13:43:01Z""}}"
1706,Revise,2021-06-07 13:43:01,DimasKovas,fork_close,remove trailing whitespace,"{""sha"": ""1623c84da6ee2d7517dfa12f1e4ea92f640fef46"", ""author"": {""name"": ""Dmitrii Kovalkov"", ""email"": ""dimas.kovas@gmail.com"", ""date"": ""2021-06-02T13:10:26Z""}, ""committer"": {""name"": ""Dmitrii Kovalkov"", ""email"": ""dimas.kovas@gmail.com"", ""date"": ""2021-06-07T13:43:01Z""}}"
1706,IssueComment,2021-06-07 15:12:26,DimasKovas,fork_close,"Broken tests seem to be unrelated. Tried to rebase, but it didn't help. Is restarting the best option to pass the tests?","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/856020586"", ""author_association"": ""CONTRIBUTOR""}"
1706,IssueComment,2021-06-10 06:46:58,maoling,fork_close,"@DimasKovas 
- Looks reasonable. Some codes are copied from `hadoop`. I observed some codes uses the same way as you did.
[1]https://github.com/apache/hadoop/blob/03cfc852791c14fad39db4e5b14104a276c08e59/hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/util/PersistentLongFile.java#L78
[2]https://github.com/apache/hadoop/blob/03cfc852791c14fad39db4e5b14104a276c08e59/hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/util/MD5FileUtils.java#157

- Do you think the following hadoop snippet still has the same issue as zk?
[3]https://github.com/apache/hadoop/blob/03cfc852791c14fad39db4e5b14104a276c08e59/hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/qjournal/server/Journal.java#L1088","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/858359160"", ""author_association"": ""MEMBER""}"
1706,IssueComment,2021-06-10 09:01:58,DimasKovas,fork_close,"> * Do you think the following hadoop snippet still has the same issue as zk?
>   [3]https://github.com/apache/hadoop/blob/03cfc852791c14fad39db4e5b14104a276c08e59/hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/qjournal/server/Journal.java#L1088

Yes, it does. The code looks absolutely the same, and the usage of IOUtils.closeStream in case of ""success"" silently hides IO-errors.

","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/858447324"", ""author_association"": ""CONTRIBUTOR""}"
1706,IssueComment,2021-06-11 14:41:01,DimasKovas,fork_close,"I reproduced the scenario in which this bug leads to broken consistency guarantees after fsync failure (using filesystem emulator to simulate failures).
Script, description and possible output are available in this repository: https://github.com/DimasKovas/zookeeper-4311","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/859629894"", ""author_association"": ""CONTRIBUTOR""}"
1706,IssueComment,2021-06-12 06:58:07,maoling,fork_close,"@DimasKovas
Great work.  if no other concerns, I'll merge it at next weekend(06-19)","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/860011043"", ""author_association"": ""MEMBER""}"
1706,ClosePR,2021-06-19 09:26:02,maoling,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4912307867"", ""commit_url"": null}"
1706,ReopenPR,2021-06-19 09:27:32,maoling,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4912308926"", ""commit_url"": null}"
1706,ClosePR,2021-06-21 11:14:59,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4916179235"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/65dba9d9ab35cdef751473345af52089abc0da6e""}"
1706,IssueCommentSupplement,2021-06-22 04:43:54,maoling,fork_close,"@DimasKovas 

- Thanks for your contribution. I really love this solid work. The change is minor, the work is great！

- `CuttleFS` is a great tool to inject the `fsync` fault and I also read its paper: [Can Applications Recover from fsync Failures?] (https://www.usenix.org/system/files/atc20-rebello.pdf) which's great reading.

- I also want to reproduce this issue with your approach, I have installed `docker` and `CuttleFS` successfully, but I cannot build `zk_cmd` with `g++ -Iinclude client.cpp  libzookeeper.a libhashtable.a -o zk_cmd -pthread -DTHREADED`. I cannot find the `libzookeeper.a`, I install the official zookeeper client c-binding, what I have is 
`libzookeeper_mt.a` or `libzookeeper_st.a`. Could you please add more details about how to compile and build the `zk_cmd`?","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/865536292"", ""author_association"": ""MEMBER""}"
1706,IssueCommentSupplement,2021-06-22 11:45:22,DimasKovas,fork_close,"@maoling
Thanks.
I had installed zookeeper client c-binding from the sources using cmake, that's why there are some differences in library name/include paths. The libzookeeper_mt.a is what you need. I updated client.cpp and README.md, so I hope there will not be such problems anymore. Anyway, if something is not working - feel free to ask me, I will try to help.
Note that I compiled c-bindings with `--without-openssl --without-sasl` options, otherwise you need to add them to the linker too","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/865913100"", ""author_association"": ""CONTRIBUTOR""}"
1706,IssueCommentSupplement,2021-06-23 04:50:34,maoling,fork_close,"@DimasKovas Forgive my poor `C `language. 
- I follow your updated guideline and exec `g++ client.cpp -lzookeeper_mt -DTHREADED -pthread -o zk_cmd`. 
and got:
```
client.cpp:7:23: fatal error: zookeeper.h: No such file or directory
 #include <zookeeper.h>
```
What or where is `zookeeper_mt`?
- My `libzookeeper_mt` and `zookeeper.h` is at the following place:

```
/usr/local/lib/libzookeeper_st.so.2
/usr/local/lib/libzookeeper_mt.so.2
/usr/local/lib/libzookeeper_mt.a
/usr/local/lib/libzookeeper_mt.la
/usr/local/lib/libzookeeper_mt.so
/usr/local/lib/libzookeeper_st.so.2.0.0
/usr/local/lib/libzookeeper_st.la
/usr/local/lib/libzookeeper_st.so
/usr/local/lib/libzookeeper_mt.so.2.0.0
/usr/local/lib/libzookeeper_st.a
/data/software/zookeeper/apache-zookeeper-3.7.0/zookeeper-client/zookeeper-client-c/libzookeeper_mt.la
/data/software/zookeeper/apache-zookeeper-3.7.0/zookeeper-client/zookeeper-client-c/.libs/libzookeeper_mt.a
/data/software/zookeeper/apache-zookeeper-3.7.0/zookeeper-client/zookeeper-client-c/.libs/libzookeeper_mt.la
/data/software/zookeeper/apache-zookeeper-3.7.0/zookeeper-client/zookeeper-client-c/.libs/libzookeeper_st.la
/data/software/zookeeper/apache-zookeeper-3.7.0/zookeeper-client/zookeeper-client-c/.libs/libzookeeper_mt.lai
/data/software/zookeeper/apache-zookeeper-3.7.0/zookeeper-client/zookeeper-client-c/.libs/libzookeeper_st.a
/data/software/zookeeper/apache-zookeeper-3.7.0/zookeeper-client/zookeeper-client-c/.libs/libzookeeper_st.lai
/data/software/zookeeper/apache-zookeeper-3.7.0/zookeeper-client/zookeeper-client-c/libzookeeper_st.la
======================================
usr/local/include/zookeeper/zookeeper.h
/data/software/zookeeper/apache-zookeeper-3.7.0/zookeeper-client/zookeeper-client-c/include/zookeeper.h
```","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/866519476"", ""author_association"": ""MEMBER""}"
1706,IssueCommentSupplement,2021-06-23 05:06:37,DimasKovas,fork_close,"@maoling
Yesterday I updated client.cpp too. The only difference is in this line, it should be `#include <zookeeper/zookeeper.h>`. Try to pull the repository again","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/866525294"", ""author_association"": ""CONTRIBUTOR""}"
1706,IssueCommentSupplement,2021-06-28 11:36:15,maoling,fork_close,"@DimasKovas 

- I still cannot compile the `zk_cmd`, I followed your guideline to install the `zookeeper client c-bindings `successfully(I don't observe anything wrong, `cli_mt 127.0.0.1:2181` to connect server successfully)

```
g++ -std=c++11 client.cpp -lzookeeper_mt -DTHREADED -pthread -o zk_cmd
============
/tmp/ccGKBzgy.o: In function `cmdCreate(_zhandle*, std::string const&, std::string const&)':
client.cpp:(.text+0x355): undefined reference to `ZOO_PERSISTENT'
collect2: error: ld returned 1 exit status
```
- More context
```
CentOS 7
g++ --version
g++ (GCC) 4.8.5 20150623 (Red Hat 4.8.5-44)
Copyright (C) 2015 Free Software Foundation, Inc.
```","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/869610121"", ""author_association"": ""MEMBER""}"
1706,CrossReferenced,2022-11-02 12:44:46,anuragmadnawat1,fork_close,ZOOKEEPER-4311: Close AtomicFileOutputStream properly,"{""reference"": {""url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/issues/156"", ""is_pull_request"": true}}"
1706,Referenced,2022-11-02 12:44:47,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7723003938"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/7ec4a7507d06f0e3f96ede8f5ca94e2402193e96""}"
1706,Referenced,2022-11-02 12:46:25,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7723016690"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/c06964ba93c6c5287fdc2aaee6faba436018b4ab""}"
1707,SubmitCommit,2018-02-14 18:59:38,anmolnar,unfork_close,"ZOOKEEPER-2981: Fix build on branch-3.5

afine This PR is a fix for branch-3.5 builds. Please take this as high priority.

Author: Andor Molnar <andor@cloudera.com>

Reviewers: Mark Fenes <mfenes@cloudera.com>, Abraham Fine <afine@apache.org>

Closes #463 from anmolnar/ZOOKEEPER-2939_3.5","{""sha"": ""bcd6cae87990e453574e96d6d6123d9f37db75fc"", ""author"": {""name"": ""Andor Molnar"", ""email"": ""andor@cloudera.com"", ""date"": ""2018-02-14T18:59:38Z""}, ""committer"": {""name"": ""Abraham Fine"", ""email"": ""afine@apache.org"", ""date"": ""2018-02-14T18:59:38Z""}}"
1707,SubmitCommit,2018-02-20 19:27:27,Mark Fenes,unfork_close,"ZOOKEEPER-2967: Add check to validate dataDir and dataLogDir parameters at startup

ZOOKEEPER-2967: Add check to validate dataDir and dataLogDir parameters at startup

This PR adds a check to protect ZK against configuring dataDir and dataLogDir opposingly.

When FileTxnSnapLog is created, it checks if transaction log directory contains snapshot files or vice versa, snapshot directory contains transaction log files. If so, the check throws LogdirContentCheckException or SnapdirContentCheckException, respectively, which translates to DatadirException at ZK startup in QuorumPeerMain and ZooKeeperServerMain.

If the two directories are the same, then no check is done.

For testing, I've added 4 new unit tests which cover the following cases:

transaction log and snapshot directories are different and they are used correctly (no Exception)
transaction log and snapshot directories are the same (in this case no check is done)
transaction log and snapshot directories are different and transaction log directory contains snapshot files (LogdirContentCheckException -> ZK quits)
transaction log and snapshot directories are different and snapshot directory contains transaction log files (SnapdirContentCheckException -> ZK quits)

Author: Mark Fenes <mfenes@cloudera.com>

Reviewers: Andor Molnár <andor@cloudera.com>, Abraham Fine <afine@apache.org>

Closes #458 from mfenes/ZOOKEEPER-2967_3.5","{""sha"": ""b3be8a75ca6ecfb61692d80a678af86a027b07fe"", ""author"": {""name"": ""Mark Fenes"", ""email"": ""mfenes@cloudera.com"", ""date"": ""2018-02-20T19:27:27Z""}, ""committer"": {""name"": ""Abraham Fine"", ""email"": ""afine@apache.org"", ""date"": ""2018-02-20T19:27:27Z""}}"
1707,SubmitCommit,2018-02-20 22:38:16,achimbab,unfork_close,"ZOOKEEPER-2978: fix potential null pointer exception when deleting node

At line 518, 'existWatches.remove(clientPath)' is null because watches for clientPath is already removed.

Author: 07c00h <07c00h@gmail.com>

Reviewers: Abraham Fine <afine@apache.org>

Closes #461 from achimbab/master

(cherry picked from commit f0b67b6e49acec5f022bee25e08f82a29572c97a)
Signed-off-by: Abraham Fine <afine@apache.org>","{""sha"": ""e40d4050bdc15ddddda19cab0d1c76ad176cbc9b"", ""author"": {""name"": ""achimbab"", ""email"": ""07c00h@gmail.com"", ""date"": ""2018-02-20T22:38:00Z""}, ""committer"": {""name"": ""Abraham Fine"", ""email"": ""afine@apache.org"", ""date"": ""2018-02-20T22:38:16Z""}}"
1707,SubmitCommit,2018-02-23 22:52:45,Robert Evans,unfork_close,"ZOOKEEPER-2845: Apply commit log when restarting server.

This is the version of #453 for the 3.5 branch

Author: Robert Evans <evans@yahoo-inc.com>

Reviewers: Abraham Fine <afine@apache.org>, Mark Fenes <mfenes@cloudera.com>, Andor Molnár <andor@cloudera.com>, Kishor Patil <kpatil@yahoo-inc.com>

Closes #454 from revans2/ZOOKEEPER-2845-3.5","{""sha"": ""ffb81b9a618c2e3bc0dcffb9c2d240224d49409f"", ""author"": {""name"": ""Robert Evans"", ""email"": ""evans@yahoo-inc.com"", ""date"": ""2018-02-23T22:52:45Z""}, ""committer"": {""name"": ""Abraham Fine"", ""email"": ""afine@apache.org"", ""date"": ""2018-02-23T22:52:45Z""}}"
1707,SubmitCommit,2018-03-02 22:12:39,asutosh936,unfork_close,"ZOOKEEPER-2936: Removed duplicate code

Author: asutosh936 <asutosh.pandya@hotmail.com>

Reviewers: Andor Molnár <andor@cloudera.com>, Abraham Fine <afine@apache.org>

Closes #473 from asutosh936/master and squashes the following commits:

6a17613be [asutosh936] ZOOKEEPER-2936 - Deleted duplicate code
a02ef3db8 [asutosh936] ZOOKEEPER-2936 - Removed duplicate code

(cherry picked from commit ecb1162ec7f381963fb3263c7971a85fc35b27c8)
Signed-off-by: Abraham Fine <afine@apache.org>","{""sha"": ""484404ca96843c2ae5b8896eeca3d86264ca95ca"", ""author"": {""name"": ""asutosh936"", ""email"": ""asutosh.pandya@hotmail.com"", ""date"": ""2018-03-02T22:12:17Z""}, ""committer"": {""name"": ""Abraham Fine"", ""email"": ""afine@apache.org"", ""date"": ""2018-03-02T22:12:39Z""}}"
1707,SubmitCommit,2018-03-05 02:59:20,elyograg,unfork_close,"ZOOKEEPER-2992: The eclipse build target fails due to protocol redirection: http->https

ZOOKEEPER-2992 is the Jira issue.

Author: Shawn Heisey <elyograg@apache.org>

Reviewers: Edward Ribeiro <edward.ribeiro@gmail.com>, Andor Molnár <andor@cloudera.com>, Michael Han <hanm@apache.org>

Closes #479 from elyograg/master","{""sha"": ""005b3fb8ddb3ef03183fd0539a40ceb86fe8f4ac"", ""author"": {""name"": ""Shawn Heisey"", ""email"": ""elyograg@apache.org"", ""date"": ""2018-03-05T02:51:25Z""}, ""committer"": {""name"": ""Michael Han"", ""email"": ""hanm@apache.org"", ""date"": ""2018-03-05T02:59:20Z""}}"
1707,SubmitCommit,2018-03-26 01:49:24,sel-fish,unfork_close,"ZOOKEEPER-3001: Incorrect log message when try to delete container node

Missing `String.format`.

Author: sel-fish <fqlgy@hotmail.com>

Reviewers: Edward Ribeiro <edward.ribeiro@gmail.com>, Andor Molnár <andor@cloudera.com>, Michael Han <hanm@apache.org>, maoling <maoling199210191@sina.com>

Closes #492 from sel-fish/ZOOKEEPER-3001

(cherry picked from commit 8cfca3add9c7fd705f9114daf4adaac9fc90f040)
Signed-off-by: Michael Han <hanm@apache.org>","{""sha"": ""828eb9cd932e4ec72c5876d07d57965aefd9af17"", ""author"": {""name"": ""sel-fish"", ""email"": ""fqlgy@hotmail.com"", ""date"": ""2018-03-26T01:49:14Z""}, ""committer"": {""name"": ""Michael Han"", ""email"": ""hanm@apache.org"", ""date"": ""2018-03-26T01:49:24Z""}}"
1707,SubmitCommit,2018-03-26 02:19:08,andschwa,unfork_close,"ZOOKEEPER-2997: CMake should not force static CRT linking

By removing this code, CMake will use its own defaults for the CRT
flags (e.g., `/MDd` for debug configurations). With it removed, the
user can override this behavior by setting the `CMAKE_CXX_FLAGS`
manually when configuring ZooKeeper.

Author: Andrew Schwartzmeyer <andrew@schwartzmeyer.com>

Reviewers: Michael Han <hanm@apache.org>

Closes #485 from andschwa/ZOOKEEPER-2997

(cherry picked from commit 13c9f899ff62be6a2eacb28e522d06703f1dab08)
Signed-off-by: Michael Han <hanm@apache.org>","{""sha"": ""4a4896d09d17a76b44b33b5593aae5e053ae0e5f"", ""author"": {""name"": ""Andrew Schwartzmeyer"", ""email"": ""andrew@schwartzmeyer.com"", ""date"": ""2018-03-26T02:19:01Z""}, ""committer"": {""name"": ""Michael Han"", ""email"": ""hanm@apache.org"", ""date"": ""2018-03-26T02:19:08Z""}}"
1707,SubmitCommit,2018-04-06 04:04:21,eribeiro,unfork_close,"ZOOKEEPER-3006: Potential NPE in ZKDatabase#calculateTxnLogSizeLimit

LJ1043041006 found a potential NPE in ZKDatabase#calculateTxnLogSizeLimit: https://issues.apache.org/jira/browse/ZOOKEEPER-3006

```
//ZKDatabase
public long calculateTxnLogSizeLimit() {
    long snapSize = 0;
    try {
        snapSize = snapLog.findMostRecentSnapshot().length();
     } catch (IOException e) {
        LOG.error(""Unable to get size of most recent snapshot"");
    }
    return (long) (snapSize * snapshotSizeFactor);
}
```

 in FileTxnSnapLog#findMostRecentSnapshot(), it will return the result of  FileSnap#findMostRecentSnapshot:

```
// called by FileTxnSnapLog#findMostRecentSnapshot()
public File findMostRecentSnapshot() throws IOException {
        List<File> files = findNValidSnapshots(1);
        if (files.size() == 0) {
            return null;
        }
        return files.get(0);
}
```

So it will return null when the files sizes is 0, but ZKDatabase#calculateTxnLogSizeLimit has no null checker.

Author: Edward Ribeiro <edward.ribeiro@gmail.com>

Reviewers: Andor Molnár <andor@cloudera.com>, Michael Han <hanm@apache.org>, maoling <maoling199210191@sina.com>

Closes #493 from edwardoliveira/zk-3006-potential-npe

(cherry picked from commit fbd21329d32f185d198344f2d394175c92a82f9e)
Signed-off-by: Michael Han <hanm@apache.org>","{""sha"": ""df4801328d63c1b827caa86a64e8ea3fb941f7ad"", ""author"": {""name"": ""Edward Ribeiro"", ""email"": ""edward.ribeiro@gmail.com"", ""date"": ""2018-04-06T04:04:07Z""}, ""committer"": {""name"": ""Michael Han"", ""email"": ""hanm@apache.org"", ""date"": ""2018-04-06T04:04:21Z""}}"
1707,SubmitCommit,2018-04-16 04:24:36,dforsyth,unfork_close,"ZOOKEEPER-3017: Link libm in CMake on FreeBSD.

andschwa

Per your suggestion here: https://reviews.apache.org/r/66384/

Author: David Forsythe <dforsyth@freebsd.org>

Reviewers: Andrew Schwartzmeyer <andrew@schwartzmeyer.com>, Andor Molnár <andor@cloudera.com>, Michael Han <hanm@apache.org>

Closes #499 from dforsyth/ZOOKEEPER-3017","{""sha"": ""cb45603ac2cfb91d155ca11cf09551301dc0d4c0"", ""author"": {""name"": ""David Forsythe"", ""email"": ""dforsyth@freebsd.org"", ""date"": ""2018-04-16T04:22:25Z""}, ""committer"": {""name"": ""Michael Han"", ""email"": ""hanm@apache.org"", ""date"": ""2018-04-16T04:24:36Z""}}"
1707,SubmitCommit,2018-04-16 04:29:53,proller,unfork_close,"ZOOKEEPER-2999: CMake build should use target-level commands

CMake is using `include_directories`, which has global side effects,
instead of the more explicit `target_include_directories`, to include
directories per target (and with private or public scoping).

Furthermore, CMake should also use `CMAKE_CURRENT_SOURCE_DIR` over
`CMAKE_SOURCE_DIR` in order to allow inclusion in other projects via
`add_subdirectory()`, and we can reduce the minimally required CMake
version to 3.5 from 3.6.

Author: proller <proller@github.com>

Reviewers: Michael Han <hanm@apache.org>

Closes #486 from andschwa/ZOOKEEPER-2999

(cherry picked from commit 9ba4aeb4f92c1fc3167ff8e2b56e02f3e344d3ba)
Signed-off-by: Michael Han <hanm@apache.org>","{""sha"": ""d9605359c3b82eae37999abc377efc54fd22f34f"", ""author"": {""name"": ""proller"", ""email"": ""proller@github.com"", ""date"": ""2018-04-16T04:29:43Z""}, ""committer"": {""name"": ""Michael Han"", ""email"": ""hanm@apache.org"", ""date"": ""2018-04-16T04:29:53Z""}}"
1707,SubmitCommit,2018-04-17 04:57:32,nkalmar,unfork_close,"ZOOKEEPER-3002: upgrade to jdk 8

Set minimum requirement to java 1.8
The code successfully compiled with 8.0.161-oracle and 8.0.163-zulu.

Checking the generated class file it reports 1.8 as version:
javap -verbose build/classes/org/apache/zookeeper/server/ServerStats.class | grep version
minor version: 0
major version: 52

Author: Norbert Kalmar <nkalmar@yahoo.com>

Reviewers: Andor Molnár <andor@cloudera.com>, Michael Han <hanm@apache.org>

Closes #502 from nkalmar/ZOOKEEPER-3002_java1.8

(cherry picked from commit 519db3f5c585f63a0a55e9f7929a07f9715bd729)
Signed-off-by: Michael Han <hanm@apache.org>","{""sha"": ""a6739abdf27423ff0cd8ee1c99145ed3e3690561"", ""author"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@yahoo.com"", ""date"": ""2018-04-17T04:57:24Z""}, ""committer"": {""name"": ""Michael Han"", ""email"": ""hanm@apache.org"", ""date"": ""2018-04-17T04:57:32Z""}}"
1707,SubmitCommit,2018-04-23 22:25:29,anmolnar,unfork_close,"ZOOKEEPER-2994: Tool required to recover log and snapshot entries with CRC errors

https://issues.apache.org/jira/browse/ZOOKEEPER-2994

In the event  of ZooKeeper transaction log becomes corrupted and fail CRC checks (preventing startup) we should have a mechanism to get the cluster running again.

Previously we achieved this by loading the broken transaction log with a modified version of ZK with disabled CRC check and forced it to write new txn log files.

It has proven that once you end up with the corrupt txn log there is no way to recover except manually modifying the crc check. That's basically why the tool is needed.

It's called TxnLogToolkit, a new console application similar to LogFormatter and SnapshotFormatter, but it's intentionally separated to keep backward compatibility in the existing tools.

This PR contains TXN log tool only.

You probably also notice a refactoring to extract file padding logic from FileTxnLog to reuse in the new tool. Related code changes can be reviewed alone in a separate commit if preferred.

Author: Andor Molnar <andor@cloudera.com>

Reviewers: phunt@apache.org

Closes #487 from anmolnar/ZOOKEEPER-2994 and squashes the following commits:

221760ccc [Andor Molnar] ZOOKEEPER-2994. Added documentation and startup scripts
a69d7297b [Andor Molnar] ZOOKEEPER-2994. Fix findbugs warning
0b95efefd [Andor Molnar] ZOOKEEPER-2994. Fix for unit test
15fa45c68 [Andor Molnar] ZOOKEEPER-2994. Added padding, tool renamed to TxnLogToolkit, interactive mode, etc.
6a1ad0ec4 [Andor Molnar] ZOOKEEPER-2994. Refactor FileTxnLog's padding logic to separate class for reusability
0d089ccdd [Andor Molnar] ZOOKEEPER-2994. Added new tool TxnLogTool for txn log file recovery

Change-Id: I7560362633a7bc919ae6d3ca7e3588e196a1919c
(cherry picked from commit 154f9c536f7c696b774361937c6b4b08603d16cf)
Signed-off-by: Patrick Hunt <phunt@apache.org>","{""sha"": ""8139e742a82cfaeb4161492b62ed3aa0c6067e0b"", ""author"": {""name"": ""Andor Molnar"", ""email"": ""andor@cloudera.com"", ""date"": ""2018-04-23T22:20:26Z""}, ""committer"": {""name"": ""Patrick Hunt"", ""email"": ""phunt@apache.org"", ""date"": ""2018-04-23T22:25:29Z""}}"
1707,SubmitCommit,2018-04-24 00:26:13,andschwa,unfork_close,"ZOOKEEPER-3025: cmake broken on windows - make `hashtable` search `include`

When ZOOKEEPER-2999 removed the directory side-effect of
`include_directories(include)`, and added it as a target-level include
to the `zookeeper` library, this broke the Windows build. It worked on
Linux (where the patch was tested) because `winconfig.h` and is not
included, but on Windows, the `hashtable` library included
`winconfig.h` (found in `include`) but no longer knew where to find
it. The fix is to add `include` to the `hashtable` library's list of
include directories.

Author: Andrew Schwartzmeyer <andrew@schwartzmeyer.com>

Reviewers: phunt@apache.org

Closes #505 from andschwa/ZOOKEEPER-3025

Change-Id: I657f8e234082068fb7adf56dad2d68cbb4bc1d31
(cherry picked from commit cb6cae91c71b679d5bbc3fb48bf707fd1bb14493)
Signed-off-by: Patrick Hunt <phunt@apache.org>","{""sha"": ""c89870db5ba158e251735a71d9f73e7c8fef652a"", ""author"": {""name"": ""Andrew Schwartzmeyer"", ""email"": ""andrew@schwartzmeyer.com"", ""date"": ""2018-04-24T00:25:44Z""}, ""committer"": {""name"": ""Patrick Hunt"", ""email"": ""phunt@apache.org"", ""date"": ""2018-04-24T00:26:13Z""}}"
1707,SubmitCommit,2018-04-24 23:43:10,anmolnar,unfork_close,"ZOOKEEPER-2415: SessionTest is using Thread deprecated API

Refactored `SessionTest` class.

`testSessionTimeout()` has been extracted to a separate class and split into multiple test methods to validate the different behaviours in a more readable way.

Removed deprecated Thread API `suspend()` and reduced the server ticktime / session timeout for better performance.

Hopefully this will help on test's flakyness too.

Author: Andor Molnar <andor@cloudera.com>

Reviewers: phunt@apache.org

Closes #497 from anmolnar/ZOOKEEPER-2415 and squashes the following commits:

5f9f76c67 [Andor Molnar] ZOOKEEPER-2415. Reverted even more changes, because we don't need custom tickTime either anymore
8ed14e511 [Andor Molnar] ZOOKEEPER-2415. Moved session expiration test from ZooKeeperTestableTest class because it's redundant and more reliable
cfd18b64b [Andor Molnar] ZOOKEEPER-2415. Reset changes which are unrelated to this patch
76520025c [Andor Molnar] ZOOKEEPER-2415. Revert changes related to DisconnectableZooKeeper, because we don't need it for the new tests
6b5d26d0d [Andor Molnar] ZOOKEEPER-2415. Use ClientBase base class for the refactored unit tests
6026c591b [Andor Molnar] ZOOKEEPER-2415. Refactor testSessionTimeout() to live in separate class and not to use deprecated API. Also improved performance.

Change-Id: I33906f43de52a06e95ba3f19f8087033cd5857e2
(cherry picked from commit 3783ed58656f8719d7213329451f396f5c1e3dce)
Signed-off-by: Patrick Hunt <phunt@apache.org>","{""sha"": ""7bc67d13a450562dd470f52e47324364a25a4901"", ""author"": {""name"": ""Andor Molnar"", ""email"": ""andor@cloudera.com"", ""date"": ""2018-04-24T23:41:54Z""}, ""committer"": {""name"": ""Patrick Hunt"", ""email"": ""phunt@apache.org"", ""date"": ""2018-04-24T23:43:10Z""}}"
1707,SubmitCommit,2018-04-26 22:22:22,gongleigl.gong,unfork_close,"ZOOKEEPER-3007: Potential NPE in ReferenceCountedACLCache#deserialize

LJ1043041006 found a potential NPE in ZK

Author: gongleigl.gong <gongleigl.gong@qunar.com>
Author: brettkk <1099446733@qq.com>

Reviewers: phunt@apache.org

Closes #495 from brettKK/master and squashes the following commits:

7eb9e1c9b [gongleigl.gong] fix RTE message in ReferenceCountedACLCache class
0b858826d [gongleigl.gong] del logger error and fix error message
a12b13ff7 [brettkk] fix format
f7da9b9fa [brettkk] change ZOOK3007 to compare with apache master
cf9fb5f9a [brettkk] recover code
c4db5e25d [brettkk] recover zookeeper master same with apache:master
700dfb7f4 [gongleigl.gong] fix NPE bug
7d8d5230c [gongleigl.gong] d

Change-Id: I012c242e8566fcd54c1ebde1a30ec785b6aa31b0
(cherry picked from commit 2c0168ad37b529447ac8cb1bf866d014f8a97981)
Signed-off-by: Patrick Hunt <phunt@apache.org>","{""sha"": ""de272ead45f8044a6e237e71c05895fcbc714222"", ""author"": {""name"": ""gongleigl.gong"", ""email"": ""gongleigl.gong@qunar.com"", ""date"": ""2018-04-26T22:21:06Z""}, ""committer"": {""name"": ""Patrick Hunt"", ""email"": ""phunt@apache.org"", ""date"": ""2018-04-26T22:22:22Z""}}"
1707,SubmitCommit,2018-04-27 18:29:35,anmolnar,unfork_close,"ZOOKEEPER-3027: Accidently removed public API of FileTxnLog.setPreallocSize()

In my latest commit regarding TxnLogToolkit there's a refactor to outsource file padding logic from FileTxnLog to a separate class:

https://github.com/apache/zookeeper/commit/126fb0f22d701cad58bf3123bf7d8f2219e60387#diff-89717124564925d61d29dd817bcdd915L147

Unfortunately public static method setPreallocSize(int) has also been moved to the new class, but it's being actively used by hadoop-common project too:

https://github.com/apache/hadoop/blob/trunk/hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/ha/ClientBaseWithFixes.java#L384

I'd like to submit a patch to revert the deleted method which is going to call the new one, but will keep backward compatibility with Hadoop.

Author: Andor Molnar <andor@cloudera.com>

Reviewers: phunt@apache.org

Closes #509 from anmolnar/ZOOKEEPER-3027

Change-Id: I7333b5e24c2a78d10a5c5a74c181633050bd225d
(cherry picked from commit 5c96887643b2465caabbfd4763c7ebb3cd1aa024)
Signed-off-by: Patrick Hunt <phunt@apache.org>","{""sha"": ""d2aa49e423d3640b5b0012dad82db5163fb1ff54"", ""author"": {""name"": ""Andor Molnar"", ""email"": ""andor@cloudera.com"", ""date"": ""2018-04-27T18:28:15Z""}, ""committer"": {""name"": ""Patrick Hunt"", ""email"": ""phunt@apache.org"", ""date"": ""2018-04-27T18:29:35Z""}}"
1707,SubmitCommit,2018-04-30 04:35:10,Brian Nixon,unfork_close,"ZOOKEEPER-2988: NPE triggered if server receives a vote for a server …

…id not in their voting view

Author: Brian Nixon <nixon@fb.com>

Reviewers: Abraham Fine <afine@apache.org>, Michael Han <hanm@apache.org>, Edward Ribeiro <edward.ribeiro@gmail.com>

Closes #476 from enixon/ZOOKEEPER-2988

(cherry picked from commit 2022766ec907f63b1b43fc5455e9e7761cd332f6)
Signed-off-by: Michael Han <hanm@apache.org>","{""sha"": ""3a309c5080674088c96c2c63915b3d313543c0dd"", ""author"": {""name"": ""Brian Nixon"", ""email"": ""nixon@fb.com"", ""date"": ""2018-04-30T04:34:57Z""}, ""committer"": {""name"": ""Michael Han"", ""email"": ""hanm@apache.org"", ""date"": ""2018-04-30T04:35:10Z""}}"
1707,SubmitCommit,2018-05-08 22:54:53,Eron Wright,unfork_close,"ZOOKEEPER-2982: Re-try DNS hostname -> IP resolution if node connection fails

This PR ports a fix from the 3.4 to the master branch, that was originally made in ZOOKEEPER-1506.

Closes ZOOKEEPER-2982.

Author: Eron Wright <eron.wright@gmail.com>

Reviewers: Andor Molnar <andor@cloudera.com>, Abraham Fine <afine@apache.org>, Flavio Junqueira <fpj@apache.org>

Closes #513 from EronWright/ZOOKEEPER-2982-master

(cherry picked from commit b1f6279a8c4708d1df7dd1128dc4fdf41fc7e24a)
Signed-off-by: Flavio Junqueira (fpj) <fpj@apache.org>","{""sha"": ""04a8df77017296659c484033ccf8d1cfa1b99882"", ""author"": {""name"": ""Eron Wright"", ""email"": ""eron.wright@gmail.com"", ""date"": ""2018-05-08T22:54:02Z""}, ""committer"": {""name"": ""Flavio Junqueira (fpj)"", ""email"": ""fpj@apache.org"", ""date"": ""2018-05-08T22:54:53Z""}}"
1707,SubmitCommit,2018-05-09 22:11:41,Randgalt,unfork_close,"ZOOKEEPER-2901: TTL Nodes don't work with Server IDs > 127

There was a major oversight when TTL nodes were implemented. The session ID generator for each server is seeded with the configured Server ID in the high byte. TTL Nodes were using the highest bit to denote a TTL node when used in the ephemeral owner. This meant that Server IDs > 127 that created ephemeral nodes would have those nodes always considered TTL nodes (with the TTL being essentially a random number).

This PR fixes the issue by disabling TTL Nodes by default. They must now be enabled in zoo.cfg. When TTL Nodes are enabled, the max Server ID changes from 255 to 254. This allows the high byte of a session ID stored in the ephemeral owner to use 0xFF to denote a TTL node.

About this change:

- The doc has been updated to note that TTL nodes are disabled by default and must be enabled via config. Also, the docs explains that when TTL nodes are enabled the max Server ID becomes 254
- The TTL implementation has been updated to use 0xFF in the high byte of the ephemeralOwner to denote a TTL node. This decreases the max TTL by an insignificant amount
- PrepRequestProcessor now throws `KeeperException.UnimplementedException` when an attempt to create a TTL node is made but the server has not been configured to enable TTL Nodes.
- QuorumPeer throws a `RuntimeException` if TTL Nodes are enabled but the Server ID > 254
- Tests have been added to validate all of this

IMPORTANT NOTE: TTL Nodes created in 3.5.3 will revert to EPHEMERAL with this change. We need to discuss the impact of this and consider workarounds, etc.

Author: randgalt <jordan@jordanzimmerman.com>
Author: Abraham Fine <afine@apache.org>

Reviewers: phunt@apache.org

Closes #377 from Randgalt/ZOOKEEPER-2901

Change-Id: I6923a22ecf847710d4e7151daf8c044734873f6b
(cherry picked from commit ceaeccd6e310983d37e685a9d5fff3d7e75cf125)
Signed-off-by: Patrick Hunt <phunt@apache.org>","{""sha"": ""282dc836802f67ed4814a36bdf45423cff27b577"", ""author"": {""name"": ""randgalt"", ""email"": ""jordan@jordanzimmerman.com"", ""date"": ""2018-05-09T21:57:41Z""}, ""committer"": {""name"": ""Patrick Hunt"", ""email"": ""phunt@apache.org"", ""date"": ""2018-05-09T22:11:41Z""}}"
1707,SubmitCommit,2018-05-09 22:18:40,anmolnar,unfork_close,"ZOOKEEPER-3012: Fix unit test: testDataDirAndDataLogDir should not use hardcode test folders

A little bit more than just fixing the hardcoded folder names. Because the original issue was only on the 3.4 branch, the unit test has also been added to that branch only.

In this PR I add the fixed version of test to the master branch. Should be committed to 3.5 as well and I'll create a separate PR for 3.4

https://issues.apache.org/jira/browse/ZOOKEEPER-3012

Author: Andor Molnar <andor@cloudera.com>

Reviewers: phunt@apache.org

Closes #514 from anmolnar/ZOOKEEPER-3012

Change-Id: Iabba2630008158580a121a007a5c45b43a301315
(cherry picked from commit 43f117ef5098573d7378956358c653475a4b993e)
Signed-off-by: Patrick Hunt <phunt@apache.org>","{""sha"": ""fa67204d38d3da9db7a29103aefae03a9c865ef7"", ""author"": {""name"": ""Andor Molnar"", ""email"": ""andor@cloudera.com"", ""date"": ""2018-05-09T22:14:18Z""}, ""committer"": {""name"": ""Patrick Hunt"", ""email"": ""phunt@apache.org"", ""date"": ""2018-05-09T22:18:40Z""}}"
1707,SubmitCommit,2018-05-10 03:45:58,Alexander Shraer,unfork_close,ZOOKEEPER-2959: ignore accepted epoch and LEADERINFO ack from observers,"{""sha"": ""c86349060274e18ce9f839cd6a50fe5f34000edd"", ""author"": {""name"": ""Alexander Shraer"", ""email"": ""ashraer@apple.com"", ""date"": ""2018-05-10T03:45:58Z""}, ""committer"": {""name"": ""Alexander Shraer"", ""email"": ""ashraer@apple.com"", ""date"": ""2018-05-10T03:45:58Z""}}"
1707,SubmitCommit,2018-05-10 04:13:59,anmolnar,unfork_close,"ZOOKEEPER-3038: Cleanup some nitpicks in TTL implementation

A few nitpicks which needs to be cleaned up:

1. Rename OldEphemeralType --> EphemeralTypeEmulate353
2. Remove unused method: getTTL()
3. Remove unused import from QuorumPeer

Author: Andor Molnar <andor@cloudera.com>

Reviewers: phunt@apache.org

Closes #516 from anmolnar/ZOOKEEPER-3038

Change-Id: Iec537706a35863d53daa593da2b01f6e523ef466
(cherry picked from commit 6e64125f2aafc29253904c43ee44233c907e5fca)
Signed-off-by: Patrick Hunt <phunt@apache.org>","{""sha"": ""edb93d496105d2e0f4440cd4c533b0c42d79e9fd"", ""author"": {""name"": ""Andor Molnar"", ""email"": ""andor@cloudera.com"", ""date"": ""2018-05-10T04:13:16Z""}, ""committer"": {""name"": ""Patrick Hunt"", ""email"": ""phunt@apache.org"", ""date"": ""2018-05-10T04:13:59Z""}}"
1707,SubmitCommit,2018-05-10 20:15:10,anmolnar,unfork_close,"ZOOKEEPER-3039: TxnLogToolkit uses Scanner badly

Fixed by creating a single Scanner for all queries in the main() method.

Author: Andor Molnar <andor@cloudera.com>

Reviewers: phunt@apache.org

Closes #517 from anmolnar/ZOOKEEPER-3039 and squashes the following commits:

a35e2e280 [Andor Molnar] ZOOKEEPER-3039. Optimize imports
a196443cb [Andor Molnar] ZOOKEEPER-3039. Use the same Scanner for all queries

Change-Id: Icf66888d4e6ad902615ed8ffde58a5a8fdd41237
(cherry picked from commit 2fa315b7d0ed65828479fcdcc9e76ca8552fba4a)
Signed-off-by: Patrick Hunt <phunt@apache.org>","{""sha"": ""b33ca3aa30a7d43f2b3c09fbbbeaa5d3fc4a3aa6"", ""author"": {""name"": ""Andor Molnar"", ""email"": ""andor@cloudera.com"", ""date"": ""2018-05-10T20:14:24Z""}, ""committer"": {""name"": ""Patrick Hunt"", ""email"": ""phunt@apache.org"", ""date"": ""2018-05-10T20:15:10Z""}}"
1707,SubmitCommit,2018-05-10 21:17:56,phunt,unfork_close,Updating the generated docs as part of 3.5.4 release prep.,"{""sha"": ""219ee4dc702e42c9fd5c293339c7b2bf60d0b9a0"", ""author"": {""name"": ""Patrick Hunt"", ""email"": ""phunt1@gmail.com"", ""date"": ""2018-05-10T21:17:56Z""}, ""committer"": {""name"": ""Patrick Hunt"", ""email"": ""phunt1@gmail.com"", ""date"": ""2018-05-10T21:17:56Z""}}"
1707,SubmitCommit,2018-05-10 21:33:13,phunt,unfork_close,Preparing for release 3.5.4,"{""sha"": ""1eecfde4e68a3fb27332ffcbad6e7a787dcda2b8"", ""author"": {""name"": ""Patrick Hunt"", ""email"": ""phunt1@gmail.com"", ""date"": ""2018-05-10T21:33:13Z""}, ""committer"": {""name"": ""Patrick Hunt"", ""email"": ""phunt1@gmail.com"", ""date"": ""2018-05-10T21:33:13Z""}}"
1707,SubmitCommit,2018-05-11 16:18:12,phunt,unfork_close,Missed removing the SNAPSHOT designator on the version for release 3.5.4,"{""sha"": ""7f51e5b68cf2f80176ff944a9ebd2abbc65e7327"", ""author"": {""name"": ""Patrick Hunt"", ""email"": ""phunt1@gmail.com"", ""date"": ""2018-05-11T16:18:12Z""}, ""committer"": {""name"": ""Patrick Hunt"", ""email"": ""phunt1@gmail.com"", ""date"": ""2018-05-11T16:18:12Z""}}"
1707,SubmitCommit,2018-05-11 19:59:13,phunt,unfork_close,Prepare for the next release: update the version to 3.5.5-SNAPSHOT,"{""sha"": ""ac4f4a37942924d8ee6dfe027f2e65c5b50b1511"", ""author"": {""name"": ""Patrick Hunt"", ""email"": ""phunt1@gmail.com"", ""date"": ""2018-05-11T19:59:13Z""}, ""committer"": {""name"": ""Patrick Hunt"", ""email"": ""phunt1@gmail.com"", ""date"": ""2018-05-11T19:59:13Z""}}"
1707,SubmitCommit,2018-05-16 17:32:56,hughobrienjet,unfork_close,"ZOOKEEPER-3041: Typo in error message, affects log analysis; charater --> character

Author: Hugh O'Brien <hugh.obrien@jet.com>

Reviewers: phunt@apache.org

Closes #498 from hughobrienjet/master

Change-Id: I3f4145c5c3eb4052cd7f0859053bb3711dfdd64c
(cherry picked from commit dacd27568c0a20244d40f42ff8ee84b5f917128e)","{""sha"": ""87c59c03fe39c12bfb7dedb0f7da1ecc2106849d"", ""author"": {""name"": ""Hugh O'Brien"", ""email"": ""hugh.obrien@jet.com"", ""date"": ""2018-05-16T17:30:31Z""}, ""committer"": {""name"": ""Patrick Hunt"", ""email"": ""phunt@apache.org"", ""date"": ""2018-05-16T17:32:56Z""}}"
1707,SubmitCommit,2018-05-20 00:35:07,Mark Fenes,unfork_close,"ZOOKEEPER-2955: Enable Clover code coverage report

ZOOKEEPER-2955: Enable Clover code coverage report

This PR configures OpenClover to generate Java code coverage reports.

To generate Java code coverage report run:
ant test-coverage-clover-java

For quick testing of this PR run:
ant -Dtestcase=test_file_name test-coverage-clover-java

Clover can also be run step-by-step:
ant -Drun.clover=true test-core-java
ant clover-report

Note: run.clover must not be set when building ZK for production use.

The reports will be placed under the build/test/clover/reports directory in HTML and XML formats.

Author: Mark Fenes <mfenescloudera.com>

Reviewers: phuntapache.org

Closes #443 from mfenes/ZOOKEEPER-2955 and squashes the following commits:

321fc0152 [Mark Fenes] ZOOKEEPER-2955: Enable Clover code coverage report
ca68181b2 [Mark Fenes] ZOOKEEPER-2955: Enable Clover code coverage report
4cd1a3170 [Mark Fenes] Trigger notification
09872a66b [Mark Fenes] ZOOKEEPER-2955: Enable Clover code coverage report
3e0f2543c [Mark Fenes] Trigger notification
0cdb44442 [Mark Fenes] ZOOKEEPER-2955: Enable Clover code coverage report
270c12efc [Mark Fenes] ZOOKEEPER-2955: Enable Clover code coverage report
f59dcf8ad [Mark Fenes] ZOOKEEPER-2955: Enable Clover code coverage report

Change-Id: I089ca39224fa6012a299a46e4a35333ecc87ef35

Author: Mark Fenes <mfenes@cloudera.com>

Reviewers: phunt@apache.org

Closes #519 from nkalmar/branch-3.5","{""sha"": ""b4be5d593a19995a5cd3399e3fc48d0c9ededeeb"", ""author"": {""name"": ""Mark Fenes"", ""email"": ""mfenes@cloudera.com"", ""date"": ""2018-05-20T00:35:07Z""}, ""committer"": {""name"": ""Patrick Hunt"", ""email"": ""phunt@apache.org"", ""date"": ""2018-05-20T00:35:07Z""}}"
1707,SubmitCommit,2018-05-21 18:11:40,lavacat,unfork_close,"ZOOKEEPER-3046: added junit timeout to precede 'ant' timeout

When 'ant' timeout triggers, output of the test isn't captured.
Related issue ZOOKEEPER-2916

Author: Bogdan Kanivets <bkanivets@gmail.com>

Reviewers: phunt@apache.org

Closes #523 from lavacat/test-timeouts

Change-Id: I4941451395bd4f35342582e9f4852d73104da138","{""sha"": ""831bfebaec2500c5672fd665020b517282d9a8a9"", ""author"": {""name"": ""Bogdan Kanivets"", ""email"": ""bkanivets@gmail.com"", ""date"": ""2018-05-21T18:11:40Z""}, ""committer"": {""name"": ""Patrick Hunt"", ""email"": ""phunt@apache.org"", ""date"": ""2018-05-21T18:11:40Z""}}"
1707,SubmitCommit,2018-05-22 04:37:26,phunt,unfork_close,"ZOOKEEPER-3050: update to the newest version of Jetty

Change-Id: I1f63c471e59a1ed9d1cf58e721fedf47452acc6b

Author: Patrick Hunt <phunt@apache.org>

Reviewers: Michael Han <hanm@apache.org>

Closes #526 from phunt/ZOOKEEPER-3050

(cherry picked from commit ae6ee236658e8133b0f3cb950d6d4c97553b8eb7)
Signed-off-by: Michael Han <hanm@apache.org>","{""sha"": ""f7b3bea2eac3ee490eaf5c5e32a64365ed0d97e2"", ""author"": {""name"": ""Patrick Hunt"", ""email"": ""phunt@apache.org"", ""date"": ""2018-05-22T04:37:04Z""}, ""committer"": {""name"": ""Michael Han"", ""email"": ""hanm@apache.org"", ""date"": ""2018-05-22T04:37:26Z""}}"
1707,SubmitCommit,2018-05-23 03:34:31,phunt,unfork_close,"ZOOKEEPER-3051: Updated jackson to the latest version

Change-Id: Iec76a7df76f8e1928828fd716c4c25f48e887ba1

Author: Patrick Hunt <phunt@apache.org>

Reviewers: Michael Han <hanm@apache.org>

Closes #527 from phunt/ZOOKEEPER-3051

(cherry picked from commit 24f093b9c10bcfa5f890f378087e48736ed5bac5)
Signed-off-by: Michael Han <hanm@apache.org>","{""sha"": ""a692563a1054f0678adb81de68e8ef3b19e64dbe"", ""author"": {""name"": ""Patrick Hunt"", ""email"": ""phunt@apache.org"", ""date"": ""2018-05-23T03:34:19Z""}, ""committer"": {""name"": ""Michael Han"", ""email"": ""hanm@apache.org"", ""date"": ""2018-05-23T03:34:31Z""}}"
1707,SubmitCommit,2018-05-23 03:42:59,asutosh936,unfork_close,"ZOOKEEPER-2993: Removed 'generated' line from .gitignore

Author: asutosh936 <asutosh.pandya@hotmail.com>

Reviewers: Abraham Fine <afine@apache.org>, Andor Molnár <andor@cloudera.com>, Michael Han <hanm@apache.org>

Closes #488 from asutosh936/ZOOKEEPER-2993

(cherry picked from commit 07228badc4691ca96f0d35e5aaa5ebcb2b9891cb)
Signed-off-by: Michael Han <hanm@apache.org>","{""sha"": ""f70716164481e535693840945598ae4fb8be745d"", ""author"": {""name"": ""asutosh936"", ""email"": ""asutosh.pandya@hotmail.com"", ""date"": ""2018-05-23T03:42:47Z""}, ""committer"": {""name"": ""Michael Han"", ""email"": ""hanm@apache.org"", ""date"": ""2018-05-23T03:42:59Z""}}"
1707,SubmitCommit,2018-05-29 23:28:31,anmolnar,unfork_close,"ZOOKEEPER-1919 Update the C implementation of removeWatches to have it match ZOOKEEPER-1910

Existing patch on Jira has been rebased and applied to master.

Replaces #511

Author: Andor Molnar <andor@cloudera.com>

Reviewers: phunt@apache.org

Closes #522 from anmolnar/ZOOKEEPER-1919 and squashes the following commits:

f81a7608a [Andor Molnar] ZOOKEEPER-1919. Fixed indentation
d6455b062 [Andor Molnar] ZOOKEEPER-1919. Test fixes
769677693 [Andor Molnar] ZOOKEEPER-1919. Changes in C code

Change-Id: I2597854e4b28196a5dc5dc89553ced41537663eb
(cherry picked from commit 9c4bd4d335c52beb44f303b8b6e0abfe03cb9241)
Signed-off-by: Patrick Hunt <phunt@apache.org>","{""sha"": ""75b4ede93548d45c8876292fd6aac0b411022b6e"", ""author"": {""name"": ""Andor Molnar"", ""email"": ""andor@cloudera.com"", ""date"": ""2018-05-29T23:27:43Z""}, ""committer"": {""name"": ""Patrick Hunt"", ""email"": ""phunt@apache.org"", ""date"": ""2018-05-29T23:28:31Z""}}"
1707,SubmitCommit,2018-05-30 00:04:05,eolivelli,unfork_close,"ZOOKEEPER-3043: QuorumKerberosHostBasedAuthTest fails on Linux box: Unable to parse:includedir /etc/krb5.conf.d/

Fixes QuorumKerberosHostBasedAuthTest, see ZOOKEEPER-3043

 - upgrade Kerby to 1.0.0
 - upgrade commons-io to 2.5, needed by Kerby
 - fix test dir in KerberosTestUtils

This should be also cherry-picked to 3.5 branch

Author: Enrico Olivelli <eolivelli@apache.org>

Reviewers: phunt@apache.org

Closes #524 from eolivelli/fix/ZOOKEEPER-3043 and squashes the following commits:

b4f31ad67 [Enrico Olivelli] upgrade libs
e224e823e [Enrico Olivelli] QuorumKerberosHostBasedAuthTest fails on Linux box: Unable to parse:includedir /etc/krb5.conf.d/  - upgrade Kerby to 1.0.0  - upgrade commons-io to 2.5, needed by Kerby  - fix test dir in KerberosTestUtils

Change-Id: Idaa0c05d1212c936b60fa2aa5ccb9dee114cce49
(cherry picked from commit fa34d0d01e33a40465ebd72497f37d62f0a4bce0)
Signed-off-by: Patrick Hunt <phunt@apache.org>","{""sha"": ""e3c9a3f11d53ede41118bc9b4e857808f6ca944c"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2018-05-30T00:02:56Z""}, ""committer"": {""name"": ""Patrick Hunt"", ""email"": ""phunt@apache.org"", ""date"": ""2018-05-30T00:04:05Z""}}"
1707,SubmitCommit,2018-05-30 00:23:11,timothyjward,unfork_close,"ZOOKEEPER-2317: Ensure that OSGi versions are valid

Signed-off-by: Tim Ward <timothyjwardapache.org>

Author: Tim Ward <timothyjward@apache.org>

Reviewers: phunt@apache.org

Closes #531 from timothyjward/ZOOKEEPER-2317

Change-Id: I072db1e9de3bc1ad66e23be40bdea642866f6883","{""sha"": ""1c2c6849f0ebc6d56a1e987d3a637c0c050f7a53"", ""author"": {""name"": ""Tim Ward"", ""email"": ""timothyjward@apache.org"", ""date"": ""2018-05-30T00:23:11Z""}, ""committer"": {""name"": ""Patrick Hunt"", ""email"": ""phunt@apache.org"", ""date"": ""2018-05-30T00:23:11Z""}}"
1707,SubmitCommit,2018-05-31 03:55:05,phunt,unfork_close,"ZOOKEEPER-2920: Upgrade OWASP Dependency Check to 3.2.1

Updated and verified on all the active branches.

Change-Id: I750d7e576e8c731aab4cef26f6863eac6b1b8dc2

Author: Patrick Hunt <phunt@apache.org>

Reviewers: Michael Han <hanm@apache.org>

Closes #536 from phunt/ZOOKEEPER-2920

(cherry picked from commit 4c5674ce4ca1ca473c897bfe8d7f848227e8b706)
Signed-off-by: Michael Han <hanm@apache.org>","{""sha"": ""82f17bb94fc26d180fcabb2ed0f5f6a81812c4a9"", ""author"": {""name"": ""Patrick Hunt"", ""email"": ""phunt@apache.org"", ""date"": ""2018-05-31T03:54:52Z""}, ""committer"": {""name"": ""Michael Han"", ""email"": ""hanm@apache.org"", ""date"": ""2018-05-31T03:55:05Z""}}"
1707,SubmitCommit,2018-05-31 19:57:54,Mark Fenes,unfork_close,"ZOOKEEPER-2968: Add C client code coverage tests

ZOOKEEPER-2968: Add C client code coverage tests

This PR adds a new ant target 'c_coverage_report' which generates coverage report for the ZK C client.
The report is generated to build/c_coverage/report in html format.
As a requirement, lcov has to be installed prior to running target 'c_coverage_report'.

An additional check was added to 'check-cppunit-makefile' to ensure that the Makefile gets deleted and regenerated without the coverage compiler flags when running targets without --enable-gcov.

Author: Mark Fenes <mfenes@cloudera.com>

Reviewers: phunt@apache.org

Closes #467 from mfenes/ZOOKEEPER-2968 and squashes the following commits:

d8757821a [Mark Fenes] ZOOKEEPER-2968: Add C client code coverage tests
3c9022622 [Mark Fenes] ZOOKEEPER-2968: Add C client code coverage tests

Change-Id: Id4bd05afbff2447c593427eff5f133c3d88048d3
(cherry picked from commit a35690cd60c1d5010454056b7011e3abbbbe9116)
Signed-off-by: Patrick Hunt <phunt@apache.org>","{""sha"": ""02413d4eff5463352be1877dfd8497a604a900ed"", ""author"": {""name"": ""Mark Fenes"", ""email"": ""mfenes@cloudera.com"", ""date"": ""2018-05-31T19:57:21Z""}, ""committer"": {""name"": ""Patrick Hunt"", ""email"": ""phunt@apache.org"", ""date"": ""2018-05-31T19:57:54Z""}}"
1707,SubmitCommit,2018-06-08 14:53:40,nkalmar,unfork_close,"ZOOKEEPER-3019: add metric for slow fsyncs count

Added metric to count fsyncWarningThresholdMS exceed in FileTxnLog.commit(). Both jmx bean and Command can be used to get the stat.

Also updated the python standalone client and documentation.

Tested the py script, i.e.:
src/contrib/monitoring/check_zookeeper.py -o cacti -s ""localhost:2181"" -k zk_num_alive_connections
localhost_2181:1

rc/contrib/monitoring/check_zookeeper.py -o cacti -s ""localhost:2181"" -k zk_fsync_threshold_exceed_count
localhost_2181:0

mntr command now returns:
zk_version	3.6.0-SNAPSHOT-13c9f899ff62be6a2eacb28e522d06703f1dab08, built on 04/04/2018 12:09 GMT
zk_avg_latency	0
zk_max_latency	0
zk_min_latency	0
zk_packets_received	7
zk_packets_sent	6
zk_num_alive_connections	1
zk_outstanding_requests	0
zk_server_state	standalone
zk_znode_count	5
zk_watch_count	0
zk_ephemerals_count	0
zk_approximate_data_size	44
zk_open_file_descriptor_count	61
zk_max_file_descriptor_count	10240
zk_fsync_threshold_exceed_count	0

Author: Norbert Kalmar <nkalmar@yahoo.com>

Reviewers: Andor Molnar <andor@apache.org>

Closes #501 from nkalmar/ZOOKEEPER-3019 and squashes the following commits:

067edf6a [Norbert Kalmar] ZOOKEEPER-3019 remove redundant log
7430dbce [Norbert Kalmar] ZOOKEEPER-3019 remove metric from 4ltr command as no longer supported
1916a418 [Norbert Kalmar] ZOOKEEPER-3019 add extra warning log
761450f9 [Norbert Kalmar] ZOOKEEPER-3019 remove fsync from py script stat check
3b22bb7b [Norbert Kalmar] ZOOKEEPER-3019 remove fsyncEsceed from stats
0be003a8 [Norbert Kalmar] ZOOKEEPER-3019 exclude serverStats IS chec from findbugs
b48d2958 [Norbert Kalmar] ZOOKEEPER-3019 add unit test and fix PR comments
fb4c7a31 [Norbert Kalmar] ZOOKEEPER-3019 add metric to track slow fsyncs count + update py script and docs

(cherry picked from commit a2623a625a4778720f7d5482d0a66e9b37ae556f)
Signed-off-by: Andor Molnar <andor@cloudera.com>","{""sha"": ""6db5229ebe4fb386f9906311203ea7136d03db9a"", ""author"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@yahoo.com"", ""date"": ""2018-06-08T14:52:58Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@cloudera.com"", ""date"": ""2018-06-08T14:53:40Z""}}"
1707,SubmitCommit,2018-06-15 05:41:19,yisong-yue,unfork_close,"ZOOKEEPER-3063: Track outstanding changes with ArrayDeque

Changed outstandingChanges from ArrayList to ArrayDeque.

Author: Yisong Yue <yisongyue@fb.com>

Reviewers: Michael Han <hanm@apache.org>

Closes #543 from yisong-yue/ZOOKEEPER-3063

(cherry picked from commit d6490d590725345638b5973a97e6e8d8bee67d22)
Signed-off-by: Michael Han <hanm@apache.org>","{""sha"": ""48614f8288e8041010952bea0d1fc1f1db940d6a"", ""author"": {""name"": ""Yisong Yue"", ""email"": ""yisongyue@fb.com"", ""date"": ""2018-06-15T05:41:07Z""}, ""committer"": {""name"": ""Michael Han"", ""email"": ""hanm@apache.org"", ""date"": ""2018-06-15T05:41:19Z""}}"
1707,SubmitCommit,2018-06-15 06:02:58,LJ1043041006,unfork_close,"ZOOKEEPER-3009: Potential NPE in NIOServerCnxnFactory

We have developed a static analysis tool [NPEDetector](https://github.com/lujiefsi/NPEDetector) to find some potential NPE. Our analysis shows that NPE reason can be simple:some callees may return null directly in corner case(e.g. node crash , IO exception), some of their callers have  !=null check but some do not have.
### Bug:
Callee getSocketAddress can return null, may caused by node crash, network exception....
<pre>
    public InetAddress getSocketAddress() {
        if (sock.isOpen() == false) {
            return null;
        }
        return sock.socket().getInetAddress();
    }
</pre>
getSocketAddress has two callers:  removeCnxn and removeCnxn

caller removeCnxn has null check
<pre>
 public boolean removeCnxn(NIOServerCnxn cnxn) {
        //other code
        InetAddress addr = cnxn.getSocketAddress();
        if (addr != null) {
            Set<NIOServerCnxn> set = ipMap.get(addr);
            //other code
        }
     //other code
    }
</pre>

but caller addCnxn has the similar code, but don't have the null check:
<pre>
     private void addCnxn(NIOServerCnxn cnxn) {
         InetAddress addr = cnxn.getSocketAddress();
         Set<NIOServerCnxn> set = ipMap.get(addr);
        //other code
      }
</pre>
I commit a patch to fix it: adding an null checker in addCnxn, and throws a semantics IOException rather than the ugly NPE.  I think the IOException  is ok, because the caller of addCnxn has the handler code:
<pre>
  private void processAcceptedConnections() {
               //other code
               try {
                    addCnxn(cnxn);
               } catch (IOException e) {
                    // register, createConnection
                    cleanupSelectionKey(key);
                    fastCloseSock(accepted);
               }
             }
</pre>
Maybe i am wrong, please point out my error.

Author: LJ1043041006 <1239497420@qq.com>

Reviewers: Patrick Hunt <phunt@apache.org>, Allan Lyu <fangmin@apache.org>, Michael Han <hanm@apache.org>

Closes #525 from lujiefsi/ZOOKEEPER-3009

(cherry picked from commit 13dd5d0db7a5c4fa926d1e44fc2047c24d5d012c)
Signed-off-by: Michael Han <hanm@apache.org>","{""sha"": ""7f317127f06336a2ee02fb7a1ace71f35679911e"", ""author"": {""name"": ""LJ1043041006"", ""email"": ""1239497420@qq.com"", ""date"": ""2018-06-15T06:02:41Z""}, ""committer"": {""name"": ""Michael Han"", ""email"": ""hanm@apache.org"", ""date"": ""2018-06-15T06:02:58Z""}}"
1707,SubmitCommit,2018-06-20 13:22:07,timothyjward,unfork_close,"[ZOOKEEPER-2368] Send a watch event is when a client is closed

Currently, if the client is closed (rather than being remotely disconnected) there is no notification to the watcher. This means that asynchronous clients can end up waiting indefinitely for events that will never come. Watchers need to be aware that the client is closed for good.

Signed-off-by: Tim Ward <timothyjwardapache.org>

Note that this is a variation on a patch I produced some time ago, which was broadly accepted as a good idea, and didn't cause any problems for Curator, but was deemed by some to be too risky because it reused an existing KeeperState. This patch is therefore updated to use a new `Closed` KeeperState. Fixing this would allow me to avoid maintaining a separate fork of Zookeeper just to support this one feature!

Author: Tim Ward <timothyjward@apache.org>

Reviewers: Andor Molnar <andor@apache.org>

Closes #529 from timothyjward/ZOOKEEPER-2368 and squashes the following commits:

d7196d19 [Tim Ward] Review comments from @anmolnar
088056b4 [Tim Ward] Review comments from @enixon
7fad1d36 [Tim Ward] [ZOOKEEPER-2368] Send a watch event is when a client is closed","{""sha"": ""6748a0e3f58f2a398dec4c6988bc70ea4363b807"", ""author"": {""name"": ""Tim Ward"", ""email"": ""timothyjward@apache.org"", ""date"": ""2018-06-20T13:22:07Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@cloudera.com"", ""date"": ""2018-06-20T13:22:07Z""}}"
1707,SubmitCommit,2018-06-25 10:30:42,abhishek-chouhan,unfork_close,"ZOOKEEPER-3059: EventThread leak in case of Sasl AuthFailed

Since authFailed is similar to session expired and is considered a fatal event, we should clean up after ourselves once we get a AuthFailed, other wise this results in an unavoidable and un-cleanable thread leak  of EventThread since the close operation is also a no-op (we return after checking for isAlive).

Author: Abhishek Singh Chouhan <abhishekchouhan121@gmail.com>

Reviewers: Andor Molnar <andor@apache.org>

Closes #541 from abhishek-chouhan/master and squashes the following commits:

c54a83a4 [Abhishek Singh Chouhan] ZOOKEEPER-3059 EventThread leak in case of Sasl AuthFailed. Adding testcase for the scenario
c1d9d7af [Abhishek Singh Chouhan] ZOOKEEPER-3059 EventThread leak in case of Sasl AuthFailed

(cherry picked from commit 1fb644662b8e0530dec2c5668a3e49b3f614e9de)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""f81fb443f772d363f411b356048e949cd90bcc3a"", ""author"": {""name"": ""Abhishek Singh Chouhan"", ""email"": ""abhishekchouhan121@gmail.com"", ""date"": ""2018-06-25T10:30:19Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2018-06-25T10:30:42Z""}}"
1707,SubmitCommit,2018-06-26 09:19:04,eolivelli,unfork_close,"ZOOKEEPER-3066: Expose on JMX of Followers the id of the current leader

Expose a new JMX attribute ""isLeader"" in RemotePeerBean and LocalPeerBean

Author: Enrico Olivelli <eolivelli@apache.org>

Reviewers: Andor Molnar <andor@apache.org>

Closes #546 from eolivelli/fix/ZOOKEEPER-3066-leader-jmx and squashes the following commits:

bf09e37d [Enrico Olivelli] clean up spaces
ded4ce20 [Enrico Olivelli] reorder imports
81d7bb1c [Enrico Olivelli] split tests into LocalPeerBeanTest and QuorumPeerTest
a1984ef1 [Enrico Olivelli] fix typo
eb8d1bea [Enrico Olivelli] split tests
86b116b0 [Enrico Olivelli] enhance tests
b5000efc [Enrico Olivelli] clean up test
43782fe5 [Enrico Olivelli] introduce mockito tests
2778e742 [Enrico Olivelli] revert ""ZOOKEEPER-3066 add servers restart to test case""
5f120631 [Enrico Olivelli] ZOOKEEPER-3066 add servers restart to test case
067aed9e [Enrico Olivelli] ZOOKEEPER-3066 Expose on JMX of Followers the id of the current leader Enhance RemotePeerMXBean and LocalPeerMXBean by adding information about leadership

(cherry picked from commit 3465e0ced5edda2e1299662f6b75a1979b6bdc6e)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""4694b8ada3484847749a90a871aa9c9439a3a0a4"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2018-06-26T09:18:38Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2018-06-26T09:19:04Z""}}"
1707,SubmitCommit,2018-07-04 11:02:43,nkalmar,unfork_close,"ZOOKEEPER-3022: MAVEN MIGRATION - Iteration 1 - docs, it

First iteration of the directory changes in maven migration.
This time, the empty zookeeper-it for future integration tests were created, and the docs source were moved to zookeeper-docs.
Tested with forest v0.9, documents generations were successful with ant.

Author: Norbert Kalmar <nkalmar@yahoo.com>

Reviewers: Andor Molnar <andor@apache.org>

Closes #550 from nkalmar/ZOOKEEPER-3022-1

(cherry picked from commit 4607a3e156f36c52349bfb370e879dbd9e4d0691)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""b024a3e2959749b46850a700a0ed694b3ee1aaef"", ""author"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@yahoo.com"", ""date"": ""2018-07-04T11:02:19Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2018-07-04T11:02:43Z""}}"
1707,SubmitCommit,2018-07-04 15:11:59,nkalmar,unfork_close,"ZOOKEEPER-2873: abort startup on invalid ports

This change will check each server.x config if the client and election port are the same. Currently, ZK will startup and a race for the ports will take place. There will be an error, but ZK will keep running (without the ability to elect a leader). Now, ZK will fail on startup.

Author: Norbert Kalmar <nkalmar@yahoo.com>

Reviewers: Andor Molnar <andor@apache.org>

Closes #549 from nkalmar/ZOOKEEPER-2873 and squashes the following commits:

022c8b70 [Norbert Kalmar] ZOOKEEPER-2873 modify test case to expect exception
60b8128d [Norbert Kalmar] ZOOKEEPER-2873 fix old test - ReconfigTest.testUnspecifiedClientAddress
3d747c08 [Norbert Kalmar] ZOOKEEPER-2873 abort startup on invalid ports

(cherry picked from commit 25fd549dcd4e01de073a2e25ef07c170389b28ea)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""cdbf03a8f6411594ad38b7b12c5e0c1dd42d2842"", ""author"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@yahoo.com"", ""date"": ""2018-07-04T15:11:39Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2018-07-04T15:11:59Z""}}"
1707,SubmitCommit,2018-07-10 10:17:32,lavacat,unfork_close,"ZOOKEEPER-3042: testFailedTxnAsPartOfQuorumLoss is flaky

- relaxed check of outstanding proposals queue
- close clients after restart
- restart client after old leader restart

Author: Bogdan Kanivets <bkanivets@gmail.com>

Reviewers: Andor Molnar <andor@apache.org>

Closes #521 from lavacat/testFailedTxnAsPartOfQuorumLoss-fix and squashes the following commits:

c361efa4 [Bogdan Kanivets] ZOOKEEPER-1932: ignore LETest
427ab8c9 [Bogdan Kanivets] ZOOKEEPER-3042: testFailedTxnAsPartOfQuorumLoss is flaky","{""sha"": ""f1429d071f10769342639b65e45a887dab3915be"", ""author"": {""name"": ""Bogdan Kanivets"", ""email"": ""bkanivets@gmail.com"", ""date"": ""2018-07-10T10:17:32Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2018-07-10T10:17:32Z""}}"
1707,SubmitCommit,2018-07-11 23:39:38,anmolnar,unfork_close,"ZOOKEEPER-2940: Deal with maxbuffer as it relates to large requests from clients

https://issues.apache.org/jira/browse/ZOOKEEPER-2940

This PR covers the other part of Jute buffer monitoring which relates to client response sizes.

`jute.maxbuffer` is often set too small or the default (4MB) value is not enough to receive large responses from the server which causes the client unable to operate. e.g. `getChildren()` on a node which has lots of children or execution of a large multi.

These new metrics lets operators to monitor the size of generated responses to get an idea on how to properly set client's `jute.maxbuffer`.

The other part of monitoring which relates to proposal size has already been merged https://github.com/apache/zookeeper/pull/415

Author: Andor Molnar <andor@cloudera.com>

Reviewers: phunt@apache.org

Closes #466 from anmolnar/ZOOKEEPER-2940 and squashes the following commits:

29224d021 [Andor Molnar] ZOOKEEPER-2940. Test fixes
486d4961d [Andor Molnar] ZOOKEEPER-2940. Removed support of 4lw commands, because master is targeted
60916e09e [Andor Molnar] ZOOKEEPER-2940. Code review fixes
b39c4c815 [Andor Molnar] ZOOKEEPER-2940. Code review: variable names renamed to proposalStats
87e72ff31 [Andor Molnar] ZOOKEEPER-2940. Some code review cleanups
6f0adb124 [Andor Molnar] ZOOKEEPER-2940. Code review fixes: stats class renamed, added comments to unit test asserts, updated docs
bcb6d4ca5 [Andor Molnar] ZOOKEEPER-2940. Added new metrics to python files
77a5f0aa8 [Andor Molnar] ZOOKEEPER-2940. Fixed failing unit tests
2def61c30 [Andor Molnar] ZOOKEEPER-2940. Track size of client responses

Change-Id: I68df371097cc355b1f41b8dbb0168da4fa5dee43
(cherry picked from commit 328b9de0152f987429534c8adcb2ce2866c5733e)
Signed-off-by: Patrick Hunt <phunt@apache.org>","{""sha"": ""eb8ff57f22d04e060fcc015512293b27aa400862"", ""author"": {""name"": ""Andor Molnar"", ""email"": ""andor@cloudera.com"", ""date"": ""2018-07-11T23:33:51Z""}, ""committer"": {""name"": ""Patrick Hunt"", ""email"": ""phunt@apache.org"", ""date"": ""2018-07-11T23:39:38Z""}}"
1707,SubmitCommit,2018-07-13 12:58:29,nkalmar,unfork_close,"ZOOKEEPER-3033: MAVEN MIGRATION - Step 1.2 - create zk-recipes maven structure

Create the zk-recipes maven structure for the maven migration.
Tested the recipes build with the new directory structure.

Author: Norbert Kalmar <nkalmar@yahoo.com>

Reviewers: andor@apache.org

Closes #564 from nkalmar/ZOOKEEPER-3033 and squashes the following commits:

c8c2e986 [Norbert Kalmar] ZOOKEEPER-3033 rename sub directories as well
d2b7f18d [Norbert Kalmar] ZOOKEEPER-3033 create zk-recipes maven structure

(cherry picked from commit 28de451aa8b45e94d1261d5e0e369f86bf3815da)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""4174a0b1dee41e62a88a787d7a424fac5adc5ed2"", ""author"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@yahoo.com"", ""date"": ""2018-07-13T12:58:03Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2018-07-13T12:58:29Z""}}"
1707,SubmitCommit,2018-07-16 03:45:56,anmolnar,unfork_close,"ZOOKEEPER-2184: Zookeeper Client should re-resolve hosts when connection attempts fail

This is the master/3.5 port of #451

Author: Andor Molnar <andor@cloudera.com>
Author: Andor Molnar <andor@apache.org>

Reviewers: Michael Han <hanm@apache.org>, Flavio Junqueira <fpj@apache.org>, Edward Ribeiro <edward.ribeiro@gmail.com>, Mark Fenes <mfenes@cloudera.com>, Abraham Fine <afine@apache.org>

Closes #534 from anmolnar/ZOOKEEPER-2184_master

(cherry picked from commit 0a311873deb1847703c9b62716c626ce43d4ba48)
Signed-off-by: Michael Han <hanm@apache.org>","{""sha"": ""1e65b9f4873fc995308972433ea8a664e98fe41f"", ""author"": {""name"": ""Andor Molnar"", ""email"": ""andor@cloudera.com"", ""date"": ""2018-07-16T03:45:45Z""}, ""committer"": {""name"": ""Michael Han"", ""email"": ""hanm@apache.org"", ""date"": ""2018-07-16T03:45:56Z""}}"
1707,SubmitCommit,2018-07-18 13:49:37,maoling,unfork_close,"ZOOKEEPER-3074: Flaky test:org.apache.zookeeper.server.ServerStatsTest.testLatencyMetrics

more details in [ZOOKEEPER-3074](https://issues.apache.org/jira/browse/ZOOKEEPER-3074)

Author: maoling <maoling199210191@sina.com>

Reviewers: hanm@apache.org, andor@apache.org, nkalmar@cloudera.com

Closes #556 from maoling/ZOOKEEPER-3074

(cherry picked from commit 81b51554922d4cee5dde4a848a106f286f4c407b)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""d6c1e3791c0d3cbef861bb9f2610f927b30a169f"", ""author"": {""name"": ""maoling"", ""email"": ""maoling199210191@sina.com"", ""date"": ""2018-07-18T13:49:21Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2018-07-18T13:49:37Z""}}"
1707,SubmitCommit,2018-07-19 03:59:23,Brian Nixon,unfork_close,"ZOOKEEPER-3083: Remove some redundant and noisy log lines

Author: Brian Nixon <nixon@fb.com>

Reviewers: Benjamin Reed <breed@apache.org>, Michael Han <hanm@apache.org>, Andor Molnar <andor@cloudera.com>, 毛蛤丝 <maoling199210191@sina.com>

Closes #561 from enixon/ZOOKEEPER-3083

(cherry picked from commit f6bba09481dffc7db1d47be732d3cc8067603767)
Signed-off-by: Michael Han <hanm@apache.org>","{""sha"": ""f5038685e563c5e152e6301cc6bc9266438f4c97"", ""author"": {""name"": ""Brian Nixon"", ""email"": ""nixon@fb.com"", ""date"": ""2018-07-19T03:59:14Z""}, ""committer"": {""name"": ""Michael Han"", ""email"": ""hanm@apache.org"", ""date"": ""2018-07-19T03:59:23Z""}}"
1707,SubmitCommit,2018-07-19 16:58:12,lavacat,unfork_close,"ZOOKEEPER-3046: increased test timeout

- bump up timeout to avoid too many build failures

Author: Bogdan Kanivets <bkanivets@gmail.com>

Reviewers: phunt@apache.org

Closes #576 from lavacat/test-timeouts-3.5

Change-Id: If0b4b45c33e1909120ad15454f1c2f3f242237b6","{""sha"": ""b78e83b1d7101b9fe76dd0b1ed8e7af37f8a587e"", ""author"": {""name"": ""Bogdan Kanivets"", ""email"": ""bkanivets@gmail.com"", ""date"": ""2018-07-19T16:58:12Z""}, ""committer"": {""name"": ""Patrick Hunt"", ""email"": ""phunt@apache.org"", ""date"": ""2018-07-19T16:58:12Z""}}"
1707,SubmitCommit,2018-07-19 17:15:29,sl4mmy,unfork_close,"ZOOKEEPER-3077: build outside of source directory

Allow building native C library outside of source directory by explicitly
looking for jute generated header and source files inside source directory.

Signed-off-by: Kent R. Spillner <kspillneracm.org>

Author: Kent R. Spillner <kspillner@acm.org>

Reviewers: phunt@apache.org

Closes #557 from sl4mmy/zookeeper-3077

Change-Id: I7dafcaed6367362f3d8df283e7d0ef5804774ddc
(cherry picked from commit fc9c9fc3b2c24f78c90bd4c7b717e3410afd5e58)
Signed-off-by: Patrick Hunt <phunt@apache.org>","{""sha"": ""92fa6a7bb1ac9800fabca80c268ab87f05ad4202"", ""author"": {""name"": ""Kent R. Spillner"", ""email"": ""kspillner@acm.org"", ""date"": ""2018-07-19T17:14:59Z""}, ""committer"": {""name"": ""Patrick Hunt"", ""email"": ""phunt@apache.org"", ""date"": ""2018-07-19T17:15:29Z""}}"
1707,SubmitCommit,2018-07-19 17:28:50,sl4mmy,unfork_close,"ZOOKEEPER-3093: sync zerror with ZOO_ERRORS

I noticed that zerror(ZNOWATCHER) returns ""unknown error"" and when I went to investigate why I realized that actually three new values were added to ZOO_ERRORS enum without corresponding cases in zerror.  While here, also take the opportunity to shuffle the ordering of cases in zerror to match ZOO_ERRORS in order to make it easier to visually compare the two in the future to see if any values are missing cases (e.g. the fact that ZNEWCONFIGNOQUORUM and ZRECONFIGINPROGRESS were added to the bottom of the switch made it harder to see which all cases were missing).

Author: Kent R. Spillner <kspillner@acm.org>

Reviewers: phunt@apache.org

Closes #575 from sl4mmy/zookeeper-3093

Change-Id: I52eaaad1487aa25c2ffd101d4e8f7a365e59a3ae
(cherry picked from commit 4c12f75a9dd546032eafb2d2840061399c2a6a5e)
Signed-off-by: Patrick Hunt <phunt@apache.org>","{""sha"": ""2a02d28c1c6b20590e350cc21cb886b1acdae9ec"", ""author"": {""name"": ""Kent R. Spillner"", ""email"": ""kspillner@acm.org"", ""date"": ""2018-07-19T17:28:38Z""}, ""committer"": {""name"": ""Patrick Hunt"", ""email"": ""phunt@apache.org"", ""date"": ""2018-07-19T17:28:50Z""}}"
1707,SubmitCommit,2018-07-27 03:13:34,Fangmin Lyu,unfork_close,"ZOOKEEPER-3097: Using Runnable instead of thread work items to improve the throughput of CommitProcessor

Author: Fangmin Lyu <allenlyu@fb.com>

Reviewers: Michael Han <hanm@apache.org>

Closes #578 from lvfangmin/ZOOKEEPER-3097

(cherry picked from commit 75c652f45090f5309060ab7defb37f337d327d2c)
Signed-off-by: Michael Han <hanm@apache.org>","{""sha"": ""602cbe07f3179dff1f3f6a7605d3aa42c0380024"", ""author"": {""name"": ""Fangmin Lyu"", ""email"": ""allenlyu@fb.com"", ""date"": ""2018-07-27T03:13:22Z""}, ""committer"": {""name"": ""Michael Han"", ""email"": ""hanm@apache.org"", ""date"": ""2018-07-27T03:13:34Z""}}"
1707,SubmitCommit,2018-07-27 03:16:14,arshadmohammad,unfork_close,"ZOOKEEPER-2251: Add Client side packet response timeout to avoid infinite wait.

Add Client side packet response timeout to avoid infinite wait.

Author: Mohammad Arshad <arshad@apache.org>

Reviewers: Michael Han <hanm@apache.org>, nrico Olivelli <eolivelli@gmail.com>

Closes #119 from arshadmohammad/ZOOKEEPER-2251

(cherry picked from commit 9f82798415351a20136ceb1640b1781723e51cc1)
Signed-off-by: Michael Han <hanm@apache.org>","{""sha"": ""fed3ae8aee3d8811f90d8f8858959f4585be84cc"", ""author"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2018-07-27T03:16:04Z""}, ""committer"": {""name"": ""Michael Han"", ""email"": ""hanm@apache.org"", ""date"": ""2018-07-27T03:16:14Z""}}"
1707,SubmitCommit,2018-07-27 03:28:51,Jeelani Mohamed Abdul Khader,unfork_close,"ZOOKEEPER-3094: Make BufferSizeTest reliable

ZKPatch: d8b825d6533e9848565beff09e9a018136ca32bd (extract)

Changes made to the testStartupFailure test to remember the old directory and switch back to it after the test has completed.

Author: Jeelani Mohamed Abdul Khader <mjeelani@devvm3360.prn2.facebook.com>

Reviewers: Michael Han <hanm@apache.org>, Norbert Kalmar

Closes #577 from mjeelanimsft/make-buffersizetest-reliable

(cherry picked from commit 7b7c6587733dba3c9f3862a034b354d067e0dc47)
Signed-off-by: Michael Han <hanm@apache.org>","{""sha"": ""21233f5a2c2b7f85a90145236f34ea85257c0984"", ""author"": {""name"": ""Jeelani Mohamed Abdul Khader"", ""email"": ""mjeelani@devvm3360.prn2.facebook.com"", ""date"": ""2018-07-27T03:28:37Z""}, ""committer"": {""name"": ""Michael Han"", ""email"": ""hanm@apache.org"", ""date"": ""2018-07-27T03:28:51Z""}}"
1707,SubmitCommit,2018-08-01 19:20:28,cpoerschke,unfork_close,"ZOOKEEPER-3062: mention fsync.warningthresholdms in FileTxnLog LOG.warn message

https://issues.apache.org/jira/browse/ZOOKEEPER-3062

Author: Christine Poerschke <cpoerschke@bloomberg.net>

Reviewers: phunt@apache.org

Closes #566 from cpoerschke/master-ZOOKEEPER-3062 and squashes the following commits:

2bcccf62d [Christine Poerschke] Action code review feedback.
a2dc484d4 [Christine Poerschke] ZOOKEEPER-3062: mention fsync.warningthresholdms in FileTxnLog LOG.warn message

Change-Id: Id675e61a9ef0b247d65eaa36bb88c8569d177c49
(cherry picked from commit 7cf8035c3a5ca05bce2d183b41bf410709a5f6ee)
Signed-off-by: Patrick Hunt <phunt@apache.org>","{""sha"": ""44dbc8d9b6d4697808a5cf964de76b27f06e43c2"", ""author"": {""name"": ""Christine Poerschke"", ""email"": ""cpoerschke@bloomberg.net"", ""date"": ""2018-08-01T19:19:34Z""}, ""committer"": {""name"": ""Patrick Hunt"", ""email"": ""phunt@apache.org"", ""date"": ""2018-08-01T19:20:28Z""}}"
1707,SubmitCommit,2018-08-06 12:13:58,nkalmar,unfork_close,"ZOOKEEPER-3030: MAVEN MIGRATION - Step 1.3 - move contrib directories

Move the contrib projects according to new directory structure.
In the PR src/contrib/zkperl/build/check_zk_version.c and .h looks like I removed the file. but everything looks good on my local (I just moved them, did not modify anything). Will investigate further.

DO-NOT-MERGE-YET: Checking if creating the maven structure of directories now will break anything other then the already different directory structure in build/zookeeper-[version]/src/ (I will write an e-mail about this on dev list)

Author: Norbert Kalmar <nkalmar@yahoo.com>

Reviewers: andor@apache.org

Closes #574 from nkalmar/ZOOKEEPER-3030 and squashes the following commits:

49b7519b [Norbert Kalmar] ZOOKEEPER-3030 create maven dir structure
9f19ab06 [Norbert Kalmar] ZOOKEEPER-3030 fix releaseaudit license missing exclusions
59d9d17d [Norbert Kalmar] ZOOKEEPER-3030 add missing files in dist.dir
165d4dc5 [Norbert Kalmar] ZOOKEEPER-3030 - MAVEN MIGRATION - move contrib directories

(cherry picked from commit b0df8fe1e10e63aa2b268e126d109cc61ea2d33c)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""eab8c1eb2769e9321834a0ba5eff47bafa9292e0"", ""author"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@yahoo.com"", ""date"": ""2018-08-06T12:13:17Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2018-08-06T12:13:58Z""}}"
1707,SubmitCommit,2018-08-08 04:29:26,Fangmin Lyu,unfork_close,"ZOOKEEPER-3110: Improve the closeSession throughput in PrepRequestProcessor

Author: Fangmin Lyu <allenlyu@fb.com>

Reviewers: hanm@apache.org

Closes #591 from lvfangmin/ZOOKEEPER-3110

(cherry picked from commit df2b3f4fd9944f0dd544b808ea3bad702534625d)
Signed-off-by: Michael Han <hanm@apache.org>","{""sha"": ""78fa2683c5fae85a8d4fa85a194bf16c03038177"", ""author"": {""name"": ""Fangmin Lyu"", ""email"": ""allenlyu@fb.com"", ""date"": ""2018-08-08T04:29:16Z""}, ""committer"": {""name"": ""Michael Han"", ""email"": ""hanm@apache.org"", ""date"": ""2018-08-08T04:29:26Z""}}"
1707,SubmitCommit,2018-08-17 08:34:31,eolivelli,unfork_close,"ZOOKEEPER-3120: add NetBeans nbproject directory to .gitignore

Author: Enrico Olivelli <eolivelli@apache.org>

Reviewers: fangmin@apache.org, andor@apache.org

Closes #598 from eolivelli/fix/netbeans-nbproject

(cherry picked from commit b5d6786b9531240dadc369344098a001430e32b7)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""563077ceddab1656487b5748569445f91e50626c"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2018-08-17T08:34:02Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2018-08-17T08:34:31Z""}}"
1707,SubmitCommit,2018-08-17 09:56:30,nkalmar,unfork_close,"ZOOKEEPER-3033: MAVEN MIGRATION - fix directory structure

I reopened step 1.2 to fix the directory structure of the recipes, as it is better to do every directory change at once. (As it has been done in step 1.3 already - first step, docs is irrelevant in this manner).

Author: Norbert Kalmar <nkalmar@yahoo.com>

Reviewers: andor@apache.org

Closes #599 from nkalmar/ZOOKEEPER-3033_fix

(cherry picked from commit 2584625cdf4bb917192479f637222d6e64518336)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""d8bd31914a1ab1a1f0c5dbaa1955aeaeb482dd43"", ""author"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@yahoo.com"", ""date"": ""2018-08-17T09:56:09Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2018-08-17T09:56:30Z""}}"
1707,SubmitCommit,2018-08-22 06:18:29,nkalmar,unfork_close,"ZOOKEEPER-3031: 3.5: MAVEN MIGRATION - move client dir

Separate PR for branch 3.5, cherry picked from 176bd68222f3a3bddac9deb412eee7f538cb01ca

Author: Norbert Kalmar <nkalmar@yahoo.com>

Reviewers: andor@apache.org

Closes #602 from nkalmar/ZOOKEEPER-3031_3.5","{""sha"": ""8c87cc49bb420d7e0f74c7e568617f0283fc4fe0"", ""author"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@yahoo.com"", ""date"": ""2018-08-22T06:18:29Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2018-08-22T06:18:29Z""}}"
1707,SubmitCommit,2018-09-03 09:58:21,nkalmar,unfork_close,"ZOOKEEPER-3080: MAVEN MIGRATION - Step 1.5 - move jute dir

Author: Norbert Kalmar <nkalmar@yahoo.com>

Reviewers: andor@apache.org

Closes #609 from nkalmar/ZOOKEEPER-3080

(cherry picked from commit b7181d2c5a48accbd47e30430ccfe1291a91d900)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""d69c3c201c5401d7baa040b5fa529aced273e318"", ""author"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@yahoo.com"", ""date"": ""2018-09-03T09:57:50Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2018-09-03T09:58:21Z""}}"
1707,SubmitCommit,2018-09-05 14:16:12,maoling,unfork_close,"ZOOKEEPER-2913: testEphemeralNodeDeletion is flaky

- The test code is assuming the follower is up to date, which without a `sync` call.when regression,the follower could not catch up with the leader,so the `/e1` patch still exists
- this issue is not very easy to reproduce,but we can change the codes in the `FollowerZooKeeperServer.commit() ` ,just like this:

```
       Request request = pendingTxns.remove();
        if (request.getHdr().getType() == -11) {
        	try {
    			Thread.sleep(200);
    		} catch (InterruptedException e) {

    		}
        }
        commitProcessor.commit(request);
```
to slow down the commit to simulate the flaky test,then we can check the correctness of this patch
- ----------------------------------------**appendix: zk.sync() doc：**------------------------------------------

> ZooKeeper does not guarantee that at every instance in time, two different clients will have identical views of ZooKeeper data. Due to factors like network delays, one client may perform an update before another client gets notified of the change. Consider the scenario of two clients, A and B. If client A sets the value of a znode /a from 0 to 1, then tells client B to read /a, client B may read the old value of 0, depending on which server it is connected to. If it is important that Client A and Client B read the same value, Client B should should call the sync() method from the ZooKeeper API method before it performs its read.

- more detais in [ZOOKEEPER-2913](https://issues.apache.org/jira/browse/ZOOKEEPER-2913)

Author: maoling <maoling199210191@sina.com>

Reviewers: andor@apache.org

Closes #608 from maoling/ZOOKEEPER-2913

(cherry picked from commit e7ac12c952b47921bfecbad52112be51f5b9ede5)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""87a2d458f336c57b5df15c4542b08c9ccdb22cef"", ""author"": {""name"": ""maoling"", ""email"": ""maoling199210191@sina.com"", ""date"": ""2018-09-05T14:15:58Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2018-09-05T14:16:12Z""}}"
1707,SubmitCommit,2018-09-10 09:45:06,nkalmar,unfork_close,"ZOOKEEPER-1990: fix Random instances

See the jira for more info.

Basically we have multiple ways of creating Random instances in ZooKeeper. Since java 1.7, the default constructor is good enough even in multi-threaded environment, we get a good seed.
But in some places, we just create a random instance, where System.nanotime is the seed, which is not a good practice in multi-threaded environments.

I only replaced those, and I also left the tests as is, because in some cases it is intentional in them.

I created the PR to bring more attention to the ticket, please feel free to share your ideas on the topic!

Author: Norbert Kalmar <nkalmar@yahoo.com>

Reviewers: fangmin@apache.org, andor@apache.org

Closes #617 from nkalmar/ZOOKEEPER-1990

(cherry picked from commit 181de25c0dc703eaff77dd6415b676f09564277a)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""5bcbb2ca61309f37634b530788c01989e7a4001a"", ""author"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@yahoo.com"", ""date"": ""2018-09-10T09:44:50Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2018-09-10T09:45:06Z""}}"
1707,SubmitCommit,2018-09-11 20:09:50,anmolnar,unfork_close,"ZOOKEEPER-2261: When only secureClientPort is configured connections, configuration, connection_stat_reset, and stats admin commands throw NullPointerException

Root cause of the issue is that property getter returns the non-secure ServerCnxnFactory instance always. When Quorum SSL is enabled, we set a separate field which is the secure instance.

Property getter should detect the scenario and return the proper instance.

First commit contains some refactoring: shuffling the existing ZooKeeperServer tests to relevant places.
Second commit is the actual fix + new unit tests.

Sorry about indentation changes, but `FileTxnLogTest.java` was indented by 2 spaces instead of 4.

Author: Andor Molnar <andor@apache.org>
Author: Andor Molnar <andor@cloudera.com>

Reviewers: breed, hanm, nkalmar

Closes #545 from anmolnar/ZOOKEEPER-2261","{""sha"": ""14d0aaab853d535be268a1d7a234c9c47bf4cd25"", ""author"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2018-09-10T22:17:45Z""}, ""committer"": {""name"": ""Michael Han"", ""email"": ""hanm@apache.org"", ""date"": ""2018-09-11T20:09:50Z""}}"
1707,SubmitCommit,2018-09-12 11:32:21,maoling,unfork_close,"ZOOKEEPER-1823: zkTxnLogToolkit -dump should support printing transaction data as a string

- It would be a useful addition for debuggling to show transaction data as strings with a option `-s `
- update the usage string to `USAGE: LogFormatter [-s] log_file` and add a short description for the `-s `
    option

- for the issue [michim](https://issues.apache.org/jira/secure/ViewProfile.jspa?name=michim) mentioned has been resolved,the test evidence has been included in the jira(Notice:we cannot `split("","")[1]` to replace the node data,because the node path can be like this `""/mao,ling""`)
- more details in [ZOOKEEPER-1823](https://issues.apache.org/jira/browse/ZOOKEEPER-1823).Thanks [rgs](https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rgs) for the origin work

Author: maoling <maoling199210191@sina.com>

Reviewers: andor@apache.org

Closes #613 from maoling/ZOOKEEPER-1823 and squashes the following commits:

82c375b0 [maoling] change the desc of -d option in the code
ba3ee65a [maoling] transport this improment to TxnLogToolkit
96939873 [maoling] Revert ""ZOOKEEPER-1823:LogFormatter should support printing transaction data as a string""
298428ea [maoling] ZOOKEEPER-1823:LogFormatter should support printing transaction data as a string

(cherry picked from commit 14870ddd4b87afe3af497ec0569ce439c0488053)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""78976f6aaec45b188f6c271710973f6383d33d59"", ""author"": {""name"": ""maoling"", ""email"": ""maoling199210191@sina.com"", ""date"": ""2018-09-12T11:32:07Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2018-09-12T11:32:21Z""}}"
1707,SubmitCommit,2018-09-19 10:04:52,Fangmin Lyu,unfork_close,"ZOOKEEPER-3127: Fixing potential data inconsistency due to update last processed zxid with partial multi-op txn

Port the same fix to 3.5.

Author: Fangmin Lyu <allenlyu@fb.com>

Reviewers: andor@apache.org

Closes #631 from lvfangmin/ZOOKEEPER-3127-3.5","{""sha"": ""0383625b5b4adb14b774f322704456596e7ab185"", ""author"": {""name"": ""Fangmin Lyu"", ""email"": ""allenlyu@fb.com"", ""date"": ""2018-09-19T10:04:52Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2018-09-19T10:04:52Z""}}"
1707,SubmitCommit,2018-10-05 10:44:02,afine,unfork_close,"ZOOKEEPER-236: SSL Support for Atomic Broadcast protocol

This is a work in progress, I wanted to get some feedback from the community while I worked on this. Please do not merge yet. Tests, documentation, and some cleanup still coming.

This is a first pass at ssl support for the zookeeper quorum. It supports encrypting both leader election and normal operation.

Rolling upgrades are supported via port unification (`portUnification=true`). This should only be used while performing a rolling upgrade.

Some open questions:
- Anyone have any ideas for better names for the configuration options (`sslQuorum` and `portUnification` currently).
- I am using the same configuration that points to the truststore/keystore used for server <-> client ssl. Do they need to be separate?
- Is port unification the correct approach for rolling upgrades? Is the impact from the use of `BufferedSocket`s during the upgrade acceptable? See: http://stackoverflow.com/questions/25637039/detecting-ssl-connection-and-converting-socket-to-sslsocket http://stackoverflow.com/questions/6559859/is-it-possible-to-change-plain-socket-to-sslsocket
- server <-> client ssl is implemented with netty. I did not feel that rewriting our server <-> server logic with netty was necessary given how easy ssl was to implement with standard java `SSLSocket`s. Any arguments to the contrary?

Thanks,
Abe

Author: Andor Molnar <andor@cloudera.com>
Author: Andor Molnar <andor@apache.org>

Reviewers: hanm@apache.org, andor@apache.org

Closes #184 from afine/ZOOKEEPER-236 and squashes the following commits:

fdcc9151 [Andor Molnar] ZOOKEEPER-236. Replaced DefaultHostnameVerifier with custom impl
c014a54c [Andor Molnar] ZOOKEEPER-236. Temporary disabled portUnification support
e4144962 [Andor Molnar] ZOOKEEPER-236. Nit code review fixes
209fbca7 [Andor Molnar] ZOOKEEPER-236. Added new JMX properties to expose SSL quorum related settings
1f8aab05 [Andor Molnar] ZOOKEEPER-236. Revert portUnification/sslQuorum logic
a9fa6981 [Andor Molnar] ZOOKEEPER-236. Code review fixes:
777f31ac [Andor Molnar] ZOOKEEPER-236. Added Java8/Java9 default cipher suites
e8a17297 [Andor Molnar] ZOOKEEPER-236. Reverted to use single property for hostname verification
d64eb26f [Andor Molnar] ZOOKEEPER-236. Code review related changes: - server & client hostname verification can be set independently, - refactor defaultSSLContext to use AtomicReference, - some minor nitpicks
9ab476a7 [Andor Molnar] ZOOKEEPER-236. Trying to fix cipher suites test by changing the default protocol to TLSv1.2 and filter suitable cipher suites
ed10e88d [Andor Molnar] ZOOKEEPER-236. Added cipher suite to test to run on CentOS. Timeout in constant value. Null checks
c452d1b0 [Andor Molnar] ZOOKEEPER-236. Fixed unit test + added some extra debug logging
88b61716 [Andor Molnar] ZOOKEEPER-236: SSL Support for Atomic Broadcast protocol","{""sha"": ""0e3b82bdf86e9214892c7e969b2e1fd744f18f03"", ""author"": {""name"": ""Abraham Fine"", ""email"": ""afine@apache.org"", ""date"": ""2018-10-05T10:44:02Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2018-10-05T10:44:02Z""}}"
1707,SubmitCommit,2018-10-05 13:07:29,tamaashu,unfork_close,"ZOOKEEPER-3153: Create MarkDown files and build process for them for …

…branch 3.5

In this sub-task we have transformed the Forest XML documents into MarkDown (.md) files and provided a (maven based) solution to create HTML documentation from them.
PDF support is dropped since it is not really used and makes everything overcomplicated.

The generated HTML content looks similar to the one generated from Forest XMLs, but not identical with them.

Change-Id: Id35984eca5d37b9e3074eab939be5c9b4cc80257

Author: Tamas Penzes <tamaas@cloudera.com>

Reviewers: andor@apache.org

Closes #644 from tamaashu/ZOOKEEPER-3153-3.5","{""sha"": ""382212371090f46aa1937ed471aa2e37ad5f52a1"", ""author"": {""name"": ""Tamas Penzes"", ""email"": ""tamaas@cloudera.com"", ""date"": ""2018-10-05T13:07:29Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2018-10-05T13:07:29Z""}}"
1707,SubmitCommit,2018-10-05 13:36:20,nkalmar,unfork_close,"ZOOKEEPER-3032: MAVEN MIGRATION - branch-3.5 - move java server, client

Author: Norbert Kalmar <nkalmaryahoo.com>

Reviewers: hanmapache.org, andorapache.org

Closes #633 from nkalmar/ZOOKEEPER-3032 and squashes the following commits:

3f9a0eca [Norbert Kalmar] ZOOKEEPER-3032 fix flaky QuorumPeerMainTest.testLeaderElectionWithDisloyalVoter_stillHasMajority
27295ed6 [Norbert Kalmar] ZOOKEEPER-3032 - MAVEN MIGRATION - move java server, client

Author: Norbert Kalmar <nkalmar@yahoo.com>

Reviewers: andor@apache.org

Closes #656 from nkalmar/ZOOKEEPER-3032-3.5","{""sha"": ""3ce1b18b7c385e6e364bfdb1347b46e02ace537d"", ""author"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@yahoo.com"", ""date"": ""2018-10-05T13:36:20Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2018-10-05T13:36:20Z""}}"
1707,SubmitCommit,2018-10-12 08:28:43,anmolnar,unfork_close,"ZOOKEEPER-3159: Flaky: ClientRequestTimeoutTest.testClientRequestTimeout

Can't see a reason why testing again the create method without packet drop. Timeout scenario has already been tested and this part seem to make the test flaky. Removed.

Author: Andor Molnar <andor@apache.org>

Reviewers: nkalmar@cloudera.com, andor@apache.org

Closes #653 from anmolnar/ZOOKEEPER-3159

(cherry picked from commit 6285f332a78f62272114b0f21e74b559974326ef)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""1d22b79b19dc0b095239e3a78a4e308978d0e4d0"", ""author"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2018-10-12T08:28:29Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2018-10-12T08:28:43Z""}}"
1707,SubmitCommit,2018-10-12 15:07:09,Reidddddd,unfork_close,"ZOOKEEPER-1908: setAcl should be have a recursive function

Backport to branch-3.5.

Author: Reid Chan <reidchan@apache.org>

Reviewers: andor@apache.org

Closes #666 from Reidddddd/zkp-1908 and squashes the following commits:

bcafaf41 [Reid Chan] Merge branch 'branch-3.5' into zkp-1908
be3f2e7e [Reid Chan] ZOOKEEPER-1908: Missed constructor change
e06aab29 [Reid Chan] ZOOKEEPER-1908: setAcl should be have a recursive function","{""sha"": ""ea1884ee685cef3b777cca679d8e419efe50527d"", ""author"": {""name"": ""Reid Chan"", ""email"": ""reidchan@apache.org"", ""date"": ""2018-10-12T15:07:09Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2018-10-12T15:07:09Z""}}"
1707,SubmitCommit,2018-10-15 14:48:42,tamaashu,unfork_close,"ZOOKEEPER-3154: Update release process to use the MarkDown solution

Added `mvn clean` and `mvn install` to `ant clean` and `ant compile` as dependency.
This way we clean and build zookeeper-docs maven sub-project when we clean and build main ant project.
Added releasenotes.md and fixed small issues in MarkDown files.

Next step is to remove not needed forrest content and dead ant code.
Only valid for branch-3.5, do not backport to branch-3.4.

Change-Id: I308a970c253be1bb82387516bf7b08bd7818a2c7

Author: Tamas Penzes <tamaas@cloudera.com>

Reviewers: andor@apache.org

Closes #663 from tamaashu/ZOOKEEPER-3154-3.5 and squashes the following commits:

fce1499b [Tamas Penzes] ZOOKEEPER-3154: Removed HTML document generation which will be put back when maven migration will be done
06cba415 [Tamas Penzes] ZOOKEEPER-3154: Update release process to use the MarkDown solution","{""sha"": ""000317fb50daae81bc0b34fef5d2895b6aa851bd"", ""author"": {""name"": ""Tamas Penzes"", ""email"": ""tamaas@cloudera.com"", ""date"": ""2018-10-15T14:48:42Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2018-10-15T14:48:42Z""}}"
1707,SubmitCommit,2018-10-16 09:57:14,anmolnar,unfork_close,"ZOOKEEPER-3165: Java 9: X509UtilTest.testCreateSSLContextWithoutTrustStorePassword fails

We use JKS format explicitly, but the tests created the keystore and truststore with the default format. This has been changed in Java 9 from JKS to PKCS12 which caused the test failing on Java 9+ builds.

Author: Andor Molnar <andor@apache.org>

Reviewers: eolivelli@gmail.com, andor@apache.org

Closes #668 from anmolnar/ZOOKEEPER-3165","{""sha"": ""f5c27607e7257caacba109c461a70055b9acf0de"", ""author"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2018-10-16T09:57:14Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2018-10-16T09:57:14Z""}}"
1707,SubmitCommit,2018-10-18 09:18:39,anmolnar,unfork_close,"ZOOKEEPER-3113: EphemeralType.get() fails to verify ephemeralOwner when currentElapsedTime() is small enough

I refactored the unit test `testServerIds` to verify server id verification code explicitly instead of through `EphemeralType.get()` method.

Reasons:
- The original test doesn't work on machines which booted recently, because the generated `Time.currentElapsedTime()` value is not high enough and it's possible to generate a valid ephemeralOwner even with high 0xff byte. Server ID cannot be verified reliably this way.
- EphemeralType.get() is already covered in other unit tests,
- Unit tests should test the smallest piece of logic and call the method under testing directly.

Author: Andor Molnar <andor@apache.org>

Reviewers: fangmin@apache.org, eolivelli@gmail.com, hanm@apache.org, andor@apache.org

Closes #651 from anmolnar/ZOOKEEPER-3113 and squashes the following commits:

7454d7e7 [Andor Molnar] ZOOKEEPER-3113. Added unit tests to cover EphemeralType.get edge cases
47dece7a [Andor Molnar] ZOOKEEPER-3113. Refactored unit test to validate server Id verification code explicitly

(cherry picked from commit 5c85a236c9eb0805ea8389a52dab3b1bc0efadac)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""26012313d3cb020ee3097a3b4cf46c9f6ae109c7"", ""author"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2018-10-18T09:18:25Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2018-10-18T09:18:39Z""}}"
1707,SubmitCommit,2018-10-24 09:30:47,nkalmar,unfork_close,"ZOOKEEPER-3032: MAVEN MIGRATION - branch-3.5 - zookeeper-server

Separating the java code is not feasible. Moving common and client back to server.

Author: Norbert Kalmar <nkalmaryahoo.com>

Reviewers: andorapache.org

Closes #672 from nkalmar/ZOOKEEPER-3032r

Author: Norbert Kalmar <nkalmar@yahoo.com>

Reviewers: andor@apache.org

Closes #674 from nkalmar/ZOOKEEPER-3032r-3.5","{""sha"": ""43d71c2eaf7692940c374800300d886b712643bb"", ""author"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@yahoo.com"", ""date"": ""2018-10-24T09:30:47Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2018-10-24T09:30:47Z""}}"
1707,SubmitCommit,2018-11-05 18:41:42,Robert Evans,unfork_close,"ZOOKEEPER-3156: Add in option to canonicalize host name

This is the master and 3.5 version of #648.  It should apply cleanly to both lines, but if you want a separate pull request for each I am happy to do it.

Author: Robert Evans <evans@yahoo-inc.com>

Reviewers: fangmin@apache.org, andor@apache.org

Closes #652 from revans2/ZOOKEEPER-3156

(cherry picked from commit 83fd6e298dda420125f8be35fda68cb226b0ee05)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""5701ddf19d4b06a11d79b238c9e2e29aa887f785"", ""author"": {""name"": ""Robert Evans"", ""email"": ""evans@yahoo-inc.com"", ""date"": ""2018-11-05T18:40:55Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2018-11-05T18:41:42Z""}}"
1707,SubmitCommit,2018-11-06 18:32:58,Fangmin Lyu,unfork_close,"ZOOKEEPER-3104: Fix potential data inconsistency due to NEWLEADER packet being sent too early during SNAP sync

Port this fix from master to 3.5.

Author: Fangmin Lyu <allenlyu@fb.com>

Reviewers: andor@apache.org

Closes #685 from lvfangmin/ZOOKEEPER-3104-3.5","{""sha"": ""427f136783c4a855cc370eb4c3861a3979ea968c"", ""author"": {""name"": ""Fangmin Lyu"", ""email"": ""allenlyu@fb.com"", ""date"": ""2018-11-06T18:32:58Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2018-11-06T18:32:58Z""}}"
1707,SubmitCommit,2018-11-07 01:30:04,ivmaykov,unfork_close,"ZOOKEEPER-3173: Quorum TLS - support PEM trust/key stores

Add support for loading key and trust stores from PEM files.

Unfortunately, this PR includes 2 JIRAs, because it was quite difficult
to untangle the two features as they were developed at the same time
originally:

- ZOOKEEPER-3173: Quorum TLS - support PEM trust/key stores
- ZOOKEEPER-3175: Quorum TLS - test improvements

## Added support for PEM formatted key stores and trust stores
- key store and trust store files can now be in PEM format as well as JKS.
- Added config properties to tell ZK what type of trust/key store to load:
- `zookeeper.ssl.keyStore.type` and `zookeeper.ssl.trustStore.type` for ClientX509Util
- `zookeeper.ssl.quorum.keyStore.type` and `zookeeper.ssl.quorum.trustStore.type` for QuorumX509Util
- store type properties could have the values ""JKS"", ""PEM"", or not set
- leaving the type properties unset will cause auto-detection of the store type based on the file extension ("".jks"" or "".pem"")

## Added test utilities for easily creating X509 certs and using them in unit tests
- added new class `X509TestContext` and its friend, `X509TestHelpers`
- rewrote some existing unit tests to use these classes, and added new tests that use them
- some existing tests (i.e. `QuorumSSLTest`) should probably be ported to use this as well, haven't got around to it yet

Author: Ilya Maykov <ilyam@fb.com>

Reviewers: andor@apache.org

Closes #678 from ivmaykov/ZOOKEEPER-3173

(cherry picked from commit 03286f29d29f4c1d3496ce87d1441df91422220e)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""39fbc58f17b373a73ce529f1417678d2f4e41009"", ""author"": {""name"": ""Ilya Maykov"", ""email"": ""ilyam@fb.com"", ""date"": ""2018-11-07T01:29:49Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2018-11-07T01:30:04Z""}}"
1707,SubmitCommit,2018-11-07 23:54:54,Andrea Reale,unfork_close,"ZOOKEEPER-3162: Broken lock semantics in C client lock-recipe.

This PR fixes a few issues with the C client lock-recipe, as documented in more detailed in [ZOOKEEPER-3162](https://issues.apache.org/jira/browse/ZOOKEEPER-3162) on JIRA.

Details are also provided in the individual commits, but in short:
- Fix a bug in the choice of the predecessor node while trying to acquire the lock
- Fix a possible deadlock in zkr_lock_operation
- Fix the return value of zkr_lock_lock to abide to the prescribed semantics.

Author: Andrea Reale <realean2@ie.ibm.com>

Reviewers: andor@apache.org

Closes #662 from andreareale/ZOOKEEPER-3162 and squashes the following commits:

09f7ff4ed [Andrea Reale] Fixes deadlock in zoo_lock_operation
670d25a8e [Andrea Reale] Fix return semantics of zkr_lock_lock
2a1d66c4b [Andrea Reale] Bugfix on zookeeper-recipes-lock C implementation
a9b6a1a09 [Andrea Reale] Fix wrong include path for C recipes

(cherry picked from commit 477fa0724fa66cc41d14e8a974ab4ac2a1b68433)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""bdfa704a62d7da7cee6d369719918fb81db4ff03"", ""author"": {""name"": ""Andrea Reale"", ""email"": ""realean2@ie.ibm.com"", ""date"": ""2018-11-07T23:54:43Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2018-11-07T23:54:54Z""}}"
1707,SubmitCommit,2018-11-08 18:56:08,Fangmin Lyu,unfork_close,"ZOOKEEPER-3125: Fixing pzxid consistent issue when replaying a txn for a deleted node

Port this to 3.5, this also fixed the issue where the pzxid might be overwritten by a smaller one when replaying deleteNode txn, which will be fixed in a separate PR for 3.6.

Author: Fangmin Lyu <allenlyu@fb.com>

Reviewers: andor@apache.org

Closes #647 from lvfangmin/ZOOKEEPER-3125-3.5 and squashes the following commits:

53670f9c7 [Fangmin Lyu] remove RetryRule in the patch
cee39c742 [Fangmin Lyu] move RetryRule to the zookeeper-server/src/test folder
a8b8d6669 [Fangmin Lyu] waiting States.CONNECTING after shutdown
7528d1559 [Fangmin Lyu] retry test if it is due to the connection loss
5fbf7da3b [Fangmin Lyu] ZOOKEEPER-3125: Fixing pzxid consistent issue when replaying a txn for a deleted node","{""sha"": ""14364ebb4ce6eacabca7dee22b442fe42519f703"", ""author"": {""name"": ""Fangmin Lyu"", ""email"": ""allenlyu@fb.com"", ""date"": ""2018-11-08T18:56:08Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2018-11-08T18:56:08Z""}}"
1707,SubmitCommit,2018-11-09 16:41:33,tamaashu,unfork_close,"ZOOKEEPER-3155: Remove Forrest XMLs and their build process from the …

…project (branch 3.5)

In this commit I've removed the forrest XML files and their result from the repository.
I've also removed the process to generate HTML and PDF files from the forrest files, since it's not needed anymore.

It also effects the test-github-pr.sh and test-patch.sh, since we do have less parameters for them (FORREST_HOME).

Change-Id: I30ecdb181f19eed05d86838b12c75e0c03e33710

Author: Tamas Penzes <tamaas@cloudera.com>

Reviewers: andor@apache.org

Closes #697 from tamaashu/ZOOKEEPER-3155-3.5","{""sha"": ""ab59048a61022f2062818f2574cf99958677cd0b"", ""author"": {""name"": ""Tamas Penzes"", ""email"": ""tamaas@cloudera.com"", ""date"": ""2018-11-09T16:41:33Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2018-11-09T16:41:33Z""}}"
1707,SubmitCommit,2018-11-23 10:51:46,anmolnar,unfork_close,"ZOOKEEPER-1441: JAVA 11 - Some test cases are failing because Port bind issue.

Fixes the Java 11 build issue.

**Issue**

`NIOServerCnxnFactory` doesn't properly close the socket when the shutdown() is called before the factory has even started. This is mostly the case in tests which use `QuorumUtil` that creates multiple QuorumPeers when instantiated without starting them and when `startAll()` gets called it shuts down the previous ones.

**Reason**

`Selectors` which have been registered with the socket must be closed in order to properly release the socket. `NIOServerCnxnFactory` registers selectors on instantiation, but only releases them in the thread run() method. So, if factory doesn't get started, it won't release the registered selectors.

This wasn't the issue before Java 11 and probably caused by:
https://www.oracle.com/technetwork/java/javase/11-relnote-issues-5012449.html#JDK-8198562

Also this is not an issue when ZooKeeper is used as a separate process (not embedded), because on shutdown the entire JVM stops anyway.

**Resolution**

I decided to try fixing the issue in the connection factory instead of fixing the tests only, because originally it's a bug in the way factory works. Resolution is to open selectors in lazy way: only when accept and selector thread starts, so they don't need to be released if the thread was not even started.

Author: Andor Molnar <andor@apache.org>

Reviewers: hanm@apache.org

Closes #700 from anmolnar/ZOOKEEPER-1441

(cherry picked from commit c3babb94275ad667dc71c10dcb08a383a3c154c2)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""92f90e823a6a46485c855d3f896e49833521e5ee"", ""author"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2018-11-23T10:51:32Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2018-11-23T10:51:46Z""}}"
1707,SubmitCommit,2018-11-27 08:56:08,anmolnar,unfork_close,"ZOOKEEPER-3193: Flaky: org.apache.zookeeper.test.SaslAuthFailNotifyTest

1. Refactor SASL auth tests to use single file,
2. Use CountDownLatch to sync with watcher

More context: https://issues.apache.org/jira/browse/ZOOKEEPER-3193

Author: Andor Molnar <andor@apache.org>

Reviewers: andor@apache.org

Closes #706 from anmolnar/ZOOKEEPER-3193

(cherry picked from commit 1c488cec08809a76202f6c66be9e46533e7c409c)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""cbf9f1ba5bbc876c820f97d60ddc2f500b9f5e79"", ""author"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2018-11-27T08:55:53Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2018-11-27T08:56:08Z""}}"
1707,SubmitCommit,2018-11-27 08:58:40,asdf2014,unfork_close,"ZOOKEEPER-2822: Wrong `ObjectName` about `MBeanServer` in JMX module

The wrong `ObjectName` about `MBeanServer` in JMX module, should `log4j:hierarchy=default` rather than `log4j:hiearchy=default`.

Author: asdf2014 <benedictjin2016@gmail.com>

Reviewers: andor@apache.org

Closes #294 from asdf2014/ZOOKEEPER-2822 and squashes the following commits:

294cf53ab [asdf2014] Using `System.getProperty` instead of `System.getenv` & doc this change
ed756a9b8 [asdf2014] Add `zookeeper.jmx.log4j.mbean`
82da83a71 [asdf2014] ZOOKEEPER-2822: Wrong `ObjectName` about `MBeanServer` in JMX module

(cherry picked from commit 91c6cb253c98a5c792314b1c7998ab5b939dddad)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""019e841e7703835aaa146dd1c16fd1b43d017071"", ""author"": {""name"": ""asdf2014"", ""email"": ""benedictjin2016@gmail.com"", ""date"": ""2018-11-27T08:57:53Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2018-11-27T08:58:40Z""}}"
1707,SubmitCommit,2018-11-27 16:56:44,ivmaykov,unfork_close,"ZOOKEEPER-3172: Quorum TLS - fix port unification to allow rolling upgrades

Fix numerous problems with UnifiedServerSocket, such as hanging the accept() thread when the client doesn't send any data or crashing if less than 5 bytes are read from the socket in the initial read.

Re-enable the ""portUnification"" config option.

## Fixed networking issues/bugs in UnifiedServerSocket

- don't crash the accept() thread if the client closes the connection without sending any data
- don't corrupt the connection if the client sends fewer than 5 bytes for the initial read
- delay the detection of TLS vs. plaintext mode until a socket stream is read from or written to. This prevents the accept() thread from getting blocked on a read() operation from the newly connected socket.
- prepending 5 bytes to PrependableSocket and then trying to read >5 bytes would only return the first 5 bytes, even if more bytes were available. This is fixed.

Author: Ilya Maykov <ilyam@fb.com>

Reviewers: andor@apache.org

Closes #727 from ivmaykov/ZOOKEEPER-3172-branch-3.5","{""sha"": ""f3f1146a76f523bdff07699cdc0d29dd3fd98921"", ""author"": {""name"": ""Ilya Maykov"", ""email"": ""ilyam@fb.com"", ""date"": ""2018-11-27T16:56:44Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2018-11-27T16:56:44Z""}}"
1707,SubmitCommit,2018-11-27 20:05:46,ivmaykov,unfork_close,"ZOOKEEPER-3194: Quorum TLS - fix copy/paste bug in ZKTrustManager

Fix an obvious copy/paste bug. Tested by making sure ZKTrustManagerTest still passes.

Author: Ilya Maykov <ilyam@fb.com>

Reviewers: andor@apache.org

Closes #709 from ivmaykov/ZOOKEEPER-3194

(cherry picked from commit a109b8b5034a160c3ad0f4d2b790df962ff4dc47)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""c6bd49c4ce217cfbfc8162158c471a9254a366f2"", ""author"": {""name"": ""Ilya Maykov"", ""email"": ""ilyam@fb.com"", ""date"": ""2018-11-27T20:04:31Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2018-11-27T20:05:46Z""}}"
1707,SubmitCommit,2018-12-07 12:11:39,Michael Edwards,unfork_close,"ZOOKEEPER-2778: QuorumPeer: encapsulate addresses

[ZOOKEEPER-2778] QuorumPeer: encapsulate quorum/election/client addresses in an AddressTuple held through an AtomicReference

Author: Michael Edwards <Michael Edwards>
Author: Michael Edwards <medwards@bitpusher.com>

Reviewers: andor@apache.org

Closes #707 from mkedwards/branch-3.5 and squashes the following commits:

78df674c4 [Michael Edwards] [ZOOKEEPER-2778] QuorumPeer: halt old QCM when clobbering existing election algorithm
5038179e2 [Michael Edwards] [ZOOKEEPER-2778] QuorumPeer: warn when clobbering existing election algorithm
bbeeebf87 [Michael Edwards] [ZOOKEEPER-2778] LeaderBeanTest: set up mock QuorumVerifier so that addresses get set
9701f0576 [Michael Edwards] [ZOOKEEPER-2778] QuorumPeer: fix access to newly private data members from ReconfigTest
0531d9c8e [Michael Edwards] [ZOOKEEPER-2778] QuorumPeer: fixes from code review
03d259bae [Michael Edwards] [ZOOKEEPER-2778] QuorumPeer: add fast path for already-non-null quorum/election address
4cd10c865 [Michael Edwards] [ZOOKEEPER-2778] QuorumPeer/QuorumCnxManager: address deadlock and visibility issues
3694a4e31 [Michael Edwards] [ZOOKEEPER-2778] QuorumPeer: encapsulate quorum/election/client addresses in an AddressTuple held through an AtomicReference","{""sha"": ""914c971a749fae624fd7610f94d761ca200440e8"", ""author"": {""name"": ""Michael Edwards"", ""email"": ""Michael Edwards"", ""date"": ""2018-12-07T12:11:39Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2018-12-07T12:11:39Z""}}"
1707,SubmitCommit,2018-12-10 14:29:12,Michael Edwards,unfork_close,"ZOOKEEPER-1636: cleanup completion list of a failed multi request

(from Thawan Kooburat)

Author: Michael Edwards <Michael Edwards>

Reviewers: andor@apache.org

Closes #717 from mkedwards/ZOOKEEPER-1636-for-master

(cherry picked from commit b1fd480b2c8e0cc1429345ee04510d3849001c5c)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""4bd32bef2b75238e67b13bdfc7e6896d64c32434"", ""author"": {""name"": ""Michael Edwards"", ""email"": ""Michael Edwards"", ""date"": ""2018-12-10T14:28:57Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2018-12-10T14:29:12Z""}}"
1707,SubmitCommit,2018-12-17 14:19:47,Fangmin Lyu,unfork_close,"ZOOKEEPER-1818: Correctly handle potential inconsistent zxid/electionEpoch and peerEpoch during leader election

Rebasing Fangmin Lyu's patch from https://github.com/lvfangmin/zookeeper/tree/ZOOKEEPER-1818 onto the 3.5 branch (cumulative with other PRs in flight).

Author: Michael Edwards <medwards@bitpusher.com>
Author: Fangmin Lyu <fangmin@apache.org>

Reviewers: andor@apache.org

Closes #714 from mkedwards/ZOOKEEPER-1818 and squashes the following commits:

6adf67749 [Michael Edwards] Apply changes from #703 code review
65198539f [Fangmin Lyu] ZOOKEEPER-1818: Correctly handle potentially inconsistent zxid/electionEpoch and peerEpoch during leader election","{""sha"": ""193a6ed04a1f2ae19829db974878f5ecb6505cbf"", ""author"": {""name"": ""Fangmin Lyu"", ""email"": ""fangmin@apache.org"", ""date"": ""2018-12-17T14:19:47Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2018-12-17T14:19:47Z""}}"
1707,SubmitCommit,2018-12-19 12:49:04,ivmaykov,unfork_close,"ZOOKEEPER-3174: Quorum TLS - support reloading trust/key store

Allow reloading SSL trust stores and key stores from disk when the files on disk change.

## Added support for reloading key/trust stores when the file on disk changes

- new property sslQuorumReloadCertFiles which controls the behavior for reloading the key and trust store files for QuorumX509Util. Reloading of key and trust store for ClientX509Util is not in this PR but could be added easily
- this allows a ZK server to keep running on a machine that uses short-lived certs that refresh frequently without having to restart the ZK process.

This is the branch-3.5 version of #680

Author: Ilya Maykov <ilyam@fb.com>

Reviewers: fangmin@apache.org, andor@apache.org

Closes #737 from ivmaykov/ZOOKEEPER-3174-branch3.5 and squashes the following commits:

6cc1d620f [Ilya Maykov] ZOOKEEPER-3219: Fix flaky FileChangeWatcherTest
df7294491 [Ilya Maykov] ZOOKEEPER-3174: Quorum TLS - support reloading trust/key store","{""sha"": ""17307740088a0365e341208d0d985a3da624db90"", ""author"": {""name"": ""Ilya Maykov"", ""email"": ""ilyam@fb.com"", ""date"": ""2018-12-19T12:49:04Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2018-12-19T12:49:04Z""}}"
1707,SubmitCommit,2018-12-23 01:59:19,eolivelli,unfork_close,"ZOOKEEPER-3230: Add Apache NetBeans Maven project files to .gitignore

Author: Enrico Olivelli <eolivelli@apache.org>

Reviewers: phunt@apache.org

Closes #746 from eolivelli/ZOOKEEPER-3230-netbeans-maven-gitignore

Change-Id: Ifd31386069a867293d21825239a38c4f8c38b3f1
(cherry picked from commit 4212a5a4db4b46ad6da8ded59aa3533f852d1aad)
Signed-off-by: Patrick Hunt <phunt@apache.org>","{""sha"": ""3a6082403a04d8bff57fb09e52a71442697c6c46"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2018-12-23T01:57:36Z""}, ""committer"": {""name"": ""Patrick Hunt"", ""email"": ""phunt@apache.org"", ""date"": ""2018-12-23T01:59:19Z""}}"
1707,SubmitCommit,2019-01-02 12:41:22,ivmaykov,unfork_close,"ZOOKEEPER-3228: [TLS] Fix key usage extension in test certs

Key usage extension is wrong in test certs created by X509TestHelpers. This works with Java SSL stack because it allows sloppy certs, but breaks with Netty's OpenSSL stack. My Netty OpenSSL code is not ready for upstream yet, but fixing the test cert extensions is a prerequisite and can go in separately.

Author: Ilya Maykov <ilyam@fb.com>

Reviewers: fangmin@apache.org, andor@apache.org

Closes #743 from ivmaykov/ZOOKEEPER-3228

(cherry picked from commit 2a3800f00f4c14dde97c42a54806ba3485f27183)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""355aef526072ff422aa348713bee3dad59be3c7e"", ""author"": {""name"": ""Ilya Maykov"", ""email"": ""ilyam@fb.com"", ""date"": ""2019-01-02T12:41:06Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-01-02T12:41:22Z""}}"
1707,SubmitCommit,2019-01-03 14:57:54,anmolnar,unfork_close,"ZOOKEEPER-3222: Flaky: multiple intermittent segfaults in C++ tests

1. Removed the failing test case: client cannot be validated after closing.
2. Explicitly close the client before creating new.

Author: Andor Molnar <andor@cloudera.com>

Reviewers: fangmin@apache.org, andor@apache.org

Closes #740 from anmolnar/ZOOKEEPER-3222

(cherry picked from commit f644f3d63e3d1efd3a977b2f4621734dfe617f31)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""94b18f7e2a6701ba6b4d42334b84ef70d8708a03"", ""author"": {""name"": ""Andor Molnar"", ""email"": ""andor@cloudera.com"", ""date"": ""2019-01-03T14:57:39Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-01-03T14:57:54Z""}}"
1707,SubmitCommit,2019-01-03 15:33:21,eolivelli,unfork_close,"ZOOKEEPER-3217: owasp job flagging slf4j on trunk

Disable OWASP checks about slf4j.
We are not using EventData, so ZooKeeper is not subject to https://nvd.nist.gov/vuln/detail/CVE-2018-8088

Author: Enrico Olivelli - Diennea <eolivelli@apache.org>
Author: Enrico Olivelli <eolivelli@apache.org>

Reviewers: phunt@apache.org, andor@apache.org

Closes #736 from eolivelli/fix/ZOOKEEPER-3217-owasp and squashes the following commits:

7dd4473a1 [Enrico Olivelli] Add missing license header
dc9bd75cd [Enrico Olivelli - Diennea] ZOOKEEPER-3217 owasp job flagging slf4j on trunk

(cherry picked from commit 4a8fda7031d68236441b13bd878936b2607c5244)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""b966517208c2c7a6919e4e3af9b5153a921c50b1"", ""author"": {""name"": ""Enrico Olivelli - Diennea"", ""email"": ""eolivelli@apache.org"", ""date"": ""2019-01-03T15:32:46Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-01-03T15:33:21Z""}}"
1707,SubmitCommit,2019-01-04 15:21:29,anmolnar,unfork_close,"ZOOKEEPER-3233: Run github pre-commit hook tests on 4 threads (branch-3.5)

1. Changed number of threads: 8 -> 4
2. Turned off test.output: yes -> no

(backport from master)

Author: Andor Molnar <andor@apache.org>

Reviewers: andor@apache.org

Closes #754 from anmolnar/ZOOKEEPER-3233_35","{""sha"": ""7f084215e635cf9e572555ec23c55ddf0e73d6b8"", ""author"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-01-04T15:21:29Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-01-04T15:21:29Z""}}"
1707,SubmitCommit,2019-01-07 14:34:19,coheigea,unfork_close,"ZOOKEEPER-3197: Improve documentation in ZooKeeperServer.superSecret

Author: Colm O hEigeartaigh <coheigea@apache.org>

Reviewers: andor@apache.org

Closes #752 from coheigea/ZOOKEEPER-3197

(cherry picked from commit 36b8711ebfd7ea749d547a52ddcd7d8853931728)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""58552af97aa89ccf5b0c3e962acbd61303d72e2e"", ""author"": {""name"": ""Colm O hEigeartaigh"", ""email"": ""coheigea@apache.org"", ""date"": ""2019-01-07T14:34:02Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-01-07T14:34:19Z""}}"
1707,SubmitCommit,2019-01-08 09:25:30,nkalmar,unfork_close,"ZOOKEEPER-3029: MAVEN MIGRATION 3.5 -

Author: Norbert Kalmar <nkalmaryahoo.com>

Reviewers: andorapache.org

Closes #708 from nkalmar/ZOOKEEPER-3029r and squashes the following commits:

4b1354f41 [Norbert Kalmar] ZOOKEEPER-3029 - add java clover coverage
9c4591ce5 [Norbert Kalmar] ZOOKEEPER-3029 - fix pom issues and clover classpath
5b9350abd [Norbert Kalmar] ZOOKEEPER-3029 - fix C maven test classpath issues
69a2c51b6 [Norbert Kalmar] ZOOKEEPER-3029 - change git-wip-us git to gitbox
daf273a7e [Norbert Kalmar] ZOOKEEPER-3029 - remove build.xml from c-client, use maven
e328cb812 [Norbert Kalmar] ZOOKEEPER-3029 - fix cppunit tests
5133abe46 [Norbert Kalmar] ZOOKEEPER-3029 - fix portAssigment bug with maven
eb7b4abfb [Norbert Kalmar] ZOOKEEPER-3029 - fix jute dependency import
d786b90a2 [Norbert Kalmar] ZOOKEEPER-3029 - Build C library and fix tests
438cd43de [Norbert Kalmar] ZOOKEEPER-3029 - add pom.xml for jute, client and server

Author: Norbert Kalmar <nkalmar@yahoo.com>

Reviewers: andor@apache.org

Closes #755 from nkalmar/ZOOKEEPER-3029-3.5 and squashes the following commits:

366e34eed [Norbert Kalmar] ZOOKEEPER-3029 revert netty to version 3
98066f097 [Norbert Kalmar] ZOOKEEPER-3029: add pom.xml for jute, client and server","{""sha"": ""eb8a80134e2af16aff579fa486d2485aa3db75d0"", ""author"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@yahoo.com"", ""date"": ""2019-01-08T09:25:30Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-01-08T09:25:30Z""}}"
1707,SubmitCommit,2019-01-08 16:21:19,sknot-rh,unfork_close,"ZOOKEEPER-3210: typo in zookeeperInternals doc

Author: Stanislav Knot <sknot@redhat.com>

Reviewers: fangmin@apache.org, andor@apache.org

Closes #732 from stanlyDoge/patch-1

(cherry picked from commit c358dce653874ae4b97ce26629e3ddba00c8b669)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""f38d51988ce8638a428113baa7096e6de55ccde8"", ""author"": {""name"": ""Stanislav Knot"", ""email"": ""sknot@redhat.com"", ""date"": ""2019-01-08T16:21:00Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-01-08T16:21:19Z""}}"
1707,SubmitCommit,2019-01-08 16:25:51,nkalmar,unfork_close,"ZOOKEEPER-3226: MAVEN MIGRATION - 3.5 -

Author: Norbert Kalmar <nkalmaryahoo.com>

Reviewers: andorapache.org

Closes #741 from nkalmar/ZOOKEEPER-3226

Author: Norbert Kalmar <nkalmar@yahoo.com>

Reviewers: andor@apache.org

Closes #758 from nkalmar/ZK-3226-3.5","{""sha"": ""5cb204728d57ab966413fb9e3e76f7c65e98ae9e"", ""author"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@yahoo.com"", ""date"": ""2019-01-08T16:25:51Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-01-08T16:25:51Z""}}"
1707,SubmitCommit,2019-01-09 14:09:37,coheigea,unfork_close,"ZOOKEEPER-3235: Enable secure processing and disallow DTDs in the SAXParserFactory

It's good security practice to set the secure processing feature on SAXParserFactory and to disallow Doctypes if they aren't needed.

Author: Colm O hEigeartaigh <coheigea@apache.org>

Reviewers: andor@apache.org

Closes #716 from coheigea/sax_secureproc

(cherry picked from commit a5b3114d70d03f70b068b209fe393388f3c77991)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""fdcf0ecd1916083239c3b7c0bdeef63898dc2907"", ""author"": {""name"": ""Colm O hEigeartaigh"", ""email"": ""coheigea@apache.org"", ""date"": ""2019-01-09T14:09:14Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-01-09T14:09:37Z""}}"
1707,SubmitCommit,2019-01-11 09:15:52,nkalmar,unfork_close,"ZOOKEEPER-3171: MAVEN MIGRATION - 3.5 -

Author: Norbert Kalmar <nkalmaryahoo.com>

Reviewers: andorapache.org

Closes #745 from nkalmar/ZOOKEEPER-3171r and squashes the following commits:

deb5ed337 [Norbert Kalmar] ZOOKEEPER-3171 - fix releaseaudit excludes
d70503e76 [Norbert Kalmar] ZOOKEEPER-3171 - Add recipes and contrib maven build

Author: Norbert Kalmar <nkalmar@yahoo.com>

Reviewers: andor@apache.org

Closes #765 from nkalmar/ZK-3171-3.5","{""sha"": ""09140a39ae656494ca641c51e14c6ca486b9b998"", ""author"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@yahoo.com"", ""date"": ""2019-01-11T09:15:52Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-01-11T09:15:52Z""}}"
1707,SubmitCommit,2019-01-11 13:06:33,eolivelli,unfork_close,"ZOOKEEPER-3223: Configure Spotbugs

- add spotbugs configuration (default)
- make build pass spotbugs

Author: Enrico Olivelli <eolivelliapache.org>

Reviewers: andorapache.org

Author: Enrico Olivelli <eolivelli@apache.org>

Reviewers: andor@apache.org

Closes #763 from eolivelli/fix/ZOOKEEPER-3223-branch-3.5","{""sha"": ""d6b4cd6c18438d080cc96b2353fd16ec6361efb0"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2019-01-11T13:06:33Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-01-11T13:06:33Z""}}"
1707,SubmitCommit,2019-01-14 14:36:32,Michael Edwards,unfork_close,"ZOOKEEPER-3202: Add timing margin to improve reliability of testClientServerSSL()

Allowing just 5 seconds for 3 quorum peers to start and elect a leader is a bit tight, at least when running 4 test processes in parallel inside a (Linux) Docker container on a (non-Linux) laptop.  Add up to 10 seconds of extra margin.

Author: Michael Edwards <Michael Edwards>

Reviewers: andor@apache.org

Closes #723 from mkedwards/ZOOKEEPER-3202

(cherry picked from commit 14eefcb7bbd1cc93d4738998ca7343cd9cae8277)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""409ac0c036ff9e6f3860a832d4fbd5319487003f"", ""author"": {""name"": ""Michael Edwards"", ""email"": ""Michael Edwards"", ""date"": ""2019-01-14T14:36:15Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-01-14T14:36:32Z""}}"
1707,SubmitCommit,2019-01-14 18:40:33,ivmaykov,unfork_close,"ZOOKEEPER-3195: TLS - disable client-initiated renegotiation

Summary: client-initiated renegotiation is insecure and is vulnerable to MITM attacks.
Unfortunately, the feature is enabled in Java by default. This disables it.
See https://bugs.openjdk.java.net/browse/JDK-7188658 and
https://www.oracle.com/technetwork/java/javase/documentation/tlsreadme-141115.html

Test Plan: manually tested by running a secure ZK server and probing the listening port
with python's sslyze tool (using `sslyze --reneg ...`). Tested on Java 8, 9, 10, and 11.

Author: Ilya Maykov <ilyam@fb.com>

Reviewers: andor@apache.org

Closes #710 from ivmaykov/ZOOKEEPER-3195

(cherry picked from commit 38fab85ab476ffea3dd9668eac6fd6e09a190a09)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""41a0da19492fb04a8ef94aa474ef3a948fe791e8"", ""author"": {""name"": ""Ilya Maykov"", ""email"": ""ilyam@fb.com"", ""date"": ""2019-01-14T18:40:19Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-01-14T18:40:33Z""}}"
1707,SubmitCommit,2019-01-14 18:50:18,nkalmar,unfork_close,"ZOOKEEPER-3122: MAVEN MIGRATION - 3.5 - - pom versions fix

Author: Norbert Kalmar <nkalmar@yahoo.com>

Reviewers: andor@apache.org

Closes #773 from nkalmar/ZK-3122-3.5 and squashes the following commits:

c4e5cddea [Norbert Kalmar] ZOOKEEPER-3122 - remove contrib build from default build profile
90abc3451 [Norbert Kalmar] ZOOKEEPER-3122 - pom versions fix","{""sha"": ""cc363ec4a063fc63105842fcf676fcd6ec6fc3a2"", ""author"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@yahoo.com"", ""date"": ""2019-01-14T18:50:18Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-01-14T18:50:18Z""}}"
1707,SubmitCommit,2019-01-23 15:16:19,eolivelli,unfork_close,"ZOOKEEPER-3223: Configure spotbugs - part 2

    - move to spotbugs 3.1.9
    - disable spotbugs on contrib package
    - fix spotbugs warnings on recipes
    - add commons-lang 2.6 dependency in order to fix build

Author: Enrico Olivelli <eolivelli@apache.org>

Reviewers: andor@apache.org

Closes #783 from eolivelli/fix/spotbugs-branch-3.5-part2","{""sha"": ""f20f0bcb1a35c4cfbf6d80b431a2abe67e954fb5"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2019-01-23T15:16:19Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-01-23T15:16:19Z""}}"
1707,SubmitCommit,2019-01-24 10:53:18,ivmaykov,unfork_close,"ZOOKEEPER-3176: Quorum TLS - add SSL config options

Add  SSL config options for enabled protocols and client auth mode.
Improve handling of SSL config options for protocols and cipher suites - previously these came from system properties, now they can come from ZKConfig which means they are easier to isolate in tests, and now we don't need to parse system properties every time we create a secure socket.

## Added more options for ssl settings to X509Util and encapsulate them better
- previously, some SSL settings came from a `ZKConfig` and others came from global `System.getProperties()`. This made it hard to isolate certain settings in tests.
- now all SSL-related settings come from the `ZKConfig` object used to create the SSL context
- new settings added:
- `zookeeper.ssl(.quorum).enabledProtocols` - list of enabled protocols. If not set, defaults to a single-entry list with the value of `zookeeper.ssl(.quorum).protocol`.
- `zookeeper.ssl(.quorum).clientAuth` - can be ""NONE"", ""WANT"", or ""NEED"". This controls whether the server doesn't want / allows / requires the client to present an X509 certificate.
- `zookeeper.ssl(.quorum).handshakeDetectionTimeoutMillis` - timeout for the first read of 5 bytes to detect the transport mode (TLS or plaintext) of a client connection made to a `UnifiedServerSocket`

Author: Ilya Maykov <ilyam@fb.com>

Reviewers: andor@apache.org

Closes #681 from ivmaykov/ZOOKEEPER-3176

(cherry picked from commit 0f44fd9629704e32cc9719eb26d14ecf11e61e90)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""d4512489eb174ae7d736cfa009bf689c23c70903"", ""author"": {""name"": ""Ilya Maykov"", ""email"": ""ilyam@fb.com"", ""date"": ""2019-01-24T10:53:00Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-01-24T10:53:18Z""}}"
1707,SubmitCommit,2019-01-24 14:28:58,eolivelli,unfork_close,"ZOOKEEPER-3254: Drop 'beta' qualifier from Branch 3.5

Author: Enrico Olivelli <eolivelli@apache.org>

Reviewers: andor@apache.org

Closes #785 from eolivelli/fix/drop-beta","{""sha"": ""23870c0bbd98b05874079eb44064b5f619312d50"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2019-01-24T14:28:58Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-01-24T14:28:58Z""}}"
1707,SubmitCommit,2019-01-25 13:37:46,ivmaykov,unfork_close,"ZOOKEEPER-3229: [TLS] add AES-256 ciphers to default cipher list

- Add AES-256 cipher suites
- Add AES-128-...-SHA cipher suites (for compatibility with Netty OpenSSL transport)
- code cleanup: split up the suites into CBC and GCM ciphers and put them in different order when constructing java8 / java9 defaults.

Author: Ilya Maykov <ilyam@fb.com>

Reviewers: andor@apache.org

Closes #744 from ivmaykov/ZOOKEEPER-3229

(cherry picked from commit 3583bbf0f89861a20c23cb417a1fd93daf12a1e1)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""32f941104990d3668f8075d27ea96dbd089cead8"", ""author"": {""name"": ""Ilya Maykov"", ""email"": ""ilyam@fb.com"", ""date"": ""2019-01-25T13:37:30Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-01-25T13:37:46Z""}}"
1707,SubmitCommit,2019-01-29 14:14:33,lwjli,unfork_close,"ZOOKEEPER-3250: typo in doc - zookeeperInternals

""has long as"" -> ""as long as""

Author: lwjli <liwenjie.thu07@gmail.com>

Reviewers: andor@apache.org

Closes #782 from lwjli/ZOOKEEPER-3250

(cherry picked from commit 6094efde6a043462b464be7d93a541176a220b2f)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""631d1b284f0edb1c4f6b0fb221bf2428aec71aaa"", ""author"": {""name"": ""lwjli"", ""email"": ""liwenjie.thu07@gmail.com"", ""date"": ""2019-01-29T14:14:18Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-01-29T14:14:33Z""}}"
1707,SubmitCommit,2019-01-29 14:18:03,eolivelli,unfork_close,"ZOOKEEPER-3256: Enable OWASP checks to Maven build

Author: Enrico Olivelli <eolivelli@apache.org>

Reviewers: andor@apache.org

Closes #788 from eolivelli/fix/owasp and squashes the following commits:

972ff67bf [Enrico Olivelli] Update ant task defs and force update of patterns
bd96cb669 [Enrico Olivelli] ZOOKEEPER-3256: Enable OWASP checks  to Maven build

(cherry picked from commit f40510534c34e6c239eb97a052caf54650593d4e)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""9be27172c3567db0a43ee0507d84b2a81cc7c7e0"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2019-01-29T14:17:46Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-01-29T14:18:03Z""}}"
1707,SubmitCommit,2019-01-29 14:57:52,yaojingguo,unfork_close,"Fix typos

I think that this change is too trivial to need a JIRA issue. If a JIRA issue is needed, i can create it.

Author: Jingguo Yao <yaojingguo@gmail.com>

Reviewers: fangmin@apache.org, andor@apache.org

Closes #777 from yaojingguo/fix-typos

(cherry picked from commit 22e4acc802904231d537ae18f479cfc729851d87)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""493ab15d099054266720d990ef4568f953d8f227"", ""author"": {""name"": ""Jingguo Yao"", ""email"": ""yaojingguo@gmail.com"", ""date"": ""2019-01-29T14:57:36Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-01-29T14:57:52Z""}}"
1707,SubmitCommit,2019-01-29 15:08:39,coheigea,unfork_close,"ZOOKEEPER-3236: Upgrade BouncyCastle

Author: Colm O hEigeartaigh <coheigea@apache.org>

Reviewers: fangmin@apache.org, andor@apache.org

Closes #757 from coheigea/bouncycastle

(cherry picked from commit 693b92e8615c3559f4f08032b94928447fa43e98)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""bb0ca93d8138b440a024a0be86fe0213a577117f"", ""author"": {""name"": ""Colm O hEigeartaigh"", ""email"": ""coheigea@apache.org"", ""date"": ""2019-01-29T15:08:22Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-01-29T15:08:39Z""}}"
1707,SubmitCommit,2019-01-29 15:32:15,Brian Nixon,unfork_close,"ZOOKEEPER-3240: Close socket on Learner shutdown to avoid dangling so…

…cket

Author: Brian Nixon <nixon@fb.com>

Reviewers: hanm@apache.org, andor@apache.org

Closes #767 from enixon/learner-close-socket

(cherry picked from commit de7b87cd69dfd38787270c71f00576f9a235e582)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""015f9d662f2638b5ba66f07ac963de9f11d80bfd"", ""author"": {""name"": ""Brian Nixon"", ""email"": ""nixon@fb.com"", ""date"": ""2019-01-29T15:31:58Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-01-29T15:32:15Z""}}"
1707,SubmitCommit,2019-01-30 10:52:50,anmolnar,unfork_close,"Revert ""ZOOKEEPER-3240: Close socket on Learner shutdown to avoid dangling so…""

This reverts commit 015f9d662f2638b5ba66f07ac963de9f11d80bfd.","{""sha"": ""41db89e31aca2fa4818a033b3f1105460614f6e8"", ""author"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-01-30T10:52:50Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-01-30T10:52:50Z""}}"
1707,SubmitCommit,2019-01-31 14:51:18,asdf2014,unfork_close,"ZOOKEEPER-2825: 1. Remove unnecessary import; 2. `contains` instead of `indexOf > -1` for more readable; 3. Standardize `StringBuilder#append` usage for CLIENT module

* Remove unnecessary import;
* `contains` instead of `indexOf > -1` for more readable;
* Standardize `StringBuilder#append` usage for CLIENT module

Author: asdf2014 <benedictjin2016@gmail.com>

Reviewers: afine@apache.org, andor@apache.org

Closes #297 from asdf2014/ZOOKEEPER-2825

(cherry picked from commit cbc63dbaad14fa22e8855bfdaa71c873e0796591)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""4a62457cec4d68547da13b52c2999bdf9e8fc95f"", ""author"": {""name"": ""asdf2014"", ""email"": ""benedictjin2016@gmail.com"", ""date"": ""2019-01-31T14:50:59Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-01-31T14:51:18Z""}}"
1707,SubmitCommit,2019-01-31 14:55:27,asdf2014,unfork_close,"ZOOKEEPER-2826: Code refactoring for `CLI` module

* Fix spell issues
* Remove unnecessary `import`
* Make initialization block that related with `options.addOption` into static
* Standardize `StringBuilder#append` usage
* Using `try` clause to release the resource of stream

Author: asdf2014 <benedictjin2016@gmail.com>

Reviewers: andor@apache.org

Closes #298 from asdf2014/ZOOKEEPER-2826

(cherry picked from commit 8f62ee9740c9cdd0e4e3ec5c6d906236fe35a003)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""099e9329dbd3db350184d44067ac2e399f05e495"", ""author"": {""name"": ""asdf2014"", ""email"": ""benedictjin2016@gmail.com"", ""date"": ""2019-01-31T14:55:07Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-01-31T14:55:27Z""}}"
1707,SubmitCommit,2019-02-04 16:09:04,Zsombor Gegesy,unfork_close,"ZOOKEEPER-3265: Fix fileset to match shell scripts and python files i…

…n contrib directory.

Author: Zsombor Gegesy <zsombor@apache.org>

Reviewers: andor@apache.org

Closes #798 from gzsombor/ZOOKEEPER-3265-master

(cherry picked from commit 190df6abd661dfd5b07bc0657b6f8b0b14f86a8c)
Signed-off-by: Andor Molnar <andor@cloudera.com>","{""sha"": ""75f9a1ffa6bed2effa5588318423479c566e73a7"", ""author"": {""name"": ""Zsombor Gegesy"", ""email"": ""zsombor@apache.org"", ""date"": ""2019-02-04T16:08:49Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@cloudera.com"", ""date"": ""2019-02-04T16:09:04Z""}}"
1707,SubmitCommit,2019-02-06 10:18:31,Fangmin Lyu,unfork_close,"ZOOKEEPER-3131: Remove watcher when session closed in NettyServerCnxn

Backport of https://github.com/apache/zookeeper/commit/95557a30edbdfdf4479a1cb142e0d82a4ba6061d

Author: Fangmin Lyu <allenlyu@fb.com>

Reviewers: andor@apache.org

Closes #804 from anmolnar/ZOOKEEPER-3131_35","{""sha"": ""a2a09ce21d9745ad686b612555fb97d1adafc57b"", ""author"": {""name"": ""Fangmin Lyu"", ""email"": ""allenlyu@fb.com"", ""date"": ""2019-02-06T10:18:31Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-02-06T10:18:31Z""}}"
1707,SubmitCommit,2019-02-06 11:27:22,anmolnar,unfork_close,ZOOKEEPER-1392: Request READ or ADMIN permission for getAcl(),"{""sha"": ""17c6b264f4e79ddb6e9d27b968d48456024d18cc"", ""author"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-01-09T16:22:40Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-02-06T11:27:22Z""}}"
1707,SubmitCommit,2019-02-06 16:42:29,anmolnar,unfork_close,"ZOOKEEPER-3204: Reconfig tests are constantly failing on 3.5 after applying Java 11 fix

Looks like that Netty 3 also having problems with correctly closing sockets and we keep getting ""Bind failed"" exceptions on the 3.5 branch.

In this patch I'm trying to cherry-pick the upgrade-to-Netty4 commit by ivmaykov from master branch and it looks like it solves the problem.

I know this change is quite radical at this time of 3.5 release, but here're my 2 cents:
- Netty 3 is rather old, would be a lot nicer to release 3.5 with a shiny new Netty lib support which will become stable in this release anyway (Netty is optional in 3.4)
- After digging the net, I have absolutely no idea how to fix the Java11 binding issue with Netty 3. I suspect that the lib is as old as nobody bothers with the problem.

Please take your time for a careful review.

Author: Andor Molnar <andor@apache.org>
Author: Ilya Maykov <ilyam@fb.com>

Reviewers: andor@apache.org

Closes #753 from anmolnar/ZOOKEEPER-3204 and squashes the following commits:

00905f1ca [Andor Molnar] ZOOKEEPER-3204. Nit code review fixes
032edf801 [Andor Molnar] ZOOKEEPER-3204. Revert more accidental changes
9bd9096cf [Andor Molnar] ZOOKEEPER-3204. Revert some changes which accidently picked from master
da015c071 [Ilya Maykov] ZOOKEEPER-3152: Port ZK netty stack to netty4","{""sha"": ""33cc2cac333c0ee628570fc8954a77515cb1ce30"", ""author"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-02-06T16:42:29Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-02-06T16:42:29Z""}}"
1707,SubmitCommit,2019-02-07 06:14:25,eolivelli,unfork_close,"ZOOKEEPER-3262: Update dependencies flagged by OWASP report

- Upgrade Jetty to 9.4.14.v20181114
- Upgrade Jackson to 2.9.8
- Suppress a false positive about Netty  (https://github.com/jeremylong/DependencyCheck/issues/1653)
- Suppress false positives against ZooKeeper itself: CVE-2018-8012 and  CVE-2016-5017

Author: Enrico Olivelli <eolivelliapache.org>

Author: Enrico Olivelli <eolivelli@gmail.com>
Author: Enrico Olivelli <eolivelli@apache.org>

Reviewers: andor@apache.org

Closes #805 from eolivelli/fix/owasp-35 and squashes the following commits:

811bfefe5 [Enrico Olivelli] Merge branch 'branch-3.5' into fix/owasp-35
e7089a0ab [Enrico Olivelli] ZOOKEEPER-3262: Update dependencies flagged by OWASP report","{""sha"": ""3b8e54292228f5cb465c50d89f16f229c8bd8e6c"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@gmail.com"", ""date"": ""2019-02-07T06:14:25Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-02-07T06:14:25Z""}}"
1707,SubmitCommit,2019-02-07 10:15:36,tisonkun,unfork_close,"Fix typos in zookeeperOver.md

Author: tison <wander4096@gmail.com>

Reviewers: andor@apache.org

Closes #807 from TisonKun/document_0

(cherry picked from commit f78cbd17bfb5ad6310afc50181ca56bc10b78aa7)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""391b2552927ccbcfeaef0b2ce3e2e8ff4b43b3f1"", ""author"": {""name"": ""tison"", ""email"": ""wander4096@gmail.com"", ""date"": ""2019-02-07T10:15:16Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-02-07T10:15:36Z""}}"
1707,SubmitCommit,2019-02-07 10:20:21,eolivelli,unfork_close,"ZOOKEEPER-3273: Sync BouncyCastle version in Maven build and Ant build

Uee 1.60 in Ant, the same version used in Maven

Author: Enrico Olivelli <eolivelli@apache.org>

Reviewers: andor@apache.org

Closes #808 from eolivelli/fix/ZOOKEEPER-3273

(cherry picked from commit 8a2a1b5bced7810b9205d111181c8ae796670955)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""668499ea2f13e0029838f2b5dfeefe361e1ad680"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2019-02-07T10:20:05Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-02-07T10:20:21Z""}}"
1707,SubmitCommit,2019-02-12 14:32:10,ivmaykov,unfork_close,"ZOOKEEPER-3276: Make X509UtilTest.testCreateSSLServerSocketWithPort less flaky

Pick the free port right before using it, so there is less time for another thread/process to grab it from under us.

Author: Ilya Maykov <ilyam@fb.com>

Reviewers: andor@apache.org

Closes #816 from ivmaykov/ZOOKEEPER-3276

(cherry picked from commit bc5083f85a72837d9cf5b32b82eecc6d0c06a35c)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""c47b240809d9c4d09779072bce970e493bea3bc0"", ""author"": {""name"": ""Ilya Maykov"", ""email"": ""ilyam@fb.com"", ""date"": ""2019-02-12T14:31:55Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-02-12T14:32:10Z""}}"
1707,SubmitCommit,2019-02-12 20:02:00,anmolnar,unfork_close,"ZOOKEEPER-3275: Fix release targets: package, tar, mvn-deploy

Fixed recipes and contrib path names for package and tar targets.

Author: Andor Molnar <andor@apache.org>

Reviewers: andor@apache.org

Closes #817 from anmolnar/ZOOKEEPER-3275 and squashes the following commits:

64db892af [Andor Molnar] ZOOKEEPER-3275. Fixed bin-package target
e8ad3d483 [Andor Molnar] ZOOKEEPER-3275. Added pom.xml to tar file, fixed mvn-deploy task
6667c2ff0 [Andor Molnar] ZOOKEEPER-3275. Updated release audit warnings exlcudes
5abf3b444 [Andor Molnar] ZOOKEEPER-3275. Fixed path of contrib and docs project
4e97ae8a7 [Andor Molnar] ZOOKEEPER-3275. Fixed recipes folders in ant package target

(cherry picked from commit f3f7c79bb1fd4c03d557948199cd1ce363668bfa)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""d40014158f3f6edcc33649d0f7b8bbb808a837df"", ""author"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-02-12T20:01:41Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-02-12T20:02:00Z""}}"
1707,SubmitCommit,2019-02-15 09:53:08,nkalmar,unfork_close,"ZOOKEEPER-3028: MAVEN MIGRATION - 3.5 - Create maven assembly

Author: Norbert Kalmar <nkalmaryahoo.com>

Reviewers: andorapache.org

Closes #776 from nkalmar/ZK-3028 and squashes the following commits:

c255d2503 [Norbert Kalmar] ZOOKEEPER-3028 - fix javadoc warnings
b6ec90e11 [Norbert Kalmar] ZOOKEEPER-3028 - fix log4j.properties problem not getting into target
a54e49b49 [Norbert Kalmar] ZOOKEEPER-3028 - Remove empty test jar generation
be73ead6b [Norbert Kalmar] ZOOKEEPER-3028 - update README.md
d81a586bd [Norbert Kalmar] ZOOKEEPER-3028 update relese procedures
42389350e [Norbert Kalmar] ZOOKEEPER-3028 - Add maven release procedure to readme.md
dc3ab0152 [Norbert Kalmar] ZOOKEEPER-3028 - fix jars, add javadoc jar
07dfcf2d9 [Norbert Kalmar] ZOOKEEPER-3028 - move assembly descriptor
e22c708c3 [Norbert Kalmar] ZOOKEEPER-3028 - fix tarball to contain buildable source
859dfb949 [Norbert Kalmar] ZOOKEEPER-3028 add apache release
46c2f93bf [Norbert Kalmar] ZOOKEEPER-3028 add release plugin
8c56e3c70 [Norbert Kalmar] ZOOKEEPER-3028 - Create maven assembly

Author: Norbert Kalmar <nkalmar@yahoo.com>

Reviewers: andor@apache.org

Closes #813 from nkalmar/ZK-3028_3.5","{""sha"": ""4a856e5d61d681b88309d4288543f17cf1a5b985"", ""author"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@yahoo.com"", ""date"": ""2019-02-15T09:53:08Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-02-15T09:53:08Z""}}"
1707,SubmitCommit,2019-02-15 11:40:03,anmolnar,unfork_close,"Fix ant package target: pom.template, zooinspector

Quick fix for the release process.

Author: Andor Molnar <andor@apache.org>

Reviewers: nkalmar@yahoo.com, eolivelli@gmail.com

Closes #821 from anmolnar/fix_package and squashes the following commits:

170acfd2d [Andor Molnar] Added copy pom.template task to bin-package target
fe0b95b46 [Andor Molnar] Fix ant package target: pom.template, zooinspector

(cherry picked from commit a7b00ed47784f101cbd38efaecb89192ae9d3344)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""e0ffee99187cacce9fc10880993c6f60a1750e08"", ""author"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-02-15T11:39:38Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-02-15T11:40:03Z""}}"
1707,SubmitCommit,2019-02-15 14:34:27,ivmaykov,unfork_close,"ZOOKEEPER-3272: Clean up netty4 code per Norman Maurer's review comments

Netty4 code clean-up per the discussion in PR #753.

Author: Ilya Maykov <ilyam@fb.com>

Reviewers: andor@apache.org

Closes #819 from ivmaykov/ZOOKEEPER-3272-branch-3.5","{""sha"": ""a4ae9cd53b48d347d1f9f987416a4b390b560b36"", ""author"": {""name"": ""Ilya Maykov"", ""email"": ""ilyam@fb.com"", ""date"": ""2019-02-15T14:34:27Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-02-15T14:34:27Z""}}"
1707,SubmitCommit,2019-02-15 14:37:16,ivmaykov,unfork_close,"ZOOKEEPER-3277: Add trace listener in NettyServerCnxnFactory only if trace logging is enabled

Based on the code review discussion in #819

Author: Ilya Maykov <ilyam@fb.com>

Reviewers: andor@apache.org

Closes #820 from ivmaykov/ZOOKEEPER-3277

(cherry picked from commit 226af6e29bc00fe4a33269351f20ddf5b6658fd2)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""5e57e30a51fde22e727d7910d53216a014de0a4e"", ""author"": {""name"": ""Ilya Maykov"", ""email"": ""ilyam@fb.com"", ""date"": ""2019-02-15T14:36:55Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-02-15T14:37:16Z""}}"
1707,SubmitCommit,2019-02-18 16:06:09,ivmaykov,unfork_close,"ZOOKEEPER-3274: Use CompositeByteBuf to queue data in NettyServerCnxn

This avoids unnecessary buffer copies and resizes.

Author: Ilya Maykov <ilyam@fb.com>

Reviewers: andor@apache.org

Closes #810 from ivmaykov/ZOOKEEPER-3274

(cherry picked from commit 5375c2542977223ff9beaeb62d6ee5aed783118e)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""63e656d47571471f5c283276f56cf54eb3414628"", ""author"": {""name"": ""Ilya Maykov"", ""email"": ""ilyam@fb.com"", ""date"": ""2019-02-18T16:05:51Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-02-18T16:06:09Z""}}"
1707,SubmitCommit,2019-02-22 14:50:52,eolivelli,unfork_close,"ZOOKEEPER-3234: Add Travis-CI configuration file

Use Travis-CI in order to build ZooKeeper on multiple JDKs and run spotbugs on every supported JDK

Author: Enrico Olivelli <eolivelli@apache.org>

Reviewers: andor@apache.org

Closes #829 from eolivelli/fix/travis-35","{""sha"": ""cde09d8eb608645353582978d5c03c11e99c753e"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2019-02-22T14:50:52Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-02-22T14:50:52Z""}}"
1707,SubmitCommit,2019-02-26 15:34:26,meszibalu,unfork_close,"ZOOKEEPER-3034: Facing issues while building from source

Added a new macro (CHECK_CPPUNIT) which tries to use AM_PATH_CPPUNIT or
PKG_CHECK_MODULES.

Author: Balazs Meszaros <balazs.meszaros@cloudera.com>

Reviewers: andor@apache.org

Closes #803 from meszibalu/my/autoconf

(cherry picked from commit b3577278ab23f142fdb104a07bd61fbc74a4f152)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""eb3b42ab68993a6cf6024d3aed1f58cd2e9729a9"", ""author"": {""name"": ""Balazs Meszaros"", ""email"": ""balazs.meszaros@cloudera.com"", ""date"": ""2019-02-26T15:31:46Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-02-26T15:34:26Z""}}"
1707,SubmitCommit,2019-02-26 16:05:45,nkalmar,unfork_close,"ZOOKEEPER-3285: Maven migration - add convenience tar, assembly module and sha512 generation

Author: Norbert Kalmar <nkalmar@yahoo.com>

Reviewers: andor@apache.org

Closes #828 from nkalmar/master and squashes the following commits:

817077f5c [Norbert Kalmar] ZOOKEEPER-3285 - add some info on 3rd party plugin
af1fcd508 [Norbert Kalmar] ZOOKEEPER-3285 - remove zip generation and fix versions
c19d18605 [Norbert Kalmar] ZOOKEEPER-3285 - add Apache license headers
4e7b65945 [Norbert Kalmar] ZOOKEEPER-3285 - add auto sha512 checksum generation for all maven generated artifact
915d53084 [Norbert Kalmar] ZOOKEEPER-3285 - create convenience tar and assembly sub-module

(cherry picked from commit 54b4f8aa1ab23a175d460347d250fb9497a28a09)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""dc9b90bb17576ef61eb53f08eebe50d58736a2be"", ""author"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@yahoo.com"", ""date"": ""2019-02-26T16:03:51Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-02-26T16:05:45Z""}}"
1707,SubmitCommit,2019-02-27 11:30:22,anmolnar,unfork_close,"Fix for lincense files and contrib folder during release

This patch fixes the following issues that have been experiences in 3.4.14-rc3:
- JLine license file is missing,
- jsr305 jar files is included in the release, but should be excluded,

This is going to backported to 3.5 and 3.4 branches too.

Author: Andor Molnar <andor@apache.org>

Reviewers: andor@apache.org

Closes #835 from anmolnar/fix_license_contrib_master and squashes the following commits:

bbe600f32 [Andor Molnar] jline-0.9.94 is not needed on master
206a5603a [Andor Molnar] Fix for lincese files and contrib folder during release

(cherry picked from commit 879c513a8d58ebbaa37342c532ec220ee1ab3939)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""ffde45a7dccfd3e60a9509b5a97804cf7fc2aa29"", ""author"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-02-27T11:30:08Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-02-27T11:30:22Z""}}"
1707,SubmitCommit,2019-02-27 16:26:18,nicolasguyomar,unfork_close,"Fix typo in error log message, added missing space

Fix typo in error log message, added missing space

Author: nicolasguyomar <nicolas.guyomar@gmail.com>

Reviewers: phunt@apache.org

Closes #837 from nicolasguyomar/patch-1

Change-Id: I6ddf782aa1397908a436b57d709e4120104bb858
(cherry picked from commit d0b60bd3cb4fe724fe5ed1670bb7d3e30842373a)
Signed-off-by: Patrick Hunt <phunt@apache.org>","{""sha"": ""736189d3930374e6760e0215445435d420291b17"", ""author"": {""name"": ""nicolasguyomar"", ""email"": ""nicolas.guyomar@gmail.com"", ""date"": ""2019-02-27T16:25:58Z""}, ""committer"": {""name"": ""Patrick Hunt"", ""email"": ""phunt@apache.org"", ""date"": ""2019-02-27T16:26:18Z""}}"
1707,SubmitCommit,2019-03-06 02:25:38,phunt,unfork_close,"Add .ant-targets-build.xml to the ignore list - ant generates this automatically when using bash completion.

Change-Id: I11ef3fd6d297c61dcc6108170fda04c5282f23fc
(cherry picked from commit 87e93b7922191f838f064abe7af3592408d83282)","{""sha"": ""89e2c12ad7b72e57e15761cd348af8de5d09b602"", ""author"": {""name"": ""Patrick Hunt"", ""email"": ""phunt@apache.org"", ""date"": ""2019-03-06T02:23:38Z""}, ""committer"": {""name"": ""Patrick Hunt"", ""email"": ""phunt@apache.org"", ""date"": ""2019-03-06T02:25:38Z""}}"
1707,SubmitCommit,2019-03-06 02:33:22,Samuel Just,unfork_close,"ZOOKEEPER-3253: client should not send requests with cxid=-4, -2, or -1

- Add test for cxid rollover to 1
- Modify ClientCnxn.SendThread.getXid() to increment from MAX to 1.

Author: Samuel Just <sjust@salesforce.com>

Reviewers: phunt@apache.org

Closes #787 from athanatos/forupstream/ZOOKEEPER-3253

Change-Id: Ib3d111170bb086d6982f2cf0ee5cf8afd5157588
(cherry picked from commit e10c93a590cc1b73eebad48d18cfcbceb3ec0d4d)
Signed-off-by: Patrick Hunt <phunt@apache.org>","{""sha"": ""5d44251c251ecc90288d71bd1e199d097aa4a37a"", ""author"": {""name"": ""Samuel Just"", ""email"": ""sjust@salesforce.com"", ""date"": ""2019-03-06T02:32:04Z""}, ""committer"": {""name"": ""Patrick Hunt"", ""email"": ""phunt@apache.org"", ""date"": ""2019-03-06T02:33:22Z""}}"
1707,SubmitCommit,2019-03-06 03:33:16,anmolnar,unfork_close,"Exclude spotbugs annotations jar from the release

Fix for 3.4.14-rc4: exclude `spotbugs-annotations` jar from the distribution.

Author: Andor Molnar <andor@apache.org>

Reviewers: phunt@apache.org

Closes #841 from anmolnar/fix_rc_exclude_spotbugsjar

Change-Id: Ie4a36613161e103fc2c50690281fa26c90f48d1b
(cherry picked from commit 372e713a9d2d9264417313e5d68e9437ffddd0f5)
Signed-off-by: Patrick Hunt <phunt@apache.org>","{""sha"": ""eac863f26fdb600fe589c72a56834abfecae9832"", ""author"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-03-06T03:32:11Z""}, ""committer"": {""name"": ""Patrick Hunt"", ""email"": ""phunt@apache.org"", ""date"": ""2019-03-06T03:33:16Z""}}"
1707,SubmitCommit,2019-03-11 18:54:38,anmolnar,unfork_close,"ZOOKEEPER-2750: Document SSL Support for Atomic Broadcast protocol

Patch is twofold:

1. Added documentation and guideline to enable Quorum TLS communication including management of certificates

2. Added extra logging intentionally at `info` level to support TLS-enabled clusters which hopefully makes the validation of secured communication a lot easier.

Author: Andor Molnar <andor@apache.org>

Reviewers: phunt@apache.org, fangmin@apache.org

Closes #826 from anmolnar/ZOOKEEPER-2750 and squashes the following commits:

22360eb75 [Andor Molnar] ZOOKEEPER-2750. Nit language improvement
84f8063e4 [Andor Molnar] ZOOKEEPER-2750. Fixed some minor glitches reported by code reviews
124ca8ddd [Andor Molnar] ZOOKEEPER-2750. Cert import, small language fix
8487072d0 [Andor Molnar] ZOOKEEPER-2750. Added all supported SSL properties
8843eaf69 [Andor Molnar] ZOOKEEPER-2750. Added port unification docs + tweak TLS connection logging
b7fbf52e6 [Andor Molnar] ZOOKEEPER-2750. Some tiny formatting fixes
6ba6be370 [Andor Molnar] ZOOKEEPER-2750. Added Quorum TLS howto + some basic log messages to verify TLS communication
f8e51455a [Andor Molnar] ZOOKEEPER-2750. Started new documentation section for Quorum TLS","{""sha"": ""ebea25520ddf71ec07426e348a80761302f198c6"", ""author"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-03-11T18:47:08Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-03-11T18:54:38Z""}}"
1707,SubmitCommit,2019-03-11 20:56:52,Michael Edwards,unfork_close,"ZOOKEEPER-3046: wait for clients to reconnect after restarting server

Comment from ZOOKEEPER-3046, explaining what failure signature motivated this change:

Still seeing test failures; basically a variant of ZOOKEEPER-2508. (After stopping/starting the server, we have to wait for all clients to reconnect before continuing the test.)

```
422005     [junit] 2018-11-25 21:25:50,228 [myid:127.0.0.1:16611] - INFO  [Time-limited test-SendThread(127.0.0.1:16611):ClientCnxn$SendThread1390] - Session establishment complete on serve       r localhost/127.0.0.1:16611, sessionid = 0x100007077c50001, negotiated timeout = 30000
422006     [junit] 2018-11-25 21:25:50,286 [myid:] - INFO  [Time-limited test:JUnit4ZKTestRunner$LoggedInvokeMethod98] - TEST METHOD FAILED testManyChildWatchersAutoReset
422007     [junit] org.apache.zookeeper.KeeperException$ConnectionLossException: KeeperErrorCode = ConnectionLoss for /long-path-000000000-111111111-222222222-333333333-444444444-555555555-6       66666666-777777777-888888888-999999999/ch-0000000000/ch
422008     [junit]     at org.apache.zookeeper.KeeperException.create(KeeperException.java:102)
422009     [junit]     at org.apache.zookeeper.KeeperException.create(KeeperException.java:54)
422010     [junit]     at org.apache.zookeeper.ZooKeeper.create(ZooKeeper.java:1459)
422011     [junit]     at org.apache.zookeeper.test.DisconnectedWatcherTest.testManyChildWatchersAutoReset(DisconnectedWatcherTest.java:229)
```

Author: Michael Edwards <Michael Edwards>

Reviewers: andor@apache.org

Closes #721 from mkedwards/ZOOKEEPER-3046 and squashes the following commits:

20fd64c71 [Michael Edwards] ZOOKEEPER-3046: call setUp/tearDown from ClientBase in the setUp/tearDown of the subclass
3965ae81e [Michael Edwards] ZOOKEEPER-3046: factor common setup in DisconnectedWatcherTest tests to a setUp() method
62e6bca24 [Michael Edwards] ZOOKEEPER-3046: wait for clients to reconnect after restarting server

(cherry picked from commit bb39b83e125bb40597346aa4412e21851d1e871e)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""a14ec56f77667ecbefe2485db3a1877c8d87db1e"", ""author"": {""name"": ""Michael Edwards"", ""email"": ""Michael Edwards"", ""date"": ""2019-03-11T20:56:36Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-03-11T20:56:52Z""}}"
1707,SubmitCommit,2019-03-12 18:08:54,maoling,unfork_close,"ZOOKEEPER-2474: add a way for client to reattach to a session when using ZKClientConfig

- Thanks the original work from [arshad.mohammad](https://issues.apache.org/jira/secure/ViewProfile.jspa?name=arshad.mohammad) and [timothyjward](https://github.com/timothyjward). Plz call me code-carrier(:D).
- more details in [ZOOKEEPER-2474](https://issues.apache.org/jira/browse/ZOOKEEPER-2474).if cannot backport to branch-3.5 successfully,I will give another hit.

Author: maoling <maoling199210191@sina.com>

Reviewers: andor@apache.org

Closes #825 from maoling/ZOOKEEPER-2474 and squashes the following commits:

f782b16d3 [maoling] add the version info
8238dc488 [maoling] ZOOKEEPER-2474:add a way to reattach to a session when using ZKClientConfig

(cherry picked from commit c000f96504198d999daee2b0ccb3c4217f16dc97)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""447a4daead9b4d90ccd21cda5602c44f2d3fafd8"", ""author"": {""name"": ""maoling"", ""email"": ""maoling199210191@sina.com"", ""date"": ""2019-03-12T18:08:39Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-03-12T18:08:54Z""}}"
1707,SubmitCommit,2019-03-14 15:47:42,eolivelli,unfork_close,"ZOOKEEPER-3312: Upgrade Jetty to 9.4.15.v20190215

Author: Enrico Olivelli <eolivelli@apache.org>

Reviewers: phunt@apache.org

Closes #852 from eolivelli/ZOOKEEPER-3312-jetty-9.4.15.v20190215

Change-Id: I312333d70805bd433332791bcf5a5ad58449a58c
(cherry picked from commit b2535835439961c6ba24d8c0e1145635d06d7e5e)
Signed-off-by: Patrick Hunt <phunt@apache.org>","{""sha"": ""647be034fb5b0d4790b3cec107bf87d0f2a2206d"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2019-03-14T15:45:02Z""}, ""committer"": {""name"": ""Patrick Hunt"", ""email"": ""phunt@apache.org"", ""date"": ""2019-03-14T15:47:42Z""}}"
1707,SubmitCommit,2019-03-18 05:26:28,amichair,unfork_close,"ZOOKEEPER-2621: ZooKeeper doesn't start on MINGW32 (Windows)

Author: Amichai Rothman <amichai2@amichais.net>

Reviewers: phunt@apache.org

Closes #857 from amichair/ZOOKEEPER-2621

Change-Id: I876b5202de30a6fcf296756ead6843e7f59167da
(cherry picked from commit 19cb6fb8f7989121025f91889462386eb8918c56)
Signed-off-by: Patrick Hunt <phunt@apache.org>","{""sha"": ""7461a2b0d1e5d0522e58e608c9b6ee1b771faffd"", ""author"": {""name"": ""Amichai Rothman"", ""email"": ""amichai2@amichais.net"", ""date"": ""2019-03-18T05:24:13Z""}, ""committer"": {""name"": ""Patrick Hunt"", ""email"": ""phunt@apache.org"", ""date"": ""2019-03-18T05:26:28Z""}}"
1707,SubmitCommit,2019-03-19 00:12:28,meszibalu,unfork_close,"ZOOKEEPER-2168: Add C APIs for new createContainer Methods

I rebased and addressed the comments of https://github.com/apache/zookeeper/pull/33 by Randgalt

Author: randgalt <jordan@jordanzimmerman.com>
Author: Balazs Meszaros <balazs.meszaros@cloudera.com>

Reviewers: andor@apache.org

Closes #838 from meszibalu/my/container and squashes the following commits:

c6c9dc0a6 [Balazs Meszaros] ZOOKEEPER-2168 - added test case for containers
ed4b842e6 [Balazs Meszaros] ZOOKEEPER-2168 - rebase and review comment fixes
f0f144129 [randgalt] ZOOKEEPER-2168 - fixed typo
4cea8d412 [randgalt] ZOOKEEPER-2168 - first pass at C changes for containers

(cherry picked from commit 9fba2f6c93a78928df4841a66185f51e242653aa)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""7b36fd550c0e5c85388918d1467a87f0b129ada6"", ""author"": {""name"": ""Balazs Meszaros"", ""email"": ""meszibalu@apache.org"", ""date"": ""2019-03-19T00:12:03Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-03-19T00:12:28Z""}}"
1707,SubmitCommit,2019-04-02 11:31:52,Matthew Cale,unfork_close,"fix: grammar fixes and link adds

Author: Matthew Cale <mattcale@homeaway.com>
Author: Matthew Cale <mattc41190@gmail.com>

Reviewers: fangmin@apache.org, andor@apache.org

Closes #879 from mattc41190/master and squashes the following commits:

47d4a9cd9 [Matthew Cale] Provided more generic API link
a20a36828 [Matthew Cale] fix: grammar fixes and link adds

(cherry picked from commit 0ec4ba71fcfdf8d8d5289ada554b92250e6ba1a1)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""76d35ca5344be3731f31f4989d88ae2d3b51570c"", ""author"": {""name"": ""Matthew Cale"", ""email"": ""mattcale@homeaway.com"", ""date"": ""2019-04-02T11:31:38Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-04-02T11:31:52Z""}}"
1707,SubmitCommit,2019-04-02 13:08:21,nkalmar,unfork_close,"ZOOKEEPER-3122: fix some maven release related issues

While testing the maven release procedure, I found some problems (missing license file, unused dependencies)

Author: Norbert Kalmar <nkalmar@yahoo.com>

Reviewers: andor@apache.org

Closes #885 from nkalmar/branch-3.5 and squashes the following commits:

014d9666b [Norbert Kalmar] ZOOKEEPER-3122 - fix typo in license
152cbb5c7 [Norbert Kalmar] ZOOKEEPER-3122 - fix some maven release related issues","{""sha"": ""c9a60500fea39faeca84f90a3fb22c6664adbe12"", ""author"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@yahoo.com"", ""date"": ""2019-04-02T13:08:21Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-04-02T13:08:21Z""}}"
1707,SubmitCommit,2019-04-02 13:39:59,anmolnar,unfork_close,Prepare for the next release: update the version to 3.5.6-SNAPSHOT,"{""sha"": ""8f608fa807b97fc71f5090351061483bff64b010"", ""author"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-04-02T13:39:59Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-04-02T13:39:59Z""}}"
1707,SubmitCommit,2019-04-03 08:43:46,eolivelli,unfork_close,"ZOOKEEPER-3122: Only deploy zk-server and zk-jute to maven repo

Skip Maven deploy plugin for modules which are not to be deployed:
- assembly
- clients (C binding)
- documentation
- recipes

Author: Enrico Olivelli <eolivelli@apache.org>

Reviewers: andor@apache.org

Closes #889 from eolivelli/fix/ZOOKEEPER-3122-fix-deploy","{""sha"": ""57296927ec268930a6c2704104849d4d7dcb6721"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2019-04-03T08:43:46Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-04-03T08:43:46Z""}}"
1707,SubmitCommit,2019-04-03 11:57:55,nkalmar,unfork_close,"ZOOKEEPER-3122: Rename zookeeper-server to zookeeper

Author: Norbert Kalmar <nkalmar@yahoo.com>

Reviewers: andor@apache.org

Closes #892 from nkalmar/ZK-3122.3.5","{""sha"": ""d0876a8b6c39f6b42c91dc7227de569849c14859"", ""author"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@yahoo.com"", ""date"": ""2019-04-03T11:57:55Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-04-03T11:57:55Z""}}"
1707,SubmitCommit,2019-04-05 12:13:42,nkalmar,unfork_close,"ZOOKEEPER-3122: add root dir inside tarballs

Author: Norbert Kalmar <nkalmar@yahoo.com>

Reviewers: andor@apache.org

Closes #893 from nkalmar/ZK-3122

(cherry picked from commit 96c435f4a05312a357a2692650cc6eb858896af0)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""1e92b62aa57596a3b915146d76cb023ce4715018"", ""author"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@yahoo.com"", ""date"": ""2019-04-05T12:13:25Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-04-05T12:13:42Z""}}"
1707,SubmitCommit,2019-04-09 08:12:25,nkalmar,unfork_close,"ZOOKEEPER-3122: fix files included in tarballs

Author: Norbert Kalmar <nkalmar@yahoo.com>

Reviewers: andor@apache.org

Closes #897 from nkalmar/ZK-3122

(cherry picked from commit 1e8286faed13e8d8abb2d5205f99440853e4b47d)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""b1f2804aae765bfb849a2a688ad11b0f9bf4dfe2"", ""author"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@yahoo.com"", ""date"": ""2019-04-09T08:12:11Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-04-09T08:12:25Z""}}"
1707,SubmitCommit,2019-04-09 08:41:07,nkalmar,unfork_close,"ZOOKEEPER-3122: add missing pom to source tarball

Author: Norbert Kalmar <nkalmar@yahoo.com>

Reviewers: andor@apache.org

Closes #900 from nkalmar/master

(cherry picked from commit 915c6acaea3f5c01d26f0bff93d1897a4da3e32c)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""6dc04519a9dd0aee05dc4b896e1268eac85c002b"", ""author"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@yahoo.com"", ""date"": ""2019-04-09T08:40:52Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-04-09T08:41:07Z""}}"
1707,SubmitCommit,2019-04-09 09:39:07,meszibalu,unfork_close,"ZOOKEEPER-2609: Add TTL Node APIs to C client

* added zoo_acreate_ttl, zoo_acreate2_ttl, zoo_create_ttl,
  zoo_create2_ttl methods, where ttl (int64_t) can be defined.
* renamed flags to mode in zoo_*create* because it is not a bitmask on the
  server side.
* added Create mode contants to match CreateMode.java enum fields.
  ZOO_SEQUENCE is kept for backward compatibility.
  ZOO_EPHEMERAL|ZOO_SEQUENCE is still usable, but ZOO_EPHEMERAL_SEQUENTIAL
  is preferred.
* added / fixed doxygen comments for create methods.
* modified tests/zkServer.sh to pass system properties to ZK.
* added +t, +c shell commands to zookeeper cli.
* added a test case for create ttl.

Author: Balazs Meszaros <balazs.meszaros@cloudera.com>

Reviewers: andor@apache.org

Closes #891 from meszibalu/my/ttl

(cherry picked from commit 3b93f7671464bef1824288b13ee66dec547bb97e)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""e76a0e8bcef61cecfd1ebb9a8199650265e97166"", ""author"": {""name"": ""Balazs Meszaros"", ""email"": ""balazs.meszaros@cloudera.com"", ""date"": ""2019-04-09T09:36:55Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-04-09T09:39:07Z""}}"
1707,SubmitCommit,2019-04-13 16:08:25,nkalmar,unfork_close,"ZOOKEEPER-3351: 3.5 - Fix findBugs and rat check, add filename to sha

Author: Norbert Kalmar <nkalmar@yahoo.com>

Reviewers: andor@apache.org

Closes #908 from nkalmar/ZK-3351-3.5 and squashes the following commits:

a9f311963 [Norbert Kalmar] ZOOKEEPER-3351 - fix findBugs issue on released versions
9149b27ff [Norbert Kalmar] ZOOKEEPER-3351 - add rat exceptions and fix sha generation","{""sha"": ""07de70cce69705f415c86f74d533be013fec7f11"", ""author"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@yahoo.com"", ""date"": ""2019-04-13T16:08:25Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-04-13T16:08:25Z""}}"
1707,SubmitCommit,2019-04-25 12:55:37,nkalmar,unfork_close,"ZOOKEEPER-3369: 3.5 - Maven release artifacts cleanup

Author: Norbert Kalmar <nkalmar@yahoo.com>

Reviewers: andor@apache.org

Closes #920 from nkalmar/ZK-3369-3.5","{""sha"": ""bfda10ce219a02f5d6606e35fe8dc139e090692f"", ""author"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@yahoo.com"", ""date"": ""2019-04-25T12:55:37Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-04-25T12:55:37Z""}}"
1707,SubmitCommit,2019-04-29 11:49:28,eolivelli,unfork_close,"ZOOKEEPER-3372: Cleanup pom.xml in order to let Maven clients import as few dependencies as possible

- mark as 'provided' all of the dependencies not needed by java clients
- rework assembly project in order to build correctly the 'lib' directory
- update jetty to latest version
- use project.version in order to refer to the current version
- fix references to junit in recipes and in contrib

Author: Enrico Olivelli <eolivelli@apache.org>

Reviewers: andor@apache.org

Closes #926 from eolivelli/fix/ZOOKEEPER-3372-fix-dep-35","{""sha"": ""09aa3c5a21d327810eb969161c4d0b782f8210a5"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2019-04-29T11:49:28Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-04-29T11:49:28Z""}}"
1707,SubmitCommit,2019-05-03 11:36:00,anmolnar,unfork_close,"ZOOKEEPER-3375: Docs enhancements for 3.5 release

I need this PR to be merged to 3.5 before creating a new RC.

- Backport latest release notes to 3.5
- Added comments on compiling with Java 8

Author: Andor Molnar <andor@apache.org>

Reviewers: andor@apache.org

Closes #928 from anmolnar/ZOOKEEPER-3375 and squashes the following commits:

bdb828194 [Andor Molnar] ZOOKEEPER-3375. Some styling fixes
186ce54bc [Andor Molnar] ZOOKEEPER-3375. Backported release notes to 3.5. Added comments on compiling with Java 8.","{""sha"": ""b45eae2b75f8ec79c977183e7ec51782e7b7a32e"", ""author"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-05-03T11:36:00Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-05-03T11:36:00Z""}}"
1707,SubmitCommit,2019-05-21 14:43:26,eolivelli,unfork_close,"ZOOKEEPER-3364: Compile with strict options in order to check code quality

This is the port of ZOOKEEPER-3364 to branch-3.5

- Add extra compiler arguments in order to achieve better code quality.
- Fix some minor issues reported by javac
- Extra checks are not enabled in ""contrib"" module.

Author: Enrico Olivelli <eolivelliapache.org>

Reviewers: andorapache.org

Closes #910 from eolivelli/fix/ZOOKEEPER-3364-javac-strict and squashes the following commits:

9660aff82 [Enrico Olivelli] Fix tests and fix warnings on JDK12
52895ec9d [Enrico Olivelli] ZOOKEEPER-3364 Compile with strict options in order to check code quality

Author: Enrico Olivelli <eolivelli@apache.org>

Reviewers: Andor Molnar <andor@apache.org>, Fangmin Lyu <allenlyu@fb.com>

Closes #952 from eolivelli/fix/ZOOKEEPER-3364-35","{""sha"": ""1cf2b846378febf55632faaa8882728eba18065a"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2019-05-21T14:43:26Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2019-05-21T14:43:26Z""}}"
1707,SubmitCommit,2019-05-23 16:42:58,maoling,unfork_close,"ZOOKEEPER-2694: sync CLI command does not wait for result from server

- Thanks the original work from [arshad.mohammad ](https://issues.apache.org/jira/secure/ViewProfile.jspa?name=arshad.mohammad)
- more details in [ZOOKEEPER-2694](https://issues.apache.org/jira/browse/ZOOKEEPER-2694)

Author: maoling <maoling199210191@sina.com>

Reviewers: eolivelli@apache.org, andor@apache.org

Closes #823 from maoling/ZOOKEEPER-2694 and squashes the following commits:

41723cdca [maoling] print the resultCode when sync has failed
95123c003 [maoling] make the Sync more user-friendly
a3ce1704d [maoling] SYNC_TIMEOUT & use the TimeUnit.SECONDS.toMillis & a responsible way of handling the InterruptedException
df0bf7371 [maoling] CliWrapperException
52c3ad0ac [maoling] change CountDownLatch to CompletableFuture
0cc1edd98 [maoling] add the wait_timeout: 30s
cf01294f4 [maoling] ZOOKEEPER-2694:sync CLI command does not wait for result from server

(cherry picked from commit e2bb6e80f598415bba975edcff166ff1bd750340)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""2a1b69a901f0727b7871af2d762048fb623e6702"", ""author"": {""name"": ""maoling"", ""email"": ""maoling199210191@sina.com"", ""date"": ""2019-05-23T16:42:39Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-05-23T16:42:58Z""}}"
1707,SubmitCommit,2019-05-23 18:41:27,anmolnar,unfork_close,"ZOOKEEPER-3263: JAVA9/11 Warnings: Illegal reflective access in zookeeper's kerberosUtil (3.5)

Fixes warning messages of JDK 9/11 by upgrading libraries and refactoring `KerberosUtils` based on experiences of [HADOOP-10848](https://issues.apache.org/jira/browse/HADOOP-10848)

Reviewers please run unit tests with various JDK versions including 9 and 11, because CI only runs on JDK 8. Thanks.

Target branches are master and 3.5

Author: Andor Molnar <andorapache.org>

Reviewers: Enrico Olivelli <eolivelliapache.org>

Closes #950 from anmolnar/ZOOKEEPER-3263

Author: Andor Molnar <andor@apache.org>

Reviewers: eolivelli@apache.org

Closes #954 from anmolnar/ZOOKEEPER-3263_35","{""sha"": ""02dd927a75365ecba474f010a1f3c92bc62bb623"", ""author"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-05-23T18:41:27Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2019-05-23T18:41:27Z""}}"
1707,SubmitCommit,2019-05-24 15:58:00,eolivelli,unfork_close,"ZOOKEEPER-3362: Create a simple checkstyle file

Create a basic checkstyle file, in order to cover the minimal check on author tags.

This is needed in order to drop old ANT based precommit job (see ZOOKEEPER-3351)

We will not remove legacy checkstyle configuration file in zookeeper-server/src/test/resources/checkstyle.xml because it is referred by ANT build.xml files (even if we are not actually using that target).

This task won't add a complete checkstyle configuration with usual checks because it would imply almost a change at every .java in the codebase.

Author: Enrico Olivelli <eolivelliapache.org>

Reviewers: andorapache.org

Closes #909 from eolivelli/fix/checkstyle and squashes the following commits:

fdda1571c [Enrico Olivelli] use a property in order to define checkstyle version
92192981f [Enrico Olivelli] Skip CPP tests when using -DskipTests
b816e563e [Enrico Olivelli] Add cppunit for Travis
faf37bb37 [Enrico Olivelli] ZOOKEEPER-3362 Create a simple checkstyle file

Author: Enrico Olivelli <eolivelli@apache.org>

Reviewers: nkalmar@apache.org, andor@apache.org

Closes #955 from eolivelli/fix/ZOOKEEPER-3362-35","{""sha"": ""8fad92197df2f1b525cba22e1a7017eda49adc56"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2019-05-24T15:58:00Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-05-24T15:58:00Z""}}"
1707,SubmitCommit,2019-05-28 14:06:47,anmolnar,unfork_close,"ZOOKEEPER-3404: Downgrade BouncyCastle to 1.60

I've seen a lot of test timeout errors with QuorumSSL tests since I upgraded master to BouncyCastle 1.61 due to a Java 9 warning. The warning has been reported by Enrico Olivelli which we tried to solve by the upgrade, but the warning message is still present so I don't see any harm in downgrading to the previous version.

https://issues.apache.org/jira/browse/ZOOKEEPER-3404

Author: Andor Molnar <andor@apache.org>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Norbert Kalmar <nkalmar@apache.org>

Closes #961 from anmolnar/ZOOKEEPER-3404

(cherry picked from commit 78b3d1a8c1ea8453423682ad09675dfb1df04384)
Signed-off-by: Norbert Kalmar <nkalmar@apache.org>","{""sha"": ""d6194f62b57de6ff413d7151028787146bbf84f1"", ""author"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-05-28T14:04:34Z""}, ""committer"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@apache.org"", ""date"": ""2019-05-28T14:06:47Z""}}"
1707,SubmitCommit,2019-05-30 13:55:35,phunt,unfork_close,"ZOOKEEPER-3405: Upgrade the version of Jackson-databind to address OWASP CVE

Upgraded the library to the latest version.

Change-Id: I94743e7f7817202fff25c757730ba05fe0a9cc17

Author: Patrick Hunt <phunt@apache.org>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Norbert Kalmar <nkalmar@apache.org>

Closes #962 from phunt/ZOOKEEPER-3405

(cherry picked from commit ca4b12430ef579f67785146a195ebfed5ca73f39)
Signed-off-by: Norbert Kalmar <nkalmar@apache.org>","{""sha"": ""186c6db480f0a19b0df29cc61a369cb31cc6dfe6"", ""author"": {""name"": ""Patrick Hunt"", ""email"": ""phunt@apache.org"", ""date"": ""2019-05-30T13:53:35Z""}, ""committer"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@apache.org"", ""date"": ""2019-05-30T13:55:35Z""}}"
1707,SubmitCommit,2019-06-19 01:52:38,phunt,unfork_close,"Add some python basics to gitignore

Change-Id: Iab8f39d89aa1b6319fb7b319431d786f0ee60c4d
(cherry picked from commit 48a78fa65e23ffe4b93e24b8f61f4f6ad14daaad)","{""sha"": ""5503fef20d2ce58f41fad3814d2c13a131ce611c"", ""author"": {""name"": ""Patrick Hunt"", ""email"": ""phunt@apache.org"", ""date"": ""2019-06-19T01:51:04Z""}, ""committer"": {""name"": ""Patrick Hunt"", ""email"": ""phunt@apache.org"", ""date"": ""2019-06-19T01:52:38Z""}}"
1707,SubmitCommit,2019-06-19 04:08:26,lordofkey,unfork_close,"ZOOKEEPER-3105: Character coding problem occur when create a node using python3

when creating a node using python3, InvalidACLException occurs all the time. it`s caused by imcompatible way of parsing acl passed through python3 api.
so

```
acls->data[i].id.id = strdup( PyUnicode_AsUnicode( PyDict_GetItemString( a, ""id"" ) ) );
acls->data[i].id.scheme = strdup( PyUnicode_AsUnicode( PyDict_GetItemString( a, ""scheme"" ) ) );
```
is changed to

```
acls->data[i].id.id = strdup( PyBytes_AS_STRING( PyUnicode_AsASCIIString( PyDict_GetItemString( a, ""id"" ) ) ) );
acls->data[i].id.scheme = strdup( PyBytes_AS_STRING( PyUnicode_AsASCIIString( PyDict_GetItemString( a, ""scheme"" ) ) ) );
```

because `acls->data[i].id.id` and `acls->data[i].id.scheme` must be an ASCII string.

Author: lordofkey <yyyhhh125@163.com>
Author: yanghao <yyyhhh125@163.com>

Reviewers: phunt@apache.org

Closes #586 from lordofkey/ZOOKEEPER-3105 and squashes the following commits:

24a60d982 [lordofkey] Update zookeeper.c
9f2fd54ca [lordofkey] ZOOKEEPER-3105:Character coding problem occur when create a node usin… …
519a7805f [lordofkey] Merge remote-tracking branch 'shared/master' into HEAD
5a441ed60 [yanghao] ZOOKEEPER-3105:Character coding problem occur when create a node using python3

Change-Id: I72c104edc4c77159f75db1211fcd62b33c7d33d6
(cherry picked from commit 52dcf72b0a035116f83431e30c7acf7301982a28)
Signed-off-by: Patrick Hunt <phunt@apache.org>","{""sha"": ""3813d407e86afbea9bdcab97cbb830cc9e8e99df"", ""author"": {""name"": ""lordofkey"", ""email"": ""yyyhhh125@163.com"", ""date"": ""2019-06-19T04:07:14Z""}, ""committer"": {""name"": ""Patrick Hunt"", ""email"": ""phunt@apache.org"", ""date"": ""2019-06-19T04:08:26Z""}}"
1707,SubmitCommit,2019-06-25 13:48:53,phunt,unfork_close,"ZOOKEEPER-3433: zkpython build broken after maven migration

Fixed the build and test infrastructure for zkpython.

Verified the build and tests all passing under both ubuntu and macos.

Change-Id: I3c80774a2712f280d1f14739d1eb78baa066fdc6

Author: Patrick Hunt <phunt@apache.org>

Reviewers: Norbert Kalmar <nkalmar@apache.org>

Closes #991 from phunt/zk3433

(cherry picked from commit 2711d69297ce45cb6fc5beab482e4ec36d07249f)
Signed-off-by: Norbert Kalmar <nkalmar@apache.org>","{""sha"": ""098ad82b2e43a944e8621f1ef2a58d8b070c65a2"", ""author"": {""name"": ""Patrick Hunt"", ""email"": ""phunt@apache.org"", ""date"": ""2019-06-25T13:47:58Z""}, ""committer"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@apache.org"", ""date"": ""2019-06-25T13:48:53Z""}}"
1707,SubmitCommit,2019-06-27 12:49:47,eolivelli,unfork_close,"Move Travis to openjdk11, oraclejdk11 does not work anymore

Author: Enrico Olivelli <eolivelli@apache.org>

Reviewers: Norbert Kalmar <nkalmar@apache.org>

Closes #1005 from eolivelli/fix/travis-openjdk11

(cherry picked from commit 5e7d88bc27c3d1d7aa0ebb77e0609ae0a39cf309)
Signed-off-by: Norbert Kalmar <nkalmar@apache.org>","{""sha"": ""69367814ad95317ddbdfc7614e8de3d7292fd365"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2019-06-27T12:49:29Z""}, ""committer"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@apache.org"", ""date"": ""2019-06-27T12:49:47Z""}}"
1707,SubmitCommit,2019-07-01 13:17:03,tisonkun,unfork_close,"ZOOKEEPER-3370: Remove SVN specific revision generation

As we don't maintain the SVN repo any more.

ref 8771ffdaacb87126a485ae740558f6a288ab980b

Author: tison <wander4096@gmail.com>

Reviewers: eolivelli@apache.org, andor@apache.org

Closes #915 from TisonKun/ZOOKEEPER-3370

(cherry picked from commit 44c9d56f22195223250765f2138336b903e960c0)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""96880c0b2ba39f1841f8bdc4a0119a467b462d03"", ""author"": {""name"": ""tison"", ""email"": ""wander4096@gmail.com"", ""date"": ""2019-07-01T13:16:01Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-07-01T13:17:03Z""}}"
1707,SubmitCommit,2019-07-09 00:31:17,xoiss,unfork_close,"ZOOKEEPER-2894: Memory and completions leak on zookeeper_close

If I call `zookeeper_close()` when the call-stack does not pass through any of zookeeper mechanics (for example, some of completion handler called back by zookeeper) the following happens:
1. If there are requests waiting for responses in `zh.sent_requests` queue, they all are removed from this queue and each of them is ""completed"" with personal fake response having status `ZCLOSING`. Such fake responses are put into `zh.completions_to_process` queue. It's Ok
2. But then, `zh.completions_to_process` queue is left unhandled. **Neither completion callbacks are called, nor dynamic memory allocated for fake responses is freed**
3. Different structures within `zh` are dismissed and finally `zh` is freed

Consequently we have a tiny **memory leak** and, which is much more important, **completions leak**. I.e. completions are not called at all.

This is not the case if I call `zookeeper_close()` when the call-stack does pass through some of zookeeper mechanics. Here, zookeeper client handles completions properly.

Proposed changes remove this defects.

For more details see: https://issues.apache.org/jira/browse/ZOOKEEPER-2894

Author: Alexander A. Strelets <streletsaa@gmail.com>

Reviewers: Enrico Olivelli <eolivelli@gmail.com>, Michael Han <hanm@apache.org>

Closes #1000 from xoiss/ZOOKEEPER-2894","{""sha"": ""2034c9dd1b06a87e1a9eafca57dd412e725ec369"", ""author"": {""name"": ""Alexander A. Strelets"", ""email"": ""streletsaa@gmail.com"", ""date"": ""2019-07-09T00:22:15Z""}, ""committer"": {""name"": ""Michael Han"", ""email"": ""hanm@apache.org"", ""date"": ""2019-07-09T00:31:17Z""}}"
1707,SubmitCommit,2019-07-12 20:54:48,phunt,unfork_close,"ZOOKEEPER-3441: OWASP is flagging jackson-databind-2.9.9.jar for CVE-…

The JIRA is resolved by updating jackson to version 2.9.9.1.

However in so doing I found that it was impossible to run the
dependency check as the CVE lists would always fail to download,
regardless ant or maven. In researching the issue 5.1.0 of the
dependency checker is now available. That fixes this issue (d/l).

However in so doing a couple new problems arise:

The ant dependency check now fails with a circular dependency issue in
one of the transient libraries
(org.sonatype.ossindex#ossindex-service-client;1.2.0). I was unable to
workaround this issue. As such the ant dependency checker is not able
to update to the new version. I believe we should just stop using it
in favor of the maven one as this seems to be Ivy related, as mvn
works just fine with the same change.

Another problem that arises with the dependency checker version
upgrade is that two new issues are identified:

https://www.cvedetails.com/cve/CVE-2008-7220/
which is resolved with the updated prototype.js

https://www.cvedetails.com/cve/CVE-2019-3826/
which seems like a false positive. Please check my work on this.

After these changes the mvn owasp check passes. The code compiles. I
tested the generated documentation and it seems unaffected by the
prototype.js change, although I could have missed this.

Change-Id: I12c9b3111641b066417fc85b155877af5edf9929

Author: Patrick Hunt <phunt@apache.org>

Reviewers: Enrico Olivelli <eolivelli@apache.org>

Closes #1014 from phunt/ZOOKEEPER-3441","{""sha"": ""3bd87f122394f23b3c2e3e8aec4771c32c1d6105"", ""author"": {""name"": ""Patrick Hunt"", ""email"": ""phunt@apache.org"", ""date"": ""2019-07-12T05:32:42Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2019-07-12T20:54:48Z""}}"
1707,SubmitCommit,2019-07-15 12:49:35,ivanyu,unfork_close,"ZOOKEEPER-3443: Add support of PKCS12 trust/key stores

This commit adds support of PKCS12 trust store and key store type.
The existing mechanism for trust/key store types that support JKS and
PEM were extended with PKCS12.

The implementations of JKSFileLoader and PKCS12FileLoader were almost
identical so most of it were abstracted away in
StandardTypeFileKeyStoreLoader.

Author: Ivan Yurchenko <ivanyu@aiven.io>

Reviewers: eolivelli@apache.org, andor@apache.org

Closes #1003 from ivanyu/ZOOKEEPER-3443

(cherry picked from commit 1c83846615701e88749690f06993a6e77452b83c)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""427899ce4a14fd97673a36c0a3ac2282da656589"", ""author"": {""name"": ""Ivan Yurchenko"", ""email"": ""ivanyu@aiven.io"", ""date"": ""2019-07-15T12:46:48Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-07-15T12:49:35Z""}}"
1707,SubmitCommit,2019-07-24 13:43:38,anmolnar,unfork_close,"ZOOKEEPER-3463: Enable warning messages in maven compiler plugin (3.5)

Backported changes from #1016

eolivelli ptal.

Author: Andor Molnar <andor@apache.org>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Norbert Kalmar <nkalmar@apache.org>

Closes #1018 from anmolnar/ZOOKEEPER-3463_35","{""sha"": ""e27eab65c546a991a226dac2684a64df6a17770c"", ""author"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-07-24T13:43:38Z""}, ""committer"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@apache.org"", ""date"": ""2019-07-24T13:43:38Z""}}"
1707,SubmitCommit,2019-08-02 11:56:30,symat,unfork_close,"ZOOKEEPER-3455: fix UnifiedServerSocketTest on jdk 13

The `UnifiedServerSocketTest.testConnectWithoutSSLToStrictServer` fails on OpenJDK 13 because in the new default socket implementation (https://openjdk.java.net/jeps/353) the `NioSocketImpl.getInputStream.read()` behaves differently than the old `SocketInputStream.read()`.

A workaround could be to execute the tests using the `-Djdk.net.usePlainSocketImpl` system property (hardcoding it in the maven / ant configs), which enforces the usage of the old socket implementation in JDK 13. But I preferred instead to make the test compatible with both older and newer JDK, so it should succeed even if someone is executing it outside of our build environment.

Author: Mate Szalay-Beko <szalay.beko.mate@gmail.com>

Reviewers: andor@apache.org

Closes #1029 from symat/master

(cherry picked from commit 6b6ff1d11009d1301eb48d7801175d6af7dbf3fe)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""f2cb75d19514e898e39f70797fcb45feb051c07e"", ""author"": {""name"": ""Mate Szalay-Beko"", ""email"": ""szalay.beko.mate@gmail.com"", ""date"": ""2019-08-02T11:55:01Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-08-02T11:56:30Z""}}"
1707,SubmitCommit,2019-08-06 10:59:58,nkalmar,unfork_close,"ZOOKEEPER-3494: 3.5) remove unnecessary broad netty-all dependency

Currently netty-all is a 4MB dependency.
Using netty-handler (429KB) and netty-transport-native-epoll (115KB) brings it down to about 1/8 in size.

Author: Norbert Kalmar <nkalmaryahoo.com>

Reviewers: Enrico Olivelli <eolivelligmail.com>, Tamás Pénzes, Michael Han <hanmapache.org>

Closes #1039 from nkalmar/ZK-3494

Author: Norbert Kalmar <nkalmar@yahoo.com>

Reviewers: andor@apache.org

Closes #1041 from nkalmar/branch-3.5","{""sha"": ""034226ba5f98bcdf5deb6b1f91d471ade4467209"", ""author"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@yahoo.com"", ""date"": ""2019-08-06T10:59:58Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-08-06T10:59:58Z""}}"
1707,SubmitCommit,2019-08-06 16:02:46,xoiss,unfork_close,"ZOOKEEPER-2891: Invalid processing of zookeeper_close for mutli-request

When I call `zookeeper_close()` while there is a pending multi request, I expect the request completes with `ZCLOSING` status.

But with the existing code I actually get the following:
* the program exits with `SIGABRT` from `assert(entry)` in `deserialize_multi()`
* and even if I remove this assertion and just break the enclosing loop, the returned status is `ZOK` but not `ZCLOSING`

So, there are two defects with processing calls to `zookeeper_close()` for pending multi requests: improper assertion in implementation and invalid status in confirmation.

Proposed changes remove these defects.

For more details see: https://issues.apache.org/jira/browse/ZOOKEEPER-2891

Author: Alexander A. Strelets <streletsaa@gmail.com>

Reviewers: Michael Han <hanm@apache.org>

Closes #999 from xoiss/ZOOKEEPER-2891","{""sha"": ""05ec80849b719c4e08aac85b5a3f12c6ea3beb7b"", ""author"": {""name"": ""Alexander A. Strelets"", ""email"": ""streletsaa@gmail.com"", ""date"": ""2019-08-05T23:59:27Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-08-06T16:02:46Z""}}"
1707,SubmitCommit,2019-08-08 15:04:33,tisonkun,unfork_close,"ZOOKEEPER-3498: Move jute generated sources to generated-source/java

Avoid mixup with class files.

cc phunt anmolnar eolivelli nkalmar

Author: tison <wander4096@gmail.com>

Reviewers: eolivelli@apache.org, andor@apache.org

Closes #1043 from TisonKun/ZOOKEEPER-3498

(cherry picked from commit abf1865c3a0701beef1dddd128e9ad25712a4c33)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""d86b14b68ee3dfe8e0828c83992aa17dab572133"", ""author"": {""name"": ""tison"", ""email"": ""wander4096@gmail.com"", ""date"": ""2019-08-08T15:00:54Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-08-08T15:04:33Z""}}"
1707,SubmitCommit,2019-08-13 11:36:15,Igor Skokov,unfork_close,"ZOOKEEPER-3320: backport to branch-3.5): Leader election port stop listen when hostname unresolvable for some time

Backport of #1033 to branch-3.5

Author: Igor Skokov <igor.skokov@cinarra.com>

Reviewers: eolivelli@apache.org, andor@apache.org

Closes #1053 from Lagrang/ZOOKEEPER-3320-BACKPORT35","{""sha"": ""eb2de507105c94e5ff0b83e2a4794bc21bf25a82"", ""author"": {""name"": ""Igor Skokov"", ""email"": ""igor.skokov@cinarra.com"", ""date"": ""2019-08-13T11:36:15Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-08-13T11:36:15Z""}}"
1707,SubmitCommit,2019-08-23 10:15:57,ztzg,unfork_close,"ZOOKEEPER-3510: Make 'zkServer.sh stop' more reliable

As mentioned in https://github.com/apache/zookeeper/pull/1054#discussion_r314208678 :

There is a `sleep 3` statement in `zkServer.sh restart`. I am unable to unearth the history of that particular line, but I believe part—if not all—of that sleep should be part of `zkServer.sh stop`.

I frequently observe `FAILED TO START` errors in the C test suite; the logs consistently show that those are caused by `java.net.BindException: Address already in use`. Adding a simple `sleep 1` before `echo STOPPED` ""fixes"" it for me.

As noted in the commit message, the `sleep` is far from optimal, an adaptive mechanism would be better—but I do not want to make the first iteration too complicated.

Author: Damien Diederen <dd@crosstwine.com>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Norbert Kalmar <nkalmar@apache.org>

Closes #1055 from ztzg/ZOOKEEPER-3510-zkserver-stop-delay

(cherry picked from commit 942213dfe28e464f068f8a195d1424c4b29af585)
Signed-off-by: Norbert Kalmar <nkalmar@apache.org>","{""sha"": ""05307d61a8f472e4b5ce4d5e2cb997ddba2b375e"", ""author"": {""name"": ""Damien Diederen"", ""email"": ""dd@crosstwine.com"", ""date"": ""2019-08-23T10:14:46Z""}, ""committer"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@apache.org"", ""date"": ""2019-08-23T10:15:57Z""}}"
1707,SubmitCommit,2019-08-25 19:32:17,phunt,unfork_close,"ZOOKEEPER-3518: owasp check flagging jackson-databind 2.9.9.1

Fix is to upgrade to latest - 2.9.9.3

Change-Id: Ibedbe434def73959c1e5209d5321e9e66c151929

Author: Patrick Hunt <phunt@apache.org>

Reviewers: Enrico Olivelli <eolivelli@apache.org>

Closes #1061 from phunt/ZOOKEEPER-3518

(cherry picked from commit b5399da61d305da2fe80dc9be6f9bba5037209cf)","{""sha"": ""9b68d64176305f3063f40b7a13e4629ecd822f20"", ""author"": {""name"": ""Patrick Hunt"", ""email"": ""phunt@apache.org"", ""date"": ""2019-08-25T18:42:49Z""}, ""committer"": {""name"": ""Patrick Hunt"", ""email"": ""phunt@apache.org"", ""date"": ""2019-08-25T19:32:17Z""}}"
1707,SubmitCommit,2019-09-03 06:51:10,hanm,unfork_close,"ZOOKEEPER-3056: Fails to load database with missing snapshot file but with valid transaction log file.

This is a port of patch https://github.com/apache/zookeeper/pull/1069

Author: Michael Han <lhan@twitter.com>

Reviewers: Enrico Olivelli<eolivelli@apache.org>, Brian Nixon <nixon@fb.com>

Closes #1072 from hanm/ZOOKEEPER-3056-3.5","{""sha"": ""77496b948f1eec3f8fa243bb8003cc97839982e4"", ""author"": {""name"": ""Michael Han"", ""email"": ""lhan@twitter.com"", ""date"": ""2019-09-03T06:51:10Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""enrico.olivelli@diennea.com"", ""date"": ""2019-09-03T06:51:10Z""}}"
1707,SubmitCommit,2019-09-09 11:48:05,eolivelli,unfork_close,"ZOOKEEPER-3539: Fix CI for branch-3.5:

- do not execute findbugs on CI for ant-based tasks
- fix usage of fprintf on C client

Maven + Spotbugs superseded Ant + Findbugs

Author: Enrico Olivelli <eolivelli@apache.org>

Reviewers: Norbert Kalmar <nkalmar@apache.org>

Closes #1082 from eolivelli/fix/fix-ci-35","{""sha"": ""44911cfb3f04af09947d51403d55418d422e5c41"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2019-09-09T11:48:05Z""}, ""committer"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@apache.org"", ""date"": ""2019-09-09T11:48:05Z""}}"
1707,SubmitCommit,2019-09-09 17:17:47,eolivelli,unfork_close,Prepare for the next release: update the version to 3.5.7-SNAPSHOT,"{""sha"": ""7b025103952f3c0c652ff00af302448f05b91f8e"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2019-09-09T17:17:47Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2019-09-09T17:17:47Z""}}"
1707,SubmitCommit,2019-09-11 07:08:04,eolivelli,unfork_close,"ZOOKEEPER-3532: Provide a docker-based environment to work on a known OS

Just run dev/docker/run.sh and you will have a Linux environment with all that is needed to build ZooKeeper, even on MacOs.

The original idea patch was from Sijie Guo (sijie), Apache BookKeeper project.

The script creates a local image that accesses the local filesystem with the current user (UID), this way the container can work on local files without problems of ownership of files.

Author: Enrico Olivelli <enrico.olivelli@diennea.com>

Reviewers: maoling <maoling199210191@sina.com>, Michael Han <hanm@apache.org>

Closes #1075 from eolivelli/fix/docker-env","{""sha"": ""bde26b5aedf2f8a202770da8bea7b9f138096766"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""enrico.olivelli@diennea.com"", ""date"": ""2019-09-09T22:33:07Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""enrico.olivelli@diennea.com"", ""date"": ""2019-09-11T07:08:04Z""}}"
1707,SubmitCommit,2019-09-12 21:52:03,eolivelli,unfork_close,"ZOOKEEPER-3440: Fix Apache RAT on branch 3.5

Partial port of commit 1e6edc9229c418b8bea46ccc5d603ea1c4a47a9e to branch-3.5 in order to make Apache RAT check pass.

Author: Enrico Olivelli <eolivelli@apache.org>

Reviewers: Allan Lyu <fangmin@apache.org>, Michael Han <hanm@apache.org>

Closes #1086 from eolivelli/fix/ZOOKEEPER-3440-3.5","{""sha"": ""7eb4cca1c44d62768de60185345b6ab344785556"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2019-09-12T21:52:03Z""}, ""committer"": {""name"": ""Michael Han"", ""email"": ""hanm@apache.org"", ""date"": ""2019-09-12T21:52:03Z""}}"
1707,SubmitCommit,2019-09-14 14:30:30,eolivelli,unfork_close,"ZOOKEEPER-3542: X509UtilTest#testClientRenegotiationFails is flaky on JDK8 + linux on machines with 2 cores

Author: Enrico Olivelli <eolivelli@apache.org>

Reviewers: Norbert Kalmar <nkalmar@apache.org>

Closes #1087 from eolivelli/fix/ZOOKEEPER-3542-35","{""sha"": ""54de5f55ac75206088efd23239240214780f8bca"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2019-09-14T14:30:30Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2019-09-14T14:30:30Z""}}"
1707,SubmitCommit,2019-09-16 10:19:30,eolivelli,unfork_close,"ZOOKEEPER-3545: Fix LICENSE files for netty dependency

Drop LICENSE file for netty-all and add files for separate netty bundles.

Author: Enrico Olivelli <eolivelli@apache.org>

Reviewers: Norbert Kalmar <nkalmar@apache.org>

Closes #1090 from eolivelli/fix/ZOOKEEPER-3545-lic-netty

(cherry picked from commit 930436b65fd1e965582ab6381587b286b4491e63)
Signed-off-by: Norbert Kalmar <nkalmar@apache.org>","{""sha"": ""75c6a32d97c8281b652831d93110db7913eda26c"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2019-09-16T10:19:10Z""}, ""committer"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@apache.org"", ""date"": ""2019-09-16T10:19:30Z""}}"
1707,SubmitCommit,2019-09-20 08:19:01,eolivelli,unfork_close,"ZOOKEEPER-3552: Source tarbal for branch-3.5 does not set execution permissions to ""configure"" file

Remove explicit permissions for the binary tarbal, this way Maven will pick up the current file permissions.

Author: Enrico Olivelli <eolivelli@apache.org>

Reviewers: Norbert Kalmar <nkalmar@apache.org>

Closes #1093 from eolivelli/fix/fix-perm-source-package-35","{""sha"": ""81d5b0ec6f596cd8b7e63addc65698803c72d30f"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2019-09-20T08:19:01Z""}, ""committer"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@apache.org"", ""date"": ""2019-09-20T08:19:01Z""}}"
1707,SubmitCommit,2019-09-24 19:31:26,arshadmohammad,unfork_close,"ZOOKEEPER-3496: Transaction larger than jute.maxbuffer makes ZooKeeper service unavailable

Author: Mohammad Arshad <arshad@apache.org>

Reviewers: Enrico Olivelli <eolivelli@gmail.com>, Michael Han <hanm@apache.org>, Allan Lyu <fangmin@apache.org>

Closes #1080 from arshadmohammad/ZOOKEEPER-3496","{""sha"": ""7d263d0af62fbba6fa6e2e2464129bd959d81067"", ""author"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2019-09-24T19:31:26Z""}, ""committer"": {""name"": ""Michael Han"", ""email"": ""hanm@apache.org"", ""date"": ""2019-09-24T19:31:26Z""}}"
1707,SubmitCommit,2019-09-27 11:19:39,coheigea,unfork_close,"ZOOKEEPER-3559: Update Jackson to 2.9.10

Jackson should be updated to the latest version to pick up a fix for CVE-2019-14540

Author: Colm O hEigeartaigh <coheigea@apache.org>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Norbert Kalmar <nkalmar@apache.org>

Closes #1097 from coheigea/ZOOKEEPER-3559

(cherry picked from commit 63a825372eaa745cf117f53b0f9b263a0db05a4f)
Signed-off-by: Norbert Kalmar <nkalmar@apache.org>","{""sha"": ""f23c1b14feca314784310fb5bc2c58072a3852b8"", ""author"": {""name"": ""Colm O hEigeartaigh"", ""email"": ""coheigea@apache.org"", ""date"": ""2019-09-27T11:18:24Z""}, ""committer"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@apache.org"", ""date"": ""2019-09-27T11:19:39Z""}}"
1707,SubmitCommit,2019-09-27 13:43:35,ztzg,unfork_close,"ZOOKEEPER-2282: C Client: chroot not stripped in asynchronous callbacks

This is related to ZOOKEEPER-1027, which adjusted the result of `create` calls to account for the chroot path.  It did not, however, correct the problem for asynchronous calls:

    $ cli_st $ENSEMBLE_HOSTS/rt-46444

    create /x/fred
    Creating [/x/fred] node (mode: 0)
    [/x/fred]: rc = 0
            name = /rt-46444/x/fred

    create2 /x/wilma
    Creating [/x/wilma] node (mode: 0)
    [/x/wilma]: rc = 0
            name = /rt-46444/x/wilma
            ctime = Wed Aug 28 18:14:16 2019
            czxid=1f00000041
            mtime=Wed Aug 28 18:14:16 2019
            mzxid=1f00000041
            version=0	aversion=0
            ephemeralOwner = 0

(It turns out that there was already a ticket, with a patch, for this issue.  I am mentioning Andrew Grasso as a co-author.  This commit also avoids the test failure, however.)

Co-authored-by: Andrew Grasso <andrew-grassousers.noreply.github.com>

Author: Damien Diederen <dd@crosstwine.com>

Reviewers: eolivelli@apache.org, andor@apache.org

Closes #1066 from ztzg/ZOOKEEPER-2282-c-client-async-chroot-paths

(cherry picked from commit 1e7fae31af634ccfb85cde17fa634d188145b9b7)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""c93f6a88e565669a9d4f3d2f9c7e6f15297a5dae"", ""author"": {""name"": ""Damien Diederen"", ""email"": ""dd@crosstwine.com"", ""date"": ""2019-09-27T13:43:19Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-09-27T13:43:35Z""}}"
1707,SubmitCommit,2019-10-01 07:18:22,sujithsimon22,unfork_close,"ZOOKEEPER-1467: Make server principal configurable at client side.

Make server principal configurable at the client side

Author: sujithsimon22 <sujith.abraham.simon@huawei.com>

Reviewers: Mohammad Arshad <arshad@apache.org>, enixon, Enrico Olivelli <eolivelli@apache.org>

Closes #1104 from sujithsimon22/ZOOKEEPER-1467-3.5","{""sha"": ""457d7dee925fddbed6114cd9d3686697057c5d42"", ""author"": {""name"": ""Sujith Simon"", ""email"": ""sujith.abraham.simon@huawei.com"", ""date"": ""2019-10-01T07:18:22Z""}, ""committer"": {""name"": ""Mohammad"", ""email"": ""arshad@apache.org"", ""date"": ""2019-10-01T07:18:22Z""}}"
1707,SubmitCommit,2019-10-03 13:41:41,phunt,unfork_close,"ZOOKEEPER-3563: Update Netty to fix CVE-2019-16869

…E-2019-16869 on Netty

Updated netty to 4.1.42.Final to address CVE-2019-16869

Change-Id: Ia14d695815143cdfcda1d2efcc0d83211cb356dd

Author: Patrick Hunt <phunt@apache.org>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Norbert Kalmar <nkalmar@apache.org>, Brian Nixon <brian.nixon.cs@gmail.com

Closes #1102 from phunt/zk3563_br35","{""sha"": ""82b04e852aa46917274964d01565be931353248f"", ""author"": {""name"": ""Patrick Hunt"", ""email"": ""phunt@apache.org"", ""date"": ""2019-10-03T13:41:41Z""}, ""committer"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@apache.org"", ""date"": ""2019-10-03T13:41:41Z""}}"
1707,SubmitCommit,2019-10-08 13:16:34,eolivelli,unfork_close,"ZOOKEEPER-3563: Update Netty to 4.1.42.Final - fix license files

Fix licence files not changed in 874aaf136ccda2759cc61f4c48ff9d15f6433e07

Author: Enrico Olivelli <eolivelli@localhost.localdomain>

Reviewers: andor@apache.org

Closes #1111 from eolivelli/fix/ZOOKEEPER-3563-netty-lic

(cherry picked from commit 2dcb5e799ec02a2c6a6c7bad80c47169dc095271)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""4ce3666d6bfdda8ed42eb6d2dfe405f31c23117e"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@localhost.localdomain"", ""date"": ""2019-10-08T13:16:18Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-10-08T13:16:34Z""}}"
1707,SubmitCommit,2019-11-22 22:42:49,aristotelhs,unfork_close,"ZOOKEEPER-3590: Zookeeper is unable to set the zookeeper.sasl.client.canonicalize.hostname using system property

See https://issues.apache.org/jira/browse/ZOOKEEPER-3590

This is a very small patch that gives sets the option after reading it from the system.getProperty().

There should not be any side effects since this is mostly copy paste.

Author: aristotelhs <aristotelhs@lenses.io>

Reviewers: eolivelli@apache.org, andor@apache.org

Closes #1124 from aristotelhs/ZOOKEEPER-3590

(cherry picked from commit 0b9d30faedd27dec9d03220635467fdb23de6b8b)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""bd51cb17c1f140c6fdb583331cd2ceecf0bed902"", ""author"": {""name"": ""aristotelhs"", ""email"": ""aristotelhs@lenses.io"", ""date"": ""2019-11-22T22:42:31Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-11-22T22:42:49Z""}}"
1707,SubmitCommit,2019-12-03 14:46:44,symat,unfork_close,"ZOOKEEPER-3633: AdminServer commands throw NPE when only secure client port is used

When only secureClientPort is defined in the config and there is no regular clientPort,
then both the stat and the conf commands on the AdminServer result in 500 Server Error caused by
NullPointerExceptions. The problem is that no serverCnxFactory is defined in the
ZooKeeperServer in this case, we have only secureServerCnxnFactory.

In the fix we return info about both the secure and unsecure connections.
Example of the stat command output for secure-only configuration:
```
{
  ""version"" : ""3.6.0-SNAPSHOT-8e8905069f4bff670c0492fe9e28ced0f86bca00, built on 11/29/2019 08:04 GMT"",
  ""read_only"" : false,
  ""server_stats"" : {
    ""packets_sent"" : 1,
    ""packets_received"" : 1,
    ""fsync_threshold_exceed_count"" : 0,
    ""client_response_stats"" : {
      ""last_buffer_size"" : -1,
      ""min_buffer_size"" : -1,
      ""max_buffer_size"" : -1
    },
    ""data_dir_size"" : 671094270,
    ""log_dir_size"" : 671094270,
    ""last_processed_zxid"" : 20,
    ""outstanding_requests"" : 0,
    ""server_state"" : ""standalone"",
    ""avg_latency"" : 5.0,
    ""max_latency"" : 5,
    ""min_latency"" : 5,
    ""num_alive_client_connections"" : 1,
    ""provider_null"" : false,
    ""uptime"" : 15020
  },
  ""client_response"" : {
    ""last_buffer_size"" : -1,
    ""min_buffer_size"" : -1,
    ""max_buffer_size"" : -1
  },
  ""node_count"" : 6,
  ""connections"" : [ ],
  ""secure_connections"" : [ {
    ""remote_socket_address"" : ""127.0.0.1:57276"",
    ""interest_ops"" : 1,
    ""outstanding_requests"" : 0,
    ""packets_received"" : 1,
    ""packets_sent"" : 1
  } ],
  ""command"" : ""stats"",
  ""error"" : null
}
```

Author: Mate Szalay-Beko <szalay.beko.mate@gmail.com>

Reviewers: Andor Molnar <andor@apache.org>, Enrico Olivelli <eolivelli@apache.org>, Norbert Kalmar <nkalmar@apache.org>

Closes #1161 from symat/ZOOKEEPER-3633

(cherry picked from commit 01e198aec9ceae52f160ddcf2e45cd234823e505)
Signed-off-by: Norbert Kalmar <nkalmar@apache.org>","{""sha"": ""3dd56ff4210648753fe08c323159e5260b815467"", ""author"": {""name"": ""Mate Szalay-Beko"", ""email"": ""szalay.beko.mate@gmail.com"", ""date"": ""2019-12-03T09:01:22Z""}, ""committer"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@apache.org"", ""date"": ""2019-12-03T14:46:44Z""}}"
1707,SubmitCommit,2019-12-16 12:20:48,anmolnar,unfork_close,"ZOOKEEPER-3388: Allow client port to support plaintext and encrypted connections simultaneously (3.5)

Backport of #944

Author: Andor Molnar <andor@apache.org>
Author: Brian Nixon <nixon@fb.com>

Reviewers: andor@apache.org

Closes #1174 from anmolnar/ZOOKEEPER-3388_35 and squashes the following commits:

b51f843a2 [Andor Molnar] ZOOKEEPER-3388. Added new tag to documentation
744c938dd [Brian Nixon] ZOOKEEPER-3388: Allow client port to support plaintext and encrypted connections simultaneously","{""sha"": ""f21f951fe063bd30914db9a65721320bb8554fad"", ""author"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-12-16T12:20:48Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-12-16T12:20:48Z""}}"
1707,SubmitCommit,2019-12-17 12:57:15,coheigea,unfork_close,"ZOOKEEPER-3627: Update Jackson to 2.9.10.1 and the Owasp plugin to 5…

….2.4

Author: Colm O hEigeartaigh <coheigea@apache.org>

Reviewers: eolivelli@apache.org, andor@apache.org

Closes #1157 from coheigea/ZOOKEEPER-3627-3.5","{""sha"": ""56a82caac3f978a2bb400145d7644fe15f8fad8f"", ""author"": {""name"": ""Colm O hEigeartaigh"", ""email"": ""coheigea@apache.org"", ""date"": ""2019-12-17T12:57:15Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-12-17T12:57:15Z""}}"
1707,SubmitCommit,2019-12-18 07:26:39,xy24,unfork_close,"ZOOKEEPER-3057: Fix IPv6 literal usage

This commit backports #548 to branch-3.5.

I cherry picked all the changes except the file (NetUtils.java) where modification were already made by other backports.

Author: Xiangyu Yao <yaoxiangyu@bytedance.com>

Reviewers: eolivelli@apache.org, andor@apache.org

Closes #1168 from xy24/fix-ipv6-literal","{""sha"": ""0ec8ffc13cd543a51ffa63af7c6d07290d1b23d1"", ""author"": {""name"": ""Xiangyu Yao"", ""email"": ""yaoxiangyu@bytedance.com"", ""date"": ""2019-12-18T07:26:39Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2019-12-18T07:26:39Z""}}"
1707,SubmitCommit,2019-12-19 22:40:07,eolivelli,unfork_close,Add ZooKeeper 3.5.6 release notes,"{""sha"": ""61d24141b02efa1ae7b09fe9e0295cf5f047b1c2"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2019-12-19T22:40:07Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2019-12-19T22:40:07Z""}}"
1707,SubmitCommit,2019-12-23 15:49:52,rabi-kumar,unfork_close,"ZOOKEEPER-3648: remove Hadoop logo in the ZooKeeper documentation

I have removed hadoop logo from header.html present in zookeeper-documentation and also the image hadoop-logo.jpg from images.

Please do let me know if I have missed anything.

Author: ravowlga123 <ravowlga@gmail.com>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Justin Ling Mao <maoling199210191@sina.com>

Closes #1179 from ravowlga123/ZOOKEEPER-3648

(cherry picked from commit 56f508f1828e4392caab1e50ed76b81b84a7357d)
Signed-off-by: Enrico Olivelli <enrico.olivelli@diennea.com>","{""sha"": ""61c1a45c9c9c464e8c8847fcd7ff08d1b310a376"", ""author"": {""name"": ""ravowlga123"", ""email"": ""ravowlga@gmail.com"", ""date"": ""2019-12-23T15:49:27Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""enrico.olivelli@diennea.com"", ""date"": ""2019-12-23T15:49:52Z""}}"
1707,SubmitCommit,2019-12-23 15:51:23,hanm,unfork_close,"ZOOKEEPER-3056: fix documentation.

snapshot.trust.empty can be used in both zoo.cfg file (with name snapshot.trust.empty), and as a system property (with name zookeeper.snapshot.trust.empty).

Author: Michael Han <lhan@twitter.com>

Reviewers: Enrico Olivelli <eolivelli@apache.org>

Closes #1178 from hanm/ZOOKEEPER-3056

(cherry picked from commit 04e91c3889b2d0a477036ae088794b6f5b3b04ba)
Signed-off-by: Enrico Olivelli <enrico.olivelli@diennea.com>","{""sha"": ""20f5986b0d4b9e191cb25338d15d59eb3e1c6db3"", ""author"": {""name"": ""Michael Han"", ""email"": ""lhan@twitter.com"", ""date"": ""2019-12-23T15:50:59Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""enrico.olivelli@diennea.com"", ""date"": ""2019-12-23T15:51:23Z""}}"
1707,SubmitCommit,2020-01-05 21:18:27,hanm,unfork_close,"ZOOKEEPER-3644: cherry pick PR 1177 to branch-3.5

Author: Michael Han <hanm@apache.org>

Reviewers: eolivelli@apache.org, andor@apache.org

Closes #1182 from hanm/ZOOKEEPER-3644","{""sha"": ""a314855f0733c620dd1c690f05c13fafd9a1a1c4"", ""author"": {""name"": ""Michael Han"", ""email"": ""hanm@apache.org"", ""date"": ""2020-01-05T21:18:27Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2020-01-05T21:18:27Z""}}"
1707,SubmitCommit,2020-01-06 18:15:50,coheigea,unfork_close,"ZOOKEEPER-3638: Update Jetty to 9.4.24.v20191120

Author: Colm O hEigeartaigh <coheigeaapache.org>

Reviewers: eolivelliapache.org, andorapache.org

Closes #1165 from coheigea/ZOOKEEPER-3638

(cherry picked from commit 178e8de664bed018c339108f168ae4ae4989b3b6)
Signed-off-by: Andor Molnar <andorapache.org>

Author: Colm O hEigeartaigh <coheigea@apache.org>

Reviewers: andor@apache.org

Closes #1201 from coheigea/ZOOKEEPER-3638","{""sha"": ""59337e7ec8ab67fecf7cfc1b8c5b76397c02bfd6"", ""author"": {""name"": ""Colm O hEigeartaigh"", ""email"": ""coheigea@apache.org"", ""date"": ""2020-01-06T18:15:50Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2020-01-06T18:15:50Z""}}"
1707,SubmitCommit,2020-01-18 19:07:46,eolivelli,unfork_close,"ZOOKEEPER-3677: owasp checker failing for - CVE-2019-17571 Apache Log4j 1.2 deserialization of untrusted data in SocketServer

Suppress error for CVE-2019-17571 as it does not affect us.
We are not running the log4j server.

Author: Enrico Olivelli <eolivelli@apache.org>

Reviewers: phunt@apache.org

Closes #1209 from eolivelli/fix/ZOOKEEPER-3677-owasp-log4j

Change-Id: I0ef24a7b142cd32ccf4f5c18f9e0c0132a413d6c
(cherry picked from commit 3bd6b1950eea1fabeac4bc477c8828939d008a4a)
Signed-off-by: Patrick Hunt <phunt@apache.org>","{""sha"": ""df1dc8204fdb79276f10169fbd115f24012f4b21"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-01-18T19:06:01Z""}, ""committer"": {""name"": ""Patrick Hunt"", ""email"": ""phunt@apache.org"", ""date"": ""2020-01-18T19:07:46Z""}}"
1707,SubmitCommit,2020-01-20 07:41:10,sujithsimon22,unfork_close,"ZOOKEEPER-3667: Setting jute.maxbuffer value in hexadecimal throws Exception

Author: sujithsimon22 <sujith.abraham.simon@huawei.com>

Reviewers: Mohammad Arshad <arshad@apache.org>

Closes #1222 from sujithsimon22/3667

(cherry picked from commit 49ad75b18bfe26e853050f5add6f10f567399058)
Signed-off-by: Mohammad Arshad <arshad@apache.org>","{""sha"": ""4a20176e4c48fe32c60272ba4bd6aeac490bc0e7"", ""author"": {""name"": ""Sujith Simon"", ""email"": ""sujith.abraham.simon@huawei.com"", ""date"": ""2020-01-20T07:39:29Z""}, ""committer"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2020-01-20T07:41:10Z""}}"
1707,SubmitCommit,2020-01-20 08:08:39,sujithsimon22,unfork_close,"ZOOKEEPER-3613: ZKConfig fails to return proper value on getBoolean()when user accidentally includes spaces at the end of the value

Author: sujithsimon22 <sujith.abraham.simon@huawei.com>

Reviewers: Allan Lyu <fangmin@apache.org>,Justin Mao Ling <maoling199210191@sina.com>,Mohammad Arshad <arshad@apache.org>

Closes #1190 from sujithsimon22/3613

(cherry picked from commit dcef1a6f33d8120a93f011da1870a503aafb0312)
Signed-off-by: Mohammad Arshad <arshad@apache.org>","{""sha"": ""458b67f3dd63ffad195a602b67613dbd2ea1ed36"", ""author"": {""name"": ""Sujith Simon"", ""email"": ""sujith.abraham.simon@huawei.com"", ""date"": ""2020-01-20T08:06:59Z""}, ""committer"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2020-01-20T08:08:39Z""}}"
1707,SubmitCommit,2020-01-22 10:10:21,symat,unfork_close,"ZOOKEEPER-3482: add unit tests for client SASL authentication over SSL

We had some issues about configuring Kerberos authentication with SSL, so I created some unit tests to verify that these features work together on the master branch.

The problem was originally reported on 3.5.5. There was some conflicts to backport the tests to 3.5, so I created this separate PR.

Author: Mate Szalay-Beko <szalay.beko.mate@gmail.com>

Reviewers: eolivelli@apache.org, andor@apache.org

Closes #1205 from symat/ZOOKEEPER-3482-branch-3.5 and squashes the following commits:

87db57f26 [Mate Szalay-Beko] ZOOKEEPER-3482: update SASL related documentation
9aff9527e [Mate Szalay-Beko] ZOOKEEPER-3482: reload SASL and Kerberos configs before executing the tests
21fe834d2 [Mate Szalay-Beko] ZOOKEEPER-3482: add unit tests for client SASL authentication over SSL","{""sha"": ""8d2f798c4d3eab4513743b3bf8828d061e7e1b90"", ""author"": {""name"": ""Mate Szalay-Beko"", ""email"": ""szalay.beko.mate@gmail.com"", ""date"": ""2020-01-22T10:10:21Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2020-01-22T10:10:21Z""}}"
1707,SubmitCommit,2020-01-23 10:16:53,phunt,unfork_close,"ZOOKEEPER-3699: upgrade jackson-databind to address CVE-2019-20330

Latest version of jackson-databind is 2.9.10.2.

Change-Id: Id2b0f17c2dfa9a9765fd4893643007b49f06816d

Author: Patrick Hunt <phunt@apache.org>

Reviewers: Norbert Kalmar <nkalmar@apache.org>

Closes #1232 from phunt/ZOOKEEPER-3699

(cherry picked from commit 2d29c569f2c3ca879e1d026a7086f6e376187198)
Signed-off-by: Norbert Kalmar <nkalmar@apache.org>","{""sha"": ""bf0474a2dba33dc3595a4f560d563af2c7f9c48a"", ""author"": {""name"": ""Patrick Hunt"", ""email"": ""phunt@apache.org"", ""date"": ""2020-01-23T10:14:39Z""}, ""committer"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@apache.org"", ""date"": ""2020-01-23T10:16:53Z""}}"
1707,SubmitCommit,2020-01-23 15:51:26,phunt,unfork_close,"ZOOKEEPER-3704: upgrade maven dependency-check to 5.3.0

Upgrade to the latest version of maven dependency checker.

Change-Id: I5ac9c77bb02f54784ff3ed4bb668fe38fd88ee11

Author: Patrick Hunt <phunt@apache.org>

Reviewers: Enrico Olivelli <eolivelli@apache.org>

Closes #1231 from phunt/ZOOKEEPER-3704

(cherry picked from commit 1fbaa26d6827263b2e9e8c18d8699f4bf799eda3)
Signed-off-by: Enrico Olivelli <enrico.olivelli@diennea.com>","{""sha"": ""42ebbc8aca7ee8f5cae0c1e57c874996b00602c8"", ""author"": {""name"": ""Patrick Hunt"", ""email"": ""phunt@apache.org"", ""date"": ""2020-01-23T15:50:58Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""enrico.olivelli@diennea.com"", ""date"": ""2020-01-23T15:51:26Z""}}"
1707,SubmitCommit,2020-01-24 14:18:16,anmolnar,unfork_close,"ZOOKEEPER-1936: Server exits when unable to create data directory due to race

Resurrecting an ancient ticket which could be fixed with a simple patch.

Jira mentions a scenario when auto purging tool is in use and Zookeeper server could have a race condition when creating snapshot and data directories. (directory auto creating is enabled by default)

Double checking the directory existence might help with it.

Author: Andor Molnar <andor@apache.org>

Reviewers: Enrico Olivelli <eolivelli@apache.org>

Closes #1225 from anmolnar/ZOOKEEPER-1936

(cherry picked from commit 689c8b2c4ed264f1dd75db7cbde1f86fe4408f50)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""d461171d95e13184055c08f66fad4094ae5c5e36"", ""author"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2020-01-23T15:46:28Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2020-01-24T14:18:16Z""}}"
1707,SubmitCommit,2020-01-28 14:24:54,symat,unfork_close,"ZOOKEEPER-1105: wait for server response in C client zookeeper_close

**Thanks for Lincoln Lee for the original fix!**

In the current implementation, we always get a WARN in server side
(""EndOfStreamException: Unable to read additional data from client"")
whenever we close a zookeeper handler from the C client. This also happens
in the end of every execution of the command line C client.

The reason is that currently we don't wait for the response from the server
when we initiate the closing of the client connection, and we terminate
the socket on the client side too early.

I tested the patch both on linux and windows. I also tested it both with
NIO and Netty server side socket implementations.

Author: Mate Szalay-Beko <szalay.beko.mate@gmail.com>

Reviewers: Andor Molnar <andor@apache.org>, Norbert Kalmar <nkalmar@apache.org>

Closes #1176 from symat/ZOOKEEPER-1105

(cherry picked from commit 57be7aedd698cb824ade7373aaa4d8264e1b4eb7)
Signed-off-by: Norbert Kalmar <nkalmar@apache.org>","{""sha"": ""49cf7ec1a7238d677eb92fcdb6c022684a043a25"", ""author"": {""name"": ""Mate Szalay-Beko"", ""email"": ""szalay.beko.mate@gmail.com"", ""date"": ""2020-01-28T14:22:30Z""}, ""committer"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@apache.org"", ""date"": ""2020-01-28T14:24:54Z""}}"
1707,SubmitCommit,2020-01-28 22:09:02,symat,unfork_close,"ZOOKEEPER-1105: wait for server response in C client zookeeper_close - ADDENDUM

On the branch-3.5 the socket is represented a bit differently (as the SSL support
in ZOOKEEPER-2122 was not backported to branch-3.5 yet) so we had to fix the
code to be compatible with the old branch.

I compiled the code and tested the C client with a real 3.5.5 server. When I used
the patched client, the warnings disappeared.

Author: Mate Szalay-Beko <szalay.beko.mate@gmail.com>

Reviewers: Norbert Kalmar <nkalmar@apache.org>

Closes #1236 from symat/ZOOKEEPER-1105-branch-3.5","{""sha"": ""33f98a215abeb52825fc76ddaf8d867c200ae4a4"", ""author"": {""name"": ""Mate Szalay-Beko"", ""email"": ""szalay.beko.mate@gmail.com"", ""date"": ""2020-01-28T22:09:02Z""}, ""committer"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@apache.org"", ""date"": ""2020-01-28T22:09:02Z""}}"
1707,SubmitCommit,2020-01-30 20:55:08,anmolnar,unfork_close,"ZOOKEEPER-3701: Split brain on log disk full (3.5)

Backport of #1233

Unfortunately the unit test cannot be backported, because 3.5 doesn't have the abstract `requestSystemExit` feature.

Author: Andor Molnar <andor@apache.org>

Reviewers: Norbert Kalmar <nkalmar@apache.org>

Closes #1237 from anmolnar/ZOOKEEPER-3701_35","{""sha"": ""7dd25bb8bf3925c3da1eb452b8916a6b2becfe61"", ""author"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2020-01-30T20:55:08Z""}, ""committer"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@apache.org"", ""date"": ""2020-01-30T20:55:08Z""}}"
1707,SubmitCommit,2020-02-03 03:31:54,belugabehr,unfork_close,"ZOOKEEPER-3708: Move Logging Code into Logging Guard in Learner

Author: David Mollitor <dmollitor@apache.org>

Reviewers: eolivelli@apache.org, andor@apache.org

Closes #1240 from belugabehr/ZOOKEEPER-3708

(cherry picked from commit 68e1f7d4c54429caa74441c7444ef1fe0f75867c)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""58eca43a201362167eb33b501f452bc37d36b5f3"", ""author"": {""name"": ""David Mollitor"", ""email"": ""dmollitor@apache.org"", ""date"": ""2020-02-03T03:30:41Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2020-02-03T03:31:54Z""}}"
1707,SubmitCommit,2020-02-04 09:44:09,Jordan Zimmerman,unfork_close,"ZOOKEEPER-3703: publish a test JAR

It would be very helpful to Apache Curator and others if ZooKeeper published its testing code as a Maven Test JAR. Curator, for example, could use it to improve its testing server to make it easier to inject error conditions without having to have forced time delays and other hacks.

NOTE: if we move forward with gRPC (ZOOKEEPER-102) that would be in a new module and this would be required. So, might as well do it now.

Author: Jordan Zimmerman <jordan@jordjzimmerman@grubhub.com>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Norbert Kalmar <nkalmar@apache.org>

Closes #1229 from Randgalt/ZOOKEEPER-3703-publish-test-jar

(cherry picked from commit 6db92d7dfa426488b191afba319a16b96f4a36c6)
Signed-off-by: Enrico Olivelli <eolivelli@apache.org>","{""sha"": ""e45b5a873aa1e238c753413e73ff81962ab991d4"", ""author"": {""name"": ""Jordan Zimmerman"", ""email"": ""jordan@jordjzimmerman@grubhub.com"", ""date"": ""2020-02-04T09:43:30Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-02-04T09:44:09Z""}}"
1707,SubmitCommit,2020-02-05 08:54:19,symat,unfork_close,"ZOOKEEPER-3715: fix Kerberos test failures for new JDK versions

Using OpenJDK 8u.242 or OpenJDK 11.0.6, we have some kerberos exceptions
when running the following, Kerberos Authentication related tests:
- QuorumKerberosAuthTest
- QuorumKerberosHostBasedAuthTest
- SaslKerberosAuthOverSSLTest

After trying this with different JDK versions, we see that the problem
seems to appear:
- between OpenJDK 8u.232 and 8u.242 for java 8
- and between 11.0.3 and 11.0.6 for java 11

There are a lot of kerberos related changes after 8u.232:
see https://hg.openjdk.java.net/jdk8u/jdk8u/jdk

I didn't really found the root cause of the issue, but the problem disappeared
after upgrading the Apache Kerby. Kerby is used only by the tests to start a local
embedded KDC server. I also checked the dependencies of the new Kerby version
and there is nothing to exclude there as far as I saw.

I also improved the logging of errors during Kerberos authentication problems by
printing out some more exceptions.

Author: Mate Szalay-Beko <szalay.beko.mate@gmail.com>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Norbert Kalmar <nkalmar@apache.org>

Closes #1248 from symat/ZOOKEEPER-3715-branch-3.5","{""sha"": ""80947563c892e084569a05f4f1c2637c08379172"", ""author"": {""name"": ""Mate Szalay-Beko"", ""email"": ""szalay.beko.mate@gmail.com"", ""date"": ""2020-02-05T08:54:19Z""}, ""committer"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@apache.org"", ""date"": ""2020-02-05T08:54:19Z""}}"
1707,SubmitCommit,2020-02-05 10:21:41,nkalmar,unfork_close,Prepare for the next release: update the version to 3.5.8-SNAPSHOT,"{""sha"": ""b812bd43ff3fdfd47bc1251f9e158e28e710e056"", ""author"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@yahoo.com"", ""date"": ""2020-02-05T10:21:41Z""}, ""committer"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@yahoo.com"", ""date"": ""2020-02-05T10:21:41Z""}}"
1707,SubmitCommit,2020-02-09 13:48:03,phunt,unfork_close,"ZOOKEEPER-3716: upgrade netty 4.1.42 to address CVE-2019-20444 CVE-20…

…19-20445

Updated netty to version 4.1.45 to address CVE-2019-20444 CVE-2019-20445

Change-Id: Iabcbd1f0b75a03d2a555084de841d7f8caedf6bd
(cherry picked from commit c3f6d4627579e3ee1a25a7c3f08ceb261eee5af1)

Author: Patrick Hunt <phunt@apache.org>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Norbert Kalmar <nkalmar@apache.org>

Closes #1246 from phunt/ZOOKEEPER-3716_br35","{""sha"": ""b3adc29f9c4bf1ed3f05dbac0aa5b597a6ca2fd9"", ""author"": {""name"": ""Patrick Hunt"", ""email"": ""phunt@apache.org"", ""date"": ""2020-02-09T13:48:03Z""}, ""committer"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@apache.org"", ""date"": ""2020-02-09T13:48:03Z""}}"
1707,SubmitCommit,2020-02-09 13:55:00,ztzg,unfork_close,"ZOOKEEPER-3719: Fix C Client compilation issues

This series fixes the following:

  * Actually build the C code in `full-build` profile:

    Without this, the C client is configured by Maven, but not built.
    This helps avoiding compilation errors, but has other downsides.

  * Fix Windows compilation issue:

    The backport of ZOOKEEPER-1105 introduced a compilation error in
    one of the `WIN32` branches of the C client code.

    This happened because the ""socket object"" does not use the same
    representation on `branch-3.5` (as it does not include the SSL
    support introduced by ZOOKEEPER-2122).

  * Fix GCC 8.3 compilation issues:

    `Makefile.am` uses `-Werror`, and this causes the build to fail
    with GCC 8.3, which warns about a couple possible buffer overruns.

Author: Damien Diederen <dd@crosstwine.com>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Norbert Kalmar <nkalmar@apache.org>

Closes #1249 from ztzg/ZOOKEEPER-3719-c-client-3.5.7-fixes

(cherry picked from commit 89730f4adcda9c9b3bf19ccdaf4cc65b0a8fec1d)
Signed-off-by: Norbert Kalmar <nkalmar@apache.org>","{""sha"": ""9c0773cbac6958e1a47071c6ebded65f38b1517f"", ""author"": {""name"": ""Damien Diederen"", ""email"": ""dd@crosstwine.com"", ""date"": ""2020-02-09T13:54:44Z""}, ""committer"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@apache.org"", ""date"": ""2020-02-09T13:55:00Z""}}"
1707,SubmitCommit,2020-02-10 07:13:05,nkalmar,unfork_close,"ZOOKEEPER-3718: The tarball generated by assembly is missing some files

There were missing files from the generated source tarball, namely:
-checkstyleSuppressions.xml, .travis.yml and ""dev"" directory missing
-the generated jute was included with the C client code

Author: Norbert Kalmar <nkalmar@yahoo.com>

Reviewers: Enrico Olivelli <eolivelli@apache.org>

Closes #1250 from nkalmar/ZOOKEEPER-3718","{""sha"": ""24240107d0d6cdf8ab9a676b74a48b4e7663bbed"", ""author"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@yahoo.com"", ""date"": ""2020-02-10T07:13:05Z""}, ""committer"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@apache.org"", ""date"": ""2020-02-10T07:13:05Z""}}"
1707,SubmitCommit,2020-02-10 10:20:02,JustCallMeFeng,unfork_close,"ZOOKEEPER-3453: missing 'SET' in zkCli on windows

from #1195

Author: 慕华 <wrdfeng@gmail.com>

Reviewers: Andor Molnar <andor@apache.org>, Norbert Kalmar <nkalmar@apache.org>

Closes #1234 from wordfeng/patch-1","{""sha"": ""bc0a065fbaa9c0e6fa77d185563573b0f114c44b"", ""author"": {""name"": ""\u6155\u534e"", ""email"": ""wrdfeng@gmail.com"", ""date"": ""2020-02-10T10:20:02Z""}, ""committer"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@apache.org"", ""date"": ""2020-02-10T10:20:02Z""}}"
1707,SubmitCommit,2020-02-23 16:46:32,eolivelli,unfork_close,"ZOOKEEPER-3734: upgrade jackson-databind to address CVE-2020-8840

Author: Enrico Olivelli <eolivelli@apache.org>

Reviewers: phunt@apache.org

Closes #1262 from eolivelli/fix/ZOOKEEPER-3734-jackson-again

Change-Id: I21df2c160f8dd9c2542c153e4aa53500b58e8144
(cherry picked from commit f0c6ae5eb205d7c546483a6f1769cb58b68169a6)
Signed-off-by: Patrick Hunt <phunt@apache.org>","{""sha"": ""c01aef824b556f68085a8bbeeaf379172c2bf8a4"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-02-23T16:41:20Z""}, ""committer"": {""name"": ""Patrick Hunt"", ""email"": ""phunt@apache.org"", ""date"": ""2020-02-23T16:46:32Z""}}"
1707,SubmitCommit,2020-03-01 05:43:16,ctubbsii,unfork_close,"ZOOKEEPER-3737: Detect log4j 1.2 jmx support better

* Look for jmx class that exists only in the log4j 1.2 jar, but not in
  the log4j2 1.2 compatibility jar.
* Check if disabled before attempting to detect log4j 1.2 jmx classes.
* Update log messages to highlight that they are referring to log4j 1.2
  and not log4j2 or other versions.
* Minor javadoc fixup

Author: Christopher Tubbs <ctubbsii@apache.org>

Reviewers: phunt@apache.org

Closes #1270 from ctubbsii/ZK-3737

Change-Id: I7ebd7a28386d3fee33fcc9078d7f573dc766e8ee
(cherry picked from commit 5a2332058deba04313ad37fa05cbb1515c83b8e6)
Signed-off-by: Patrick Hunt <phunt@apache.org>","{""sha"": ""1332b0d049f60239cc3001f9bf49b83444ec8cab"", ""author"": {""name"": ""Christopher Tubbs"", ""email"": ""ctubbsii@apache.org"", ""date"": ""2020-03-01T05:42:47Z""}, ""committer"": {""name"": ""Patrick Hunt"", ""email"": ""phunt@apache.org"", ""date"": ""2020-03-01T05:43:16Z""}}"
1707,SubmitCommit,2020-03-12 16:10:43,suhasdantkale,unfork_close,"ZOOKEEPER-2164: Quorum members can not rejoin after restart

(Ported from Mate Szalay-Beko's work in master branch.
Refer to https://github.com/apache/zookeeper/pull/1254)

Ever since ZOOKEEPER-107 (released in 3.5.0) the servers are sending
their addresses during initial connection requests. The receiving
server can potentially use these addresses to send back a new
connection request if the challenge is won by the receiver.

If the server config contains wildcard address (e.g. 0.0.0.0 in case
of IPv4) then the first connection request sent by A to B will contain
this address. If the ID of A is smaller than the ID of B, then A will
lose the challenge and the second connection request sent back by B
will never reach A, as B will send the initial message to 0.0.0.0.

So in any 3.5+ ZooKeeper, if wildcard addresses are used in the configs,
then there might be some servers never able to rejoin to the quorum
after they got restarted.

In 3.5+ for backward compatibility reasons (needed during rolling
upgrade) there is a version of the QuorumCnxManager.connectOne()
method that needs no election address but use the last known address
to initiate the connection. In this commit, we simply call this method
if the address is a wildcard address.

I also added a few restart related tests, to make sure that restart
still works when we don't use no wildcard addresses. We can not test
the original error with unit tests, as it would require to start
the quorum on multiple hosts.

I also tested manually the rolling restart both with and without
wildcard addresses in the config.

Reviewer: Mate Szalay-Beko <szalay.beko.mategmail.com>

Author: Suhas Dantkale <sdantkale@salesforce.com>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Norbert Kalmar <nkalmar@apache.org>

Closes #1256 from suhasdantkale/suhas/ZOOKEEPER-2164","{""sha"": ""800cc26a768fceda9ea42fe8121acf45fe781c57"", ""author"": {""name"": ""Suhas Dantkale"", ""email"": ""sdantkale@salesforce.com"", ""date"": ""2020-03-12T16:10:43Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""enrico.olivelli@diennea.com"", ""date"": ""2020-03-12T16:10:43Z""}}"
1707,SubmitCommit,2020-03-26 16:31:43,symat,unfork_close,"ZOOKEEPER-3756: Members slow to rejoin quorum using Kubernetes

Whenever we close the current master ZooKeeper server, a new leader election
is triggered. During the new election, a connection will be established between
all the servers, by calling the synchronized 'connectOne' method in
QuorumCnxManager. The method will open the socket and send a single small
initial message to the other server, usually very quickly. If the destination
host is unreachable, it should fail immediately.

However, when we use Kubernetes, then the destination host is always reachable
as it points to Kubernetes services. If the actual container / pod is not
available then the 'socket.connect' method will timeout (by default after 5 sec)
instead of failing immediately with NoRouteToHostException. As the 'connectOne'
method is synchronized, this timeout will block the creation of other
connections, so a single unreachable host can cause timeout in the leader
election protocol.

One workaround is to decrease the socket connection timeout with the
'-Dzookeeper.cnxTimeout' stystem property, but the proper fix would be to
make the connection initiation fully asynchronous, as using very low timeout can
have its own side effect. Fortunately most of the initial message sending
is already made async: the SASL authentication can take more time, so the
second (authentication + initial message sending) part of the initiation protocol
is already called in a separate thread, when Quorum SASL authentication is enabled.

In the following patch I made the whole connection initiation async, by
always using the async executor (not only when Quorum SASL is enabled) and
also moving the socket.connect call into the async thread.

I also created a unit test to verify my fix. I added a static socket factory that can be
changed by the tests using a packet private setter method. My test failed (and
produced the same error logs as we see in the original Jira ticket) before I applied
my changes and a time-outed as no leader election succeeded after 15 seconds.
After the changes the test runs very quickly, in 1-2 seconds.

Note: due to the multiAddress changes, we will need different PRs to the branch 3.5
and to the 3.6+ branches. I will submit the other PR once this got reviewed.

Author: Mate Szalay-Beko <szalay.beko.mate@gmail.com>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Norbert Kalmar <nkalmar@apache.org>

Closes #1293 from symat/ZOOKEEPER-3756-branch-3.5","{""sha"": ""e30991d8aa068c6ede2c33476ab4a25493fd1c49"", ""author"": {""name"": ""Mate Szalay-Beko"", ""email"": ""szalay.beko.mate@gmail.com"", ""date"": ""2020-03-26T16:31:43Z""}, ""committer"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@apache.org"", ""date"": ""2020-03-26T16:31:43Z""}}"
1707,SubmitCommit,2020-03-26 17:44:42,lingjinjiang,unfork_close,"ZOOKEEPER-3760: remove a useless throwing CliException

https://issues.apache.org/jira/browse/ZOOKEEPER-3760

When I upgrade zookeeper from 3.4.13 to 3.5.7 in my application, I find the function processCmd in ZooKeeperMain.java throws a CliException which has been caught in the function. So I think it can be removed

Author: lingjinjiang <lingjinjiang@gmail.com>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Norbert Kalmar <nkalmar@apache.org>

Closes #1286 from lingjinjiang/master

(cherry picked from commit 2581f71dd97cfda2cf6768c3457b81c7a93b9ef7)
Signed-off-by: Norbert Kalmar <nkalmar@apache.org>","{""sha"": ""95852ea842980482c6f71a94942c687a378d5a9f"", ""author"": {""name"": ""lingjinjiang"", ""email"": ""lingjinjiang@gmail.com"", ""date"": ""2020-03-26T17:41:57Z""}, ""committer"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@apache.org"", ""date"": ""2020-03-26T17:44:42Z""}}"
1707,SubmitCommit,2020-04-07 07:09:53,symat,unfork_close,"ZOOKEEPER-3769: handling malformed Leader Election notification messages

Using ZooKeeper with JDK 12.0.2 on CentOS 7 when the current leader is killed, we saw a few times that some partial Leader Election notification (vote) messages were delivered to the other ZooKeeper servers. The malformed / partial messages are causing different exceptions in the WorkerReceiver thread of FastLeaderElection which were not handled before. This was leading to the death of the WorkerReceiver thread, which caused that the given ZooKeeper Server was unable to receive leader election messages anymore and was not able to re-join to any quorum until it got restarted.

In the proposed fix I created unit tests to simulate certain error cases with regards to partial leader election messages, and fixed the error handling in FastLeaderElection.

Author: Mate Szalay-Beko <szalay.beko.mate@gmail.com>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Norbert Kalmar <nkalmar@apache.org>

Closes #1305 from symat/ZOOKEEPER-3769-branch-3.5","{""sha"": ""f6df585ba4f1f5a012461d9c15c55e541d64f97a"", ""author"": {""name"": ""Mate Szalay-Beko"", ""email"": ""szalay.beko.mate@gmail.com"", ""date"": ""2020-04-07T07:09:53Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""enrico.olivelli@diennea.com"", ""date"": ""2020-04-07T07:09:53Z""}}"
1707,SubmitCommit,2020-04-07 15:00:59,eolivelli,unfork_close,"ZOOKEEPER-3785: Make sources buildable with JDK14

Author: Enrico Olivelli <eolivelli@apache.org>

Reviewers: Mate Szalay-Beko <szalay.beko.mate@gmail.com>, TisunKun <wander4096@gmail.com>

Closes #1308 from eolivelli/fix/jdk14

(cherry picked from commit a8fb880218410ec3b31374d957e5a0bd6c8cdf28)
Signed-off-by: Enrico Olivelli <eolivelli@apache.org>","{""sha"": ""7bf53e7985948e9fd59bbce74b5b3403a7c7aaf5"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-04-07T15:00:35Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-04-07T15:00:59Z""}}"
1707,SubmitCommit,2020-04-11 06:47:53,vtyulb,unfork_close,"ZOOKEEPER-3726: invalid ipv6 address comparison in C client

Fix for https://issues.apache.org/jira/browse/ZOOKEEPER-3726

sockaddr_storage can contain ipv4 or ipv6 address. If address is ipv6, then we need to compare more bytes.

In this PR correct comparison of sockaddr_storage was added.

Author: Vladislav Tyulbashev <vtyulb@vtyulb.ru>

Reviewers: Norbert Kalmar <nkalmar@apache.org>, Mate Szalay-Beko <symat@apache.org>

Closes #1252 from vtyulb/ZOOKEEPER-3726

(cherry picked from commit 726f6843eba75bb3673284b52d8ca3801c5431d3)
Signed-off-by: Mate Szalay-Beko <symat@apache.org>","{""sha"": ""0f67ee74bed60fd4240e297257c3cd40bd2ea608"", ""author"": {""name"": ""Vladislav Tyulbashev"", ""email"": ""vtyulb@vtyulb.ru"", ""date"": ""2020-04-11T06:19:04Z""}, ""committer"": {""name"": ""Mate Szalay-Beko"", ""email"": ""symat@apache.org"", ""date"": ""2020-04-11T06:47:53Z""}}"
1707,SubmitCommit,2020-04-15 09:46:41,phunt,unfork_close,"ZOOKEEPER-3794: upgrade netty to address CVE-2020-11612

Author: Patrick Hunt <phunt@apache.org>

Reviewers: Enrico Olivelli <eolivelli@apache.org>

Closes #1320 from phunt/ZOOKEEPER-3794_br35","{""sha"": ""c0e708531c0bfc2f6ef61e5e729c486393a5e3db"", ""author"": {""name"": ""Patrick Hunt"", ""email"": ""phunt@apache.org"", ""date"": ""2020-04-15T09:46:41Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""enrico.olivelli@diennea.com"", ""date"": ""2020-04-15T09:46:41Z""}}"
1707,SubmitCommit,2020-04-27 09:06:21,nkalmar,unfork_close,"ZOOKEEPER-3780: restore Version.getRevision() to be bacward compatible

for branch-3.5

Author: Norbert Kalmar <nkalmar@apache.org>

Reviewers: Mate Szalay-Beko <symat@apache.org>

Closes #1309 from nkalmar/branch-3.5","{""sha"": ""fc7cc9412c6579defdba175b050a3a14709aec45"", ""author"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@apache.org"", ""date"": ""2020-04-27T09:06:21Z""}, ""committer"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@apache.org"", ""date"": ""2020-04-27T09:06:21Z""}}"
1707,SubmitCommit,2020-04-28 14:33:32,arshadmohammad,unfork_close,"ZOOKEEPER-2307: ZooKeeper not starting because acceptedEpoch is less than the currentEpoch

Update acceptedEpoch and currentEpoch in file first then in memory.

cherry-picked from the original commit (19d8567) and fixed to be compatible with branch-3.5

Author: Mohammad Arshad <arshadapache.org>

Reviewers: andorapache.org

Author: Mate Szalay-Beko <symat@apache.org>

Reviewers: Andor Molnar <andor@apache.org>, Mate Szalay-Beko <symat@apache.org>

Closes #1339 from symat/ZOOKEEPER-3810","{""sha"": ""e9dbd6357e7c93fa5e31eb37062f4d17da179597"", ""author"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2020-04-28T14:33:32Z""}, ""committer"": {""name"": ""Mate Szalay-Beko"", ""email"": ""symat@apache.org"", ""date"": ""2020-04-28T14:33:32Z""}}"
1707,SubmitCommit,2020-04-28 20:44:59,ctubbsii,unfork_close,"ZOOKEEPER-3739: Remove use of com.sun.nio.file.SensitivityWatchEventModifier

3.5 backport of #1269

Author: Christopher Tubbs <ctubbsii@apache.org>

Reviewers: Andor Molnar <andor@apache.org>, Enrico Olivelli <eolivelli@apache.org>, Mate Szalay-Beko <symat@apache.org>

Closes #1340 from anmolnar/ZOOKEEPER-3215_35","{""sha"": ""35f7a8e037d2f3b5e699f4c6ce1da869b8fe6b3f"", ""author"": {""name"": ""Christopher Tubbs"", ""email"": ""ctubbsii@apache.org"", ""date"": ""2020-04-28T20:44:59Z""}, ""committer"": {""name"": ""Mate Szalay-Beko"", ""email"": ""symat@apache.org"", ""date"": ""2020-04-28T20:44:59Z""}}"
1707,SubmitCommit,2020-04-29 09:20:59,belugabehr,unfork_close,"ZOOKEEPER-3357: Remove Dead Link from ZooKeeper Programmer Guide

backporting PR #903 to branch-3.5

Author: Beluga Behr <dam6923@gmail.com>

Reviewers: Norbert Kalmar <nkalmar@apache.org>

Closes #1342 from symat/ZOOKEEPER-3357-branch-3.5","{""sha"": ""838d7e54eeead89598859b0b775ff1a11e4ec7d7"", ""author"": {""name"": ""Beluga Behr"", ""email"": ""dam6923@gmail.com"", ""date"": ""2020-04-29T09:20:59Z""}, ""committer"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@apache.org"", ""date"": ""2020-04-29T09:20:59Z""}}"
1707,SubmitCommit,2020-04-29 09:22:15,belugabehr,unfork_close,"ZOOKEEPER-3355: Remove 'tbd' From Docs

backporting PR #902 to branch-3.5

Author: Beluga Behr <dam6923@gmail.com>

Reviewers: Norbert Kalmar <nkalmar@apache.org>

Closes #1343 from symat/ZOOKEEPER-3355-branch-3.5","{""sha"": ""f84d00cb0f679d070aed302e2deaaa93142372db"", ""author"": {""name"": ""Beluga Behr"", ""email"": ""dam6923@gmail.com"", ""date"": ""2020-04-29T09:22:15Z""}, ""committer"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@apache.org"", ""date"": ""2020-04-29T09:22:15Z""}}"
1707,SubmitCommit,2020-04-29 17:27:55,belugabehr,unfork_close,"ZOOKEEPER-3678: Remove Redundant GroupID from Maven POMs

Author: David Mollitor <dmollitor@apache.org>

Reviewers: Norbert Kalmar <nkalmar@apache.org>

Closes #1206 from belugabehr/ZOOKEEPER-3678

(cherry picked from commit 1c5d135d74f16275876c024401dc2de92909b20a)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""b9898feb700ce45ed0bba8c308aaac25076a038c"", ""author"": {""name"": ""David Mollitor"", ""email"": ""dmollitor@apache.org"", ""date"": ""2020-01-13T13:09:29Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2020-04-29T17:27:55Z""}}"
1707,SubmitCommit,2020-04-29 17:33:11,belugabehr,unfork_close,"ZOOKEEPER-3679: Upgrade maven-compiler-plugin For ZooKeeper-jute

Author: David Mollitor <dmollitor@apache.org>

Reviewers: Enrico Olivelli <eolivelli@apache.org>

Closes #1207 from belugabehr/ZOOKEEPER-3679","{""sha"": ""b321ff9a7240e010a9417dfe2622181ed4963541"", ""author"": {""name"": ""David Mollitor"", ""email"": ""dmollitor@apache.org"", ""date"": ""2020-01-08T09:43:49Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2020-04-29T17:33:11Z""}}"
1707,SubmitCommit,2020-04-30 10:15:50,symat,unfork_close,"ZOOKEEPER-3751: upgrade jackson-databind to 2.10 from 2.9

The original PR (#1283) was only merged to 3.6+ as in 3.5 we also have to change the ant configs. I created a new PR to kick-in the CI also for branch 3.5.

Author: Mate Szalay-Beko <symat@apache.org>

Reviewers: Enrico Olivelli <eolivelli@apache.org>

Closes #1341 from symat/ZOOKEEPER-3751-branch-3.5","{""sha"": ""c7914994a8e86668f9f5f18f96afb995410ca9ce"", ""author"": {""name"": ""Mate Szalay-Beko"", ""email"": ""symat@apache.org"", ""date"": ""2020-04-30T10:15:50Z""}, ""committer"": {""name"": ""Mate Szalay-Beko"", ""email"": ""symat@apache.org"", ""date"": ""2020-04-30T10:15:50Z""}}"
1707,SubmitCommit,2020-05-04 06:51:56,phunt,unfork_close,"ZOOKEEPER-3794: upgrade netty to address CVE-2020-11612 - fixed file rename typo

I borked the rename of the netty-codec file on the original submit. This fixes by renaming the one file appropriately.

Change-Id: Ifff1e7bb49b3d0a5816ee97161a4043be7cdaaa6

Author: Patrick Hunt <phunt@apache.org>

Reviewers: Mate Szalay-Beko <symat@apache.org>

Closes #1333 from phunt/ZOOKEEPER-3794_rename

(cherry picked from commit ac4da3ebed34c536c4ea873503b0a6c036fa3910)
Signed-off-by: Mate Szalay-Beko <symat@apache.org>","{""sha"": ""12276e3ccf75916135e2fd94a0aa3c1f87a40a16"", ""author"": {""name"": ""Patrick Hunt"", ""email"": ""phunt@apache.org"", ""date"": ""2020-05-04T06:49:35Z""}, ""committer"": {""name"": ""Mate Szalay-Beko"", ""email"": ""symat@apache.org"", ""date"": ""2020-05-04T06:51:56Z""}}"
1707,SubmitCommit,2020-05-04 12:12:57,symat,unfork_close,"ZOOKEEPER-3727: Fix 3.5 source tarball to represent the git repository

Comparing the 3.5 source tarball with the freshly cloned branch-3.5,
we see the following differences:

```
diff --brief --recursive ./tarball/ ./cloned/

Only in ./cloned: .git
Only in ./cloned: .gitattributes
Only in ./cloned: .gitignore
Only in ./cloned: checkstyle.xml
Only in ./tarball/zookeeper-server/src/main/java/org/apache/zookeeper/version: Info.java
Only in ./tarball/zookeeper-server/src/main/resources: git.properties
```

I added the `checkstyle.xml`, as it was missing due to a typo.

The git related files / folders are not present in the 3.6 releases either, so I don't think we
should change the current behaviour on 3.5.

The `Info.java` and `git.properties` files are generated by the Git-Commit-Id-Plugin during
the build. We don't have these files generated on the 3.6 / master branches. I would suggest
to keep them in the source tarball, as users who use the source tarball will not have the
git commit info as they didn't clone the repo from git.

Author: Mate Szalay-Beko <symat@apache.org>

Reviewers: Norbert Kalmar <nkalmar@apache.org>

Closes #1344 from symat/ZOOKEEPER-3727","{""sha"": ""2b85b9bd1644660b70d33b46b1b891359dfdd101"", ""author"": {""name"": ""Mate Szalay-Beko"", ""email"": ""symat@apache.org"", ""date"": ""2020-05-04T12:12:57Z""}, ""committer"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@apache.org"", ""date"": ""2020-05-04T12:12:57Z""}}"
1707,SubmitCommit,2020-05-04 12:14:02,symat,unfork_close,"ZOOKEEPER-3817: suppress log4j SmtpAppender related CVE-2020-9488

Author: Mate Szalay-Beko <symat@apache.org>

Reviewers: Enrico Olivelli <eolivelli@apache.org>

Closes #1346 from symat/ZOOKEEPER-3817

(cherry picked from commit f6b54a6cd227ac37f28803f45d7287c7fd3a8142)
Signed-off-by: Enrico Olivelli <eolivelli@apache.org>","{""sha"": ""3b5be590b7b0bbccfea2a114e10daeb75ce63cef"", ""author"": {""name"": ""Mate Szalay-Beko"", ""email"": ""symat@apache.org"", ""date"": ""2020-05-04T12:13:41Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-05-04T12:14:02Z""}}"
1707,SubmitCommit,2020-05-04 12:22:46,suhasdantkale,unfork_close,"ZOOKEEPER-3723: Zookeeper Client should not fail with ZSYSTEMERROR if DNS does not resolve one of the servers in the zk ensemble

The change is backported from
Jeelani Mohamed Abdul Khader <mjeelanidevvm3360.prn2.facebook.com>'s
https://github.com/apache/zookeeper/pull/579 change done in
""ZOOKEEPER-3095: Connect string fix for non-existent hosts""

Code changes to not fail the session initiation if the DNS is not able to
resolve the hostname of one of the servers in the Zookeeper ensemble.

Some Background:
The Zookeeper client resolves all the hostnames in the ensemble while establishing the session.
In Kubernetes environment with coreDNS, the hostname entry gets removed from coreDNS during the POD restarts.
Though we can manipulate the coreDNS settings to delay the removal of the hostname entry from DNS,
we don't want to leave any race where Zookeeper client is trying to establish a session and it fails
because the DNS temporarily is not able to resolve the hostname. So as long as one of the servers
in the ensemble is able to be DNS resolvable, should we not fail the session establishment with hard error
and instead try to establish the connection with one of the other servers

Author: Suhas Dantkale <sdantkale@salesforce.com>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Mate Szalay-Beko <szalay.beko.mate@gmail.com>, Damien Diederen <dd@crosstwine.com>

Closes #1259 from suhasdantkale/suhas/ZOOKEEPER-3723","{""sha"": ""d336e5a76d18f5d9135a6676170dfadc3cd5b332"", ""author"": {""name"": ""Suhas Dantkale"", ""email"": ""sdantkale@salesforce.com"", ""date"": ""2020-05-04T12:22:46Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-05-04T12:22:46Z""}}"
1707,SubmitCommit,2020-05-04 13:59:44,symat,unfork_close,add missing 3.5.7 release notes,"{""sha"": ""2d307cefff6173fde65f7fac6edf7be974e3a3d7"", ""author"": {""name"": ""Mate Szalay-Beko"", ""email"": ""symat@apache.org"", ""date"": ""2020-05-04T13:59:44Z""}, ""committer"": {""name"": ""Mate Szalay-Beko"", ""email"": ""symat@apache.org"", ""date"": ""2020-05-04T13:59:44Z""}}"
1707,SubmitCommit,2020-05-04 14:24:46,symat,unfork_close,Preparing for release 3.5.8,"{""sha"": ""f439ca583e70862c3068a1f2a7d4d068eec33315"", ""author"": {""name"": ""Mate Szalay-Beko"", ""email"": ""symat@apache.org"", ""date"": ""2020-05-04T14:24:46Z""}, ""committer"": {""name"": ""Mate Szalay-Beko"", ""email"": ""symat@apache.org"", ""date"": ""2020-05-04T14:24:46Z""}}"
1707,OpenPR,2021-06-04 14:51:21,My-Life123,unfork_close,,
1707,ReviewComment,2021-06-04 15:02:28,sonatype-lift[bot],unfork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1707#pullrequestreview-676386007""}"
1707,ReviewComment,2021-06-04 15:02:29,sonatype-lift[bot],unfork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1707#pullrequestreview-676386023""}"
1707,ReviewComment,2021-06-04 15:02:31,sonatype-lift[bot],unfork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1707#pullrequestreview-676386042""}"
1707,ReviewComment,2021-06-04 15:02:32,sonatype-lift[bot],unfork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1707#pullrequestreview-676386063""}"
1707,ReviewComment,2021-06-04 15:02:33,sonatype-lift[bot],unfork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1707#pullrequestreview-676386088""}"
1707,ReviewComment,2021-06-04 15:02:34,sonatype-lift[bot],unfork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1707#pullrequestreview-676386113""}"
1707,ReviewComment,2021-06-04 15:02:36,sonatype-lift[bot],unfork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1707#pullrequestreview-676386138""}"
1707,ReviewComment,2021-06-04 15:02:38,sonatype-lift[bot],unfork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1707#pullrequestreview-676386167""}"
1707,ReviewComment,2021-06-04 15:02:39,sonatype-lift[bot],unfork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1707#pullrequestreview-676386195""}"
1707,ReviewComment,2021-06-04 15:02:41,sonatype-lift[bot],unfork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1707#pullrequestreview-676386219""}"
1707,ReviewComment,2021-06-04 15:02:42,sonatype-lift[bot],unfork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1707#pullrequestreview-676386244""}"
1707,ReviewComment,2021-06-04 15:02:43,sonatype-lift[bot],unfork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1707#pullrequestreview-676386254""}"
1707,ReviewComment,2021-06-04 15:03:13,sonatype-lift[bot],unfork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1707#pullrequestreview-676386737""}"
1707,ReviewComment,2021-06-04 15:03:15,sonatype-lift[bot],unfork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1707#pullrequestreview-676386781""}"
1707,ReviewComment,2021-06-04 15:03:16,sonatype-lift[bot],unfork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1707#pullrequestreview-676386799""}"
1707,ReviewComment,2021-06-04 15:03:17,sonatype-lift[bot],unfork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1707#pullrequestreview-676386813""}"
1707,ReviewComment,2021-06-04 15:03:18,sonatype-lift[bot],unfork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1707#pullrequestreview-676386838""}"
1707,ReviewComment,2021-06-04 15:03:20,sonatype-lift[bot],unfork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1707#pullrequestreview-676386863""}"
1707,ReviewComment,2021-06-04 15:03:21,sonatype-lift[bot],unfork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1707#pullrequestreview-676386877""}"
1707,ReviewComment,2021-06-04 15:03:22,sonatype-lift[bot],unfork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1707#pullrequestreview-676386898""}"
1707,ReviewComment,2021-06-04 15:03:24,sonatype-lift[bot],unfork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1707#pullrequestreview-676386923""}"
1707,ReviewComment,2021-06-04 15:03:25,sonatype-lift[bot],unfork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1707#pullrequestreview-676386947""}"
1707,ReviewComment,2021-06-04 15:03:26,sonatype-lift[bot],unfork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1707#pullrequestreview-676386980""}"
1707,ReviewComment,2021-06-04 15:03:28,sonatype-lift[bot],unfork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1707#pullrequestreview-676387003""}"
1707,ReviewComment,2021-06-04 15:03:29,sonatype-lift[bot],unfork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1707#pullrequestreview-676387024""}"
1707,ReviewComment,2021-06-04 15:03:30,sonatype-lift[bot],unfork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1707#pullrequestreview-676387040""}"
1707,ReviewComment,2021-06-04 15:03:31,sonatype-lift[bot],unfork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1707#pullrequestreview-676387065""}"
1707,ReviewComment,2021-06-04 15:03:32,sonatype-lift[bot],unfork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1707#pullrequestreview-676387080""}"
1707,ReviewComment,2021-06-04 15:03:34,sonatype-lift[bot],unfork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1707#pullrequestreview-676387109""}"
1707,ReviewComment,2021-06-04 15:03:36,sonatype-lift[bot],unfork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1707#pullrequestreview-676387143""}"
1707,ReviewComment,2021-06-04 15:03:37,sonatype-lift[bot],unfork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1707#pullrequestreview-676387173""}"
1707,ReviewComment,2021-06-04 15:03:38,sonatype-lift[bot],unfork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1707#pullrequestreview-676387191""}"
1707,ReviewComment,2021-06-04 15:03:39,sonatype-lift[bot],unfork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1707#pullrequestreview-676387217""}"
1707,ReviewComment,2021-06-04 15:03:40,sonatype-lift[bot],unfork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1707#pullrequestreview-676387235""}"
1707,ReviewComment,2021-06-04 15:03:42,sonatype-lift[bot],unfork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1707#pullrequestreview-676387259""}"
1707,ReviewComment,2021-06-04 15:03:43,sonatype-lift[bot],unfork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1707#pullrequestreview-676387283""}"
1707,ReviewComment,2021-06-04 15:03:44,sonatype-lift[bot],unfork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1707#pullrequestreview-676387297""}"
1707,ReviewComment,2021-06-04 15:03:45,sonatype-lift[bot],unfork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1707#pullrequestreview-676387325""}"
1707,ReviewComment,2021-06-04 15:03:47,sonatype-lift[bot],unfork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1707#pullrequestreview-676387346""}"
1707,ReviewComment,2021-06-04 15:03:48,sonatype-lift[bot],unfork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1707#pullrequestreview-676387367""}"
1707,ReviewComment,2021-06-04 15:03:49,sonatype-lift[bot],unfork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1707#pullrequestreview-676387390""}"
1707,ReviewComment,2021-06-04 15:03:50,sonatype-lift[bot],unfork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1707#pullrequestreview-676387411""}"
1707,ReviewComment,2021-06-04 15:03:51,sonatype-lift[bot],unfork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1707#pullrequestreview-676387429""}"
1707,ReviewComment,2021-06-04 15:03:52,sonatype-lift[bot],unfork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1707#pullrequestreview-676387448""}"
1707,ReviewComment,2021-06-04 15:03:53,sonatype-lift[bot],unfork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1707#pullrequestreview-676387475""}"
1707,ReviewComment,2021-06-04 15:03:55,sonatype-lift[bot],unfork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1707#pullrequestreview-676387496""}"
1707,ReviewComment,2021-06-04 15:03:56,sonatype-lift[bot],unfork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1707#pullrequestreview-676387519""}"
1707,ReviewComment,2021-06-04 15:03:57,sonatype-lift[bot],unfork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1707#pullrequestreview-676387544""}"
1707,ReviewComment,2021-06-04 15:03:59,sonatype-lift[bot],unfork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1707#pullrequestreview-676387568""}"
1707,ReviewComment,2021-06-04 15:04:00,sonatype-lift[bot],unfork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1707#pullrequestreview-676387603""}"
1707,ReviewComment,2021-06-04 15:04:02,sonatype-lift[bot],unfork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1707#pullrequestreview-676387632""}"
1707,ReviewComment,2021-06-04 15:04:04,sonatype-lift[bot],unfork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1707#pullrequestreview-676387666""}"
1707,ReviewComment,2021-06-04 15:04:05,sonatype-lift[bot],unfork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1707#pullrequestreview-676387691""}"
1707,ReviewComment,2021-06-04 15:04:06,sonatype-lift[bot],unfork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1707#pullrequestreview-676387715""}"
1707,ReviewComment,2021-06-04 15:04:08,sonatype-lift[bot],unfork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1707#pullrequestreview-676387737""}"
1707,ReviewComment,2021-06-04 15:04:09,sonatype-lift[bot],unfork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1707#pullrequestreview-676387759""}"
1707,ReviewComment,2021-06-04 15:04:10,sonatype-lift[bot],unfork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1707#pullrequestreview-676387781""}"
1707,ReviewComment,2021-06-04 15:04:12,sonatype-lift[bot],unfork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1707#pullrequestreview-676387806""}"
1707,ReviewComment,2021-06-04 15:04:13,sonatype-lift[bot],unfork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1707#pullrequestreview-676387822""}"
1707,ReviewComment,2021-06-04 15:04:14,sonatype-lift[bot],unfork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1707#pullrequestreview-676387842""}"
1707,ReviewComment,2021-06-04 15:04:15,sonatype-lift[bot],unfork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1707#pullrequestreview-676387862""}"
1707,ReviewComment,2021-06-04 15:04:17,sonatype-lift[bot],unfork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1707#pullrequestreview-676387886""}"
1707,ReviewComment,2021-06-04 15:04:18,sonatype-lift[bot],unfork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1707#pullrequestreview-676387905""}"
1707,ReviewComment,2021-06-04 15:04:19,sonatype-lift[bot],unfork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1707#pullrequestreview-676387928""}"
1707,ReviewComment,2021-06-04 15:04:20,sonatype-lift[bot],unfork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1707#pullrequestreview-676387960""}"
1707,ReviewComment,2021-06-04 15:04:22,sonatype-lift[bot],unfork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1707#pullrequestreview-676387981""}"
1707,ReviewComment,2021-06-04 15:04:23,sonatype-lift[bot],unfork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1707#pullrequestreview-676388008""}"
1707,ReviewComment,2021-06-04 15:04:25,sonatype-lift[bot],unfork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1707#pullrequestreview-676388038""}"
1707,ReviewComment,2021-06-04 15:04:26,sonatype-lift[bot],unfork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1707#pullrequestreview-676388071""}"
1707,ReviewComment,2021-06-04 15:04:27,sonatype-lift[bot],unfork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1707#pullrequestreview-676388089""}"
1707,ReviewComment,2021-06-04 15:04:29,sonatype-lift[bot],unfork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1707#pullrequestreview-676388108""}"
1707,ReviewComment,2021-06-04 15:04:30,sonatype-lift[bot],unfork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1707#pullrequestreview-676388134""}"
1707,ReviewComment,2021-06-04 15:04:31,sonatype-lift[bot],unfork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1707#pullrequestreview-676388151""}"
1707,ReviewComment,2021-06-04 15:04:32,sonatype-lift[bot],unfork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1707#pullrequestreview-676388172""}"
1707,ReviewComment,2021-06-04 15:04:33,sonatype-lift[bot],unfork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1707#pullrequestreview-676388190""}"
1707,ReviewComment,2021-06-04 15:04:35,sonatype-lift[bot],unfork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1707#pullrequestreview-676388220""}"
1707,ReviewComment,2021-06-04 15:04:36,sonatype-lift[bot],unfork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1707#pullrequestreview-676388250""}"
1707,ReviewComment,2021-06-04 15:04:39,sonatype-lift[bot],unfork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1707#pullrequestreview-676388298""}"
1707,ReviewComment,2021-06-04 15:04:40,sonatype-lift[bot],unfork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1707#pullrequestreview-676388327""}"
1707,ReviewComment,2021-06-04 15:04:42,sonatype-lift[bot],unfork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1707#pullrequestreview-676388358""}"
1707,ReviewComment,2021-06-04 15:04:43,sonatype-lift[bot],unfork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1707#pullrequestreview-676388387""}"
1707,ReviewComment,2021-06-04 15:04:45,sonatype-lift[bot],unfork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1707#pullrequestreview-676388404""}"
1707,ReviewComment,2021-06-04 15:04:46,sonatype-lift[bot],unfork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1707#pullrequestreview-676388425""}"
1707,ReviewComment,2021-06-04 15:04:47,sonatype-lift[bot],unfork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1707#pullrequestreview-676388446""}"
1707,ReviewComment,2021-06-04 15:04:48,sonatype-lift[bot],unfork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1707#pullrequestreview-676388461""}"
1707,ReviewComment,2021-06-04 15:04:50,sonatype-lift[bot],unfork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1707#pullrequestreview-676388486""}"
1707,ReviewComment,2021-06-04 15:04:51,sonatype-lift[bot],unfork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1707#pullrequestreview-676388511""}"
1707,ReviewComment,2021-06-04 15:04:52,sonatype-lift[bot],unfork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1707#pullrequestreview-676388531""}"
1707,ReviewComment,2021-06-04 15:04:53,sonatype-lift[bot],unfork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1707#pullrequestreview-676388547""}"
1707,ReviewComment,2021-06-04 15:04:55,sonatype-lift[bot],unfork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1707#pullrequestreview-676388577""}"
1707,ReviewComment,2021-06-04 15:04:56,sonatype-lift[bot],unfork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1707#pullrequestreview-676388596""}"
1707,ReviewComment,2021-06-04 15:04:57,sonatype-lift[bot],unfork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1707#pullrequestreview-676388611""}"
1707,ReviewComment,2021-06-04 15:04:59,sonatype-lift[bot],unfork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1707#pullrequestreview-676388639""}"
1707,ReviewComment,2021-06-04 15:05:00,sonatype-lift[bot],unfork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1707#pullrequestreview-676388663""}"
1707,ReviewComment,2021-06-04 15:05:01,sonatype-lift[bot],unfork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1707#pullrequestreview-676388682""}"
1707,ReviewComment,2021-06-04 15:05:03,sonatype-lift[bot],unfork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1707#pullrequestreview-676388710""}"
1707,ReviewComment,2021-06-04 15:05:04,sonatype-lift[bot],unfork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1707#pullrequestreview-676388732""}"
1707,ReviewComment,2021-06-04 15:05:06,sonatype-lift[bot],unfork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1707#pullrequestreview-676388760""}"
1707,ReviewComment,2021-06-04 15:05:07,sonatype-lift[bot],unfork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1707#pullrequestreview-676388788""}"
1707,ReviewComment,2021-06-04 15:05:08,sonatype-lift[bot],unfork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1707#pullrequestreview-676388812""}"
1707,ReviewComment,2021-06-04 15:05:10,sonatype-lift[bot],unfork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1707#pullrequestreview-676388851""}"
1707,ReviewComment,2021-06-04 15:05:12,sonatype-lift[bot],unfork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1707#pullrequestreview-676388888""}"
1707,ReviewComment,2021-06-04 15:05:14,sonatype-lift[bot],unfork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1707#pullrequestreview-676388907""}"
1707,ReviewComment,2021-06-04 15:05:15,sonatype-lift[bot],unfork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1707#pullrequestreview-676388934""}"
1707,ReviewComment,2021-06-04 15:05:17,sonatype-lift[bot],unfork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1707#pullrequestreview-676388980""}"
1707,ReviewComment,2021-06-04 15:05:18,sonatype-lift[bot],unfork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1707#pullrequestreview-676389004""}"
1707,ReviewComment,2021-06-04 15:05:19,sonatype-lift[bot],unfork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1707#pullrequestreview-676389028""}"
1707,ReviewComment,2021-06-04 15:05:20,sonatype-lift[bot],unfork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1707#pullrequestreview-676389045""}"
1707,ReviewComment,2021-06-04 15:05:22,sonatype-lift[bot],unfork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1707#pullrequestreview-676389077""}"
1707,ReviewComment,2021-06-04 15:05:24,sonatype-lift[bot],unfork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1707#pullrequestreview-676389097""}"
1707,ReviewComment,2021-06-04 15:05:25,sonatype-lift[bot],unfork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1707#pullrequestreview-676389123""}"
1707,ReviewComment,2021-06-04 15:05:27,sonatype-lift[bot],unfork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1707#pullrequestreview-676389155""}"
1707,ReviewComment,2021-06-04 15:05:28,sonatype-lift[bot],unfork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1707#pullrequestreview-676389184""}"
1707,ReviewComment,2021-06-04 15:05:30,sonatype-lift[bot],unfork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1707#pullrequestreview-676389213""}"
1707,ReviewComment,2021-06-04 15:05:32,sonatype-lift[bot],unfork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1707#pullrequestreview-676389246""}"
1707,ReviewComment,2021-06-04 15:05:33,sonatype-lift[bot],unfork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1707#pullrequestreview-676389265""}"
1707,ReviewComment,2021-06-04 15:05:35,sonatype-lift[bot],unfork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1707#pullrequestreview-676389290""}"
1707,ReviewComment,2021-06-04 15:05:37,sonatype-lift[bot],unfork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1707#pullrequestreview-676389324""}"
1707,ReviewComment,2021-06-04 15:05:38,sonatype-lift[bot],unfork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1707#pullrequestreview-676389350""}"
1707,ReviewComment,2021-06-04 15:05:40,sonatype-lift[bot],unfork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1707#pullrequestreview-676389374""}"
1707,ReviewComment,2021-06-04 15:05:41,sonatype-lift[bot],unfork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1707#pullrequestreview-676389396""}"
1707,ReviewComment,2021-06-04 15:05:42,sonatype-lift[bot],unfork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1707#pullrequestreview-676389415""}"
1707,ReviewComment,2021-06-04 15:05:43,sonatype-lift[bot],unfork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1707#pullrequestreview-676389445""}"
1707,ReviewComment,2021-06-04 15:05:45,sonatype-lift[bot],unfork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1707#pullrequestreview-676389473""}"
1707,ReviewComment,2021-06-04 15:05:46,sonatype-lift[bot],unfork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1707#pullrequestreview-676389493""}"
1707,ReviewComment,2021-06-04 15:05:47,sonatype-lift[bot],unfork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1707#pullrequestreview-676389512""}"
1707,ReviewComment,2021-06-04 15:05:49,sonatype-lift[bot],unfork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1707#pullrequestreview-676389537""}"
1707,ReviewComment,2021-06-04 15:05:50,sonatype-lift[bot],unfork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1707#pullrequestreview-676389560""}"
1707,ReviewComment,2021-06-04 15:05:52,sonatype-lift[bot],unfork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1707#pullrequestreview-676389585""}"
1707,ReviewComment,2021-06-04 15:05:53,sonatype-lift[bot],unfork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1707#pullrequestreview-676389603""}"
1707,ReviewComment,2021-06-04 15:05:54,sonatype-lift[bot],unfork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1707#pullrequestreview-676389633""}"
1707,ReviewComment,2021-06-04 15:05:56,sonatype-lift[bot],unfork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1707#pullrequestreview-676389653""}"
1707,ReviewComment,2021-06-04 15:05:57,sonatype-lift[bot],unfork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1707#pullrequestreview-676389678""}"
1707,ReviewComment,2021-06-04 15:05:58,sonatype-lift[bot],unfork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1707#pullrequestreview-676389709""}"
1707,ReviewComment,2021-06-04 15:06:00,sonatype-lift[bot],unfork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1707#pullrequestreview-676389732""}"
1707,ReviewComment,2021-06-04 15:06:02,sonatype-lift[bot],unfork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1707#pullrequestreview-676389756""}"
1707,ReviewComment,2021-06-04 15:06:04,sonatype-lift[bot],unfork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1707#pullrequestreview-676389791""}"
1707,ClosePR,2021-06-08 05:14:21,maoling,unfork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4855851124"", ""commit_url"": null}"
1707,IssueCommentSupplement,2021-06-08 05:14:21,maoling,unfork_close,"@My-Life123 Is it a mistake? I close it. If I miss something, please reopen it :)","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/856447129"", ""author_association"": ""MEMBER""}"
1709,SubmitCommit,2021-06-07 08:38:20,zhongxiong.zeng,fork_close,remove unnecessary code,"{""sha"": ""0e8a1ddb2697e25f80890fb93078766ef8f9c407"", ""author"": {""name"": ""zhongxiong.zeng"", ""email"": ""zhongxiong.zeng@za.group"", ""date"": ""2021-06-07T08:38:20Z""}, ""committer"": {""name"": ""zhongxiong.zeng"", ""email"": ""zhongxiong.zeng@za.group"", ""date"": ""2021-06-07T08:38:20Z""}}"
1709,OpenPR,2021-06-07 08:46:24,zhongxiongzeng,fork_close,,
1709,IssueComment,2021-06-07 14:08:50,maoling,fork_close,"@chingchan1996 PTAL. What you want is the following ?
                
```
* The leader election algorithm does not provide the ability of electing a leader from a single instance
 * which is in a configuration of 2 instances.
 * */
if (self.getQuorumVerifier() instanceof QuorumOracleMaj
    && self.getQuorumVerifier().revalidateVoteset(voteSet, notTimeout != minNotificationInterval)) {
    setPeerState(proposedLeader, voteSet);
```
- Cc @zhongxiongzeng","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/855961842"", ""author_association"": ""MEMBER""}"
1709,IssueComment,2021-06-08 01:45:17,chingchan1996,fork_close,"Yes. I think it is redundant. 

@maoling is right. ","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/856374977"", ""author_association"": ""NONE""}"
1709,IssueComment,2021-06-17 14:13:59,maoling,fork_close,@zhongxiongzeng Are you still here?,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/863276141"", ""author_association"": ""MEMBER""}"
1709,Revise,2021-06-18 02:43:22,zhongxiong.zeng,fork_close,remove redundant code,"{""sha"": ""081c2a03b87313a677ef0fac56b5d5f0636f223f"", ""author"": {""name"": ""zhongxiong.zeng"", ""email"": ""zhongxiong.zeng@za.group"", ""date"": ""2021-06-18T02:43:22Z""}, ""committer"": {""name"": ""zhongxiong.zeng"", ""email"": ""zhongxiong.zeng@za.group"", ""date"": ""2021-06-18T02:43:22Z""}}"
1709,IssueComment,2021-06-18 02:51:00,zhongxiongzeng,fork_close,"done , @maoling please take a look","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/863714815"", ""author_association"": ""CONTRIBUTOR""}"
1709,ReviewComment,2021-06-18 02:51:37,chingchan1996,fork_close,"This removal cannot be done. It will break the function of the Oracle as the comment suggests.
Did you check PR-3922?

If possible, please provide your thoughts more.","{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1709#pullrequestreview-686990060""}"
1709,ReviewComment,2021-06-18 02:57:28,chingchan1996,fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1709#pullrequestreview-686991961""}"
1709,Revise,2021-06-18 03:09:21,zhongxiong.zeng,fork_close,"Revert ""remove redundant code""

This reverts commit 081c2a03","{""sha"": ""2b49e106c8cafdfe52b634d1665280a10151cba0"", ""author"": {""name"": ""zhongxiong.zeng"", ""email"": ""zhongxiong.zeng@za.group"", ""date"": ""2021-06-18T03:09:21Z""}, ""committer"": {""name"": ""zhongxiong.zeng"", ""email"": ""zhongxiong.zeng@za.group"", ""date"": ""2021-06-18T03:09:21Z""}}"
1709,IssueComment,2021-06-22 12:33:09,maoling,fork_close,"@zhongxiongzeng if no other concerns, I'll merge it at this weekend(06-26). Cc @chingchan1996","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/865943804"", ""author_association"": ""MEMBER""}"
1709,IssueComment,2021-06-22 14:03:03,chingchan1996,fork_close,"> @zhongxiongzeng if no other concerns, I'll merge it at this weekend(06-26). Cc @chingchan1996

+1","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/866012114"", ""author_association"": ""NONE""}"
1709,IssueComment,2021-06-23 02:07:15,zhongxiongzeng,fork_close,"> @zhongxiongzeng if no other concerns, I'll merge it at this weekend(06-26). Cc @chingchan1996

no other concerns","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/866465121"", ""author_association"": ""CONTRIBUTOR""}"
1709,ClosePR,2021-06-27 07:21:36,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4943632138"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/9442ce23bade5286459ff78ade1af173f7b69c30""}"
1709,IssueCommentSupplement,2021-06-27 07:22:08,maoling,fork_close,"@zhongxiongzeng 
Thanks for your contribution.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/869115347"", ""author_association"": ""MEMBER""}"
1709,Referenced,2022-11-02 12:47:29,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7723025235"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/c3e5f4c1a496cff222e45a0671f0b4a2998214e0""}"
1709,CrossReferenced,2022-11-02 12:47:29,anuragmadnawat1,fork_close,ZOOKEEPER-4312: remove unnecessary code,"{""reference"": {""url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/issues/158"", ""is_pull_request"": true}}"
1709,Referenced,2022-11-02 12:49:59,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7723046476"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/c76c1f4d4cb5ac6b13da0e0430d86151d5d175ac""}"
1710,OpenPR,2021-06-07 11:19:35,eolivelli,fork_close,,
1710,Revise,2021-06-07 11:21:08,eolivelli,fork_close,ZOOKEEPER-4312 ZooKeeperServerEmbedded: enhance server start/stop for testability,"{""sha"": ""b42554b4e4438aefbcca1bd3dea1c750914a2785"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2021-06-07T11:18:40Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2021-06-07T11:21:08Z""}}"
1710,Revise,2021-06-07 12:39:00,eolivelli,fork_close,fix style,"{""sha"": ""8fc4fa43e4f2a7ff3f327338458a6e627e36e624"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2021-06-07T12:39:00Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2021-06-07T12:39:00Z""}}"
1710,ReviewRequested,2021-06-07 12:39:24,eolivelli,fork_close,,"{""requested_reviewer"": {""login"": ""anmolnar"", ""id"": 4997876, ""node_id"": ""MDQ6VXNlcjQ5OTc4NzY="", ""avatar_url"": ""https://avatars.githubusercontent.com/u/4997876?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/anmolnar"", ""html_url"": ""https://github.com/anmolnar"", ""followers_url"": ""https://api.github.com/users/anmolnar/followers"", ""following_url"": ""https://api.github.com/users/anmolnar/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/anmolnar/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/anmolnar/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/anmolnar/subscriptions"", ""organizations_url"": ""https://api.github.com/users/anmolnar/orgs"", ""repos_url"": ""https://api.github.com/users/anmolnar/repos"", ""events_url"": ""https://api.github.com/users/anmolnar/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/anmolnar/received_events"", ""type"": ""User"", ""site_admin"": false}, ""requested_team"": null}"
1710,ReviewRequested,2021-06-07 12:39:24,eolivelli,fork_close,,"{""requested_reviewer"": {""login"": ""arshadmohammad"", ""id"": 5720433, ""node_id"": ""MDQ6VXNlcjU3MjA0MzM="", ""avatar_url"": ""https://avatars.githubusercontent.com/u/5720433?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/arshadmohammad"", ""html_url"": ""https://github.com/arshadmohammad"", ""followers_url"": ""https://api.github.com/users/arshadmohammad/followers"", ""following_url"": ""https://api.github.com/users/arshadmohammad/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/arshadmohammad/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/arshadmohammad/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/arshadmohammad/subscriptions"", ""organizations_url"": ""https://api.github.com/users/arshadmohammad/orgs"", ""repos_url"": ""https://api.github.com/users/arshadmohammad/repos"", ""events_url"": ""https://api.github.com/users/arshadmohammad/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/arshadmohammad/received_events"", ""type"": ""User"", ""site_admin"": false}, ""requested_team"": null}"
1710,ReviewRequested,2021-06-07 12:39:24,eolivelli,fork_close,,"{""requested_reviewer"": {""login"": ""maoling"", ""id"": 11016631, ""node_id"": ""MDQ6VXNlcjExMDE2NjMx"", ""avatar_url"": ""https://avatars.githubusercontent.com/u/11016631?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/maoling"", ""html_url"": ""https://github.com/maoling"", ""followers_url"": ""https://api.github.com/users/maoling/followers"", ""following_url"": ""https://api.github.com/users/maoling/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/maoling/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/maoling/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/maoling/subscriptions"", ""organizations_url"": ""https://api.github.com/users/maoling/orgs"", ""repos_url"": ""https://api.github.com/users/maoling/repos"", ""events_url"": ""https://api.github.com/users/maoling/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/maoling/received_events"", ""type"": ""User"", ""site_admin"": false}, ""requested_team"": null}"
1710,ReviewRequested,2021-06-07 12:39:24,eolivelli,fork_close,,"{""requested_reviewer"": {""login"": ""ztzg"", ""id"": 393108, ""node_id"": ""MDQ6VXNlcjM5MzEwOA=="", ""avatar_url"": ""https://avatars.githubusercontent.com/u/393108?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/ztzg"", ""html_url"": ""https://github.com/ztzg"", ""followers_url"": ""https://api.github.com/users/ztzg/followers"", ""following_url"": ""https://api.github.com/users/ztzg/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/ztzg/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/ztzg/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/ztzg/subscriptions"", ""organizations_url"": ""https://api.github.com/users/ztzg/orgs"", ""repos_url"": ""https://api.github.com/users/ztzg/repos"", ""events_url"": ""https://api.github.com/users/ztzg/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/ztzg/received_events"", ""type"": ""User"", ""site_admin"": false}, ""requested_team"": null}"
1710,Assigned,2021-06-07 12:39:27,eolivelli,fork_close,,"{""assignee"": {""login"": ""eolivelli"", ""id"": 9469110, ""node_id"": ""MDQ6VXNlcjk0NjkxMTA="", ""avatar_url"": ""https://avatars.githubusercontent.com/u/9469110?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/eolivelli"", ""html_url"": ""https://github.com/eolivelli"", ""followers_url"": ""https://api.github.com/users/eolivelli/followers"", ""following_url"": ""https://api.github.com/users/eolivelli/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/eolivelli/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/eolivelli/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/eolivelli/subscriptions"", ""organizations_url"": ""https://api.github.com/users/eolivelli/orgs"", ""repos_url"": ""https://api.github.com/users/eolivelli/repos"", ""events_url"": ""https://api.github.com/users/eolivelli/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/eolivelli/received_events"", ""type"": ""User"", ""site_admin"": false}}"
1710,CrossReferenced,2021-06-07 14:32:37,StuporHero,fork_close,Embedded server API rework (WIP),"{""reference"": {""url"": ""https://api.github.com/repos/apache/zookeeper/issues/1708"", ""is_pull_request"": true}}"
1710,ReviewApproved,2021-06-09 19:29:53,ztzg,fork_close,"LGTM!

(I have seen https://github.com/apache/zookeeper/pull/1708, which seems quite ambitious, but the fixes and cleanups in this PR are a good addition in the meantime.)","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1710#pullrequestreview-680062460""}"
1710,IssueComment,2021-06-10 12:52:26,eolivelli,fork_close,@ztzg can you please help me merging this patch when CI is green ?,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/858595406"", ""author_association"": ""CONTRIBUTOR""}"
1710,ClosePR,2021-06-13 18:54:44,ztzg,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4882565353"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/5e6e15ac40cfd2cadac3e718e494a3c13b934b8d""}"
1710,Referenced,2021-06-13 18:56:42,ztzg,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4882566725"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/18dedf6345b3e34d7dab9dcbdb4db2b37a3495b1""}"
1710,IssueCommentSupplement,2021-06-13 18:58:36,ztzg,fork_close,"Sure, @eolivelli.  Merged in `master` and `branch-3.7` (as [ZOOKEEPER-3874](https://issues.apache.org/jira/browse/ZOOKEEPER-3874) is also there).","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/860255311"", ""author_association"": ""CONTRIBUTOR""}"
1710,IssueCommentSupplement,2021-06-13 20:11:37,eolivelli,fork_close,Thank you very much!,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/860264153"", ""author_association"": ""CONTRIBUTOR""}"
1710,CrossReferenced,2022-11-02 12:20:16,anuragmadnawat1,fork_close,ZOOKEEPER-4312: ZooKeeperServerEmbedded: enhance server start/stop for testability,"{""reference"": {""url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/issues/153"", ""is_pull_request"": true}}"
1710,Referenced,2022-11-02 12:20:17,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7722805979"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/b6b1256b824551594f75248e9a0c160f2c392e32""}"
1710,Referenced,2022-11-02 12:27:58,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7722867028"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/ee3186c5eff8a99fbf6af153fb739133c794f7a6""}"
1711,SubmitCommit,2021-06-13 10:05:32,maoling,fork_close,ZOOKEEPER-4208: Adding more labels to asf.yaml file to position more to the ZooKeeper Project,"{""sha"": ""3506d46ccce6526f5f846830dbec97558627a9cd"", ""author"": {""name"": ""maoling"", ""email"": ""maoling@apache.org"", ""date"": ""2021-06-11T10:29:48Z""}, ""committer"": {""name"": ""maoling"", ""email"": ""maoling@apache.org"", ""date"": ""2021-06-13T10:05:32Z""}}"
1711,OpenPR,2021-06-13 10:14:55,maoling,fork_close,,
1711,ReviewApproved,2021-06-13 20:13:26,eolivelli,fork_close,"Lgtm 

Thanks for taking care of this ","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1711#pullrequestreview-682441739""}"
1711,ClosePR,2021-06-14 10:31:03,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4884818138"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/525a28bd1cb864a5783593c64908cfe0ddcba65f""}"
1711,DeleteBranch,2021-06-14 10:32:06,maoling,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4884822875"", ""commit_url"": null}"
1711,CrossReferenced,2022-11-02 12:30:45,anuragmadnawat1,fork_close,ZOOKEEPER-4208: Adding more labels to asf.yaml file to position more to the ZooKeeper Project,"{""reference"": {""url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/issues/155"", ""is_pull_request"": true}}"
1711,Referenced,2022-11-02 12:30:47,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7722892540"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/f49dbb0b4b8ad051dfecfe82e38122748eb08e5d""}"
1711,Referenced,2022-11-02 12:44:45,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7723003653"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/04bbb73ef9060d859c796eacb1093e13cdad6494""}"
1712,OpenPR,2021-06-14 04:47:19,li4wang,fork_close,,
1712,IssueComment,2021-06-14 04:50:56,li4wang,fork_close,"Hi @hanm @eolivelli,

Would you mind taking a quick look at this PR? Thanks.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/860359868"", ""author_association"": ""CONTRIBUTOR""}"
1712,IssueComment,2021-06-14 07:13:58,eolivelli,fork_close,"> This will give us some noisy data such as 0 sync time in cases where sync immediately failed.

this case is noisy, and we should try to filter it out.

but if we remove this ""finally"" block, we won't count the time spent during ""sync"" in case if fails and it took much time.


","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/860443105"", ""author_association"": ""CONTRIBUTOR""}"
1712,IssueComment,2021-06-14 17:33:08,li4wang,fork_close,"> but if we remove this ""finally"" block, we won't count the time spent during ""sync"" in case if fails and it took much time.

I checked the code base and it looks like that we normally only count the success time. For example, `DB_INIT_TIME`. We can keep the way it is to be consistent with others.

If we really want to count the time for both success and failure case, there are different options
1. add a new metrics FOLLOWER_SYNC_TIME_FAILED for the failure case
2. log an error message with the time for the failure case

I would think option 2 would be good compromise, because it's consistent with other time related metrics and also captures the data for the failure case. What do you think? @eolivelli @hanm 
","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/860863355"", ""author_association"": ""CONTRIBUTOR""}"
1712,IssueComment,2021-06-15 00:53:01,hanm,fork_close,"> > but if we remove this ""finally"" block, we won't count the time spent during ""sync"" in case if fails and it took much time.
> 
> I checked the code base and it looks like that we normally only count the success time. For example, `DB_INIT_TIME`. We can keep the way it is to be consistent with others.
> 
> If we really want to count the time for both success and failure case, there are different options
> 
> 1. add a new metrics FOLLOWER_SYNC_TIME_FAILED for the failure case
> 2. log an error message with the time for the failure case
> 
> I would think option 2 would be good compromise, because it's consistent with other time related metrics and also captures the data for the failure case. What do you think? @eolivelli @hanm

Option 2 sounds good to me, if tracking failed time is a concern. The semantic of existing sync time should only appertain to the succeed time, so this patch looks good to me.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/861089597"", ""author_association"": ""CONTRIBUTOR""}"
1712,ReviewApproved,2021-06-15 00:53:10,hanm,fork_close,,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1712#pullrequestreview-683467422""}"
1712,ReviewApproved,2021-06-15 06:10:10,eolivelli,fork_close,"Thank you guys for the clarification.

LGTM

I will merge as soon as CI is green","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1712#pullrequestreview-683591266""}"
1712,RenameTitle,2021-06-16 19:05:02,li4wang,fork_close,,"{""rename"": {""from"": ""ZOOKEEPER-318: Only report the follower sync time metrics if sync is completed"", ""to"": ""ZOOKEEPER-4318: Only report the follower sync time metrics if sync is completed""}, ""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4899871669""}"
1712,Revise,2021-06-16 19:18:49,liwang,fork_close,"ZOOKEEPER-4318: Only report the follower sync time metrics if sync is completed

Author: Li Wang <li4wang@gmail.com>","{""sha"": ""625c7a5a7b33d02b028b4a367279bfad41352a37"", ""author"": {""name"": ""liwang"", ""email"": ""liwang@apple.com"", ""date"": ""2021-06-14T04:43:00Z""}, ""committer"": {""name"": ""liwang"", ""email"": ""liwang@apple.com"", ""date"": ""2021-06-16T19:18:49Z""}}"
1712,IssueComment,2021-06-22 18:50:39,li4wang,fork_close,@eolivelli is there anything I can help to get the changes merged? Thanks.,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/866245558"", ""author_association"": ""CONTRIBUTOR""}"
1712,ReviewApproved,2021-06-30 06:58:00,ztzg,fork_close,LGTM!,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1712#pullrequestreview-695759022""}"
1712,ClosePR,2021-06-30 06:59:42,ztzg,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4957634105"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/70f70d821c2c5225edeb54a8af0bd1911a51fc89""}"
1712,IssueCommentSupplement,2021-06-30 07:03:51,ztzg,fork_close,"(Pulled this with https://github.com/apache/zookeeper/pull/1691, so that the measurements are symmetric.)

Merged into `master` and `branch-3.7`.  Thank you, @li4wang!","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/871149963"", ""author_association"": ""CONTRIBUTOR""}"
1712,Referenced,2021-06-30 07:10:27,ztzg,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4957683155"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/fb86553cd45ec43b58cdb2dd5d56e4f59854ab29""}"
1712,Referenced,2022-11-02 12:59:10,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7723121263"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/657dbcef8c3aebb1e7e1249207b900f08eecb66b""}"
1712,CrossReferenced,2022-11-02 12:59:10,anuragmadnawat1,fork_close,ZOOKEEPER-4318: Only report the follower sync time metrics if sync is completed,"{""reference"": {""url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/issues/161"", ""is_pull_request"": true}}"
1712,Referenced,2022-11-02 13:01:40,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7723143311"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/819a33fbd58cc25ea871ff5a2f57f52aef1311c3""}"
1713,OpenPR,2021-06-14 13:12:28,MikeEdgar,fork_close,,
1713,IssueComment,2021-06-16 13:20:59,MikeEdgar,fork_close,"@maoling, would you mind doing a review of this change?

It resolves a lock contention situation where a slow connection allows the client's SendThread to enter `cleanUp` in `ClientCnxnSocketNetty` just as the `epollEventLoopGroup` thread is calling the `ChannelFutureListener`. The send thread is able to cancel the `connectFuture`, however it is unable to proceed beyond closing the channel with the `epollEventLoopGroup` thread waiting on the lock.

The fix is to allow the `epollEventLoopGroup` thread to detect the cancellation without acquiring the lock.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/862374751"", ""author_association"": ""NONE""}"
1713,ReviewRequested,2021-06-17 11:33:18,maoling,fork_close,,"{""requested_reviewer"": {""login"": ""anmolnar"", ""id"": 4997876, ""node_id"": ""MDQ6VXNlcjQ5OTc4NzY="", ""avatar_url"": ""https://avatars.githubusercontent.com/u/4997876?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/anmolnar"", ""html_url"": ""https://github.com/anmolnar"", ""followers_url"": ""https://api.github.com/users/anmolnar/followers"", ""following_url"": ""https://api.github.com/users/anmolnar/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/anmolnar/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/anmolnar/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/anmolnar/subscriptions"", ""organizations_url"": ""https://api.github.com/users/anmolnar/orgs"", ""repos_url"": ""https://api.github.com/users/anmolnar/repos"", ""events_url"": ""https://api.github.com/users/anmolnar/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/anmolnar/received_events"", ""type"": ""User"", ""site_admin"": false}, ""requested_team"": null}"
1713,IssueComment,2021-06-17 11:34:39,maoling,fork_close,@MikeEdgar  I will take a look. Thanks for your contribution.,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/863163825"", ""author_association"": ""MEMBER""}"
1713,IssueComment,2021-06-21 14:24:36,MikeEdgar,fork_close,"Thanks @maoling, @anmolnar. I would be grateful for a sanity check on the approach taken in this PR.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/865075851"", ""author_association"": ""NONE""}"
1713,IssueComment,2021-07-21 00:32:19,MikeEdgar,fork_close,"Hi @maoling, @anmolnar - I'm curious if you've had an opportunity to review these changes.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/883795374"", ""author_association"": ""NONE""}"
1713,IssueComment,2021-07-23 05:49:00,maoling,fork_close,"@MikeEdgar Sorry for our late, I'll take a look at this weekend. Thanks for your reminder","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/885415288"", ""author_association"": ""MEMBER""}"
1713,ReviewComment,2021-07-23 10:53:27,eolivelli,fork_close,do we have a way to test this fix with an unit test ? (even with Mockito),"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1713#pullrequestreview-713613374""}"
1713,IssueComment,2021-07-23 13:31:20,MikeEdgar,fork_close,"> do we have a way to test this fix with an unit test ? (even with Mockito)

I am open to suggestions on an approach... Since this is dealing with thread timing, my solution to test it during development was with the debugger and breakpoints to simulate latency, which I understand is not ideal. Are there any other test cases that might deal with similar concepts?","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/885641160"", ""author_association"": ""NONE""}"
1713,Revise,2022-07-13 10:41:38,MikeEdgar,fork_close,"ZOOKEEPER-4293: Lock Contention in ClientCnxnSocketNetty

Check for failed/cancelled ChannelFutures before acquiring `connectLock`

Signed-off-by: Michael Edgar <medgar@redhat.com>","{""sha"": ""99686090687d36f09804b13f7b246ae86b52c422"", ""author"": {""name"": ""Michael Edgar"", ""email"": ""medgar@redhat.com"", ""date"": ""2021-06-11T18:25:07Z""}, ""committer"": {""name"": ""Michael Edgar"", ""email"": ""michael@xlate.io"", ""date"": ""2022-07-13T10:41:38Z""}}"
1713,Revise,2022-07-13 10:41:38,MikeEdgar,fork_close,ZOOKEEPER-4293: Add test cases for ClientCnxnSocketNetty lock sync,"{""sha"": ""99b7b00a8e141e1dc563bdd1f9d3692c8fd2cd15"", ""author"": {""name"": ""Michael Edgar"", ""email"": ""michael@xlate.io"", ""date"": ""2022-07-13T10:40:46Z""}, ""committer"": {""name"": ""Michael Edgar"", ""email"": ""michael@xlate.io"", ""date"": ""2022-07-13T10:41:38Z""}}"
1713,ReviewRequested,2022-07-13 10:43:07,MikeEdgar,fork_close,,"{""requested_reviewer"": {""login"": ""eolivelli"", ""id"": 9469110, ""node_id"": ""MDQ6VXNlcjk0NjkxMTA="", ""avatar_url"": ""https://avatars.githubusercontent.com/u/9469110?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/eolivelli"", ""html_url"": ""https://github.com/eolivelli"", ""followers_url"": ""https://api.github.com/users/eolivelli/followers"", ""following_url"": ""https://api.github.com/users/eolivelli/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/eolivelli/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/eolivelli/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/eolivelli/subscriptions"", ""organizations_url"": ""https://api.github.com/users/eolivelli/orgs"", ""repos_url"": ""https://api.github.com/users/eolivelli/repos"", ""events_url"": ""https://api.github.com/users/eolivelli/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/eolivelli/received_events"", ""type"": ""User"", ""site_admin"": false}, ""requested_team"": null}"
1713,IssueComment,2022-07-13 10:44:22,MikeEdgar,fork_close,"@eolivelli , @maoling - I've finally added some tests with mocked dependencies. Please take a look. Also, this is for the 3.5 branch - should I instead replace the PR with one for `master`? What is the process for back-ports to 3.6, 3.7, etc.?","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1183064412"", ""author_association"": ""NONE""}"
1713,IssueComment,2022-08-08 12:32:09,MikeEdgar,fork_close,@maoling - please let me know if this PR is OK as-is or if it should target `master` (or another release version) instead.,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1208067822"", ""author_association"": ""NONE""}"
1713,CrossReferenced,2022-08-18 15:20:45,MikeEdgar,fork_close,ZOOKEEPER-4293: Lock Contention in ClientCnxnSocketNetty,"{""reference"": {""url"": ""https://api.github.com/repos/apache/zookeeper/issues/1917"", ""is_pull_request"": true}}"
1713,ClosePR,2022-08-18 15:20:52,MikeEdgar,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7215360008"", ""commit_url"": null}"
1714,SubmitCommit,2021-06-16 01:57:06,rpinzon,fork_close,ZOOKEEPER-3961: Improve error message for zookeeper.intBufferStartingSizeBytes config,"{""sha"": ""f3c5a746b1a424be03d4c6c9f87a71c3b327d341"", ""author"": {""name"": ""Renan Tomazoni Pinzon"", ""email"": ""rpinzon@gmail.com"", ""date"": ""2021-06-16T01:57:06Z""}, ""committer"": {""name"": ""Renan Tomazoni Pinzon"", ""email"": ""rpinzon@gmail.com"", ""date"": ""2021-06-16T01:57:06Z""}}"
1714,OpenPR,2021-06-16 02:00:20,rpinzon,fork_close,,
1714,IssueComment,2021-06-16 02:07:36,rpinzon,fork_close,"I was considering moving the variable declaration at line 242 to line 240. In this way, the documentation provided from line 236 to 239 will be visible from external caller code (src/main/java/org/apache/zookeeper/server/ServerCnxn.java:198).

```
    /**
     * Starting size of read and write ByteArroyOuputBuffers. Default is 32 bytes.
     * Flag not used for small transfers like connectResponses.
     */
    public static final int intBufferStartingSizeBytes;
    public static final String INT_BUFFER_STARTING_SIZE_BYTES = ""zookeeper.intBufferStartingSizeBytes"";
    public static final int DEFAULT_STARTING_BUFFER_SIZE = 1024;
```

instead of

```
    /**
     * Starting size of read and write ByteArroyOuputBuffers. Default is 32 bytes.
     * Flag not used for small transfers like connectResponses.
     */
    public static final String INT_BUFFER_STARTING_SIZE_BYTES = ""zookeeper.intBufferStartingSizeBytes"";
    public static final int DEFAULT_STARTING_BUFFER_SIZE = 1024;
    public static final int intBufferStartingSizeBytes;
```

Does it make sense?","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/861978193"", ""author_association"": ""CONTRIBUTOR""}"
1714,ReviewRejected,2021-06-16 15:13:50,belugabehr,fork_close,,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1714#pullrequestreview-685309454""}"
1714,Revise,2021-06-16 15:27:25,rpinzon,fork_close,ZOOKEEPER-3961: Improve error message for zookeeper.intBufferStartingSizeBytes config,"{""sha"": ""1b2c474690fe4e43adda4dd831ac7258c2857da3"", ""author"": {""name"": ""Renan Tomazoni Pinzon"", ""email"": ""rpinzon@gmail.com"", ""date"": ""2021-06-16T15:27:25Z""}, ""committer"": {""name"": ""Renan Tomazoni Pinzon"", ""email"": ""rpinzon@gmail.com"", ""date"": ""2021-06-16T15:27:25Z""}}"
1714,ClosePR,2021-07-11 12:01:31,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5004096183"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/e642a325b91ab829aefa47708c7b4b45811d2d23""}"
1714,IssueCommentSupplement,2021-07-11 12:03:00,maoling,fork_close,"- Test it.
`2021-07-11 18:50:41,011 [myid:] - ERROR [main:ZooKeeperServer@258] - Buffer starting size (31) must be greater than or equal to 32. Configure with ""-Dzookeeper.intBufferStartingSizeBytes=<size>""`
- @rpinzon Thanks for your contribution.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/877787614"", ""author_association"": ""MEMBER""}"
1714,Referenced,2022-11-02 13:01:44,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7723143982"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/36a3f28e823d6d01328f0d1de9f443b85b0762cd""}"
1714,CrossReferenced,2022-11-02 13:01:44,anuragmadnawat1,fork_close,ZOOKEEPER-3961: Improve error message for zookeeper.intBufferStarting…,"{""reference"": {""url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/issues/162"", ""is_pull_request"": true}}"
1718,SubmitCommit,2021-06-23 10:53:26,liuxw888,fork_close,ZOOKEEPER-4326: fix typo in the recipes.md,"{""sha"": ""3abf6b18d58d7cfafa0524cea89c91569e46250d"", ""author"": {""name"": ""liuxw"", ""email"": ""1433484140@qq.com"", ""date"": ""2021-06-23T10:53:26Z""}, ""committer"": {""name"": ""liuxw"", ""email"": ""1433484140@qq.com"", ""date"": ""2021-06-23T10:53:26Z""}}"
1718,OpenPR,2021-06-23 10:58:09,liuxw888,fork_close,,
1718,ReviewApproved,2021-06-24 11:21:15,maoling,fork_close,+1,"{""author_association"": ""MEMBER"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1718#pullrequestreview-691634287""}"
1718,ReviewRequested,2021-06-25 05:59:39,liuxw888,fork_close,,"{""requested_reviewer"": {""login"": ""maoling"", ""id"": 11016631, ""node_id"": ""MDQ6VXNlcjExMDE2NjMx"", ""avatar_url"": ""https://avatars.githubusercontent.com/u/11016631?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/maoling"", ""html_url"": ""https://github.com/maoling"", ""followers_url"": ""https://api.github.com/users/maoling/followers"", ""following_url"": ""https://api.github.com/users/maoling/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/maoling/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/maoling/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/maoling/subscriptions"", ""organizations_url"": ""https://api.github.com/users/maoling/orgs"", ""repos_url"": ""https://api.github.com/users/maoling/repos"", ""events_url"": ""https://api.github.com/users/maoling/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/maoling/received_events"", ""type"": ""User"", ""site_admin"": false}, ""requested_team"": null}"
1718,ClosePR,2021-06-27 06:13:09,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4943589815"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/2f00dea17bd94bf43b2f6647f6b08b00ff8b7ece""}"
1718,IssueCommentSupplement,2021-06-27 06:13:32,maoling,fork_close,@liuxw888 Thanks for your contribution.,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/869109038"", ""author_association"": ""MEMBER""}"
1718,CrossReferenced,2022-11-02 12:46:29,anuragmadnawat1,fork_close,ZOOKEEPER-4326: fix typo in the recipes.md,"{""reference"": {""url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/issues/157"", ""is_pull_request"": true}}"
1718,Referenced,2022-11-02 12:46:30,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7723017281"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/8980c008508a6b2cff5f4cb76de4f9483c95a69b""}"
1718,Referenced,2022-11-02 12:47:25,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7723024690"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/6cdf839a181a0d83032fdcd2411be3e98bbdddd2""}"
1720,SubmitCommit,2021-06-29 08:18:18,bigmarvin,fork_close,ZOOKEEPER-4331: add headers back,"{""sha"": ""a05f88acc008727c679bc44822891304da6c4525"", ""author"": {""name"": ""bigmarvin"", ""email"": ""marvin.wu1986@gmail.com"", ""date"": ""2021-06-29T08:18:18Z""}, ""committer"": {""name"": ""bigmarvin"", ""email"": ""marvin.wu1986@gmail.com"", ""date"": ""2021-06-29T08:18:18Z""}}"
1720,OpenPR,2021-06-29 08:27:39,bigmarvin,fork_close,,
1720,CrossReferenced,2021-07-01 12:51:40,bigmarvin,fork_close,ZOOKEEPER-4346: remove never used field,"{""reference"": {""url"": ""https://api.github.com/repos/apache/zookeeper/issues/1721"", ""is_pull_request"": true}}"
1720,ReviewComment,2021-07-01 15:57:15,ctubbsii,fork_close,"I'm not very familiar with OSGi or Felix bundles, but another way this could be done, is just to instruct maven-jar-plugin to add manifest entries: https://maven.apache.org/plugins/maven-jar-plugin/examples/manifest-customization.html","{""author_association"": ""MEMBER"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1720#pullrequestreview-697414661""}"
1720,IssueComment,2021-07-02 15:58:19,bigmarvin,fork_close,"Yes you are right, @ctubbsii, that it's also feasible to instruct jar plugin to plant these entries. That's the exact way how ant script does this job. However, I'd like to justify a little more around my preference for this change over the alternative you mentioned. I've tidied the header `Import-Package` and `Export-Package` to illustrate the justification below.

The change of packaging from jar to bundle and the replacement of jar plugin with bundle plugin **only** modify the manifest, which makes such change very safe. This change would add some extra headers/entries that are not consumed in non-OSGi runtime, so the only cost would be some increment in size of delivered artifact. One step further, all artifacts of packaging jar can be turned into bundles safely, while I assume not every project has such requirement until it's widely adopted.

The primary job of bundle plugin would be working out the **topology** of **versioned** packages, which is barely possible to mimic manually. The following parts require some knowledge in OSGi while I'll try to make it straightforward.

As you can find in the `Export-Package`, if some client wants to use some classes in some zookeeper package (or formally some client bundle imports some zookeeper package) it must also import some other packages before the zookeeper classes can work or even just be loaded. This **topology** of dependency resides in the code base, so ideally those headers planted manually must be revisited for every code change. It would be too expensive if possible.

Besides, all packages this artifact/bundle requires and provides are **versioned** if possible. The versions are extracted from the dependency tree at build time, so ideally all these versions must be revisited for every change in version or dependency tree. Putting these 2 ideal parts together, I would say it's practically impossible to manually maintain these headers/entries. Any such attempt would come up with some values that may work for some scenarios but never for all, and why bother given there's some automated way in place?

I can prepare another change using jar plugin to plant headers/entries. At least, either solution works for ZOOKEEPER-4331. However, I'd like to double check how determined you maintainers are before I drop this preferred proposal. Looking forward to your input.

```
Import-Package: \
  javax.management;resolution:=optional,\
  javax.security.auth.callback,\
  javax.security.auth.login,\
  javax.security.sasl,\
  org.slf4j;version=""[1.7,2)"",\
  io.netty.buffer;resolution:=optional;version=""[4.1,5)"",\
  io.netty.channel;resolution:=optional;version=""[4.1,5)"",\
  io.netty.channel.group;resolution:=optional;version=""[4.1,5)"",\
  io.netty.channel.socket.nio;resolution:=optional;version=""[4.1,5)"",\
  org.ietf.jgss,\
  com.fasterxml.jackson.core;resolution:=optional;version=""[2.10,3)"",\
  com.fasterxml.jackson.databind;resolution:=optional;version=""[2.10,3)"",\
  io.netty.bootstrap;resolution:=optional;version=""[4.1,5)"",\
  io.netty.channel.epoll;resolution:=optional;version=""[4.1,5)"",\
  io.netty.channel.nio;resolution:=optional;version=""[4.1,5)"",\
  io.netty.channel.socket;resolution:=optional;version=""[4.1,5)"",\
  io.netty.handler.ssl;resolution:=optional;version=""[4.1,5)"",\
  io.netty.util;resolution:=optional;version=""[4.1,5)"",\
  io.netty.util.concurrent;resolution:=optional;version=""[4.1,5)"",\
  javax.crypto;resolution:=optional,\
  javax.crypto.spec;resolution:=optional,\
  javax.naming;resolution:=optional,\
  javax.naming.directory;resolution:=optional,\
  javax.naming.ldap;resolution:=optional,\
  javax.net.ssl;resolution:=optional,\
  javax.security.auth;resolution:=optional,\
  javax.security.auth.kerberos;resolution:=optional,\
  javax.security.auth.spi;resolution:=optional,\
  javax.security.auth.x500;resolution:=optional,\
  javax.servlet;resolution:=optional;version=""[3.1,4)"",\
  javax.servlet.http;resolution:=optional;version=""[3.1,4)"",\
  jline.console.completer;resolution:=optional;version=""[2.14,3)"",\
  org.apache.commons.cli;resolution:=optional;version=""[1.2,2)"",\
  org.apache.jute;resolution:=optional,\
  org.apache.yetus.audience;resolution:=optional,\
  org.apache.zookeeper;resolution:=optional,\
  org.apache.zookeeper.admin;resolution:=optional,\
  org.apache.zookeeper.cli;resolution:=optional,\
  org.apache.zookeeper.client;resolution:=optional,\
  org.apache.zookeeper.common;resolution:=optional,\
  org.apache.zookeeper.data;resolution:=optional,\
  org.apache.zookeeper.jmx;resolution:=optional,\
  org.apache.zookeeper.proto;resolution:=optional,\
  org.apache.zookeeper.server;resolution:=optional,\
  org.apache.zookeeper.server.admin;resolution:=optional,\
  org.apache.zookeeper.server.auth;resolution:=optional,\
  org.apache.zookeeper.server.command;resolution:=optional,\
  org.apache.zookeeper.server.persistence;resolution:=optional,\
  org.apache.zookeeper.server.quorum;resolution:=optional,\
  org.apache.zookeeper.server.quorum.auth;resolution:=optional,\
  org.apache.zookeeper.server.quorum.flexible;resolution:=optional,\
  org.apache.zookeeper.server.util;resolution:=optional,\
  org.apache.zookeeper.txn;resolution:=optional,\
  org.apache.zookeeper.util;resolution:=optional,\
  org.apache.zookeeper.version;resolution:=optional,\
  org.eclipse.jetty.security;resolution:=optional;version=""[9.4,10)"",\
  org.eclipse.jetty.server;resolution:=optional;version=""[9.4,10)"",\
  org.eclipse.jetty.servlet;resolution:=optional;version=""[9.4,10)"",\
  org.eclipse.jetty.util.security;resolution:=optional;version=""[9.4,10)"",\
  org.osgi.framework;resolution:=optional,\
  org.osgi.util.tracker;resolution:=optional
Export-Package: \
  org.apache.zookeeper;uses:=""javax.security.auth,javax.security.auth.callback,javax.security.auth.login,org.apache.jute,org.apache.yetus.audience,org.apache.zookeeper.cli,org.apache.zookeeper.client,org.apache.zookeeper.common,org.apache.zookeeper.data,org.apache.zookeeper.proto,org.apache.zookeeper.version,org.slf4j"";version=""3.5.9"",\
  org.apache.zookeeper.admin;uses:=""org.apache.yetus.audience,org.apache.zookeeper,org.apache.zookeeper.client,org.apache.zookeeper.data"";version=""3.5.9"",\
  org.apache.zookeeper.cli;uses:=""org.apache.commons.cli,org.apache.zookeeper,org.apache.zookeeper.data"";version=""3.5.9"",\
  org.apache.zookeeper.client;uses:=""javax.security.auth.login,javax.security.sasl,org.apache.yetus.audience,org.apache.zookeeper,org.apache.zookeeper.common,org.apache.zookeeper.data,org.apache.zookeeper.server.quorum,org.slf4j"";version=""3.5.9"",\
  org.apache.zookeeper.common;uses:=""io.netty.channel,io.netty.channel.socket,io.netty.handler.ssl,javax.net.ssl,org.apache.zookeeper.server.quorum,org.slf4j"";version=""3.5.9"",\
  org.apache.zookeeper.data;uses:=""org.apache.jute,org.apache.yetus.audience"";version=""3.5.9"",\
  org.apache.zookeeper.jmx;uses:=""javax.management"";version=""3.5.9"",\
  org.apache.zookeeper.proto;uses:=""org.apache.jute,org.apache.yetus.audience,org.apache.zookeeper.data"";version=""3.5.9"",\
  org.apache.zookeeper.server;uses:=""javax.security.sasl,org.apache.jute,org.apache.yetus.audience,org.apache.zookeeper,org.apache.zookeeper.data,org.apache.zookeeper.jmx,org.apache.zookeeper.proto,org.apache.zookeeper.server.admin,org.apache.zookeeper.server.auth,org.apache.zookeeper.server.persistence,org.apache.zookeeper.server.quorum,org.apache.zookeeper.server.quorum.flexible,org.apache.zookeeper.txn,org.slf4j"";version=""3.5.9"",\
  org.apache.zookeeper.server.admin;uses:=""org.apache.yetus.audience,org.apache.zookeeper.server"";version=""3.5.9"",\
  org.apache.zookeeper.server.auth;uses:=""javax.net.ssl,javax.security.auth,javax.security.auth.callback,javax.security.auth.login,javax.security.auth.spi,org.apache.zookeeper,org.apache.zookeeper.common,org.apache.zookeeper.server"";version=""3.5.9"",\
  org.apache.zookeeper.server.command;uses:=""org.apache.zookeeper.server"";version=""3.5.9"",\
  org.apache.zookeeper.server.persistence;uses:=""org.apache.jute,org.apache.yetus.audience,org.apache.zookeeper,org.apache.zookeeper.server,org.apache.zookeeper.txn"";version=""3.5.9"",\
  org.apache.zookeeper.server.quorum;uses:=""javax.net.ssl,javax.security.sasl,org.apache.jute,org.apache.yetus.audience,org.apache.zookeeper,org.apache.zookeeper.common,org.apache.zookeeper.data,org.apache.zookeeper.jmx,org.apache.zookeeper.server,org.apache.zookeeper.server.admin,org.apache.zookeeper.server.persistence,org.apache.zookeeper.server.quorum.auth,org.apache.zookeeper.server.quorum.flexible,org.apache.zookeeper.txn,org.slf4j"";version=""3.5.9"",\
  org.apache.zookeeper.server.quorum.auth;uses:=""javax.security.auth.callback,javax.security.auth.login,javax.security.sasl,org.apache.zookeeper.server.quorum"";version=""3.5.9"",\
  org.apache.zookeeper.server.quorum.flexible;uses:=""org.apache.zookeeper.server.quorum"";version=""3.5.9"",\
  org.apache.zookeeper.server.util;uses:=""org.apache.jute,org.apache.zookeeper.server,org.apache.zookeeper.server.quorum,org.apache.zookeeper.txn,org.slf4j"";version=""3.5.9"",\
  org.apache.zookeeper.txn;uses:=""org.apache.jute,org.apache.yetus.audience,org.apache.zookeeper.data"";version=""3.5.9"",\
  org.apache.zookeeper.util;uses:=""javax.security.auth,javax.security.auth.callback,javax.security.sasl,org.slf4j"";version=""3.5.9"",org.apache.zookeeper.version;version=""3.5.9"",\
  org.apache.zookeeper.version.util;version=""3.5.9""
```","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/873100058"", ""author_association"": ""NONE""}"
1720,CrossReferenced,2021-07-08 07:55:32,bigmarvin,fork_close,ZOOKEEPER-4331: add headers back in osgi artifact,"{""reference"": {""url"": ""https://api.github.com/repos/apache/zookeeper/issues/1722"", ""is_pull_request"": true}}"
1720,CrossReferenced,2021-07-08 08:17:53,bigmarvin,fork_close,ZOOKEEPER-4331: add headers back manually,"{""reference"": {""url"": ""https://api.github.com/repos/apache/zookeeper/issues/1723"", ""is_pull_request"": true}}"
1720,IssueComment,2021-07-08 08:20:18,bigmarvin,fork_close,"To push this forward, I've raised the following PRs with alternatives to this change. I still prefer this approach personally while I assume all of them can address ZOOKEEPER-4331.

Please take a look and let me know if something. Again, I'm looking for a fix to 3.5, 3.6 and 3.7, so please let me know if any further PR is required for this to happen.

https://github.com/apache/zookeeper/pull/1722
https://github.com/apache/zookeeper/pull/1723","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/876236216"", ""author_association"": ""NONE""}"
1720,IssueComment,2021-07-08 09:55:37,eolivelli,fork_close,"Thank you very much for bringing this forward. OSGI compliance is very important

I believe that you are targeting the wrong branch.
branch-3.5.9 is a temporary branch (that we did not haved nuked) used to cut 3.5.9.

you could target branch-3.5, that is the main release branch for the 3.5 release line.

that said....ZooKeeper 3.5 is now very old, we already released 3.6.x and 3.7.x and we are going to cut 3.8.x

I suggest to work on master branch, we could port the changes to other old branches, but **personally** (this is not an official position of the project) I do not expect more releases from ZK 3.5 apart from security bug fixes","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/876302246"", ""author_association"": ""CONTRIBUTOR""}"
1720,CrossReferenced,2021-07-12 09:04:43,bigmarvin,fork_close,ZOOKEEPER-4331: add headers back,"{""reference"": {""url"": ""https://api.github.com/repos/apache/zookeeper/issues/1726"", ""is_pull_request"": true}}"
1720,IssueCommentSupplement,2021-07-12 09:05:50,bigmarvin,fork_close,"Thanks for the instruction, @eolivelli. I've ""rebased"" the change to master in https://github.com/apache/zookeeper/pull/1726. Let's continue the review there.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/878105335"", ""author_association"": ""NONE""}"
1720,ClosePR,2021-07-12 09:05:50,bigmarvin,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5006211179"", ""commit_url"": null}"
1721,SubmitCommit,2021-07-01 03:23:37,zhongxiong.zeng,fork_close,remove never used field,"{""sha"": ""39279c78afaff9d0d9a154de82e2010fe263bdc7"", ""author"": {""name"": ""zhongxiong.zeng"", ""email"": ""zhongxiong.zeng@za.group"", ""date"": ""2021-07-01T03:23:37Z""}, ""committer"": {""name"": ""zhongxiong.zeng"", ""email"": ""zhongxiong.zeng@za.group"", ""date"": ""2021-07-01T03:23:37Z""}}"
1721,OpenPR,2021-07-01 03:27:29,zhongxiongzeng,fork_close,,
1721,RenameTitle,2021-07-02 02:26:58,zhongxiongzeng,fork_close,,"{""rename"": {""from"": ""ZOOKEEPER-4331: remove never used field"", ""to"": ""ZOOKEEPER-4332: remove never used field""}, ""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/4969013246""}"
1721,ReviewRejected,2021-07-05 14:58:55,eolivelli,fork_close,"removing useless code is something the is always welcome 

thank you very much

I left one comment, PTAL","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1721#pullrequestreview-699260022""}"
1721,Revise,2021-07-06 02:51:46,zhongxiong.zeng,fork_close,1 fix with ZooTrace.java,"{""sha"": ""54dd870e6b5d184581cc08f6b15ad99f69cdb53e"", ""author"": {""name"": ""zhongxiong.zeng"", ""email"": ""zhongxiong.zeng@za.group"", ""date"": ""2021-07-06T02:51:46Z""}, ""committer"": {""name"": ""zhongxiong.zeng"", ""email"": ""zhongxiong.zeng@za.group"", ""date"": ""2021-07-06T02:51:46Z""}}"
1721,ReviewRejected,2021-07-08 12:24:14,ztzg,fork_close,"Hi @zhongxiongzeng,

Thank you for your contribution!  [ZOOKEEPER-4332](https://issues.apache.org/jira/browse/ZOOKEEPER-4332) (""Cannot access children of znode that owns too many znodes"") is unrelated to the changes in this pull request, however.  Would you mind opening another ticket, and updating the association?

Thanks!","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1721#pullrequestreview-701994814""}"
1721,IssueComment,2021-07-12 03:04:10,zhongxiongzeng,fork_close,"> Hi @zhongxiongzeng,
> 
> Thank you for your contribution! [ZOOKEEPER-4332](https://issues.apache.org/jira/browse/ZOOKEEPER-4332) (""Cannot access children of znode that owns too many znodes"") is unrelated to the changes in this pull request, however. Would you mind opening another ticket, and updating the association?
> 
> Thanks!

Do you mean to create a new pr?","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/877933520"", ""author_association"": ""CONTRIBUTOR""}"
1721,IssueComment,2021-07-13 11:36:31,maoling,fork_close,"@zhongxiongzeng 

> Do you mean to create a new pr?

- Nope, you should create a new JIRA and change this PR description. 

- It's better to create a [JIRA](https://issues.apache.org/jira/projects/ZOOKEEPER/) issue (sign up JIRA if you don't have an account) to bind this PR to a JIRA-ID. ZooKeeper uses the GitHub workflow. The contributor guideline is [here](https://cwiki.apache.org/confluence/display/ZOOKEEPER/HowToContribute)

","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/879012717"", ""author_association"": ""MEMBER""}"
1721,IssueComment,2021-07-27 02:20:06,maoling,fork_close,"@zhongxiongzeng
- Any advance? Or need any help? 
- I'm waiting here for merging this PR :)","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/887156761"", ""author_association"": ""MEMBER""}"
1721,ReviewApproved,2021-08-03 10:07:50,rainsbaby,fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1721#pullrequestreview-721019341""}"
1721,RenameTitle,2021-08-21 04:51:41,maoling,fork_close,,"{""rename"": {""from"": ""ZOOKEEPER-4332: remove never used field"", ""to"": ""ZOOKEEPER-4346: remove never used field""}, ""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5189404205""}"
1721,ClosePR,2021-08-21 04:54:36,maoling,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5189407107"", ""commit_url"": null}"
1721,ReopenPR,2021-08-21 04:54:43,maoling,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5189407272"", ""commit_url"": null}"
1721,ClosePR,2021-08-21 09:21:52,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5189620444"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/f72ef97b66bc890ce8366533eac5be393558a8fb""}"
1721,IssueCommentSupplement,2021-08-21 09:41:03,maoling,fork_close,"- @zhongxiongzeng Thanks for your contribution.
- Look at what I did, I create a new JIRA https://issues.apache.org/jira/browse/ZOOKEEPER-4346 for this PR and bind them. remember it at next time.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/903090671"", ""author_association"": ""MEMBER""}"
1722,SubmitCommit,2021-07-08 07:50:39,bigmarvin,fork_close,ZOOKEEPER-4331: add headers back in osgi artifact,"{""sha"": ""2e716808babf21b8ced320961a84c6871d902ebf"", ""author"": {""name"": ""bigmarvin"", ""email"": ""marvin.wu1986@gmail.com"", ""date"": ""2021-07-08T07:50:39Z""}, ""committer"": {""name"": ""bigmarvin"", ""email"": ""marvin.wu1986@gmail.com"", ""date"": ""2021-07-08T07:50:39Z""}}"
1722,OpenPR,2021-07-08 07:55:32,bigmarvin,fork_close,,
1722,CrossReferenced,2021-07-08 08:20:18,bigmarvin,fork_close,ZOOKEEPER-4331: add headers back,"{""reference"": {""url"": ""https://api.github.com/repos/apache/zookeeper/issues/1720"", ""is_pull_request"": true}}"
1722,CrossReferenced,2021-07-12 09:21:27,bigmarvin,fork_close,ZOOKEEPER-4331: add headers back in osgi artifact,"{""reference"": {""url"": ""https://api.github.com/repos/apache/zookeeper/issues/1727"", ""is_pull_request"": true}}"
1722,IssueCommentSupplement,2021-07-12 09:22:06,bigmarvin,fork_close,Let's continue the review in https://github.com/apache/zookeeper/pull/1727 as advised.,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/878117596"", ""author_association"": ""NONE""}"
1722,ClosePR,2021-07-12 09:22:06,bigmarvin,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5006298386"", ""commit_url"": null}"
1722,Referenced,2021-08-03 09:38:01,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5103694307"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/9a5da5f9a023e53bf339748b5b7b17278ae36475""}"
1722,Referenced,2021-08-03 09:39:03,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5103699201"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/726bc55c9575b57375274565f355524a12f839bd""}"
1722,Referenced,2021-08-03 09:41:36,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5103711360"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/b66d0a477181c7b9d7600d468e49421f43355e25""}"
1722,Referenced,2021-08-03 09:43:35,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5103720849"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/b1f08fdd3334ffd1709bd8ad71b041d09514c29a""}"
1723,SubmitCommit,2021-07-08 08:14:43,bigmarvin,fork_close,ZOOKEEPER-4331: add headers back manually,"{""sha"": ""f24572635d056787bda0bd4a6002d52241fd6402"", ""author"": {""name"": ""bigmarvin"", ""email"": ""marvin.wu1986@gmail.com"", ""date"": ""2021-07-08T08:14:43Z""}, ""committer"": {""name"": ""bigmarvin"", ""email"": ""marvin.wu1986@gmail.com"", ""date"": ""2021-07-08T08:14:43Z""}}"
1723,OpenPR,2021-07-08 08:17:53,bigmarvin,fork_close,,
1723,CrossReferenced,2021-07-08 08:20:18,bigmarvin,fork_close,ZOOKEEPER-4331: add headers back,"{""reference"": {""url"": ""https://api.github.com/repos/apache/zookeeper/issues/1720"", ""is_pull_request"": true}}"
1723,CrossReferenced,2021-07-12 09:35:58,bigmarvin,fork_close,ZOOKEEPER-4331: add headers back manually,"{""reference"": {""url"": ""https://api.github.com/repos/apache/zookeeper/issues/1728"", ""is_pull_request"": true}}"
1723,IssueCommentSupplement,2021-07-12 09:36:44,bigmarvin,fork_close,Let's continue the review in https://github.com/apache/zookeeper/pull/1728 as advised.,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/878127515"", ""author_association"": ""NONE""}"
1723,ClosePR,2021-07-12 09:36:44,bigmarvin,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5006373320"", ""commit_url"": null}"
1724,Assigned,2021-07-10 13:46:52,eolivelli,fork_close,,"{""assignee"": {""login"": ""eolivelli"", ""id"": 9469110, ""node_id"": ""MDQ6VXNlcjk0NjkxMTA="", ""avatar_url"": ""https://avatars.githubusercontent.com/u/9469110?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/eolivelli"", ""html_url"": ""https://github.com/eolivelli"", ""followers_url"": ""https://api.github.com/users/eolivelli/followers"", ""following_url"": ""https://api.github.com/users/eolivelli/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/eolivelli/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/eolivelli/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/eolivelli/subscriptions"", ""organizations_url"": ""https://api.github.com/users/eolivelli/orgs"", ""repos_url"": ""https://api.github.com/users/eolivelli/repos"", ""events_url"": ""https://api.github.com/users/eolivelli/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/eolivelli/received_events"", ""type"": ""User"", ""site_admin"": false}}"
1724,OpenPR,2021-07-10 13:46:52,eolivelli,fork_close,,
1724,ReviewRequested,2021-07-10 13:46:53,eolivelli,fork_close,,"{""requested_reviewer"": {""login"": ""ztzg"", ""id"": 393108, ""node_id"": ""MDQ6VXNlcjM5MzEwOA=="", ""avatar_url"": ""https://avatars.githubusercontent.com/u/393108?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/ztzg"", ""html_url"": ""https://github.com/ztzg"", ""followers_url"": ""https://api.github.com/users/ztzg/followers"", ""following_url"": ""https://api.github.com/users/ztzg/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/ztzg/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/ztzg/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/ztzg/subscriptions"", ""organizations_url"": ""https://api.github.com/users/ztzg/orgs"", ""repos_url"": ""https://api.github.com/users/ztzg/repos"", ""events_url"": ""https://api.github.com/users/ztzg/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/ztzg/received_events"", ""type"": ""User"", ""site_admin"": false}, ""requested_team"": null}"
1724,ReviewRequested,2021-07-10 13:46:53,eolivelli,fork_close,,"{""requested_reviewer"": {""login"": ""anmolnar"", ""id"": 4997876, ""node_id"": ""MDQ6VXNlcjQ5OTc4NzY="", ""avatar_url"": ""https://avatars.githubusercontent.com/u/4997876?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/anmolnar"", ""html_url"": ""https://github.com/anmolnar"", ""followers_url"": ""https://api.github.com/users/anmolnar/followers"", ""following_url"": ""https://api.github.com/users/anmolnar/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/anmolnar/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/anmolnar/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/anmolnar/subscriptions"", ""organizations_url"": ""https://api.github.com/users/anmolnar/orgs"", ""repos_url"": ""https://api.github.com/users/anmolnar/repos"", ""events_url"": ""https://api.github.com/users/anmolnar/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/anmolnar/received_events"", ""type"": ""User"", ""site_admin"": false}, ""requested_team"": null}"
1724,ReviewRequested,2021-07-10 13:46:53,eolivelli,fork_close,,"{""requested_reviewer"": {""login"": ""maoling"", ""id"": 11016631, ""node_id"": ""MDQ6VXNlcjExMDE2NjMx"", ""avatar_url"": ""https://avatars.githubusercontent.com/u/11016631?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/maoling"", ""html_url"": ""https://github.com/maoling"", ""followers_url"": ""https://api.github.com/users/maoling/followers"", ""following_url"": ""https://api.github.com/users/maoling/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/maoling/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/maoling/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/maoling/subscriptions"", ""organizations_url"": ""https://api.github.com/users/maoling/orgs"", ""repos_url"": ""https://api.github.com/users/maoling/repos"", ""events_url"": ""https://api.github.com/users/maoling/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/maoling/received_events"", ""type"": ""User"", ""site_admin"": false}, ""requested_team"": null}"
1724,IssueComment,2021-07-16 14:24:22,eolivelli,fork_close,kindly pinging @ztzg @maoling ,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/881489269"", ""author_association"": ""CONTRIBUTOR""}"
1724,Revise,2021-07-16 14:27:38,eolivelli,fork_close,ZOOKEEPER-4333 QuorumSSLTest - testOCSP fails on JDK17,"{""sha"": ""ea59131e861751fa73dd21cb5226d35fc484842b"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2021-07-10T13:35:36Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2021-07-16T14:27:38Z""}}"
1724,Revise,2021-07-16 14:27:38,eolivelli,fork_close,Fix checkstyle,"{""sha"": ""646ddac0505115c93d853347834c22697a2cfff5"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2021-07-16T14:23:45Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2021-07-16T14:27:38Z""}}"
1724,IssueComment,2021-07-23 04:51:05,ztzg,fork_close,"> kindly pinging @ztzg @maoling

Hi @eolivelli,

This is in my queue, and I am back in Munich.  I should be able to look into this on Saturday.

Cheers, -D","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/885397433"", ""author_association"": ""CONTRIBUTOR""}"
1724,ReviewRejected,2021-07-25 20:15:12,ztzg,fork_close,"Hi @eolivelli,

Sorry for the delay in reviewing this.

Generally LGTM, and tested under JDK 11 and 17-ea, with the expected results.

Most of my comments are trivial (particularly given that this is not core code), but I would like to remove the statement which accidentally dumps ~10kB of binary data to the log.  What do you think?

Besides that, the result looks ready to be merged.  Thank you for figuring it out!

Cheers, -D","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1724#pullrequestreview-714346847""}"
1724,Revise,2021-07-27 05:45:25,eolivelli,fork_close,address review comments,"{""sha"": ""9714d21f1b2994f051f7ffdde46f9c3351008e62"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@gmail.com"", ""date"": ""2021-07-27T05:45:25Z""}, ""committer"": {""name"": ""GitHub"", ""email"": ""noreply@github.com"", ""date"": ""2021-07-27T05:45:25Z""}}"
1724,Revise,2021-07-27 06:01:31,eolivelli,fork_close,fix checkstyle,"{""sha"": ""cd3d13b4f3071bf213c18adc9424997fc322cf90"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@gmail.com"", ""date"": ""2021-07-27T06:01:31Z""}, ""committer"": {""name"": ""GitHub"", ""email"": ""noreply@github.com"", ""date"": ""2021-07-27T06:01:31Z""}}"
1724,IssueComment,2021-07-27 07:39:11,eolivelli,fork_close,"@ztzg thanks for your review.
I have addressed your comments
PTAL (and hopefully merge)
please cherry pick to branch-3.7 it is better that at least 3.7 passes the tests on modern JDKs","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/887285878"", ""author_association"": ""CONTRIBUTOR""}"
1724,IssueComment,2021-07-27 12:16:44,eolivelli,fork_close,@ztzg  CI passed,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/887462786"", ""author_association"": ""CONTRIBUTOR""}"
1724,ReviewApproved,2021-07-28 13:10:22,ztzg,fork_close,LGTM!  Merging.,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1724#pullrequestreview-716979028""}"
1724,ClosePR,2021-07-28 13:16:29,ztzg,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5080098240"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/e7de1cf04925b7e1d06f9add83d90760e5a7a241""}"
1724,Referenced,2021-07-28 13:17:36,ztzg,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5080104993"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/2f68294f9ea5859c84a470b8f737f4651aae3e98""}"
1724,IssueCommentSupplement,2021-07-28 13:18:31,ztzg,fork_close,@eolivelli: This is now in `master` and `branch-3.7`.  Cheers!,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/888302645"", ""author_association"": ""CONTRIBUTOR""}"
1725,SubmitCommit,2021-07-11 17:30:07,lindeci,fork_close,"1111

1111111","{""sha"": ""7ead09ec25794e4b6f83316a07cf868536694b84"", ""author"": {""name"": ""lindeci"", ""email"": ""541287039@qq.com"", ""date"": ""2021-07-11T17:30:07Z""}, ""committer"": {""name"": ""GitHub"", ""email"": ""noreply@github.com"", ""date"": ""2021-07-11T17:30:07Z""}}"
1725,OpenPR,2021-07-11 17:34:04,lindeci,fork_close,,
1725,ClosePR,2021-07-13 11:12:17,maoling,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5013083139"", ""commit_url"": null}"
1725,IssueCommentSupplement,2021-07-13 11:17:47,maoling,fork_close,"This PR seems a mistake, Let me close it. @lindeci If I did a misoperation, please reopen it.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/879001435"", ""author_association"": ""MEMBER""}"
1726,SubmitCommit,2021-07-12 08:57:53,bigmarvin,fork_close,ZOOKEEPER-4331: add headers back,"{""sha"": ""c0528d41571b250a2b36a766e65d84136d89f68c"", ""author"": {""name"": ""bigmarvin"", ""email"": ""marvin.wu1986@gmail.com"", ""date"": ""2021-06-29T08:18:18Z""}, ""committer"": {""name"": ""Wu, Xiaokai (Marvin)"", ""email"": ""marvinwu@ea.com"", ""date"": ""2021-07-12T08:57:53Z""}}"
1726,OpenPR,2021-07-12 09:04:43,bigmarvin,fork_close,,
1726,CrossReferenced,2021-07-12 09:05:50,bigmarvin,fork_close,ZOOKEEPER-4331: add headers back,"{""reference"": {""url"": ""https://api.github.com/repos/apache/zookeeper/issues/1720"", ""is_pull_request"": true}}"
1726,CrossReferenced,2021-07-12 09:21:27,bigmarvin,fork_close,ZOOKEEPER-4331: add headers back in osgi artifact,"{""reference"": {""url"": ""https://api.github.com/repos/apache/zookeeper/issues/1727"", ""is_pull_request"": true}}"
1726,CrossReferenced,2021-07-12 09:35:58,bigmarvin,fork_close,ZOOKEEPER-4331: add headers back manually,"{""reference"": {""url"": ""https://api.github.com/repos/apache/zookeeper/issues/1728"", ""is_pull_request"": true}}"
1726,Revise,2021-07-12 09:42:49,"Wu, Xiaokai (Marvin)",fork_close,ZOOKEEPER-4331: fix dup bundle name,"{""sha"": ""86ef2ba36394542db8b2c760bd78d48dbe9d82cc"", ""author"": {""name"": ""Wu, Xiaokai (Marvin)"", ""email"": ""marvinwu@ea.com"", ""date"": ""2021-07-12T09:42:49Z""}, ""committer"": {""name"": ""Wu, Xiaokai (Marvin)"", ""email"": ""marvinwu@ea.com"", ""date"": ""2021-07-12T09:42:49Z""}}"
1726,Referenced,2021-08-03 09:38:01,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5103694312"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/9a5da5f9a023e53bf339748b5b7b17278ae36475""}"
1726,Referenced,2021-08-03 09:39:03,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5103699206"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/726bc55c9575b57375274565f355524a12f839bd""}"
1726,Referenced,2021-08-03 09:41:36,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5103711373"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/b66d0a477181c7b9d7600d468e49421f43355e25""}"
1726,Referenced,2021-08-03 09:43:35,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5103720857"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/b1f08fdd3334ffd1709bd8ad71b041d09514c29a""}"
1726,IssueCommentSupplement,2021-08-03 09:51:14,nkalmar,fork_close,"I believe this is a duplicate of https://github.com/apache/zookeeper/pull/1727 
Closing. @bigmarvin , please ping me or @eolivelli if I got something wrong here. 
Oh, sorry, not a duplicate but the other one was creating another artifact for osgi, which is the one we wanted. So this is no longer needed I believe.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/891704792"", ""author_association"": ""CONTRIBUTOR""}"
1726,ClosePR,2021-08-03 09:51:14,nkalmar,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5103759667"", ""commit_url"": null}"
1727,SubmitCommit,2021-07-12 09:19:53,"Wu, Xiaokai (Marvin)",fork_close,ZOOKEEPER-4331: add headers back in osgi artifact,"{""sha"": ""6f1b3dfd882fadf8c5a6ade02f67aa91136d0b29"", ""author"": {""name"": ""Wu, Xiaokai (Marvin)"", ""email"": ""marvinwu@ea.com"", ""date"": ""2021-07-12T09:19:53Z""}, ""committer"": {""name"": ""Wu, Xiaokai (Marvin)"", ""email"": ""marvinwu@ea.com"", ""date"": ""2021-07-12T09:19:53Z""}}"
1727,OpenPR,2021-07-12 09:21:27,bigmarvin,fork_close,,
1727,CrossReferenced,2021-07-12 09:22:06,bigmarvin,fork_close,ZOOKEEPER-4331: add headers back in osgi artifact,"{""reference"": {""url"": ""https://api.github.com/repos/apache/zookeeper/issues/1722"", ""is_pull_request"": true}}"
1727,Revise,2021-07-12 09:43:56,"Wu, Xiaokai (Marvin)",fork_close,ZOOKEEPER-4331: fix dup bundle name,"{""sha"": ""7715a9245e4a99246a2a1ef7f45a8b86fe24e682"", ""author"": {""name"": ""Wu, Xiaokai (Marvin)"", ""email"": ""marvinwu@ea.com"", ""date"": ""2021-07-12T09:43:56Z""}, ""committer"": {""name"": ""Wu, Xiaokai (Marvin)"", ""email"": ""marvinwu@ea.com"", ""date"": ""2021-07-12T09:43:56Z""}}"
1727,ReviewComment,2021-07-12 10:10:14,eolivelli,fork_close,"this is great stuff!

is it possible to add some kind of integration tests (an additional Maven module I guess) that try to load the library as an OSGI bundle.

this way we will be sure that we are not breaking it in the future.
","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1727#pullrequestreview-703942044""}"
1727,ReviewApproved,2021-07-12 10:11:33,eolivelli,fork_close,,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1727#pullrequestreview-703943170""}"
1727,IssueComment,2021-07-16 09:38:45,bigmarvin,fork_close,"> this is great stuff!
> 
> is it possible to add some kind of integration tests (an additional Maven module I guess) that try to load the library as an OSGI bundle.
> 
> this way we will be sure that we are not breaking it in the future.

After few days' struggling, I'm afraid I won't add integration tests for this change. There is some compliance testing provided by OSGi official, so the problem would be how to wrap that BND pieces into some integration case.

http://felix.apache.org/documentation/development/using-the-osgi-compliance-tests.html

I didn't really find some programmatically appropriate way to make it happen, except for forking another process to run CT in the case. Given this new artifact is packed by some new employed plugin independently, I believe it won't disappear magically if nobody touches that plugin. If somebody does, on the other hand, I don't think a case can stop him/her.

Does this explanation sound good enough for you, @eolivelli? It's some good point that testing should be part of every change, while I wonder if we can take the risk for this particular one. Thanks!","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/881315840"", ""author_association"": ""NONE""}"
1727,ClosePR,2021-07-17 04:58:31,bigmarvin,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5033480325"", ""commit_url"": null}"
1727,ReopenPR,2021-07-17 04:58:34,bigmarvin,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5033480362"", ""commit_url"": null}"
1727,IssueComment,2021-07-26 03:53:29,bigmarvin,fork_close,"May I ask if anything else I can help with for this PR to merge? I'm not very familiar with the process in this repo while it's been a while after last update, so please feel free to let me know.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/886351323"", ""author_association"": ""NONE""}"
1727,IssueComment,2021-08-02 13:26:11,bigmarvin,fork_close,"_Hoping everything is well and renewing the PR again_

May I ask if anything else I can help with for this PR to merge? I'm not very familiar with the process in this repo while it's been a while after last update, so please feel free to let me know.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/891026269"", ""author_association"": ""NONE""}"
1727,IssueComment,2021-08-02 21:09:15,eolivelli,fork_close,"We need a second reviewer ('committer' in ASF terms) to sponsor this patch.

Tagging @nkalmar @anmolnar @maoling @ztzg @breed @hanm ","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/891334664"", ""author_association"": ""CONTRIBUTOR""}"
1727,IssueComment,2021-08-02 21:09:33,eolivelli,fork_close,I am fine with committing this patch in this form,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/891334859"", ""author_association"": ""CONTRIBUTOR""}"
1727,ReviewApproved,2021-08-03 09:33:02,nkalmar,fork_close,+1,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1727#pullrequestreview-720987506""}"
1727,ClosePR,2021-08-03 09:38:01,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5103694299"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/9a5da5f9a023e53bf339748b5b7b17278ae36475""}"
1727,Referenced,2021-08-03 09:39:02,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5103699173"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/726bc55c9575b57375274565f355524a12f839bd""}"
1727,Referenced,2021-08-03 09:41:36,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5103711352"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/b66d0a477181c7b9d7600d468e49421f43355e25""}"
1727,Referenced,2021-08-03 09:43:35,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5103720846"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/b1f08fdd3334ffd1709bd8ad71b041d09514c29a""}"
1727,IssueCommentSupplement,2021-08-03 09:44:12,nkalmar,fork_close,"Merged to master, 3.7, 3.6 and 3.5 branch. Thank you @bigmarvin ","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/891700219"", ""author_association"": ""CONTRIBUTOR""}"
1727,CrossReferenced,2021-08-03 09:51:14,nkalmar,fork_close,ZOOKEEPER-4331: add headers back,"{""reference"": {""url"": ""https://api.github.com/repos/apache/zookeeper/issues/1726"", ""is_pull_request"": true}}"
1727,CrossReferenced,2021-08-03 09:55:27,nkalmar,fork_close,ZOOKEEPER-4331: add headers back manually,"{""reference"": {""url"": ""https://api.github.com/repos/apache/zookeeper/issues/1728"", ""is_pull_request"": true}}"
1727,IssueCommentSupplement,2021-08-03 12:32:41,bigmarvin,fork_close,Thank you @eolivelli and @nkalmar! Github should have provided more emoji XD,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/891809771"", ""author_association"": ""NONE""}"
1728,SubmitCommit,2021-07-12 09:34:39,"Wu, Xiaokai (Marvin)",fork_close,ZOOKEEPER-4331: add headers back manually,"{""sha"": ""7fae85d2e32668272f585c82fb5b9a89e86d4245"", ""author"": {""name"": ""Wu, Xiaokai (Marvin)"", ""email"": ""marvinwu@ea.com"", ""date"": ""2021-07-12T09:34:39Z""}, ""committer"": {""name"": ""Wu, Xiaokai (Marvin)"", ""email"": ""marvinwu@ea.com"", ""date"": ""2021-07-12T09:34:39Z""}}"
1728,OpenPR,2021-07-12 09:35:58,bigmarvin,fork_close,,
1728,CrossReferenced,2021-07-12 09:36:44,bigmarvin,fork_close,ZOOKEEPER-4331: add headers back manually,"{""reference"": {""url"": ""https://api.github.com/repos/apache/zookeeper/issues/1723"", ""is_pull_request"": true}}"
1728,IssueComment,2021-07-12 09:46:00,bigmarvin,fork_close,"May I retrigger the failed check somehow? I don't see it relate to the change in any way.

https://ci-hadoop.apache.org/blue/organizations/jenkins/zookeeper-precommit-github-pr/detail/PR-1728/1/pipeline","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/878133432"", ""author_association"": ""NONE""}"
1728,IssueCommentSupplement,2021-08-03 09:55:27,nkalmar,fork_close,Also closing this one in favor of https://github.com/apache/zookeeper/pull/1727,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/891707606"", ""author_association"": ""CONTRIBUTOR""}"
1728,ClosePR,2021-08-03 09:55:27,nkalmar,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5103779947"", ""commit_url"": null}"
1729,SubmitCommit,2021-07-17 12:09:04,autumind,fork_close,"1. Fix IllegalArgumentException when list ""/""
2. Add unit test cases for this fix.","{""sha"": ""c3ac482f2b982d8946af695bdeeaf84993608be9"", ""author"": {""name"": ""autumind"", ""email"": ""shen.zhibing@mobcb.com"", ""date"": ""2021-07-17T12:09:04Z""}, ""committer"": {""name"": ""autumind"", ""email"": ""shen.zhibing@mobcb.com"", ""date"": ""2021-07-17T12:09:04Z""}}"
1729,OpenPR,2021-07-17 12:45:27,autumind,fork_close,,
1729,ClosePR,2021-07-18 07:18:11,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5034752629"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/2aa17ffe428b9ac8477cedfed293b18f12c2376e""}"
1729,IssueCommentSupplement,2021-07-18 07:18:31,maoling,fork_close,@autumind   Thanks for your contribution.,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/882012227"", ""author_association"": ""MEMBER""}"
1730,SubmitCommit,2021-07-27 16:10:25,ctubbsii,fork_merge,"Add missing .asf.yaml file to publish website

This trivial change adds the missing .asf.yaml file that ensures the
asf-site branch gets published to https://zookeeper.apache.org using ASF
publishing mechanisms when things are changed in the git branch.

This resolves the outstanding issue with this site's publishing that was
identified in the INFRA report at
https://infra-reports.apache.org/site-source/","{""sha"": ""da8f2f4183852e72e477d689283412a75dc0830e"", ""author"": {""name"": ""Christopher Tubbs"", ""email"": ""ctubbsii@apache.org"", ""date"": ""2021-07-27T16:10:25Z""}, ""committer"": {""name"": ""Christopher Tubbs"", ""email"": ""ctubbsii@apache.org"", ""date"": ""2021-07-27T16:10:25Z""}}"
1730,OpenPR,2021-07-27 16:15:10,ctubbsii,fork_merge,,
1730,IssueComment,2021-07-27 16:17:21,ctubbsii,fork_merge,"The directive to create a staging profile from an asf-staging branch is currently unused, but is left in place in case the ZOOKEEPER project wants to create an asf-staging branch later, to test website changes before publishing. The idea is that the asf-staging branch should contain exactly what would be published in the asf-site branch, so both directives are needed in the file.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/887648878"", ""author_association"": ""MEMBER""}"
1730,ReviewApproved,2021-07-27 16:22:58,eolivelli,fork_merge,"Lgtm 

Thanks ","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1730#pullrequestreview-716129704""}"
1730,ReviewComment,2021-07-27 16:23:34,eolivelli,fork_merge,"Can you please verify that apache rat passes?
The file does not have a license header and should be excluded","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1730#pullrequestreview-716130264""}"
1730,IssueComment,2021-07-27 17:32:08,ctubbsii,fork_merge,"> Can you please verify that apache rat passes?
> The file does not have a license header and should be excluded

The file is trivial, and does not include any intellectual property that would require a license header. As far as I know, we don't run Apache RAT on the asf-site branch (there's no pom.xml or any other build config files that would configure it to), so it shouldn't fail there. This branch should be purely content for the website.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/887698532"", ""author_association"": ""MEMBER""}"
1730,MergePR,2021-07-28 05:43:51,eolivelli,fork_merge,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5078012084"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/4545dd2060e13f626e33acb63123645cca31eda2""}"
1730,IssueCommentSupplement,2021-07-28 05:44:14,eolivelli,fork_merge,"Sorry.
I missed that this pr was against the website branch.

Committed 

Thanks","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/888027159"", ""author_association"": ""CONTRIBUTOR""}"
1730,IssueCommentSupplement,2021-07-28 16:03:41,ctubbsii,fork_merge,"Thanks, and I've confirmed that the zookeeper line at https://infra-reports.apache.org/site-source/ is now green!","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/888431146"", ""author_association"": ""MEMBER""}"
1730,DeleteBranch,2021-07-28 16:03:45,ctubbsii,fork_merge,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5081153088"", ""commit_url"": null}"
1732,SubmitCommit,2021-07-28 23:17:14,Aditya Patruni,fork_close,add tab test,"{""sha"": ""8e686d85972e00b49bd23deac9dfc03ad5e96e01"", ""author"": {""name"": ""Aditya Patruni"", ""email"": ""adityapatruni@Adityas-MBP.home"", ""date"": ""2021-07-28T23:17:14Z""}, ""committer"": {""name"": ""Aditya Patruni"", ""email"": ""adityapatruni@Adityas-MBP.home"", ""date"": ""2021-07-28T23:17:14Z""}}"
1732,OpenPR,2021-07-28 23:18:24,apatruni,fork_close,,
1732,IssueComment,2021-07-29 10:54:44,maoling,fork_close,"@apatruni 
- Thanks for this contribution. It's better to create a [JIRA](https://issues.apache.org/jira/projects/ZOOKEEPER/) issue (sign up JIRA if you don't have an account) to bind this PR to a JIRA-ID. ZooKeeper uses the GitHub workflow. The contributor guideline is [here](https://cwiki.apache.org/confluence/display/ZOOKEEPER/HowToContribute)
- This title: `add tab unit test for StringUtils#split` is better?
","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/889017548"", ""author_association"": ""MEMBER""}"
1732,IssueComment,2021-07-29 12:39:06,apatruni,fork_close,@maoling Thank you! I'm looking forward to contributting to zookeeper and wanted to start off with a somewhat simpler commit to get started.  Created https://issues.apache.org/jira/browse/ZOOKEEPER-4340 for this. I will fix up the formatting issues.,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/889091803"", ""author_association"": ""NONE""}"
1732,RenameTitle,2021-07-29 12:39:22,apatruni,fork_close,,"{""rename"": {""from"": ""add tab test"", ""to"": ""add tab unit test for StringUtils#split""}, ""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5085807245""}"
1732,Revise,2021-07-29 12:41:36,Aditya Patruni,fork_close,Fix formatting,"{""sha"": ""dc700a9b021389189fc793eeb67b8f948ccf63ca"", ""author"": {""name"": ""Aditya Patruni"", ""email"": ""adityapatruni@Adityas-MBP.home"", ""date"": ""2021-07-29T12:41:36Z""}, ""committer"": {""name"": ""Aditya Patruni"", ""email"": ""adityapatruni@Adityas-MBP.home"", ""date"": ""2021-07-29T12:41:36Z""}}"
1732,Revise,2021-07-29 13:56:01,Aditya Patruni,fork_close,"add space after , on line 43","{""sha"": ""0b25e6865e977a1448169a79a6cecbb9bd04f7d3"", ""author"": {""name"": ""Aditya Patruni"", ""email"": ""adityapatruni@Adityas-MBP.home"", ""date"": ""2021-07-29T13:56:01Z""}, ""committer"": {""name"": ""Aditya Patruni"", ""email"": ""adityapatruni@Adityas-MBP.home"", ""date"": ""2021-07-29T13:56:01Z""}}"
1732,RenameTitle,2021-07-29 14:30:32,apatruni,fork_close,,"{""rename"": {""from"": ""add tab unit test for StringUtils#split"", ""to"": ""ZOOKEEPER-4340 : add tab unit test for StringUtils#split""}, ""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5086445300""}"
1732,IssueComment,2021-07-31 07:14:50,maoling,fork_close,"@apatruni LGTM
- If no other concerns, I'll merge it at next  weekend(08-08).","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/890304153"", ""author_association"": ""MEMBER""}"
1732,IssueComment,2021-07-31 11:13:20,apatruni,fork_close,"@maoling  thanks so much, looking forward to contributing more very soon!","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/890332202"", ""author_association"": ""NONE""}"
1732,ClosePR,2021-08-08 06:07:07,maoling,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5126331365"", ""commit_url"": null}"
1732,ReopenPR,2021-08-08 06:07:11,maoling,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5126331402"", ""commit_url"": null}"
1732,ClosePR,2021-08-08 08:08:46,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5126409557"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/3cdc62c132846a6e5fd06782730a986b3e5ea144""}"
1732,IssueCommentSupplement,2021-08-08 08:09:31,maoling,fork_close,"@apatruni 
Thanks for your contribution.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/894760667"", ""author_association"": ""MEMBER""}"
1733,SubmitCommit,2021-08-04 11:01:47,ztzg,fork_close,"ZOOKEEPER-4342: Fix: Robustify C client against errors during SASL negotiation

Before this, the client was ignoring the error field of the response
header, and only considering SASL-level errors.

This commit makes it consider 'hdr.err'.  It also zeroes the 'res'
data structure, to avoid a crash in 'deallocate' if 'deserialize' is
skipped, and sets 'input_buffer' to NULL to avoid a double-free.

(I looked into adding a non-regression test, but doing so requires
adding quite a bit of infrastructure to the mocks so that the SASL
library can be correctly initialized.  Punting for now.)","{""sha"": ""f55d99e9dce619e5ac79d99cb5ebeb3ad465ae2c"", ""author"": {""name"": ""Damien Diederen"", ""email"": ""ddiederen@apache.org"", ""date"": ""2021-04-28T16:42:38Z""}, ""committer"": {""name"": ""Damien Diederen"", ""email"": ""ddiederen@apache.org"", ""date"": ""2021-08-04T11:01:47Z""}}"
1733,OpenPR,2021-08-04 11:07:31,ztzg,fork_close,,
1733,ReviewRequested,2021-08-04 11:07:36,ztzg,fork_close,,"{""requested_reviewer"": {""login"": ""eolivelli"", ""id"": 9469110, ""node_id"": ""MDQ6VXNlcjk0NjkxMTA="", ""avatar_url"": ""https://avatars.githubusercontent.com/u/9469110?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/eolivelli"", ""html_url"": ""https://github.com/eolivelli"", ""followers_url"": ""https://api.github.com/users/eolivelli/followers"", ""following_url"": ""https://api.github.com/users/eolivelli/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/eolivelli/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/eolivelli/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/eolivelli/subscriptions"", ""organizations_url"": ""https://api.github.com/users/eolivelli/orgs"", ""repos_url"": ""https://api.github.com/users/eolivelli/repos"", ""events_url"": ""https://api.github.com/users/eolivelli/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/eolivelli/received_events"", ""type"": ""User"", ""site_admin"": false}, ""requested_team"": null}"
1733,ReviewRequested,2021-08-04 11:07:45,ztzg,fork_close,,"{""requested_reviewer"": {""login"": ""symat"", ""id"": 18458499, ""node_id"": ""MDQ6VXNlcjE4NDU4NDk5"", ""avatar_url"": ""https://avatars.githubusercontent.com/u/18458499?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/symat"", ""html_url"": ""https://github.com/symat"", ""followers_url"": ""https://api.github.com/users/symat/followers"", ""following_url"": ""https://api.github.com/users/symat/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/symat/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/symat/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/symat/subscriptions"", ""organizations_url"": ""https://api.github.com/users/symat/orgs"", ""repos_url"": ""https://api.github.com/users/symat/repos"", ""events_url"": ""https://api.github.com/users/symat/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/symat/received_events"", ""type"": ""User"", ""site_admin"": false}, ""requested_team"": null}"
1733,IssueComment,2021-08-04 11:09:51,ztzg,fork_close,@eolivelli: It would be good to have this in 3.7.1 (even though it seems difficult to trigger in practice with the current server).,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/892570858"", ""author_association"": ""CONTRIBUTOR""}"
1733,ReviewApproved,2021-08-04 11:54:09,eolivelli,fork_close,Lgtm ,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1733#pullrequestreview-722189251""}"
1733,IssueComment,2021-08-25 12:12:33,ztzg,fork_close,"@eolivelli: AFAICT, this is ready to go. Should I take care of merging it?","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/905445492"", ""author_association"": ""CONTRIBUTOR""}"
1733,IssueComment,2021-08-25 12:13:16,eolivelli,fork_close,merging it now,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/905446007"", ""author_association"": ""CONTRIBUTOR""}"
1733,ClosePR,2021-08-25 12:14:36,eolivelli,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5206338347"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/06467dc8c20e6c7357c19904f6214bb406262ba2""}"
1733,Referenced,2021-08-25 12:14:37,eolivelli,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5206338453"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/fbb740f0a8833bf864833e15d1872d5ee30a21da""}"
1733,IssueCommentSupplement,2021-08-25 12:16:20,eolivelli,fork_close,committed to master and to branch-3.7,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/905448067"", ""author_association"": ""CONTRIBUTOR""}"
1733,IssueCommentSupplement,2021-08-25 12:21:27,ztzg,fork_close,Thanks!,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/905452818"", ""author_association"": ""CONTRIBUTOR""}"
1734,OpenPR,2021-08-05 08:42:23,ztzg,fork_close,,
1734,ReviewRequested,2021-08-05 08:42:24,ztzg,fork_close,,"{""requested_reviewer"": {""login"": ""nkalmar"", ""id"": 5468746, ""node_id"": ""MDQ6VXNlcjU0Njg3NDY="", ""avatar_url"": ""https://avatars.githubusercontent.com/u/5468746?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/nkalmar"", ""html_url"": ""https://github.com/nkalmar"", ""followers_url"": ""https://api.github.com/users/nkalmar/followers"", ""following_url"": ""https://api.github.com/users/nkalmar/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/nkalmar/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/nkalmar/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/nkalmar/subscriptions"", ""organizations_url"": ""https://api.github.com/users/nkalmar/orgs"", ""repos_url"": ""https://api.github.com/users/nkalmar/repos"", ""events_url"": ""https://api.github.com/users/nkalmar/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/nkalmar/received_events"", ""type"": ""User"", ""site_admin"": false}, ""requested_team"": null}"
1734,ReviewRequested,2021-08-05 08:42:24,ztzg,fork_close,,"{""requested_reviewer"": {""login"": ""eolivelli"", ""id"": 9469110, ""node_id"": ""MDQ6VXNlcjk0NjkxMTA="", ""avatar_url"": ""https://avatars.githubusercontent.com/u/9469110?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/eolivelli"", ""html_url"": ""https://github.com/eolivelli"", ""followers_url"": ""https://api.github.com/users/eolivelli/followers"", ""following_url"": ""https://api.github.com/users/eolivelli/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/eolivelli/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/eolivelli/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/eolivelli/subscriptions"", ""organizations_url"": ""https://api.github.com/users/eolivelli/orgs"", ""repos_url"": ""https://api.github.com/users/eolivelli/repos"", ""events_url"": ""https://api.github.com/users/eolivelli/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/eolivelli/received_events"", ""type"": ""User"", ""site_admin"": false}, ""requested_team"": null}"
1734,IssueComment,2021-08-05 08:42:48,ztzg,fork_close,"@nkalmar, @eolivelli: This applies to 3.7 as well as `master`.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/893279087"", ""author_association"": ""CONTRIBUTOR""}"
1734,ReviewApproved,2021-08-06 07:13:50,nkalmar,fork_close,+1,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1734#pullrequestreview-724048523""}"
1734,Revise,2021-08-25 08:25:52,ztzg,fork_close,"ZOOKEEPER-4337: Bump jetty to 9.4.43.v20210629 (avoids CVE-2021-34429)

Version 9.4.43.v20210629 is the latest available in the 9.4 series at
the time of this commit.  Its release notes explicitly declare ""This
release resolves CVE-2021-34429"":

  https://github.com/eclipse/jetty.project/releases/tag/jetty-9.4.43.v20210629","{""sha"": ""d66c91af1b6fb91fab0a774e27fb84294dfeca65"", ""author"": {""name"": ""Damien Diederen"", ""email"": ""ddiederen@apache.org"", ""date"": ""2021-08-05T07:59:38Z""}, ""committer"": {""name"": ""Damien Diederen"", ""email"": ""ddiederen@apache.org"", ""date"": ""2021-08-25T08:25:52Z""}}"
1734,IssueComment,2021-08-25 13:06:15,ztzg,fork_close,"@eolivelli, @nkalmar: Some flaky request throttling tests keep failing on the GitHub CI runner, but passed on Jenkins.  Okay to merge?","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/905484655"", ""author_association"": ""CONTRIBUTOR""}"
1734,IssueComment,2021-08-25 13:58:24,eolivelli,fork_close,"I have restarted the failed job.

Please do not merge a patch is CI is not green","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/905525332"", ""author_association"": ""CONTRIBUTOR""}"
1734,IssueComment,2021-08-25 15:34:24,ztzg,fork_close,"> I have restarted the failed job.
> 
> Please do not merge a patch is CI is not green

This one failed again, and once more because of `RequestThrottlerTest`.  Restarting it once more…

(I had restarted the job a couple of times already, but kept hitting random flaky errors. Isn't the full-build-java-tests, 11 job kinda redundant wrt. to the Jenkins run, which was already passing? I obviously wouldn't suggest to ignore CI in general.)

Hopefully https://github.com/apache/zookeeper/pull/1739 will help.
","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/905617132"", ""author_association"": ""CONTRIBUTOR""}"
1734,IssueComment,2021-08-27 08:52:07,nkalmar,fork_close,"All green, @eolivelli PTAL","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/907040462"", ""author_association"": ""CONTRIBUTOR""}"
1734,ReviewApproved,2021-08-27 11:45:38,eolivelli,fork_close,LGTM,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1734#pullrequestreview-740433964""}"
1734,ClosePR,2021-09-01 16:51:06,ztzg,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5240921231"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/561231f8bfe910e63dbd8c281cb25033a0e7d7a5""}"
1734,Referenced,2021-09-01 16:51:18,ztzg,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5240922247"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/84166e18906d6e611b64d8128fefddc14d86da14""}"
1735,OpenPR,2021-08-05 08:51:02,ztzg,fork_close,,
1735,ReviewRequested,2021-08-05 08:51:14,ztzg,fork_close,,"{""requested_reviewer"": {""login"": ""nkalmar"", ""id"": 5468746, ""node_id"": ""MDQ6VXNlcjU0Njg3NDY="", ""avatar_url"": ""https://avatars.githubusercontent.com/u/5468746?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/nkalmar"", ""html_url"": ""https://github.com/nkalmar"", ""followers_url"": ""https://api.github.com/users/nkalmar/followers"", ""following_url"": ""https://api.github.com/users/nkalmar/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/nkalmar/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/nkalmar/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/nkalmar/subscriptions"", ""organizations_url"": ""https://api.github.com/users/nkalmar/orgs"", ""repos_url"": ""https://api.github.com/users/nkalmar/repos"", ""events_url"": ""https://api.github.com/users/nkalmar/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/nkalmar/received_events"", ""type"": ""User"", ""site_admin"": false}, ""requested_team"": null}"
1735,ReviewRequested,2021-08-05 08:51:26,ztzg,fork_close,,"{""requested_reviewer"": {""login"": ""eolivelli"", ""id"": 9469110, ""node_id"": ""MDQ6VXNlcjk0NjkxMTA="", ""avatar_url"": ""https://avatars.githubusercontent.com/u/9469110?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/eolivelli"", ""html_url"": ""https://github.com/eolivelli"", ""followers_url"": ""https://api.github.com/users/eolivelli/followers"", ""following_url"": ""https://api.github.com/users/eolivelli/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/eolivelli/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/eolivelli/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/eolivelli/subscriptions"", ""organizations_url"": ""https://api.github.com/users/eolivelli/orgs"", ""repos_url"": ""https://api.github.com/users/eolivelli/repos"", ""events_url"": ""https://api.github.com/users/eolivelli/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/eolivelli/received_events"", ""type"": ""User"", ""site_admin"": false}, ""requested_team"": null}"
1735,IssueComment,2021-08-05 09:00:12,ztzg,fork_close,"@nkalmar, @eolivelli: This one is only for `master` (the dependency on `commons-io` was introduced by [ZOOKEEPER-3922](https://issues.apache.org/jira/browse/ZOOKEEPER-3922), ""introduction of the oracle, a failure detector.""

I have a few notes/questions:

-   I have refactored the `commons-io` dependency into the toplevel POM, which is why there are two commits;
-   Should I try and bump to the latest version of `commons-io`, which is 2.11?
-   I have added the ""missing"" `*.LICENSE.txt` file for `commons-io` (it mirrors `META-INF/LICENSE.txt` in the Maven-downloaded JAR). But perhaps that file was ""missing"" on purpose?

Cheers, -D
","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/893289952"", ""author_association"": ""CONTRIBUTOR""}"
1735,IssueComment,2021-08-06 07:11:50,nkalmar,fork_close,"Thank you @ztzg , I agree, should be defined in top level pom. 
If moving to 2.11 works with little to no work required, I say let's go for it. The newer the better. If we touch a dependency, we should upgrade to the latest possible, IMHO.

Also, good catch on the license file! Not an expert here, but quickly checking, metrics-core for example also has apache 2.0 license and we include it.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/894054638"", ""author_association"": ""CONTRIBUTOR""}"
1735,ReviewComment,2021-08-06 07:12:36,nkalmar,fork_close,"Let's try moving to newest (2.11), if it's possible with little to no change. Otherwise +1","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1735#pullrequestreview-724047698""}"
1735,RenameTitle,2021-08-13 11:50:53,ztzg,fork_close,,"{""rename"": {""from"": ""ZOOKEEPER-4343: Bump commons-io to version 2.7 (avoids CVE-2021-29425)"", ""to"": ""ZOOKEEPER-4343: Bump commons-io to version 2.11 (avoids CVE-2021-29425)""}, ""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5155341025""}"
1735,ReviewApproved,2021-08-13 12:02:02,eolivelli,fork_close,LGTM,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1735#pullrequestreview-729543587""}"
1735,IssueComment,2021-08-13 12:02:43,eolivelli,fork_close,"@ztzg you don't need to ""force push"" the PR is updated automatically and the script will squash the commits into one","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/898409655"", ""author_association"": ""CONTRIBUTOR""}"
1735,IssueComment,2021-08-13 12:05:18,ztzg,fork_close,"> @ztzg you don't need to ""force push"" the PR is updated automatically and the script will squash the commits into one

Right.  But In this case I moved everything on top of the latest `master` and tried a few combinations because I encounter a strange Jenkins pipeline error:

https://ci-hadoop.apache.org/blue/organizations/jenkins/zookeeper-precommit-github-pr/detail/PR-1735/5/pipeline/

```
Error when executing cleanup post condition:
org.jenkinsci.plugins.workflow.steps.MissingContextVariableException: Required context class hudson.FilePath is missing
Perhaps you forgot to surround the code with a step that provides this, such as: node
	at org.jenkinsci.plugins.workflow.steps.StepDescriptor.checkContextAvailability(StepDescriptor.java:266)
	at org.jenkinsci.plugins.workflow.cps.DSL.invokeStep(DSL.java:296)
	at org.jenkinsci.plugins.workflow.cps.DSL.invokeMethod(DSL.java:193)
	at org.jenkinsci.plugins.workflow.cps.CpsScript.invokeMethod(CpsScript.java:122)
```

Would you happen to know what is causing this error?  It doesn't seem to be related to the state of `master`.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/898411304"", ""author_association"": ""CONTRIBUTOR""}"
1735,ReviewApproved,2021-08-16 13:39:06,nkalmar,fork_close,,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1735#pullrequestreview-730726148""}"
1735,IssueComment,2021-08-16 13:42:04,nkalmar,fork_close,"It looks like as if it is some kind of jenkins job description problem:
```
Error when executing cleanup post condition:

org.jenkinsci.plugins.workflow.steps.MissingContextVariableException: Required context class hudson.FilePath is missing

Perhaps you forgot to surround the code with a step that provides this, such as: node
```","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/899521315"", ""author_association"": ""CONTRIBUTOR""}"
1735,Revise,2021-08-25 08:23:49,ztzg,fork_close,ZOOKEEPER-4337: Pull commons-io dependency in toplevel POM (minor cleanup),"{""sha"": ""7728100ebfa65fd371c9c15eff6c4fed064cebe2"", ""author"": {""name"": ""Damien Diederen"", ""email"": ""ddiederen@apache.org"", ""date"": ""2021-08-05T08:36:21Z""}, ""committer"": {""name"": ""Damien Diederen"", ""email"": ""ddiederen@apache.org"", ""date"": ""2021-08-25T08:23:49Z""}}"
1735,Revise,2021-08-25 08:23:49,ztzg,fork_close,"ZOOKEEPER-4337: Bump commons-io to 2.7 (avoids CVE-2021-29425)

The issue reported in CVE-2021-29425 is fixed in release 2.7:

  https://nvd.nist.gov/vuln/detail/CVE-2021-29425
  https://issues.apache.org/jira/browse/IO-556
  https://issues.apache.org/jira/browse/IO-559
  https://commons.apache.org/proper/commons-io/changes-report.html#a2.7

This is a ""conservative"" update, only intended to get past the OWASP
Dependency-Check tool.","{""sha"": ""8a76929973f67f15a19455cc9018e3237a1e4780"", ""author"": {""name"": ""Damien Diederen"", ""email"": ""ddiederen@apache.org"", ""date"": ""2021-08-05T08:07:11Z""}, ""committer"": {""name"": ""Damien Diederen"", ""email"": ""ddiederen@apache.org"", ""date"": ""2021-08-25T08:23:49Z""}}"
1735,Revise,2021-08-25 08:23:49,ztzg,fork_close,"ZOOKEEPER-4337: Bump commons-io to 2.11 (latest)

There are no obvious breaking changes in commons-io 2.11 vs. 2.7, so
this commit further bumps it after the CVE-induced update.","{""sha"": ""4fd39da4ddc14868c5d35881d6c82d06fd06e09b"", ""author"": {""name"": ""Damien Diederen"", ""email"": ""ddiederen@apache.org"", ""date"": ""2021-08-13T11:46:10Z""}, ""committer"": {""name"": ""Damien Diederen"", ""email"": ""ddiederen@apache.org"", ""date"": ""2021-08-25T08:23:49Z""}}"
1735,IssueComment,2021-08-25 13:16:45,ztzg,fork_close,"@eolivelli, @nkalmar: The Jenkins job description problem went away (I suppose it was an infrastructure misconfiguration).  Some flaky request throttling tests keep failing on the GitHub CI runner, but passed on Jenkins.  Should we merge this?  (@enrico: would you want me to remove the `*.LICENSE.txt`?)","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/905492979"", ""author_association"": ""CONTRIBUTOR""}"
1735,IssueComment,2021-08-25 13:59:31,eolivelli,fork_close,">  would you want me to remove the *.LICENSE.txt?
no, please keep it

> . Should we merge this?
No if CI is not green, I have restarted the job","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/905526230"", ""author_association"": ""CONTRIBUTOR""}"
1735,IssueComment,2021-08-25 15:31:11,ztzg,fork_close,"> > would you want me to remove the *.LICENSE.txt?
>
> no, please keep it

Okay.

> > . Should we merge this?
>
> No if CI is not green, I have restarted the job

Ah, the GitHub CI runs finally went through. (I had restarted the job a couple of times already, but kept hitting random flaky errors.  Isn't the `full-build-java-tests, 11` job kinda redundant wrt. to the Jenkins run, which was already passing?  I obviously wouldn't suggest to ignore CI in general.)

Should I take care of the merge?

P.-S. — Hopefully https://github.com/apache/zookeeper/pull/1739 will help.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/905613856"", ""author_association"": ""CONTRIBUTOR""}"
1735,ClosePR,2021-09-01 16:56:46,ztzg,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5240953588"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/726ec30fdd47bccd2a2be021cf6a6b848e9ee28b""}"
1736,SubmitCommit,2021-08-07 09:49:25,cuibo01,fork_close,[ZOOKEEPER-4345]Avoid NoSunchMethodException caused by shaded,"{""sha"": ""9709729719b12db2893c9fac801d3afdbec6ba5f"", ""author"": {""name"": ""Bo"", ""email"": ""cuibo0108@163.com"", ""date"": ""2021-08-07T09:49:25Z""}, ""committer"": {""name"": ""Bo"", ""email"": ""cuibo0108@163.com"", ""date"": ""2021-08-07T09:49:25Z""}}"
1736,OpenPR,2021-08-07 09:50:49,cuibo01,fork_close,,
1736,IssueComment,2021-08-07 10:47:17,cuibo01,fork_close,"@ztzg @nkalmar @maoling @eolivelli  pls review, thx","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/894638149"", ""author_association"": ""CONTRIBUTOR""}"
1736,ReviewRejected,2021-08-07 16:11:25,eolivelli,fork_close,,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1736#pullrequestreview-724830284""}"
1736,IssueComment,2021-08-08 05:51:02,cuibo01,fork_close,"@eolivelli How to Rerun Failed CI. in my pc, all UTs are ok","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/894747462"", ""author_association"": ""CONTRIBUTOR""}"
1736,ClosePR,2021-08-08 05:56:24,cuibo01,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5126324696"", ""commit_url"": null}"
1736,ReopenPR,2021-08-08 05:56:30,cuibo01,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5126324729"", ""commit_url"": null}"
1736,ClosePR,2021-08-09 04:40:52,cuibo01,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5127627454"", ""commit_url"": null}"
1736,ReopenPR,2021-08-09 04:40:54,cuibo01,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5127627490"", ""commit_url"": null}"
1736,ReviewRejected,2021-08-09 05:31:41,eolivelli,fork_close,"Now I understand better the goal.

In this case we can add some testcase about using only the classname (without package).
","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1736#pullrequestreview-725027013""}"
1736,IssueComment,2021-08-09 06:40:01,cuibo01,fork_close,"> Now I understand better the goal.
> 
> In this case we can add some testcase about using only the classname (without package).

thx for your review， i will add UT asap","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/894985019"", ""author_association"": ""CONTRIBUTOR""}"
1736,Revise,2021-08-10 01:31:38,cuibo01,fork_close,[ZOOKEEPER-4345]Avoid NoSunchMethodException caused by shaded,"{""sha"": ""3965f2e8d18aadda58091286ed2319014da5c867"", ""author"": {""name"": ""Bo"", ""email"": ""cuibo0108@163.com"", ""date"": ""2021-08-10T01:31:38Z""}, ""committer"": {""name"": ""Bo"", ""email"": ""cuibo0108@163.com"", ""date"": ""2021-08-10T01:31:38Z""}}"
1736,ReviewRejected,2021-08-10 06:49:59,eolivelli,fork_close,,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1736#pullrequestreview-726064851""}"
1736,ReviewApproved,2021-08-10 12:26:59,eolivelli,fork_close,"LGTM

we need another review to sponsor this patch

tagging @maoling @ztzg @anmolnar @phunt @nkalmar @symat ","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1736#pullrequestreview-726368358""}"
1736,ReviewApproved,2021-08-10 13:50:40,arshadmohammad,fork_close,,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1736#pullrequestreview-726463806""}"
1736,IssueComment,2021-08-10 14:10:10,eolivelli,fork_close,"thank you @arshadmohammad 
do you want to merge this patch ?
we can cherry pick to 3.7.x and probably also to 3.6.x","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/896062992"", ""author_association"": ""CONTRIBUTOR""}"
1736,ClosePR,2021-08-11 15:11:14,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5142939962"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/5f6ec6cc7fd303702dca31edd2317b33c6e66bd1""}"
1736,Referenced,2021-08-11 15:11:35,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5142942336"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/434c54d7501f9cbb15126561d3ca3d16aeace076""}"
1736,Referenced,2021-08-11 15:19:48,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5143000067"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/f658cdced8a417d7969c4a72b7732ae32db0b266""}"
1736,IssueCommentSupplement,2021-08-11 15:21:49,arshadmohammad,fork_close,"Merged to master, branch-3.7 and branch-3.6.
Thanks @cuibo01 for the contribution.
Thanks @eolivelli  for the reviews.
","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/896919426"", ""author_association"": ""CONTRIBUTOR""}"
1736,DeleteBranch,2021-08-31 06:30:36,cuibo01,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5230325708"", ""commit_url"": null}"
1736,Referenced,2022-05-17 10:58:15,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6623442318"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/65615a54e30777af757ac52980fb2a5ac5fb0219""}"
1737,SubmitCommit,2021-08-11 12:59:06,username12,fork_close,set git depth,"{""sha"": ""6760f663cf0708f866f8e7641c22bac6bfa824f5"", ""author"": {""name"": ""Your Name"", ""email"": ""email@example.com"", ""date"": ""2021-08-11T12:59:06Z""}, ""committer"": {""name"": ""Your Name"", ""email"": ""email@example.com"", ""date"": ""2021-08-11T12:59:06Z""}}"
1737,OpenPR,2021-08-11 12:59:13,YunLemon,fork_close,,
1737,ClosePR,2021-08-18 18:26:13,YunLemon,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5176485576"", ""commit_url"": null}"
1737,ReopenPR,2021-08-26 08:24:10,YunLemon,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5211367668"", ""commit_url"": null}"
1737,IssueComment,2021-09-06 10:56:30,maoling,fork_close,"- @YunLemon It's better to create a [JIRA](https://issues.apache.org/jira/projects/ZOOKEEPER/) issues (sign up JIRA if you don't have an account) to bind this PR to a JIRA-ID
The contributor guide is [here](https://cwiki.apache.org/confluence/display/ZOOKEEPER/HowToContribute])
- PTAL @eolivelli ","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/913553741"", ""author_association"": ""MEMBER""}"
1737,ClosePR,2022-09-25 02:38:30,YunLemon,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7452848331"", ""commit_url"": null}"
1738,SubmitCommit,2021-08-19 07:46:16,yuMoyu,fork_close,"Update zookeeperTutorial.md

EPHEMERAL_SEQUENTIAL产生的节点名会加上顺序编号，删除会报找不到","{""sha"": ""120125298e7ae8cc43a5a7191cf2a6dec95d4728"", ""author"": {""name"": ""yuMoyu"", ""email"": ""2394988933@qq.com"", ""date"": ""2021-08-19T07:46:16Z""}, ""committer"": {""name"": ""GitHub"", ""email"": ""noreply@github.com"", ""date"": ""2021-08-19T07:46:16Z""}}"
1738,OpenPR,2021-08-19 08:07:24,yuMoyu,fork_close,,
1738,IssueComment,2021-08-25 10:55:48,maoling,fork_close,"- Good catch. @yuMoyu Thanks for this contribution. It's better to create a [JIRA](https://issues.apache.org/jira/projects/ZOOKEEPER/) issue (sign up JIRA if you don't have an account) to bind this PR to a JIRA-ID. ZooKeeper uses the GitHub workflow. The contributor guideline is [here](https://cwiki.apache.org/confluence/display/ZOOKEEPER/HowToContribute)
- please write the GitHub description with English, other than Chinese
- I believe that the implementation of barrier must have other places to improve. Could you please try to improve it?
the following is a good references:
    - https://curator.apache.org/curator-recipes/barrier.html
    - https://github.com/apache/curator/blob/master/curator-recipes/src/main/java/org/apache/curator/framework/recipes/barriers/DistributedBarrier.java#L70

","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/905394236"", ""author_association"": ""MEMBER""}"
1738,IssueComment,2021-08-26 09:14:39,yuMoyu,fork_close,"> * Good catch. @yuMoyu Thanks for this contribution. It's better to create a [JIRA](https://issues.apache.org/jira/projects/ZOOKEEPER/) issue (sign up JIRA if you don't have an account) to bind this PR to a JIRA-ID. ZooKeeper uses the GitHub workflow. The contributor guideline is [here](https://cwiki.apache.org/confluence/display/ZOOKEEPER/HowToContribute)
> * please write the GitHub description with English, other than Chinese
> * I believe that the implementation of barrier must have other places to improve. Could you please try to improve it?
>   the following is a good references:
>   
>   * https://curator.apache.org/curator-recipes/barrier.html
>   * https://github.com/apache/curator/blob/master/curator-recipes/src/main/java/org/apache/curator/framework/recipes/barriers/DistributedBarrier.java#L70

Sorry, I don't quite understand which of the following you mean. 1、 The improvements I mentioned can be optimized. 2、 There are other aspects that can be improved in this document. 3、 the classes in the link can be improved.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/906235870"", ""author_association"": ""CONTRIBUTOR""}"
1738,IssueComment,2021-08-31 11:02:55,khakindrad,fork_close,"Hi,
    I'm thinking about to implement ZooKeeper Server. 

   Want to configure the server as if Same data is received to update for a node then system should ignore this update request.
 Kindly assist me for the same.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/909131645"", ""author_association"": ""NONE""}"
1738,IssueComment,2021-09-01 01:58:39,yuMoyu,fork_close,"> Hi,
> I'm thinking about to implement ZooKeeper Server.
> 
> Want to configure the server as if Same data is received to update for a node then system should ignore this update request.
> Kindly assist me for the same.

When using the class of Zookeeper,maybe you can call getData() before setData()？","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/909800966"", ""author_association"": ""CONTRIBUTOR""}"
1738,IssueComment,2021-09-02 11:13:15,maoling,fork_close,"> Sorry, I don't quite understand which of the following you mean. 1、 The improvements I mentioned can be optimized. 2、 There are other aspects that can be improved in this document. 3、 the classes in the link can be improved.

@yuMoyu  What I want express is: the `barrier` implementation in the zk doc is not good enough and there are other aspects that can be improved in this doc. The reference link I provided may give you some inspirations.
","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/911549902"", ""author_association"": ""MEMBER""}"
1738,ClosePR,2021-10-31 05:26:56,maoling,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5544774261"", ""commit_url"": null}"
1738,ReopenPR,2021-10-31 05:27:00,maoling,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5544774302"", ""commit_url"": null}"
1738,RenameTitle,2021-10-31 05:42:27,maoling,fork_close,,"{""rename"": {""from"": ""Update zookeeperTutorial.md"", ""to"": ""ZOOKEEPER-4406: fix the znode type for Barrier implementation in the zookeeperTutorial.md""}, ""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5544783871""}"
1738,ClosePR,2021-10-31 06:07:41,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5544798958"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/e5dd8a57cddb6e3958a53b8228f94b74da7ca7ce""}"
1738,IssueCommentSupplement,2021-10-31 06:08:22,maoling,fork_close,"@yuMoyu 
Thanks for your contribution.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/955643095"", ""author_association"": ""MEMBER""}"
1739,SubmitCommit,2021-08-25 15:23:23,ztzg,fork_close,"ZOOKEEPER-4327: RequestThrottlerTest: Only resume after looking at metrics

Resuming the pipeline before looking at the metrics triggers a race
between the test and other server threads, causing us to sometimes
observe a larger ""prep_processor_request_queued"" than expected.

The corresponding failures look like this:

    RequestThrottlerTest.testGlobalOutstandingRequestThrottlingWithRequestThrottlerDisabled:340 expected: <3> but was: <7>

The metric we look at is updated at the front of the pipeline, before
the portion blocked by 'resumeProcess'; we don't have to wait for the
latter to observe the effect of the global outstanding limit.","{""sha"": ""cf18e511352092ebf4de3d22f831d640b9330378"", ""author"": {""name"": ""Damien Diederen"", ""email"": ""ddiederen@apache.org"", ""date"": ""2021-08-25T13:27:31Z""}, ""committer"": {""name"": ""Damien Diederen"", ""email"": ""ddiederen@apache.org"", ""date"": ""2021-08-25T15:23:23Z""}}"
1739,SubmitCommit,2021-08-25 15:23:23,ztzg,fork_close,"ZOOKEEPER-4327: RequestThrottlerTest: Allow more time for request ingestion

The 5s timeout used before this patch was sometimes not sufficient for
the server to process the five requests of interest.  The
corresponding failures look like this:

    RequestThrottlerTest.testLargeRequestThrottling:297 expected: <2> but was: <0>

or this:

    RequestThrottlerTest.testLargeRequestThrottling:299 expected: <5> but was: <4>

We can use a higher timeout value as the 'await' normally quickly
terminates with the countdown reaching zero (as opposed to timing
out); the increase in duration is only paid on loaded (and slow)
executors.","{""sha"": ""9a7e0fd9cfa6c3c3d0b92e280fe6dcb67ee300ce"", ""author"": {""name"": ""Damien Diederen"", ""email"": ""ddiederen@apache.org"", ""date"": ""2021-08-25T13:42:57Z""}, ""committer"": {""name"": ""Damien Diederen"", ""email"": ""ddiederen@apache.org"", ""date"": ""2021-08-25T15:23:23Z""}}"
1739,OpenPR,2021-08-25 15:25:00,ztzg,fork_close,,
1739,ReviewRequested,2021-08-25 15:25:01,ztzg,fork_close,,"{""requested_reviewer"": {""login"": ""eolivelli"", ""id"": 9469110, ""node_id"": ""MDQ6VXNlcjk0NjkxMTA="", ""avatar_url"": ""https://avatars.githubusercontent.com/u/9469110?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/eolivelli"", ""html_url"": ""https://github.com/eolivelli"", ""followers_url"": ""https://api.github.com/users/eolivelli/followers"", ""following_url"": ""https://api.github.com/users/eolivelli/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/eolivelli/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/eolivelli/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/eolivelli/subscriptions"", ""organizations_url"": ""https://api.github.com/users/eolivelli/orgs"", ""repos_url"": ""https://api.github.com/users/eolivelli/repos"", ""events_url"": ""https://api.github.com/users/eolivelli/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/eolivelli/received_events"", ""type"": ""User"", ""site_admin"": false}, ""requested_team"": null}"
1739,ReviewRequested,2021-08-25 15:25:01,ztzg,fork_close,,"{""requested_reviewer"": {""login"": ""nkalmar"", ""id"": 5468746, ""node_id"": ""MDQ6VXNlcjU0Njg3NDY="", ""avatar_url"": ""https://avatars.githubusercontent.com/u/5468746?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/nkalmar"", ""html_url"": ""https://github.com/nkalmar"", ""followers_url"": ""https://api.github.com/users/nkalmar/followers"", ""following_url"": ""https://api.github.com/users/nkalmar/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/nkalmar/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/nkalmar/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/nkalmar/subscriptions"", ""organizations_url"": ""https://api.github.com/users/nkalmar/orgs"", ""repos_url"": ""https://api.github.com/users/nkalmar/repos"", ""events_url"": ""https://api.github.com/users/nkalmar/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/nkalmar/received_events"", ""type"": ""User"", ""site_admin"": false}, ""requested_team"": null}"
1739,IssueComment,2021-08-25 15:26:28,ztzg,fork_close,"@hanm: Could you double-check and/or review this, in particular my change to `testGlobalOutstandingRequestThrottlingWithRequestThrottlerDisabled`?  Thanks!","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/905608864"", ""author_association"": ""CONTRIBUTOR""}"
1739,ReviewApproved,2021-08-25 15:26:29,eolivelli,fork_close,"LGTM

@hanm @anmolnar PTAL","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1739#pullrequestreview-738505176""}"
1739,CrossReferenced,2021-08-25 15:32:38,ztzg,fork_close,ZOOKEEPER-4343: Bump commons-io to version 2.11 (avoids CVE-2021-29425),"{""reference"": {""url"": ""https://api.github.com/repos/apache/zookeeper/issues/1735"", ""is_pull_request"": true}}"
1739,CrossReferenced,2021-08-25 15:34:24,ztzg,fork_close,ZOOKEEPER-4337: Bump jetty to 9.4.43.v20210629 (avoids CVE-2021-34429),"{""reference"": {""url"": ""https://api.github.com/repos/apache/zookeeper/issues/1734"", ""is_pull_request"": true}}"
1739,IssueComment,2021-08-25 15:43:26,ztzg,fork_close,This applies to `branch-3.7` as well as `master`.,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/905629669"", ""author_association"": ""CONTRIBUTOR""}"
1739,ReviewApproved,2021-08-27 08:46:56,nkalmar,fork_close,+1,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1739#pullrequestreview-740286416""}"
1739,ClosePR,2021-08-27 08:48:55,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5217360458"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/1f5e4fe258707f9b82448a5f97c931c392d011ca""}"
1739,Referenced,2021-08-27 08:49:43,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5217364404"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/34917819b38377723fcc875ec52b1e09f2a1ec62""}"
1739,IssueCommentSupplement,2021-08-27 08:50:19,nkalmar,fork_close,Pushed to master and 3.7. Thanks @ztzg ,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/907039379"", ""author_association"": ""CONTRIBUTOR""}"
1739,IssueCommentSupplement,2021-09-01 07:29:47,ztzg,fork_close,Perfect; thanks!,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/910016343"", ""author_association"": ""CONTRIBUTOR""}"
1739,Referenced,2022-06-28 12:48:58,kezhuw,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6893705351"", ""commit_url"": ""https://api.github.com/repos/kezhuw/zookeeper/commits/7936aecd8b033b2eb3fc1be92a0efff8e3d82bde""}"
1739,CrossReferenced,2022-06-28 12:51:20,kezhuw,fork_close,ZOOKEEPER-4327: Fix flaky RequestThrottlerTest,"{""reference"": {""url"": ""https://api.github.com/repos/apache/zookeeper/issues/1887"", ""is_pull_request"": true}}"
1739,Referenced,2022-09-25 08:21:55,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7453102576"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/bc1b231c9e32667b2978c86a6a64833470973dbd""}"
1739,Referenced,2022-09-25 08:23:54,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7453104305"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/0d382fb39b64d92fd4326b1fc00eb3455c58a533""}"
1739,Referenced,2022-09-25 08:25:39,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7453105782"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/f0381e95f0432f42258d96a3d68152d59dd6651d""}"
1739,Referenced,2022-11-02 02:23:46,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7718732749"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/ab9cf86f2b320023b81da0362f9177809308d2a4""}"
1739,CrossReferenced,2022-11-02 02:23:46,anuragmadnawat1,fork_close,ZOOKEEPER-4327: Fix flaky RequestThrottlerTest,"{""reference"": {""url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/issues/77"", ""is_pull_request"": true}}"
1739,Referenced,2022-11-02 02:30:31,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7718761972"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/77c80ddcb8eb894adfdf66cbefe512c4012db35e""}"
1740,SubmitCommit,2021-08-27 09:25:44,NihalJain,fork_close,"ZOOKEEPER-4355 ZK documentation side bar and welcome page are out of sync

* Added missing links to header.html
* Added a short description for hierarchical quorums section","{""sha"": ""2766b89e01a8e95a04a3ebd1aadb193fb448017d"", ""author"": {""name"": ""Nihal Jain"", ""email"": ""nihaljain.cs@gmail.com"", ""date"": ""2021-08-27T09:25:44Z""}, ""committer"": {""name"": ""Nihal Jain"", ""email"": ""nihaljain.cs@gmail.com"", ""date"": ""2021-08-27T09:25:44Z""}}"
1740,OpenPR,2021-08-27 09:33:52,NihalJain,fork_close,,
1740,ReviewApproved,2021-08-30 11:39:26,maoling,fork_close,+1 LGTM. Great catch,"{""author_association"": ""MEMBER"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1740#pullrequestreview-741551304""}"
1740,ReviewApproved,2021-09-01 07:25:54,ztzg,fork_close,"LGTM.  Thanks, @NihalJain!","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1740#pullrequestreview-743571381""}"
1740,ClosePR,2021-09-01 08:45:00,ztzg,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5237976964"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/24808051c78f06af22014cb8055e3f7f8fe08065""}"
1740,Referenced,2021-09-01 08:45:14,ztzg,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5237978348"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/9ab9b795040899edaa37ef4962c0482cd732fc8b""}"
1740,IssueCommentSupplement,2021-09-01 08:49:10,ztzg,fork_close,This is now in `master` and `branch-3.7`.,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/910075611"", ""author_association"": ""CONTRIBUTOR""}"
1741,SubmitCommit,2021-08-27 12:48:26,NihalJain,fork_close,"ZOOKEEPER-4356 Code blocks do not render correctly in ZK docs site

* Configure to use FENCED_CODE_BLOCKS. 
* Note: TABLES is the default setting. See https://github.com/walokra/markdown-page-generator-plugin for details on default `pegdownExtensions` setting","{""sha"": ""457adb43c71c265bbf4ce9470408dc805981fc5f"", ""author"": {""name"": ""Nihal Jain"", ""email"": ""nihaljain.cs@gmail.com"", ""date"": ""2021-08-27T12:48:26Z""}, ""committer"": {""name"": ""Nihal Jain"", ""email"": ""nihaljain.cs@gmail.com"", ""date"": ""2021-08-27T12:48:26Z""}}"
1741,OpenPR,2021-08-27 12:49:07,NihalJain,fork_close,,
1741,ReviewApproved,2021-08-31 11:19:19,maoling,fork_close,"- Woooow! Great work. The official webpage site had been suffering from this issue for a long time.
- [PR-1336](https://github.com/apache/zookeeper/pull/1336)  also want to solve this problem violently, but don't have an elegant solution like this one:)
- I `mvn clean install -DskipTests` to recheck the generated HTML files under `zookeeper-docs/target/html`. LGTM
","{""author_association"": ""MEMBER"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1741#pullrequestreview-742595992""}"
1741,ReviewApproved,2021-09-01 07:17:13,ztzg,fork_close,"Thank you, @NihalJain; this is certainly a big improvement!","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1741#pullrequestreview-743563532""}"
1741,ClosePR,2021-09-01 08:47:45,ztzg,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5237991709"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/2797116b33a505c8b36b396216c26afd7f7ba28c""}"
1741,Referenced,2021-09-01 08:48:09,ztzg,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5237993936"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/e920633e69389e99770ec07e3cc99577e6eec7e6""}"
1741,IssueCommentSupplement,2021-09-01 08:49:25,ztzg,fork_close,This is now in `master` and `branch-3.7`.,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/910075802"", ""author_association"": ""CONTRIBUTOR""}"
1741,CrossReferenced,2021-09-01 08:52:48,ztzg,fork_close,ZOOKEEPER-3807: fix the bad format when website pages build due to bash marker,"{""reference"": {""url"": ""https://api.github.com/repos/apache/zookeeper/issues/1336"", ""is_pull_request"": true}}"
1741,Referenced,2022-05-17 10:58:15,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6623442333"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/66dc95f9836bc62278644a8df096ee29a132f099""}"
1742,OpenPR,2021-08-28 13:51:35,maoling,fork_close,,
1742,Revise,2021-09-12 04:36:01,maoling,fork_close,ZOOKEEPER-4349: delete the useless oraclePath directory generated by test suit,"{""sha"": ""318e464881e8ffabb9571d79dc12170abdaaf69d"", ""author"": {""name"": ""maoling"", ""email"": ""maoling@apache.org"", ""date"": ""2021-08-28T13:26:38Z""}, ""committer"": {""name"": ""maoling"", ""email"": ""maoling@apache.org"", ""date"": ""2021-09-12T04:36:01Z""}}"
1742,IssueComment,2021-09-12 12:39:18,maoling,fork_close,@chingchan1996  PTAL,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/917628510"", ""author_association"": ""MEMBER""}"
1742,IssueComment,2021-09-13 10:42:30,chingchan1996,fork_close,ACK. Thanks.,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/918066966"", ""author_association"": ""NONE""}"
1742,IssueComment,2021-10-08 10:05:49,maoling,fork_close,"- @chingchan1996 Any concerns ? 
- @eolivelli @ztzg  we are suffering from this issue. PTAL
","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/938517142"", ""author_association"": ""MEMBER""}"
1742,IssueComment,2021-10-08 10:13:44,chingchan1996,fork_close,"I went through the changes. From my point of view, it’s good and fail to criticize. ","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/938522341"", ""author_association"": ""NONE""}"
1742,ClosePR,2021-10-10 13:17:59,maoling,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5439360528"", ""commit_url"": null}"
1742,ReopenPR,2021-10-10 13:18:04,maoling,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5439360614"", ""commit_url"": null}"
1742,ClosePR,2021-10-10 15:10:13,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5439491823"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/cb899167421d7a24f1e6c3f06aa4a621391df15f""}"
1743,OpenPR,2021-08-30 09:01:56,nicoloboschi,fork_close,,
1743,RenameTitle,2021-08-30 09:02:11,nicoloboschi,fork_close,,"{""rename"": {""from"": ""Avoid NPE during gauge execution if the leader is set on FOLLOWER node "", ""to"": ""Avoid NPE during gauge execution if the leader is not set on FOLLOWER node ""}, ""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5224945074""}"
1743,Revise,2021-08-30 09:06:19,nicoloboschi,fork_close,Avoid NPE during gauge execution if the leader is not set,"{""sha"": ""834f2c52cd9483dededa29b3484b2cca3b8ed21b"", ""author"": {""name"": ""Nicol\u00f2 Boschi"", ""email"": ""boschi1997@gmail.com"", ""date"": ""2021-08-30T08:55:09Z""}, ""committer"": {""name"": ""Nicol\u00f2 Boschi - Diennea"", ""email"": ""nicolo.boschi@diennea.com"", ""date"": ""2021-08-30T09:06:19Z""}}"
1743,ReviewApproved,2021-08-30 09:41:48,eolivelli,fork_close,"
thank you @nicoloboschi for your contribution

LGTM

can you please create a JIRA ? and rename your commit message ?

This fix should be picked to 3.7.1 and 3.6.4  as well

 @ztzg @maoling  @lvfangmin  PTAL","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1743#pullrequestreview-741464468""}"
1743,RenameTitle,2021-08-30 09:51:30,nicoloboschi,fork_close,,"{""rename"": {""from"": ""Avoid NPE during gauge execution if the leader is not set on FOLLOWER node "", ""to"": ""ZOOKEEPER-4360 Avoid NPE during gauge execution if the leader is not set on FOLLOWER node ""}, ""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5225201107""}"
1743,IssueComment,2021-08-30 09:51:32,nicoloboschi,fork_close,"thanks @eolivelli , https://issues.apache.org/jira/browse/ZOOKEEPER-4360 created, set 3.7.1 and 3.6.4 as fix versions as you suggested","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/908204957"", ""author_association"": ""CONTRIBUTOR""}"
1743,Revise,2021-08-30 10:13:39,nicoloboschi,fork_close,fix checkstyle,"{""sha"": ""5e5d813f29612dcef29b74bf9af3a2eb8f3a8c6b"", ""author"": {""name"": ""Nicol\u00f2 Boschi - Diennea"", ""email"": ""boschi1997@gmail.com"", ""date"": ""2021-08-30T10:13:39Z""}, ""committer"": {""name"": ""Nicol\u00f2 Boschi - Diennea"", ""email"": ""boschi1997@gmail.com"", ""date"": ""2021-08-30T10:13:39Z""}}"
1743,ReviewApproved,2021-09-02 15:26:49,ztzg,fork_close,"LGTM!  Thank you, @nicoloboschi.  (I'm planning to merge this, but GH CI required activation and Jenkins CI failed due to a flaky test.  I have unblocked both; let's see if we get some green.)","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1743#pullrequestreview-745214397""}"
1743,ClosePR,2021-09-02 16:49:07,ztzg,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5248817185"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/4f515673464e540fa8555b7a3ac85c5d1abe41fb""}"
1743,Referenced,2021-09-02 16:49:26,ztzg,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5248818857"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/0eb1a54fd36bcbb3a14f69f846d28f49ba032536""}"
1743,Referenced,2021-09-02 16:50:17,ztzg,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5248822872"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/5c598414a67d67f3b5cbbb41c7ca5888ccc454d7""}"
1743,IssueCommentSupplement,2021-09-02 16:52:54,ztzg,fork_close,"This is now in `master`, `branch-3.7` and `branch-3.6`.  Thank you!","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/911877403"", ""author_association"": ""CONTRIBUTOR""}"
1744,SubmitCommit,2021-09-01 00:27:30,lanicc,fork_close,ZOOKEEPER-4362: ZKDatabase.txnCount should not log non transactional requests,"{""sha"": ""40b86bcad240dcb003010bffdb31bfdc4db14b1c"", ""author"": {""name"": ""lanicc"", ""email"": ""lanettiesso@gmail.com"", ""date"": ""2021-09-01T00:27:30Z""}, ""committer"": {""name"": ""lanicc"", ""email"": ""lanettiesso@gmail.com"", ""date"": ""2021-09-01T00:27:30Z""}}"
1744,OpenPR,2021-09-01 00:28:49,lanicc,fork_close,,
1744,IssueComment,2021-09-09 11:11:38,maoling,fork_close,"- @lanicc  Great catch.
- Oops, it may be not an improvement, just a hidden bug which was introduced by [PR-770](https://github.com/apache/zookeeper/pull/770)
The refactor is not an equivalence.
```
 // track the number of records written to the log
  if (zks.getZKDatabase().append(si)) {
      logCount++;
      if (logCount > randRoll) {
          randRoll = ThreadLocalRandom.current().nextInt(snapCount / 2, snapCount);
          // roll the log
```

- A worse case: when I do 100000 read requests and then do a write request. In this pattern with a read-heavy use case, too many many snapshots are taken, even the `DataTree` are not changed(if the write request is `closeSession`)
- PTAL @ztzg  @eolivelli ","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/915991022"", ""author_association"": ""MEMBER""}"
1744,IssueComment,2021-10-20 00:42:36,lanicc,fork_close,"> * PTAL @ztzg  @eolivelli

","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/947213835"", ""author_association"": ""CONTRIBUTOR""}"
1744,IssueComment,2021-10-21 11:26:50,maoling,fork_close,"- @ztzg @eolivelli @enixon PTAL
- I checked the codes. This issue existed in 
[master](https://github.com/apache/zookeeper/blob/master/zookeeper-server/src/main/java/org/apache/zookeeper/server/ZKDatabase.java)
[branch-3.7](https://github.com/apache/zookeeper/blob/branch-3.7/zookeeper-server/src/main/java/org/apache/zookeeper/server/ZKDatabase.java)
[branch-3.6](https://github.com/apache/zookeeper/blob/branch-3.6/zookeeper-server/src/main/java/org/apache/zookeeper/server/ZKDatabase.java)
Lucky,  [branch-3.5](https://github.com/apache/zookeeper/blob/branch-3.5/zookeeper-server/src/main/java/org/apache/zookeeper/server/SyncRequestProcessor.java
) did not have this issue.
","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/948516939"", ""author_association"": ""MEMBER""}"
1744,IssueComment,2021-11-01 11:43:33,maoling,fork_close,"- @lanicc  I am going to merge this PR. 
- Could you please add some unit tests for this change. For example: using  the `zk` client to make `m` read requests and `n` write requests, then assert the `txnCount` is equal `n`, not the `m + n`
","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/956163736"", ""author_association"": ""MEMBER""}"
1744,Revise,2021-11-06 09:01:30,lanicc,fork_close,ZOOKEEPER-4366: Add test case for ZkDatabase txnCount,"{""sha"": ""4e1ad8d2c991c3cbe6cb761946840e057837b5df"", ""author"": {""name"": ""lanicc"", ""email"": ""lanettiesso@gmail.com"", ""date"": ""2021-11-06T09:01:30Z""}, ""committer"": {""name"": ""lanicc"", ""email"": ""lanettiesso@gmail.com"", ""date"": ""2021-11-06T09:01:30Z""}}"
1744,IssueComment,2021-11-06 09:15:15,lanicc,fork_close,"> * @lanicc  I am going to merge this PR.
> * Could you please add some unit tests for this change. For example: using  the `zk` client to make `m` read requests and `n` write requests, then assert the `txnCount` is equal `n`, not the `m + n`

The unit test has been submitted, PTAL@maoling","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/962423154"", ""author_association"": ""CONTRIBUTOR""}"
1744,Revise,2021-11-08 01:04:00,lanicc,fork_close,ZOOKEEPER-4366: fix typo,"{""sha"": ""4b08e05ff36dc6ede9cae34a9122ac92b3b849e3"", ""author"": {""name"": ""lanicc"", ""email"": ""lanettiesso@gmail.com"", ""date"": ""2021-11-08T01:04:00Z""}, ""committer"": {""name"": ""lanicc"", ""email"": ""lanettiesso@gmail.com"", ""date"": ""2021-11-08T01:04:00Z""}}"
1744,ReviewApproved,2021-11-10 06:07:50,eolivelli,fork_close,"Great catch!

Good work","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1744#pullrequestreview-802171147""}"
1744,ClosePR,2021-11-13 03:19:47,maoling,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5612676930"", ""commit_url"": null}"
1744,ReopenPR,2021-11-13 03:19:51,maoling,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5612676961"", ""commit_url"": null}"
1744,ReviewApproved,2021-11-13 07:01:00,maoling,fork_close,,"{""author_association"": ""MEMBER"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1744#pullrequestreview-805345774""}"
1744,ReviewComment,2021-11-13 07:01:39,maoling,fork_close,,"{""author_association"": ""MEMBER"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1744#pullrequestreview-805345813""}"
1744,ClosePR,2021-11-13 07:15:37,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5612846641"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/eb63dd9757e7234515e81799d82cc0af4a0ae7f9""}"
1744,Referenced,2021-11-13 07:22:48,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5612851324"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/713a65620d89eb9667d68104acffabe71221c2a9""}"
1744,Referenced,2021-11-13 07:24:31,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5612852439"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/4cb7d346cacc5786024a164ea1d4e8bec98f866c""}"
1744,IssueCommentSupplement,2021-11-13 07:25:46,maoling,fork_close,"- @lanicc Thanks for your contribution.
-  Commit to the following branches:
[master ](https://github.com/apache/zookeeper/tree/master)
[branch-3.7](https://github.com/apache/zookeeper/tree/branch-3.7)
[branch-3.6](https://github.com/apache/zookeeper/tree/branch-3.6)","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/967797730"", ""author_association"": ""MEMBER""}"
1748,SubmitCommit,2021-09-06 08:14:13,maoling,fork_close,ZOOKEEPER-4370: add zookeeperOracleQuorums.html link to webpage index,"{""sha"": ""03bf766da33ff896f8971c441985f5851365caab"", ""author"": {""name"": ""maoling"", ""email"": ""maoling@apache.org"", ""date"": ""2021-09-05T15:59:59Z""}, ""committer"": {""name"": ""maoling"", ""email"": ""maoling@apache.org"", ""date"": ""2021-09-06T08:14:13Z""}}"
1748,OpenPR,2021-09-06 10:53:55,maoling,fork_close,,
1748,ClosePR,2021-09-11 05:31:55,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5287226378"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/d9d20aa1db311424336a564ae55367b4e20c4c9d""}"
1749,SubmitCommit,2021-04-20 14:16:44,r5vd,fork_close,"Set up CI with Azure Pipelines

[skip ci]","{""sha"": ""1f18e62f53d1532b256b9b545080c752d62854c5"", ""author"": {""name"": ""Toivo"", ""email"": ""60509396+r5vd@users.noreply.github.com"", ""date"": ""2021-04-20T14:16:44Z""}, ""committer"": {""name"": ""Toivo"", ""email"": ""60509396+r5vd@users.noreply.github.com"", ""date"": ""2021-04-20T14:16:44Z""}}"
1749,SubmitCommit,2021-05-06 11:01:41,r5vd,fork_close,Delete azure-pipelines.yml,"{""sha"": ""d7a02c8d03cbd2d881661ef012474450bd679cc1"", ""author"": {""name"": ""Toivo"", ""email"": ""60509396+r5vd@users.noreply.github.com"", ""date"": ""2021-05-06T11:01:41Z""}, ""committer"": {""name"": ""GitHub"", ""email"": ""noreply@github.com"", ""date"": ""2021-05-06T11:01:41Z""}}"
1749,SubmitCommit,2021-05-07 06:31:11,r5vd,fork_close,Update package.yml for Azure Pipelines,"{""sha"": ""56986cc4128ebb3c9a7b2b5ff76ee533e8763036"", ""author"": {""name"": ""Toivo"", ""email"": ""60509396+r5vd@users.noreply.github.com"", ""date"": ""2021-05-07T06:31:11Z""}, ""committer"": {""name"": ""Toivo"", ""email"": ""60509396+r5vd@users.noreply.github.com"", ""date"": ""2021-05-07T06:31:11Z""}}"
1749,SubmitCommit,2021-05-07 06:34:06,r5vd,fork_close,"Set up CI with Azure Pipelines

[skip ci]","{""sha"": ""cc641b6ddb1bc6c03f88c6d2970a405ca1fee8c9"", ""author"": {""name"": ""Toivo"", ""email"": ""60509396+r5vd@users.noreply.github.com"", ""date"": ""2021-05-07T06:34:06Z""}, ""committer"": {""name"": ""Toivo"", ""email"": ""60509396+r5vd@users.noreply.github.com"", ""date"": ""2021-05-07T06:34:06Z""}}"
1749,SubmitCommit,2021-05-14 09:44:28,r5vd,fork_close,Delete azure-pipelines.yml,"{""sha"": ""f7dacc049ca8c8a2367823c498ff5c88cae9939f"", ""author"": {""name"": ""Toivo"", ""email"": ""60509396+r5vd@users.noreply.github.com"", ""date"": ""2021-05-14T09:44:28Z""}, ""committer"": {""name"": ""GitHub"", ""email"": ""noreply@github.com"", ""date"": ""2021-05-14T09:44:28Z""}}"
1749,SubmitCommit,2021-05-14 09:45:08,r5vd,fork_close,"Set up CI with Azure Pipelines

[skip ci]","{""sha"": ""5f582e7589544fe4e585e98ca72b2cb27001561e"", ""author"": {""name"": ""Toivo"", ""email"": ""60509396+r5vd@users.noreply.github.com"", ""date"": ""2021-05-14T09:45:08Z""}, ""committer"": {""name"": ""Toivo"", ""email"": ""60509396+r5vd@users.noreply.github.com"", ""date"": ""2021-05-14T09:45:08Z""}}"
1749,SubmitCommit,2021-05-14 10:16:30,r5vd,fork_close,Delete azure-pipelines.yml,"{""sha"": ""62cb8461780ed2464b35d9ede4d6eb40a711b022"", ""author"": {""name"": ""Toivo"", ""email"": ""60509396+r5vd@users.noreply.github.com"", ""date"": ""2021-05-14T10:16:30Z""}, ""committer"": {""name"": ""GitHub"", ""email"": ""noreply@github.com"", ""date"": ""2021-05-14T10:16:30Z""}}"
1749,SubmitCommit,2021-05-14 10:17:56,r5vd,fork_close,"Set up CI with Azure Pipelines

[skip ci]","{""sha"": ""9ef5536ea382c3d139f39473c3816805a4412cf0"", ""author"": {""name"": ""Toivo"", ""email"": ""60509396+r5vd@users.noreply.github.com"", ""date"": ""2021-05-14T10:17:56Z""}, ""committer"": {""name"": ""Toivo"", ""email"": ""60509396+r5vd@users.noreply.github.com"", ""date"": ""2021-05-14T10:17:56Z""}}"
1749,SubmitCommit,2021-05-14 10:35:30,r5vd,fork_close,Update azure-pipelines.yml for Azure Pipelines,"{""sha"": ""92cb43391d49bacda0c03c2d8c70bd7f56454ac9"", ""author"": {""name"": ""Toivo"", ""email"": ""60509396+r5vd@users.noreply.github.com"", ""date"": ""2021-05-14T10:35:30Z""}, ""committer"": {""name"": ""Toivo"", ""email"": ""60509396+r5vd@users.noreply.github.com"", ""date"": ""2021-05-14T10:35:30Z""}}"
1749,SubmitCommit,2021-05-14 14:23:34,r5vd,fork_close,"Set up CI with Azure Pipelines

[skip ci]","{""sha"": ""d0901bc2929dd353267ffe89aa39bf9861b0aabd"", ""author"": {""name"": ""Toivo"", ""email"": ""60509396+r5vd@users.noreply.github.com"", ""date"": ""2021-05-14T14:23:34Z""}, ""committer"": {""name"": ""Toivo"", ""email"": ""60509396+r5vd@users.noreply.github.com"", ""date"": ""2021-05-14T14:23:34Z""}}"
1749,SubmitCommit,2021-05-14 16:09:25,r5vd,fork_close,"Set up CI with Azure Pipelines

[skip ci]","{""sha"": ""3dd60614ae4e1293800988dd8d850367e79b6818"", ""author"": {""name"": ""Toivo"", ""email"": ""60509396+r5vd@users.noreply.github.com"", ""date"": ""2021-05-14T16:09:25Z""}, ""committer"": {""name"": ""Toivo"", ""email"": ""60509396+r5vd@users.noreply.github.com"", ""date"": ""2021-05-14T16:09:25Z""}}"
1749,SubmitCommit,2021-05-17 15:05:45,r5vd,fork_close,Delete azure-pipelines.yml,"{""sha"": ""6f1908077fac4a82aa0509cf4c4c54b67be8d270"", ""author"": {""name"": ""Toivo"", ""email"": ""60509396+r5vd@users.noreply.github.com"", ""date"": ""2021-05-17T15:05:45Z""}, ""committer"": {""name"": ""GitHub"", ""email"": ""noreply@github.com"", ""date"": ""2021-05-17T15:05:45Z""}}"
1749,SubmitCommit,2021-05-17 15:06:00,r5vd,fork_close,Delete azure-pipelines-1.yml,"{""sha"": ""7ed05ce643df76460acba94eab860810384087b4"", ""author"": {""name"": ""Toivo"", ""email"": ""60509396+r5vd@users.noreply.github.com"", ""date"": ""2021-05-17T15:06:00Z""}, ""committer"": {""name"": ""GitHub"", ""email"": ""noreply@github.com"", ""date"": ""2021-05-17T15:06:00Z""}}"
1749,SubmitCommit,2021-05-17 15:55:31,r5vd,fork_close,"Set up CI with Azure Pipelines

[skip ci]","{""sha"": ""31b7c3cecd4bed40bc5ba9db2097413ca20c571a"", ""author"": {""name"": ""Toivo"", ""email"": ""60509396+r5vd@users.noreply.github.com"", ""date"": ""2021-05-17T15:55:31Z""}, ""committer"": {""name"": ""Toivo"", ""email"": ""60509396+r5vd@users.noreply.github.com"", ""date"": ""2021-05-17T15:55:31Z""}}"
1749,SubmitCommit,2021-05-19 06:49:10,r5vd,fork_close,Delete azure-pipelines.yml,"{""sha"": ""a5322f2ba1bd5b968ab55bb7abf4e5b3287fc868"", ""author"": {""name"": ""Toivo"", ""email"": ""60509396+r5vd@users.noreply.github.com"", ""date"": ""2021-05-19T06:49:10Z""}, ""committer"": {""name"": ""GitHub"", ""email"": ""noreply@github.com"", ""date"": ""2021-05-19T06:49:10Z""}}"
1749,SubmitCommit,2021-05-20 11:50:15,r5vd,fork_close,"Set up CI with Azure Pipelines

[skip ci]","{""sha"": ""7a66b397c937d53edd045704b82dd940f7fce4bc"", ""author"": {""name"": ""Toivo"", ""email"": ""60509396+r5vd@users.noreply.github.com"", ""date"": ""2021-05-20T11:50:15Z""}, ""committer"": {""name"": ""Toivo"", ""email"": ""60509396+r5vd@users.noreply.github.com"", ""date"": ""2021-05-20T11:50:15Z""}}"
1749,SubmitCommit,2021-05-22 11:15:02,r5vd,fork_close,Delete azure-pipelines.yml,"{""sha"": ""d9b9e967321febe98025a18a1443df6d75f1c809"", ""author"": {""name"": ""Toivo"", ""email"": ""60509396+r5vd@users.noreply.github.com"", ""date"": ""2021-05-22T11:15:02Z""}, ""committer"": {""name"": ""GitHub"", ""email"": ""noreply@github.com"", ""date"": ""2021-05-22T11:15:02Z""}}"
1749,SubmitCommit,2021-09-08 12:49:20,r5vd,fork_close,Merge branch 'apache:master' into master,"{""sha"": ""7b46f9415dbf14ed80d79be9fb2446a167f8c21a"", ""author"": {""name"": ""Toivo"", ""email"": ""60509396+r5vd@users.noreply.github.com"", ""date"": ""2021-09-08T12:49:20Z""}, ""committer"": {""name"": ""GitHub"", ""email"": ""noreply@github.com"", ""date"": ""2021-09-08T12:49:20Z""}}"
1749,OpenPR,2021-09-08 12:51:02,r5vd,fork_close,,
1749,ClosePR,2021-09-08 12:51:25,peamees,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5272106755"", ""commit_url"": null}"
1750,SubmitCommit,2021-09-08 18:28:11,gopalbala,fork_close,improve the method: QuorumOracleMaj#overrideQuorumDecision,"{""sha"": ""fb8da90ed9740286b4430cefa2edcd18b1e75e91"", ""author"": {""name"": ""gopalbala"", ""email"": ""balasubramaniangopalakrishnan@gmail.com"", ""date"": ""2021-09-08T18:28:11Z""}, ""committer"": {""name"": ""gopalbala"", ""email"": ""balasubramaniangopalakrishnan@gmail.com"", ""date"": ""2021-09-08T18:28:11Z""}}"
1750,OpenPR,2021-09-08 18:29:24,gopalbala,fork_close,,
1750,RenameTitle,2021-09-09 10:06:54,maoling,fork_close,,"{""rename"": {""from"": ""improve the method: QuorumOracleMaj#overrideQuorumDecision"", ""to"": ""ZOOKEEPER-4350: improve the method: QuorumOracleMaj#overrideQuorumDecision""}, ""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5277452308""}"
1750,ClosePR,2021-09-11 05:35:34,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5287228652"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/ce4c3d52e0dfb59ee758b77450ae13b196488c95""}"
1750,IssueCommentSupplement,2021-09-11 05:35:58,maoling,fork_close,"@gopalbala 
Thanks for your contribution.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/917345418"", ""author_association"": ""MEMBER""}"
1751,SubmitCommit,2021-09-09 22:08:57,Colin McIntosh,fork_close,ZOOKEEPER-4372: Added check and unit test for negative sequence numbers in lock recipe,"{""sha"": ""edbaf92b7048a4e0e0867103378a90b9d2f75de5"", ""author"": {""name"": ""Colin McIntosh"", ""email"": ""cmcintosh@netflix.com"", ""date"": ""2021-09-09T21:58:32Z""}, ""committer"": {""name"": ""Colin McIntosh"", ""email"": ""cmcintosh@netflix.com"", ""date"": ""2021-09-09T22:08:57Z""}}"
1751,OpenPR,2021-09-09 22:14:01,colinmcintosh,fork_close,,
1751,CrossReferenced,2021-09-09 22:29:09,colinmcintosh,fork_close,Fix parseSeq incorrectly parsing negative sequence number,"{""reference"": {""url"": ""https://api.github.com/repos/go-zookeeper/zk/issues/65"", ""is_pull_request"": true}}"
1751,IssueComment,2021-09-29 11:06:36,maoling,fork_close,"@colinmcintosh  LGTM. If no other concerns, I'll merge it at this weekend(10-03).
Think further, using ""_"" is better than ""-"" to avoid the confusion between separator and minus sign","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/930075089"", ""author_association"": ""MEMBER""}"
1751,IssueComment,2021-09-29 17:39:22,colinmcintosh,fork_close,"Thanks! Yes, I agree using ""_"" would probably be better than ""-"" but my intent was to maintain compatibility for anyone using the existing lock recipe directly which would require checking for ""-"".","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/930396060"", ""author_association"": ""NONE""}"
1751,ClosePR,2021-10-02 03:45:28,maoling,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5397560970"", ""commit_url"": null}"
1751,ReopenPR,2021-10-02 03:45:35,maoling,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5397561118"", ""commit_url"": null}"
1751,ClosePR,2021-10-02 05:58:47,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5397699419"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/2dcc64d9411e7b24402222437215ab2fe1e59c2e""}"
1751,IssueCommentSupplement,2021-10-02 05:59:28,maoling,fork_close,"@colinmcintosh 
Thanks for your contribution.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/932689342"", ""author_association"": ""MEMBER""}"
1752,SubmitCommit,2021-09-12 07:28:25,ruanwenjun,fork_close,remove unused IOException,"{""sha"": ""7e97ec272297f78036c2054037c491d370bd8d0c"", ""author"": {""name"": ""ruanwenjun"", ""email"": ""wenjun@apache.org"", ""date"": ""2021-09-12T07:28:25Z""}, ""committer"": {""name"": ""ruanwenjun"", ""email"": ""wenjun@apache.org"", ""date"": ""2021-09-12T07:28:25Z""}}"
1752,OpenPR,2021-09-12 07:30:59,ruanwenjun,fork_close,,
1752,ReviewApproved,2021-09-15 04:44:06,maoling,fork_close,"+1 
If no other concerns, I'll merge it at this weekend(09-19). ","{""author_association"": ""MEMBER"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1752#pullrequestreview-754657054""}"
1752,ReviewApproved,2021-09-15 07:13:17,eolivelli,fork_close,LGTM,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1752#pullrequestreview-754744853""}"
1752,CrossReferenced,2021-09-19 02:23:17,ruanwenjun,fork_close,FileSnap#findNValidSnapshots should not declare IOException,"{""reference"": {""url"": ""https://api.github.com/repos/apache/zookeeper/issues/1757"", ""is_pull_request"": true}}"
1752,ClosePR,2021-09-22 11:04:54,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5342360140"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/26001aacfeff519ccd6b0991b0cc38ab10ad6564""}"
1752,IssueCommentSupplement,2021-09-22 11:05:26,maoling,fork_close,"@ruanwenjun 
Thanks for your contribution.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/924825411"", ""author_association"": ""MEMBER""}"
1752,IssueCommentSupplement,2021-09-22 13:15:33,ruanwenjun,fork_close,@maoling You are welcome.,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/924920161"", ""author_association"": ""MEMBER""}"
1752,DeleteBranch,2021-09-22 13:15:38,ruanwenjun,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5343127673"", ""commit_url"": null}"
1753,SubmitCommit,2021-09-13 01:11:52,whatdoidoherereally,fork_close,"Update Netty Version to 4.1.68.Final for CVE-2021-37137

Making a friendly commit to bump the version of this to reduce exposure to the community ❤️","{""sha"": ""b2ae9e3faf1618411c0619a987b678aecce41fe2"", ""author"": {""name"": ""Codemonkey"", ""email"": ""jalexbarbour@gmail.com"", ""date"": ""2021-09-13T01:11:52Z""}, ""committer"": {""name"": ""GitHub"", ""email"": ""noreply@github.com"", ""date"": ""2021-09-13T01:11:52Z""}}"
1753,OpenPR,2021-09-13 01:12:50,CodemonkeyOSS,fork_close,,
1753,IssueComment,2021-09-14 14:06:06,eolivelli,fork_close,"@CodemonkeyOSS 
thank you very much
we need to create a JIRA in order to track this task
can you please follow the contribution guide ?
https://github.com/larq/zookeeper/blob/main/CONTRIBUTING.md","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/919185602"", ""author_association"": ""CONTRIBUTOR""}"
1753,IssueCommentSupplement,2021-11-27 07:56:15,maoling,fork_close,We have bump Netty to `4.1.70`. Let me close this PR,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/980521044"", ""author_association"": ""MEMBER""}"
1753,ClosePR,2021-11-27 07:56:15,maoling,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5679870537"", ""commit_url"": null}"
1755,SubmitCommit,2021-09-14 20:15:07,Rushabh Shah,fork_close,ZOOKEEPER-4367 Zookeeper#Login thread leak in case of Sasl AuthFailed.,"{""sha"": ""4714395b4f334ddda886a81f92b807e2f61512d3"", ""author"": {""name"": ""Rushabh Shah"", ""email"": ""rushabh.shah@rushabh-ltmflld.internal.salesforce.com"", ""date"": ""2021-09-14T20:15:07Z""}, ""committer"": {""name"": ""Rushabh Shah"", ""email"": ""rushabh.shah@rushabh-ltmflld.internal.salesforce.com"", ""date"": ""2021-09-14T20:15:07Z""}}"
1755,OpenPR,2021-09-14 20:26:52,shahrs87,fork_close,,
1755,ReviewComment,2021-09-14 20:44:25,sonatype-lift[bot],fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1755#pullrequestreview-754407131""}"
1755,ReviewComment,2021-09-14 20:44:27,sonatype-lift[bot],fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1755#pullrequestreview-754407148""}"
1755,ReviewComment,2021-09-14 20:44:28,sonatype-lift[bot],fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1755#pullrequestreview-754407167""}"
1755,IssueComment,2021-09-14 21:10:51,shahrs87,fork_close,@maoling  @ztzg @nkalmar  @eolivelli  Could you guys please help reviewing this change and provide feedback ? Thank you !,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/919515520"", ""author_association"": ""NONE""}"
1755,ReviewRejected,2021-09-21 13:33:20,eolivelli,fork_close,"the patch makes sense to me.
there is a synchronisation issue about `zooKeeperSaslClient`
I see that you are exposing it only for the tests, but we have to deal properly with the accesses to that variable.
probably it is enough to make it `volatile`
","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1755#pullrequestreview-759755794""}"
1755,Revise,2021-09-21 13:39:39,Rushabh Shah,fork_close,Addressing review comments,"{""sha"": ""ed4e22c76a18c49775e279f8a82d6f377dc73248"", ""author"": {""name"": ""Rushabh Shah"", ""email"": ""rushabh.shah@rushabh-ltmflld.internal.salesforce.com"", ""date"": ""2021-09-21T13:39:39Z""}, ""committer"": {""name"": ""Rushabh Shah"", ""email"": ""rushabh.shah@rushabh-ltmflld.internal.salesforce.com"", ""date"": ""2021-09-21T13:39:39Z""}}"
1755,IssueComment,2021-09-21 13:43:48,shahrs87,fork_close,"Thank you @eolivelli  for the review !
Addressed the review comment. ","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/924003678"", ""author_association"": ""NONE""}"
1755,ReviewApproved,2021-09-21 14:00:38,eolivelli,fork_close,"LGTM

we need another reviewed before merging this patch","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1755#pullrequestreview-759792504""}"
1755,IssueComment,2021-09-21 14:03:47,shahrs87,fork_close,"> we need another reviewed before merging this patch

@eolivelli  Can you please guide me on who can give me another review ?","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/924021762"", ""author_association"": ""NONE""}"
1755,IssueComment,2021-09-21 14:06:15,eolivelli,fork_close,"> Can you guide me on who can give me another review ?
usually it is just a matter of time.

Here we are all volunteers, so everybody gives their time to review the patches.

If you do not see anyone reviewing your patch you can reach out the community to dev@zookeeper.apache.org (you have to subscribe before sending messages)
Not everyone follow github actively","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/924023927"", ""author_association"": ""CONTRIBUTOR""}"
1755,IssueComment,2021-09-21 15:10:22,shahrs87,fork_close,Thank you @eolivelli  for your feedback ! ,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/924083157"", ""author_association"": ""NONE""}"
1755,ReviewApproved,2021-09-22 16:00:04,ztzg,fork_close,"LGTM!  (+1 on making initialization/shutdown more ""symmetric."")","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1755#pullrequestreview-761117570""}"
1755,IssueComment,2021-09-22 16:10:14,shahrs87,fork_close,"Thank you @ztzg  for the review. 
What is the best way to backport this change to 3.4 branch ?","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/925074604"", ""author_association"": ""NONE""}"
1755,IssueComment,2021-09-23 16:28:52,shahrs87,fork_close,@ztzg  can you please merge the PR and guide me on how to merge this to branch-3.4 ? Thank you !,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/925970633"", ""author_association"": ""NONE""}"
1755,IssueComment,2021-09-27 12:51:39,shahrs87,fork_close,"@eolivelli  can you please merge the PR and guide me on how to merge this to branch-3.4 ? Thank you !

","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/927842230"", ""author_association"": ""NONE""}"
1755,IssueComment,2021-09-27 15:18:50,eolivelli,fork_close,"I am going to merge this (cannot do it today sorry).

Branch 3.4 is end-of-life, we are not going to cut new releases.

it is good to port this to branch-3.5 onwards, thanks","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/927976960"", ""author_association"": ""CONTRIBUTOR""}"
1755,IssueComment,2021-09-27 15:31:27,shahrs87,fork_close,Thank you @eolivelli. ,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/927988027"", ""author_association"": ""NONE""}"
1755,ClosePR,2021-09-27 15:48:43,eolivelli,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5366623317"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/d6b50ad739a49226e97ff28d68be605e1fa36fe5""}"
1755,Referenced,2021-09-27 15:48:52,eolivelli,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5366624411"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/e2f1ab165b2c1ed052ebb0fddac08bbd08bd1da5""}"
1755,IssueCommentSupplement,2021-09-27 15:49:28,eolivelli,fork_close,"Finally I found 10 minutes to commit to master and to branch-3.7

thank you !","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/928002888"", ""author_association"": ""CONTRIBUTOR""}"
1755,CrossReferenced,2021-09-27 17:30:20,shahrs87,fork_close,ZOOKEEPER-4367 Zookeeper#Login thread leak in case of Sasl AuthFailed.,"{""reference"": {""url"": ""https://api.github.com/repos/apache/zookeeper/issues/1767"", ""is_pull_request"": true}}"
1755,IssueCommentSupplement,2021-09-27 18:45:41,shahrs87,fork_close,"Thank you @eolivelli for the merge. 
Created https://github.com/apache/zookeeper/pull/1767 for the backport to branch-3.5
`Functionally` clean cherry-pick of this PR.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/928173194"", ""author_association"": ""NONE""}"
1755,Referenced,2021-10-20 07:32:33,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5489879510"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/17416567b77d6602dc3b46298c7c989cd4f15701""}"
1757,SubmitCommit,2021-09-17 10:00:39,gopalbala,fork_close,"FileSnap#findNValidSnapshots should not declare IOException
removed IOException from throws","{""sha"": ""258bcc1e33e2609523eedbc4a925f6e4c4ce9f73"", ""author"": {""name"": ""gopalbala"", ""email"": ""balasubramaniangopalakrishnan@gmail.com"", ""date"": ""2021-09-17T10:00:39Z""}, ""committer"": {""name"": ""gopalbala"", ""email"": ""balasubramaniangopalakrishnan@gmail.com"", ""date"": ""2021-09-17T10:00:39Z""}}"
1757,OpenPR,2021-09-17 10:01:29,gopalbala,fork_close,,
1757,IssueComment,2021-09-19 02:23:17,ruanwenjun,fork_close,@gopalbala Has been improved by #1752 ,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/922404916"", ""author_association"": ""MEMBER""}"
1757,IssueCommentSupplement,2021-09-22 11:08:12,maoling,fork_close,@gopalbala Thanks for your contribution. We have merged `PR-1752`. Let me close this one.,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/924827216"", ""author_association"": ""MEMBER""}"
1757,ClosePR,2021-09-22 11:08:12,maoling,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5342378139"", ""commit_url"": null}"
1758,OpenPR,2021-09-19 03:09:29,ruanwenjun,fork_close,,
1758,ReviewApproved,2021-09-19 09:15:21,eolivelli,fork_close,"Lgtm

Can you please open a Jira and change the commit message to reference to it?","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1758#pullrequestreview-758128725""}"
1758,RenameTitle,2021-09-19 13:56:10,ruanwenjun,fork_close,,"{""rename"": {""from"": ""Avoid NPE in RateLogger#rateLimitLog"", ""to"": ""ZOOKEEPER-4380: Avoid NPE in RateLogger#rateLimitLog""}, ""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5324714688""}"
1758,Revise,2021-09-19 13:56:54,ruanwenjun,fork_close,ZOOKEEPER-4380: Avoid NPE in RateLogger#rateLimitLog,"{""sha"": ""a6852cdf458454d62c444fdaa782fc9d7345bd1c"", ""author"": {""name"": ""ruanwenjun"", ""email"": ""wenjun@apache.org"", ""date"": ""2021-09-19T03:07:43Z""}, ""committer"": {""name"": ""ruanwenjun"", ""email"": ""wenjun@apache.org"", ""date"": ""2021-09-19T13:56:54Z""}}"
1758,IssueComment,2021-09-19 13:57:35,ruanwenjun,fork_close,"@eolivelli Thanks, done","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/922478290"", ""author_association"": ""MEMBER""}"
1758,IssueComment,2021-09-19 15:13:14,eolivelli,fork_close,"@ztzg @maoling do you have time to review this?
It fits well 3.7.1, that   I would like to cut soon","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/922489632"", ""author_association"": ""CONTRIBUTOR""}"
1758,ReviewApproved,2021-09-20 20:23:19,ztzg,fork_close,LGTM!,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1758#pullrequestreview-759062191""}"
1758,ClosePR,2021-09-22 15:22:40,ztzg,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5344028466"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/c0b19e0c5c2bbf1fb24e154466b6cc0fa6b5e74a""}"
1758,Referenced,2021-09-22 15:23:04,ztzg,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5344031124"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/75093668ef1201905a7001c4d50e9f9d86ed092f""}"
1758,IssueCommentSupplement,2021-09-22 15:24:05,ztzg,fork_close,"This is now in `master` and `branch-3.7`.  Thanks, @ruanwenjun and @eolivelli!","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/925035599"", ""author_association"": ""CONTRIBUTOR""}"
1758,IssueCommentSupplement,2021-09-23 01:44:58,ruanwenjun,fork_close,@ztzg Thanks.,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/925449382"", ""author_association"": ""MEMBER""}"
1760,SubmitCommit,2021-09-21 14:08:39,eolivelli,fork_close,ZOOKEEPER-4382: Update Maven Bundle Plugin to 5.1.1 - build on JDK18,"{""sha"": ""1936e3d6c9e6a1ccee1b27a7e8f8e7cfa17c78dc"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2021-09-21T13:58:44Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2021-09-21T14:08:39Z""}}"
1760,OpenPR,2021-09-21 14:09:20,eolivelli,fork_close,,
1760,ReviewRequested,2021-09-21 14:09:37,eolivelli,fork_close,,"{""requested_reviewer"": {""login"": ""anmolnar"", ""id"": 4997876, ""node_id"": ""MDQ6VXNlcjQ5OTc4NzY="", ""avatar_url"": ""https://avatars.githubusercontent.com/u/4997876?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/anmolnar"", ""html_url"": ""https://github.com/anmolnar"", ""followers_url"": ""https://api.github.com/users/anmolnar/followers"", ""following_url"": ""https://api.github.com/users/anmolnar/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/anmolnar/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/anmolnar/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/anmolnar/subscriptions"", ""organizations_url"": ""https://api.github.com/users/anmolnar/orgs"", ""repos_url"": ""https://api.github.com/users/anmolnar/repos"", ""events_url"": ""https://api.github.com/users/anmolnar/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/anmolnar/received_events"", ""type"": ""User"", ""site_admin"": false}, ""requested_team"": null}"
1760,ReviewRequested,2021-09-21 14:09:37,eolivelli,fork_close,,"{""requested_reviewer"": {""login"": ""fpj"", ""id"": 572920, ""node_id"": ""MDQ6VXNlcjU3MjkyMA=="", ""avatar_url"": ""https://avatars.githubusercontent.com/u/572920?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/fpj"", ""html_url"": ""https://github.com/fpj"", ""followers_url"": ""https://api.github.com/users/fpj/followers"", ""following_url"": ""https://api.github.com/users/fpj/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/fpj/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/fpj/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/fpj/subscriptions"", ""organizations_url"": ""https://api.github.com/users/fpj/orgs"", ""repos_url"": ""https://api.github.com/users/fpj/repos"", ""events_url"": ""https://api.github.com/users/fpj/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/fpj/received_events"", ""type"": ""User"", ""site_admin"": false}, ""requested_team"": null}"
1760,ReviewRequested,2021-09-21 14:09:37,eolivelli,fork_close,,"{""requested_reviewer"": {""login"": ""maoling"", ""id"": 11016631, ""node_id"": ""MDQ6VXNlcjExMDE2NjMx"", ""avatar_url"": ""https://avatars.githubusercontent.com/u/11016631?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/maoling"", ""html_url"": ""https://github.com/maoling"", ""followers_url"": ""https://api.github.com/users/maoling/followers"", ""following_url"": ""https://api.github.com/users/maoling/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/maoling/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/maoling/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/maoling/subscriptions"", ""organizations_url"": ""https://api.github.com/users/maoling/orgs"", ""repos_url"": ""https://api.github.com/users/maoling/repos"", ""events_url"": ""https://api.github.com/users/maoling/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/maoling/received_events"", ""type"": ""User"", ""site_admin"": false}, ""requested_team"": null}"
1760,ReviewRequested,2021-09-21 14:09:37,eolivelli,fork_close,,"{""requested_reviewer"": {""login"": ""nkalmar"", ""id"": 5468746, ""node_id"": ""MDQ6VXNlcjU0Njg3NDY="", ""avatar_url"": ""https://avatars.githubusercontent.com/u/5468746?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/nkalmar"", ""html_url"": ""https://github.com/nkalmar"", ""followers_url"": ""https://api.github.com/users/nkalmar/followers"", ""following_url"": ""https://api.github.com/users/nkalmar/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/nkalmar/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/nkalmar/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/nkalmar/subscriptions"", ""organizations_url"": ""https://api.github.com/users/nkalmar/orgs"", ""repos_url"": ""https://api.github.com/users/nkalmar/repos"", ""events_url"": ""https://api.github.com/users/nkalmar/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/nkalmar/received_events"", ""type"": ""User"", ""site_admin"": false}, ""requested_team"": null}"
1760,ReviewRequested,2021-09-21 14:09:37,eolivelli,fork_close,,"{""requested_reviewer"": {""login"": ""ztzg"", ""id"": 393108, ""node_id"": ""MDQ6VXNlcjM5MzEwOA=="", ""avatar_url"": ""https://avatars.githubusercontent.com/u/393108?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/ztzg"", ""html_url"": ""https://github.com/ztzg"", ""followers_url"": ""https://api.github.com/users/ztzg/followers"", ""following_url"": ""https://api.github.com/users/ztzg/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/ztzg/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/ztzg/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/ztzg/subscriptions"", ""organizations_url"": ""https://api.github.com/users/ztzg/orgs"", ""repos_url"": ""https://api.github.com/users/ztzg/repos"", ""events_url"": ""https://api.github.com/users/ztzg/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/ztzg/received_events"", ""type"": ""User"", ""site_admin"": false}, ""requested_team"": null}"
1760,Assigned,2021-09-21 14:09:39,eolivelli,fork_close,,"{""assignee"": {""login"": ""eolivelli"", ""id"": 9469110, ""node_id"": ""MDQ6VXNlcjk0NjkxMTA="", ""avatar_url"": ""https://avatars.githubusercontent.com/u/9469110?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/eolivelli"", ""html_url"": ""https://github.com/eolivelli"", ""followers_url"": ""https://api.github.com/users/eolivelli/followers"", ""following_url"": ""https://api.github.com/users/eolivelli/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/eolivelli/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/eolivelli/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/eolivelli/subscriptions"", ""organizations_url"": ""https://api.github.com/users/eolivelli/orgs"", ""repos_url"": ""https://api.github.com/users/eolivelli/repos"", ""events_url"": ""https://api.github.com/users/eolivelli/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/eolivelli/received_events"", ""type"": ""User"", ""site_admin"": false}}"
1760,ReviewApproved,2021-10-06 06:40:05,ztzg,fork_close,LGTM!,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1760#pullrequestreview-772247169""}"
1760,ClosePR,2021-10-06 06:42:09,ztzg,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5416764381"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/156e682e3d4bb27338418602c1c3c530da6ff7bd""}"
1760,Referenced,2021-10-06 06:42:16,ztzg,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5416765146"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/7d96fa79474683a871f505b5518e1ee157b98522""}"
1760,Referenced,2021-10-06 06:43:03,ztzg,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5416770569"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/974a47b7a63751732a01a875ac6d4097583075a1""}"
1760,IssueCommentSupplement,2021-10-06 06:45:37,ztzg,fork_close,"Hi @eolivelli,

I have now merged this into `master`, `branch-3.7` and `branch-3.6`.  Thanks!

Cheers, -D
","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/935589833"", ""author_association"": ""CONTRIBUTOR""}"
1760,Referenced,2022-05-29 11:07:04,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6698145433"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/0ce4f3d9cebc76cdab6590869d1582259645c899""}"
1760,Referenced,2022-05-29 11:11:36,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6698150108"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/9dbcee2ff53828067ee6e65490866e0ea9f3e245""}"
1761,SubmitCommit,2021-09-21 16:07:44,cpoerschke,fork_close,Fix 'se[r]ver' typo in ClientCnxn.,"{""sha"": ""b357d3cd3b84f8bad5555842154c0f0ded9209a6"", ""author"": {""name"": ""Christine Poerschke"", ""email"": ""cpoerschke@bloomberg.net"", ""date"": ""2021-09-21T16:07:44Z""}, ""committer"": {""name"": ""GitHub"", ""email"": ""noreply@github.com"", ""date"": ""2021-09-21T16:07:44Z""}}"
1761,OpenPR,2021-09-21 16:11:28,cpoerschke,fork_close,,
1761,ReviewApproved,2021-09-22 10:57:52,maoling,fork_close,"+1 @cpoerschke 
Thanks for this contribution. It's better to create a [JIRA](https://issues.apache.org/jira/projects/ZOOKEEPER/) issue (sign up JIRA if you don't have an account) to bind this PR to a JIRA-ID. ZooKeeper uses the GitHub workflow. The contributor guideline is [here](https://cwiki.apache.org/confluence/display/ZOOKEEPER/HowToContribute)","{""author_association"": ""MEMBER"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1761#pullrequestreview-760758608""}"
1761,RenameTitle,2021-09-22 11:01:38,cpoerschke,fork_close,,"{""rename"": {""from"": ""Fix 'se[r]ver' typo in ClientCnxn."", ""to"": ""ZOOKEEPER-4384: Fix 'se[r]ver' typo in ClientCnxn.""}, ""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5342342266""}"
1761,IssueComment,2021-09-22 11:18:15,maoling,fork_close,"If no other concerns, I'll merge it at this weekend(09-25)","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/924834091"", ""author_association"": ""MEMBER""}"
1761,ClosePR,2021-09-25 11:41:38,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5359598834"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/531bddd5b43d2f0b3afbe0051642830c47030652""}"
1761,Referenced,2021-09-25 11:42:15,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5359599427"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/a15f0b2248d0eb0e4520fdb32e5fa64a2611906d""}"
1761,Referenced,2021-09-25 11:42:43,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5359599856"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/8c59c93c9debb994a10d75642f543c63fe1e6cba""}"
1761,IssueCommentSupplement,2021-09-25 11:48:44,maoling,fork_close,"@cpoerschke 
Thanks for your contribution. 
Commit to the following branches:
[master ](https://github.com/apache/zookeeper/tree/master)
[branch-3.7](https://github.com/apache/zookeeper/tree/branch-3.7)
[branch-3.6](https://github.com/apache/zookeeper/tree/branch-3.6)","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/927109720"", ""author_association"": ""MEMBER""}"
1762,SubmitCommit,2021-09-23 08:34:15,brahmareddybattula,fork_close,ZOOKEEPER-4385. Backport ZOOKEEPER-4278 to branch-3.5 to Address CVE-2021-21409.,"{""sha"": ""5fdaed7d934d5da89c668bf35e9aec9d8788181b"", ""author"": {""name"": ""Brahma Reddy Battula"", ""email"": ""brahma@apache.org"", ""date"": ""2021-09-23T08:34:15Z""}, ""committer"": {""name"": ""Brahma Reddy Battula"", ""email"": ""brahma@apache.org"", ""date"": ""2021-09-23T08:34:15Z""}}"
1762,OpenPR,2021-09-23 09:08:25,brahmareddybattula,fork_close,,
1762,IssueComment,2021-09-24 09:50:01,brahmareddybattula,fork_close,@arshadmohammad  could you take a look at this.?,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/926497263"", ""author_association"": ""CONTRIBUTOR""}"
1762,ReviewApproved,2021-09-24 14:42:03,arshadmohammad,fork_close,,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1762#pullrequestreview-763162321""}"
1762,Referenced,2021-09-24 14:56:58,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5356660501"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/20aa6328ce308f87470fbb96dd7d12d44ff94886""}"
1762,IssueCommentSupplement,2021-09-24 14:59:27,arshadmohammad,fork_close,Merged,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/926695597"", ""author_association"": ""CONTRIBUTOR""}"
1762,ClosePR,2021-09-24 14:59:27,arshadmohammad,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5356675897"", ""commit_url"": null}"
1762,IssueCommentSupplement,2021-09-24 16:49:58,brahmareddybattula,fork_close,Thanks @arshadmohammad ,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/926777179"", ""author_association"": ""CONTRIBUTOR""}"
1762,Referenced,2021-09-30 15:01:37,AnanyaSingh2121,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5388413645"", ""commit_url"": ""https://api.github.com/repos/AnanyaSingh2121/zookeeper/commits/73d13647cc95e7c99dbc8af1f3e447c9830c0d18""}"
1764,SubmitCommit,2021-09-25 12:22:28,maoling,fork_close,ZOOKEEPER-4377: KeeperException.create has NullPointerException when low version client requests the high version server,"{""sha"": ""65f30475c99c44add51294618f03e2df569e8940"", ""author"": {""name"": ""maoling"", ""email"": ""maoling@apache.org"", ""date"": ""2021-09-25T12:22:28Z""}, ""committer"": {""name"": ""maoling"", ""email"": ""maoling@apache.org"", ""date"": ""2021-09-25T12:22:28Z""}}"
1764,OpenPR,2021-09-25 12:38:23,maoling,fork_close,,
1764,ReviewApproved,2021-10-05 05:34:35,ruanwenjun,fork_close,LGTM,"{""author_association"": ""MEMBER"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1764#pullrequestreview-770994252""}"
1764,ReviewApproved,2021-10-05 08:49:23,eolivelli,fork_close,"Lgtm

I agree that we have to port this to 3.6 
, 3.7 and possibly 3.5","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1764#pullrequestreview-771156950""}"
1764,ClosePR,2021-10-17 07:08:15,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5473878439"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/9f355f5a57f35d3760f8e669696622135c457938""}"
1764,Referenced,2021-10-17 07:08:54,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5473878994"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/86c12634d22bbfee8cf9f5434c49eebe3ffa84c0""}"
1764,IssueCommentSupplement,2021-10-17 07:09:58,maoling,fork_close,"Commit to the following branches:
[master ](https://github.com/apache/zookeeper/tree/master)
[branch-3.7](https://github.com/apache/zookeeper/tree/branch-3.7)","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/945062703"", ""author_association"": ""MEMBER""}"
1764,CrossReferenced,2022-01-28 11:20:35,maoling,fork_close,Backport ZOOKEEPER-4377 to Branch 3.5,"{""reference"": {""url"": ""https://api.github.com/repos/apache/zookeeper/issues/1805"", ""is_pull_request"": true}}"
1764,CrossReferenced,2022-01-28 11:23:22,maoling,fork_close,Backport ZOOKEEPER-4377 to Branch 3.6,"{""reference"": {""url"": ""https://api.github.com/repos/apache/zookeeper/issues/1806"", ""is_pull_request"": true}}"
1764,CrossReferenced,2022-02-18 09:43:03,pan3793,fork_close,[Bug] Unexpected Zk lock failure when launching engine,"{""reference"": {""url"": ""https://api.github.com/repos/apache/kyuubi/issues/1894"", ""is_pull_request"": false}}"
1764,Referenced,2022-05-17 10:58:15,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6623442353"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/071e93f9c940c5fd8be3269f32aeac674d4e508d""}"
1766,SubmitCommit,2021-09-26 07:37:07,Shoothzj,fork_close,Close ZkDb when ZooKeeper Server shutdown,"{""sha"": ""c9fad2cd2d6d3e8b3ed39e179ec6e3d972f82446"", ""author"": {""name"": ""shoothzj"", ""email"": ""shoothzj@gmail.com"", ""date"": ""2021-09-26T07:37:07Z""}, ""committer"": {""name"": ""shoothzj"", ""email"": ""shoothzj@gmail.com"", ""date"": ""2021-09-26T07:37:07Z""}}"
1766,OpenPR,2021-09-26 07:38:19,Shoothzj,fork_close,,
1766,RenameTitle,2021-09-26 07:51:24,Shoothzj,fork_close,,"{""rename"": {""from"": ""Close ZkDb when ZooKeeper Server shutdown"", ""to"": ""ZOOKEEPER-4387 Close ZkDb when ZooKeeper Server shutdown""}, ""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5360876570""}"
1766,IssueComment,2021-10-11 11:07:03,Shoothzj,fork_close,"@maoling could you please take a look :) 
Thank you","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/939925666"", ""author_association"": ""MEMBER""}"
1766,IssueComment,2021-10-11 13:07:36,eolivelli,fork_close,so you are saying that we are never closing the ZK DB ?,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/940013958"", ""author_association"": ""CONTRIBUTOR""}"
1766,IssueComment,2021-10-11 13:10:53,Shoothzj,fork_close,"> so you are saying that we are never closing the ZK DB ?

Yes, I found this problem while try to run pulsar unit tests on my windows pc. Can't delete the temporary directory","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/940017190"", ""author_association"": ""MEMBER""}"
1766,IssueComment,2021-10-23 00:34:19,Shoothzj,fork_close,@maoling PTAL,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/950027331"", ""author_association"": ""MEMBER""}"
1766,ClosePR,2021-10-25 00:38:28,Shoothzj,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5510250781"", ""commit_url"": null}"
1766,ReopenPR,2021-10-25 00:38:31,Shoothzj,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5510250845"", ""commit_url"": null}"
1766,IssueComment,2021-11-05 18:19:30,lvfangmin,fork_close,"ZkDatabase instance is reused, there is no `close` concept, it only clears the in memory data tree when fully shutdown is required. So the close function seems misleading, which seems closing the ZkDatabase instance, but actually it only closes the current streams in snapLog. 

Also, the snapLog is initialized and passed into ZkDatabase, so the lifecycle is not tied to the ZkDatabase, ZkDatabase.close() to close the current open streams in snapLog seems a little strange.

@Shoothzj for the unit test case, is there a way to close the snapLog directly instead of the zkDb? If not would suggest to rename the close() to a less misleading name at least.
","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/962115998"", ""author_association"": ""CONTRIBUTOR""}"
1766,IssueComment,2021-11-06 21:14:15,Shoothzj,fork_close,"> ZkDatabase instance is reused, there is no `close` concept, it only clears the in memory data tree when fully shutdown is required. So the close function seems misleading, which seems closing the ZkDatabase instance, but actually it only closes the current streams in snapLog.
> 
> Also, the snapLog is initialized and passed into ZkDatabase, so the lifecycle is not tied to the ZkDatabase, ZkDatabase.close() to close the current open streams in snapLog seems a little strange.
> 
> @Shoothzj for the unit test case, is there a way to close the snapLog directly instead of the zkDb? If not would suggest to rename the close() to a less misleading name at least.

Thank you very much, I am doing this, and success. https://github.com/apache/pulsar/pull/12649/files","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/962510820"", ""author_association"": ""MEMBER""}"
1766,ClosePR,2021-11-06 21:14:34,Shoothzj,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5578419225"", ""commit_url"": null}"
1767,SubmitCommit,2021-09-27 17:29:17,Rushabh Shah,fork_close,ZOOKEEPER-4367 Zookeeper#Login thread leak in case of Sasl AuthFailed.,"{""sha"": ""87568560e9b30be76ba2179b0860f4a8ffe3f838"", ""author"": {""name"": ""Rushabh Shah"", ""email"": ""rushabh.shah@rushabh-ltmflld.internal.salesforce.com"", ""date"": ""2021-09-27T17:29:17Z""}, ""committer"": {""name"": ""Rushabh Shah"", ""email"": ""rushabh.shah@rushabh-ltmflld.internal.salesforce.com"", ""date"": ""2021-09-27T17:29:17Z""}}"
1767,OpenPR,2021-09-27 17:30:20,shahrs87,fork_close,,
1767,ReviewComment,2021-09-27 17:48:27,sonatype-lift[bot],fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1767#pullrequestreview-764576700""}"
1767,CrossReferenced,2021-09-27 18:45:41,shahrs87,fork_close,ZOOKEEPER-4367 Zookeeper#Login thread leak in case of Sasl AuthFailed.,"{""reference"": {""url"": ""https://api.github.com/repos/apache/zookeeper/issues/1755"", ""is_pull_request"": true}}"
1767,ReviewApproved,2021-10-20 07:27:59,nkalmar,fork_close,+1,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1767#pullrequestreview-784093693""}"
1767,Referenced,2021-10-20 07:32:33,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5489879498"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/17416567b77d6602dc3b46298c7c989cd4f15701""}"
1767,IssueCommentSupplement,2021-10-20 07:33:28,nkalmar,fork_close,Merged to branch 3.5.Thanks @shahrs87 ,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/947405231"", ""author_association"": ""CONTRIBUTOR""}"
1767,ClosePR,2021-10-20 07:33:28,nkalmar,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5489883886"", ""commit_url"": null}"
1768,SubmitCommit,2021-09-29 17:08:41,AnanyaSingh2121,fork_close,Update Jetty: 9.4.39.v20210325 → 9.4.42.v20210604,"{""sha"": ""f33d71b329fe08ad179b731141ffb753fc879073"", ""author"": {""name"": ""Ananya Singh"", ""email"": ""purpul90@gmail.com"", ""date"": ""2021-09-29T17:08:41Z""}, ""committer"": {""name"": ""Ananya Singh"", ""email"": ""purpul90@gmail.com"", ""date"": ""2021-09-29T17:08:41Z""}}"
1768,OpenPR,2021-09-30 04:54:08,AnanyaSingh2121,fork_close,,
1768,Revise,2021-09-30 14:42:37,brahmareddybattula,fork_close,"ZOOKEEPER-4385. Backport ZOOKEEPER-4278 to branch-3.5 to Address CVE-2021-21409

…2021-21409.

Author: Brahma Reddy Battula <brahma@apache.org>

Reviewers: Mohammad Arshad <arshad@apache.org>

Closes #1762 from brahmareddybattula/branch-3.5","{""sha"": ""73d13647cc95e7c99dbc8af1f3e447c9830c0d18"", ""author"": {""name"": ""Brahma Reddy Battula"", ""email"": ""brahma@apache.org"", ""date"": ""2021-09-24T14:55:59Z""}, ""committer"": {""name"": ""Ananya Singh"", ""email"": ""purpul90@gmail.com"", ""date"": ""2021-09-30T14:42:37Z""}}"
1768,RenameTitle,2021-09-30 15:45:46,AnanyaSingh2121,fork_close,,"{""rename"": {""from"": ""Update Jetty: 9.4.39.v20210325 \u2192 9.4.42.v20210604 "", ""to"": ""Update Jetty: 9.4.39.v20210325 \u2192 9.4.43.v20210629""}, ""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5388708949""}"
1768,IssueComment,2021-09-30 16:02:41,brahmareddybattula,fork_close,"@AnanyaSingh2121  thanks for reporting, Yes, we should backport to branch-3.5 and branch-3.6. Patch lgm (non-binding)","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/931457040"", ""author_association"": ""CONTRIBUTOR""}"
1768,IssueComment,2021-09-30 16:05:05,brahmareddybattula,fork_close,"@AnanyaSingh2121 , you might need to rebase the patch.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/931459008"", ""author_association"": ""CONTRIBUTOR""}"
1768,ReviewComment,2021-10-19 16:42:17,brahmareddybattula,fork_close,,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1768#pullrequestreview-783536521""}"
1768,IssueComment,2021-10-19 16:42:27,brahmareddybattula,fork_close,"@nkalmar Kalmar, @eolivelli and @arshadmohammad could you please take a look on this.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/946905996"", ""author_association"": ""CONTRIBUTOR""}"
1768,Revise,2021-10-20 14:56:18,AnanyaSingh2121,fork_close,Backport ZOOKEEPER-4337,"{""sha"": ""a81584fcc0dd4dc994615c54c01035b9f735c7a7"", ""author"": {""name"": ""Ananya Singh"", ""email"": ""purpul90@gmail.com"", ""date"": ""2021-09-30T14:50:33Z""}, ""committer"": {""name"": ""Ananya Singh"", ""email"": ""purpul90@gmail.com"", ""date"": ""2021-10-20T14:56:18Z""}}"
1768,ReviewApproved,2021-10-20 15:20:19,eolivelli,fork_close,+1,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1768#pullrequestreview-784646931""}"
1768,ReviewApproved,2021-10-28 08:26:58,nkalmar,fork_close,+1,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1768#pullrequestreview-791546826""}"
1768,Referenced,2021-10-28 08:28:58,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5532392601"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/c86c03d4675ee36a3880da6ef4edff6f4d7126f0""}"
1768,IssueCommentSupplement,2021-10-28 08:29:37,nkalmar,fork_close,"merged to branch-3.5, updated jira with fix version.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/953622021"", ""author_association"": ""CONTRIBUTOR""}"
1768,ClosePR,2021-10-28 08:29:37,nkalmar,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5532397907"", ""commit_url"": null}"
1769,SubmitCommit,2021-10-01 07:20:12,AnanyaSingh2121,fork_close,Backport zookeeper-4337,"{""sha"": ""1055a07866b412f6176d98fbed8502ddbb963b14"", ""author"": {""name"": ""Ananya Singh"", ""email"": ""purpul90@gmail.com"", ""date"": ""2021-10-01T07:20:12Z""}, ""committer"": {""name"": ""Ananya Singh"", ""email"": ""purpul90@gmail.com"", ""date"": ""2021-10-01T07:20:12Z""}}"
1769,OpenPR,2021-10-01 07:28:30,AnanyaSingh2121,fork_close,,
1769,IssueComment,2021-10-06 06:23:15,brahmareddybattula,fork_close,@AnanyaSingh2121  thanks reporting and working on this.. the lgtm (non-binding).,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/935560267"", ""author_association"": ""CONTRIBUTOR""}"
1769,IssueComment,2021-10-19 16:15:56,brahmareddybattula,fork_close,"@nkalmar Kalmar, @eolivelli and @arshadmohammad  could you please take a look on this.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/946883476"", ""author_association"": ""CONTRIBUTOR""}"
1769,ReviewApproved,2021-10-19 16:18:04,eolivelli,fork_close,LGTM,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1769#pullrequestreview-783510321""}"
1769,IssueComment,2021-10-19 16:18:25,eolivelli,fork_close,@phunt PTAL,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/946885581"", ""author_association"": ""CONTRIBUTOR""}"
1769,IssueComment,2021-10-19 16:41:11,brahmareddybattula,fork_close,@eolivelli thanks for prompt reply.,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/946904993"", ""author_association"": ""CONTRIBUTOR""}"
1769,ReviewApproved,2021-10-28 08:21:39,nkalmar,fork_close,+1,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1769#pullrequestreview-791540820""}"
1769,Referenced,2021-10-28 08:25:12,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5532362813"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/507fd6207396e5c8d1dee1f777262a6150fd56ed""}"
1769,IssueComment,2021-10-28 08:25:51,nkalmar,fork_close,"Merged to branch-3.6, updated ZOOKEEPER-4337 with fix version.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/953619262"", ""author_association"": ""CONTRIBUTOR""}"
1769,ClosePR,2021-10-28 08:25:57,nkalmar,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5532369183"", ""commit_url"": null}"
1770,SubmitCommit,2021-10-06 14:17:07,Andre Kramer,fork_close,early ruok for kubernetes ready probe to succeed,"{""sha"": ""b40e18f10578533104033327162b4708edc04b4f"", ""author"": {""name"": ""Andre Kramer"", ""email"": ""andre.kramer@cumulocity.com"", ""date"": ""2021-10-06T14:17:07Z""}, ""committer"": {""name"": ""Andre Kramer"", ""email"": ""andre.kramer@cumulocity.com"", ""date"": ""2021-10-06T14:17:07Z""}}"
1770,OpenPR,2021-10-07 10:27:35,andrekramer1,fork_close,,
1770,CrossReferenced,2021-10-07 10:36:38,andrekramer1,fork_close,Zookeeper in 3 node Kubernetes cluster does not pass heath check in 2.8.0,"{""reference"": {""url"": ""https://api.github.com/repos/apache/pulsar/issues/11070"", ""is_pull_request"": false}}"
1770,ReviewApproved,2021-10-07 14:39:03,eolivelli,fork_close,"@lvfangmin @breed
have you ever seen this kind of problem ?
do you have any fix in your fork ?
","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1770#pullrequestreview-774004066""}"
1770,IssueComment,2021-10-07 14:48:00,eolivelli,fork_close,"One problem is the the 4 letters words API is deprecated in favour of the HTTP Admin API.
I am not saying that we should not fix this, but that we are going to fix something that we want to drop one day.

My understanding is that we want to answer something only to ""ruok"" and not to other commands in this case.

I remember this other PR that is in the same direction
https://github.com/apache/zookeeper/pull/1520 ","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/937865952"", ""author_association"": ""CONTRIBUTOR""}"
1770,Revise,2021-10-08 09:49:51,Andre Kramer,fork_close,debug log level & remove commented out code,"{""sha"": ""c926b2f4d58ad08c33ff88ff6256347dab77ef60"", ""author"": {""name"": ""Andre Kramer"", ""email"": ""andre.kramer@cumulocity.com"", ""date"": ""2021-10-08T09:49:51Z""}, ""committer"": {""name"": ""Andre Kramer"", ""email"": ""andre.kramer@cumulocity.com"", ""date"": ""2021-10-08T09:49:51Z""}}"
1770,IssueComment,2021-10-15 14:51:37,andrekramer1,fork_close,"@eolivelli Hi, I changed the log level to cut down on noise. On the other PR, I also have some checks for zkServer == null to avoid NPEs I saw but I think not for the NPE that the other PR reported. What are the next steps for this - especially with regards to wider potential impact on Zookkeeper?","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/944364560"", ""author_association"": ""NONE""}"
1770,IssueComment,2021-11-25 23:07:07,lhotari,fork_close,The Zookeeper issue seems to be https://issues.apache.org/jira/browse/ZOOKEEPER-3988,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/979508229"", ""author_association"": ""MEMBER""}"
1770,ReviewApproved,2022-01-02 12:24:43,eolivelli,fork_close,"Lgtm

We have to include this in the upcoming 3.7.1 and 3.8.0 releases.

@anmolnar @maoling ","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1770#pullrequestreview-842408288""}"
1770,ReviewRejected,2022-01-05 13:09:04,lhotari,fork_close,,"{""author_association"": ""MEMBER"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1770#pullrequestreview-844579167""}"
1770,ReviewComment,2022-01-05 13:11:27,lhotari,fork_close,,"{""author_association"": ""MEMBER"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1770#pullrequestreview-844581497""}"
1770,Revise,2022-01-05 14:31:05,Andre Kramer,fork_close,review comments,"{""sha"": ""06e65e5fac757afec1e477e9f8b5c103243e445b"", ""author"": {""name"": ""Andre Kramer"", ""email"": ""andre.kramer@cumulocity.com"", ""date"": ""2022-01-05T14:31:05Z""}, ""committer"": {""name"": ""Andre Kramer"", ""email"": ""andre.kramer@cumulocity.com"", ""date"": ""2022-01-05T14:31:05Z""}}"
1770,ReviewApproved,2022-01-05 15:34:56,lhotari,fork_close,Thanks for the contribution@andrekramer1. LGTM,"{""author_association"": ""MEMBER"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1770#pullrequestreview-844742789""}"
1770,IssueComment,2022-01-05 15:35:24,lhotari,fork_close,@anmolnar @maoling  please review,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1005824309"", ""author_association"": ""MEMBER""}"
1770,ReviewRejected,2022-01-17 07:57:12,eolivelli,fork_close,,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1770#pullrequestreview-853983950""}"
1770,IssueComment,2022-01-20 11:08:09,eolivelli,fork_close,"@andrekramer1 @anmolnar @lvfangmin I created an alternative, simpler, patch
#1798 that does not change the behaviour to prevent floods","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1017383493"", ""author_association"": ""CONTRIBUTOR""}"
1770,IssueComment,2022-01-20 11:18:04,andrekramer1,fork_close,"@eolivelli I think that would not allow it progress to report it's up if SSL is used. Don't know if that is important but was my reason for removing the ""flood prevention"". Have you tested it solves the 3 node cluster initialization issue for Pulsar?","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1017395134"", ""author_association"": ""NONE""}"
1770,IssueComment,2022-01-20 11:26:29,eolivelli,fork_close,"@andrekramer1 
my understanding is that the problem is that due to the NPE the connection hangs.

if we close the connection when the server is not ready that it should be fine (the probe will retry)

Because to the question ""are you okay?"" we cannot answer ""I am okay"" if the server is not ready to process requests.

so:
- for TLS: no server running -> close the connection
- for non TLS: no server running -> close the connection (do not throw NPE and let the connection hang)

> Have you tested it solves the 3 node cluster initialisation issue for Pulsar?
no I haven't

in NIOServerCnxn if the server is not running we still throw an error and close the connection

https://github.com/apache/zookeeper/blob/94d0c4d8558e1b201665bb9dffd33dacbc7ca945/zookeeper-server/src/main/java/org/apache/zookeeper/server/NIOServerCnxn.java#L423

","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1017401510"", ""author_association"": ""CONTRIBUTOR""}"
1770,CrossReferenced,2022-01-20 13:04:31,eolivelli,fork_close,ZOOKEEPER-3988 rg.apache.zookeeper.server.NettyServerCnxn.receiveMessage throws NullPointerException,"{""reference"": {""url"": ""https://api.github.com/repos/apache/zookeeper/issues/1798"", ""is_pull_request"": true}}"
1770,IssueComment,2022-01-25 14:51:42,andrekramer1,fork_close,There was a change to fix the NPE but it may not have fixed this issue: https://github.com/apache/zookeeper/pull/1798 Probably needs testing on latest release and meanwhile switching to NIOServerCNXNs should be a work around.,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1021263029"", ""author_association"": ""NONE""}"
1770,IssueComment,2022-01-25 17:08:45,eolivelli,fork_close,"I am following up.
My goal is to have this fixed and to cut a release","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1021414827"", ""author_association"": ""CONTRIBUTOR""}"
1770,IssueComment,2022-01-26 08:51:07,eolivelli,fork_close,"@andrekramer1 
this is my fix https://github.com/apache/zookeeper/pull/1799

I verified it works.
Please follow up there for new comments","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1021987814"", ""author_association"": ""CONTRIBUTOR""}"
1770,ClosePR,2022-01-26 08:51:18,eolivelli,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5955164760"", ""commit_url"": null}"
1771,SubmitCommit,2021-10-10 06:15:08,iamvevaar,fork_close,"Added Hyperlink At LOGO

Inserted a hyperlink on chart.js logo
So that users can easily be redirected to the SITE","{""sha"": ""2a440e3955ef50b7a457f035f592dc18b81835da"", ""author"": {""name"": ""gautammsuthar"", ""email"": ""69046800+gautammsuthar@users.noreply.github.com"", ""date"": ""2021-10-10T06:15:08Z""}, ""committer"": {""name"": ""GitHub"", ""email"": ""noreply@github.com"", ""date"": ""2021-10-10T06:15:08Z""}}"
1771,OpenPR,2021-10-10 06:15:49,iamvevaar,fork_close,,
1771,ReviewApproved,2021-10-15 10:52:18,maoling,fork_close,,"{""author_association"": ""MEMBER"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1771#pullrequestreview-780711864""}"
1771,RenameTitle,2021-10-24 11:10:22,maoling,fork_close,,"{""rename"": {""from"": ""Added Hyperlink At LOGO"", ""to"": ""ZOOKEEPER-4402: Added Hyperlink At LOGO""}, ""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5509387915""}"
1771,ClosePR,2021-10-24 13:11:04,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5509514504"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/4f015139e73986c13d6ecfc8dd18a00e6f8a3485""}"
1771,IssueCommentSupplement,2021-10-24 14:00:47,maoling,fork_close,"- @gautammsuthar  Thanks for your contribution.
- The contributor guideline is (https://cwiki.apache.org/confluence/display/ZOOKEEPER/HowToContribute)","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/950330493"", ""author_association"": ""MEMBER""}"
1773,OpenPR,2021-10-13 02:39:59,li4wang,fork_close,,
1773,IssueComment,2021-10-13 16:16:45,li4wang,fork_close,"Hi @anmolnar @maoling,

Would you mind taking a look at the PR? Thanks.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/942466915"", ""author_association"": ""CONTRIBUTOR""}"
1773,ReviewComment,2021-10-13 17:09:18,ctubbsii,fork_close,,"{""author_association"": ""MEMBER"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1773#pullrequestreview-778872239""}"
1773,ReviewApproved,2022-01-26 11:53:27,eolivelli,fork_close,"LGTM

@li4wang ZK 3.8.0 will be released very soon.
I agree that this is a new feature that should fit a new major release (3.8)

can you please change the docs and move to 3.8.0 ?

@anmolnar @symat  can you please take a look, this patch is valuable for the upcoming 3.8 release","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1773#pullrequestreview-863438812""}"
1773,ReviewRejected,2022-01-26 14:42:43,symat,fork_close,"the changes look good, but the version in the documentation should be changed to 3.8.0.

Also there was some discussion about making this more flexible, suggested by @ctubbsii . I liked that 'openssl' approach, but if it is not planned here, I am also happy with that as a further improvement later.","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1773#pullrequestreview-863635435""}"
1773,IssueComment,2022-01-27 16:48:25,li4wang,fork_close,"> can you please change the docs and move to 3.8.0 ?

Yes, I  will update the documentation

> I liked that 'openssl' approach, but if it is not planned here, I am also happy with that as a further improvement later.

When are we going to cut the 3.8.0 branch?  Can we get this in first and I will make the changes for 'openssl' approach later?

","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1023430540"", ""author_association"": ""CONTRIBUTOR""}"
1773,Revise,2022-01-27 17:05:25,liwang,fork_close,"ZOOKEEPER-4396: Read Key/trust store password from file

Author:  li4wang@gmail.com","{""sha"": ""e8f8f9cc0b6df3c8981e6f2b00c66075a7af5570"", ""author"": {""name"": ""liwang"", ""email"": ""liwang@apple.com"", ""date"": ""2021-10-13T01:09:05Z""}, ""committer"": {""name"": ""liwang"", ""email"": ""liwang@apple.com"", ""date"": ""2022-01-27T17:05:25Z""}}"
1773,IssueComment,2022-01-27 17:30:32,li4wang,fork_close,"1. Documentations have been changed to 3.8.0.
2. JIRA ticket opened for implementing the 'openssl' style. https://issues.apache.org/jira/browse/ZOOKEEPER-4458. I will work on it once I get some bandwidth. ","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1023471118"", ""author_association"": ""CONTRIBUTOR""}"
1773,IssueComment,2022-01-27 17:33:53,li4wang,fork_close,@symat would you mind taking a quick look at it so it can be merged and included in the 3.8.0 release? ,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1023474601"", ""author_association"": ""CONTRIBUTOR""}"
1773,ReviewApproved,2022-01-28 07:10:59,symat,fork_close,"LGTM, thanks!","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1773#pullrequestreview-865757976""}"
1773,IssueComment,2022-01-28 07:13:44,symat,fork_close,"unless there is any objections, I'll merge this to master today (if CI is green), so it will reach 3.8.0.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1023946522"", ""author_association"": ""CONTRIBUTOR""}"
1773,IssueComment,2022-01-28 08:23:57,symat,fork_close,only unrelated CPP tests failed (which are known to be flaky). I'm merging the change.,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1023988039"", ""author_association"": ""CONTRIBUTOR""}"
1773,ClosePR,2022-01-28 08:28:07,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5969017966"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/b2c1b5af36a196ca2e9080750d212aa1a0550f7c""}"
1773,IssueCommentSupplement,2022-01-28 08:29:01,symat,fork_close,"merged to the master branch, will be part of the 3.8.0 release. Thanks for the contribution , @li4wang !","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1023991556"", ""author_association"": ""CONTRIBUTOR""}"
1775,OpenPR,2021-11-09 23:03:41,frederiko,fork_close,,
1775,RenameTitle,2021-11-09 23:26:35,frederiko,fork_close,,"{""rename"": {""from"": ""Update Netty to 4.1.70.Final"", ""to"": ""ZOOKEEPER-4414: Update Netty to 4.1.70.Final""}, ""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5593550041""}"
1775,Revise,2021-11-15 21:04:42,frederiko,fork_close,Update Netty to 4.1.70.Final,"{""sha"": ""633ad9d28016fbcbf81fedba029d760a4d01feab"", ""author"": {""name"": ""Frederiko Costa"", ""email"": ""frederiko.costa@workday.com"", ""date"": ""2021-11-09T22:59:35Z""}, ""committer"": {""name"": ""Frederiko Costa"", ""email"": ""frederiko.costa@workday.com"", ""date"": ""2021-11-15T21:04:42Z""}}"
1775,IssueComment,2021-11-16 11:39:26,maoling,fork_close,+1,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/970187166"", ""author_association"": ""MEMBER""}"
1775,ClosePR,2021-11-27 02:12:25,maoling,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5679646973"", ""commit_url"": null}"
1775,ReopenPR,2021-11-27 02:12:34,maoling,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5679647097"", ""commit_url"": null}"
1775,ClosePR,2021-11-27 06:50:49,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5679823525"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/01f935cdebd582211e6d4eef9f81da4228412911""}"
1775,Referenced,2021-11-27 06:53:07,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5679825186"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/1d79ab4b16593f426b258f4c364fc59dee693b04""}"
1775,IssueCommentSupplement,2021-11-27 06:54:22,maoling,fork_close,"- @frederiko  Thanks for your contribution.
- Commit to the following branches:
[master ](https://github.com/apache/zookeeper/tree/master)
[branch-3.7](https://github.com/apache/zookeeper/tree/branch-3.7)","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/980513897"", ""author_association"": ""MEMBER""}"
1775,DeleteBranch,2021-12-06 19:50:44,frederiko,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5722953664"", ""commit_url"": null}"
1776,SubmitCommit,2021-11-09 23:29:31,frederiko,fork_close,Backport ZOOKEEPER-4414 to branch-3.5,"{""sha"": ""04234e75701955b5f564eb7e48e044f932e8e406"", ""author"": {""name"": ""Frederiko Costa"", ""email"": ""frederiko.costa@workday.com"", ""date"": ""2021-11-09T23:29:31Z""}, ""committer"": {""name"": ""Frederiko Costa"", ""email"": ""frederiko.costa@workday.com"", ""date"": ""2021-11-09T23:29:31Z""}}"
1776,SubmitCommit,2021-11-09 23:34:02,frederiko,fork_close,Rename license files,"{""sha"": ""7108f81d36575641a8cd849ea27b30947d10fff7"", ""author"": {""name"": ""Frederiko Costa"", ""email"": ""frederiko.costa@workday.com"", ""date"": ""2021-11-09T23:34:02Z""}, ""committer"": {""name"": ""Frederiko Costa"", ""email"": ""frederiko.costa@workday.com"", ""date"": ""2021-11-09T23:34:02Z""}}"
1776,OpenPR,2021-11-09 23:35:13,frederiko,fork_close,,
1776,IssueComment,2021-11-16 11:39:42,maoling,fork_close,+1,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/970187338"", ""author_association"": ""MEMBER""}"
1776,ClosePR,2021-11-27 02:11:51,maoling,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5679646622"", ""commit_url"": null}"
1776,ReopenPR,2021-11-27 02:11:54,maoling,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5679646666"", ""commit_url"": null}"
1776,Referenced,2021-11-27 06:58:29,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5679829859"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/e0d9ec44a9cd76158e575d4318543825f08112ba""}"
1776,IssueCommentSupplement,2021-11-27 07:54:50,maoling,fork_close,"- @frederiko Thanks for your contribution.
- Commit to the following branches:
[branch-3.5](https://github.com/apache/zookeeper/tree/branch-3.5)","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/980520845"", ""author_association"": ""MEMBER""}"
1776,ClosePR,2021-11-27 07:54:50,maoling,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5679869676"", ""commit_url"": null}"
1776,DeleteBranch,2021-12-06 19:50:22,frederiko,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5722951765"", ""commit_url"": null}"
1777,SubmitCommit,2021-11-09 23:42:30,frederiko,fork_close,ZOOKEEPER-4414: Update Netty to 4.1.70.Final on branch-3.6,"{""sha"": ""5352e1c48cc17cfb70070154b6b582cb4a86a76a"", ""author"": {""name"": ""Frederiko Costa"", ""email"": ""frederiko.costa@workday.com"", ""date"": ""2021-11-09T23:42:30Z""}, ""committer"": {""name"": ""Frederiko Costa"", ""email"": ""frederiko.costa@workday.com"", ""date"": ""2021-11-09T23:42:30Z""}}"
1777,OpenPR,2021-11-09 23:44:50,frederiko,fork_close,,
1777,IssueComment,2021-11-16 11:40:22,maoling,fork_close,+1,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/970187735"", ""author_association"": ""MEMBER""}"
1777,ClosePR,2021-11-27 02:11:36,maoling,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5679646455"", ""commit_url"": null}"
1777,ReopenPR,2021-11-27 02:11:42,maoling,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5679646510"", ""commit_url"": null}"
1777,ClosePR,2021-11-27 02:13:24,maoling,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5679647592"", ""commit_url"": null}"
1777,ReopenPR,2021-11-27 02:13:51,maoling,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5679647860"", ""commit_url"": null}"
1777,Referenced,2021-11-27 06:55:52,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5679827361"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/6cb9fd13a11b7573b966d809df8f6135f4bf41bf""}"
1777,IssueCommentSupplement,2021-11-27 07:53:49,maoling,fork_close,"- @frederiko Thanks for your contribution.
- Commit to the following branches:
[branch-3.6](https://github.com/apache/zookeeper/tree/branch-3.6)
","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/980520717"", ""author_association"": ""MEMBER""}"
1777,ClosePR,2021-11-27 07:53:49,maoling,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5679868954"", ""commit_url"": null}"
1778,SubmitCommit,2021-11-18 05:06:06,fengpan0403,fork_close,"Update zookeeper.h

Typo fix","{""sha"": ""786d9eb89d90491462a88e25407641628abfd270"", ""author"": {""name"": ""fengpan0403"", ""email"": ""fengpan0403@163.com"", ""date"": ""2021-11-18T05:06:06Z""}, ""committer"": {""name"": ""GitHub"", ""email"": ""noreply@github.com"", ""date"": ""2021-11-18T05:06:06Z""}}"
1778,OpenPR,2021-11-18 05:08:38,fengpan0403,fork_close,,
1778,RenameTitle,2021-11-21 04:36:42,maoling,fork_close,,"{""rename"": {""from"": ""Update zookeeper.h"", ""to"": ""fix a typo in zookeeper.h""}, ""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5649604126""}"
1778,ClosePR,2021-11-21 04:39:48,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5649605493"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/f4f0bed00dd254e34aedfe408799f557d60fd0e7""}"
1778,IssueCommentSupplement,2021-11-21 04:43:17,maoling,fork_close,"- @fengpan0403 Thanks for your contribution.
- It's better to create a [JIRA](https://issues.apache.org/jira/projects/ZOOKEEPER/) issue (sign up JIRA if you don't have an account) to bind this PR to a JIRA-ID. ZooKeeper uses the GitHub workflow. The contributor guideline is [here](https://cwiki.apache.org/confluence/display/ZOOKEEPER/HowToContribute). Remember it next time:)","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/974755048"", ""author_association"": ""MEMBER""}"
1779,SubmitCommit,2019-12-16 21:09:50,symat,fork_close,"ZOOKEEPER-3651: try to fix flaky NettyServerCnxnFactoryTest

The testOutstandingHandshakeLimit is flaky, I tried to fix it in this commit.
- I added extra comments and did some restructuring in the code.
- Avoiding to start unnecessary ZooKeeper servers for tests don't require it
- Decreasing the number of client connections the test tries to initiate
- Increasing the timeout to make sure the connections get established
- Filtering the 'SyncConnected' events in the client watcher to make sure
the given connection is really established before counting it

I think the last two points above should fix the flakiness. I tried to run the
test in docker, and before the fix it failed for me once in every 4-5 execution.
After applying these changes I re-executed it 100 times without failure.

If these fixes are not enough, then we can introduce some only-visible-by-test
method to add sleep in the SSLHandshake process in the production code to
force to have handshakes in parallel. However, it would be nice to avoid that.
Let's hope that these fixes will be enough.

Author: Mate Szalay-Beko <szalay.beko.mate@gmail.com>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Norbert Kalmar <nkalmar@cloudera.com>

Closes #1184 from symat/ZOOKEEPER-3651

(cherry picked from commit 20daae7d5fa934629e7825ed72e66ad76a94d6aa)
Signed-off-by: Enrico Olivelli <eolivelli@apache.org>","{""sha"": ""66e9eda68539c7eda5c67af4f12003382aba8529"", ""author"": {""name"": ""Mate Szalay-Beko"", ""email"": ""szalay.beko.mate@gmail.com"", ""date"": ""2019-12-16T21:09:36Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2019-12-16T21:09:50Z""}}"
1779,SubmitCommit,2019-12-19 08:52:59,sujithsimon22,fork_close,"ZOOKEEPER-3653: Audit Log feature fails in a stand alone zookeeper setup

Author: sujithsimon22 <sujith.abraham.simon@huawei.com>

Reviewers: Enrico Olivelli <eolivelli@apache.org>,Mohammad Arshad <arshad@apache.org>

Closes #1185 from sujithsimon22/master

(cherry picked from commit 7c9a1e4e9ae9e3a17c4766b34787e39ca1e42794)
Signed-off-by: Mohammad Arshad <arshad@apache.org>","{""sha"": ""be57cc255918b6e015d08bfd1203a6f04b20212e"", ""author"": {""name"": ""Sujith Simon"", ""email"": ""sujith.abraham.simon@huawei.com"", ""date"": ""2019-12-19T08:51:41Z""}, ""committer"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2019-12-19T08:52:59Z""}}"
1779,SubmitCommit,2019-12-19 23:14:39,eolivelli,fork_close,ZooKeeper 3.6.0 release notes draft,"{""sha"": ""a21632bf3b38fbf41fe3b0aba9b801dc31f8c12e"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2019-12-19T23:14:03Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2019-12-19T23:14:39Z""}}"
1779,SubmitCommit,2019-12-23 15:49:38,rabi-kumar,fork_close,"ZOOKEEPER-3648: remove Hadoop logo in the ZooKeeper documentation

I have removed hadoop logo from header.html present in zookeeper-documentation and also the image hadoop-logo.jpg from images.

Please do let me know if I have missed anything.

Author: ravowlga123 <ravowlga@gmail.com>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Justin Ling Mao <maoling199210191@sina.com>

Closes #1179 from ravowlga123/ZOOKEEPER-3648

(cherry picked from commit 56f508f1828e4392caab1e50ed76b81b84a7357d)
Signed-off-by: Enrico Olivelli <enrico.olivelli@diennea.com>","{""sha"": ""97b2f8cb64061645e1d7b50bf8ad17ecba76a377"", ""author"": {""name"": ""ravowlga123"", ""email"": ""ravowlga@gmail.com"", ""date"": ""2019-12-23T15:49:27Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""enrico.olivelli@diennea.com"", ""date"": ""2019-12-23T15:49:38Z""}}"
1779,SubmitCommit,2019-12-23 15:51:11,hanm,fork_close,"ZOOKEEPER-3056: fix documentation.

snapshot.trust.empty can be used in both zoo.cfg file (with name snapshot.trust.empty), and as a system property (with name zookeeper.snapshot.trust.empty).

Author: Michael Han <lhan@twitter.com>

Reviewers: Enrico Olivelli <eolivelli@apache.org>

Closes #1178 from hanm/ZOOKEEPER-3056

(cherry picked from commit 04e91c3889b2d0a477036ae088794b6f5b3b04ba)
Signed-off-by: Enrico Olivelli <enrico.olivelli@diennea.com>","{""sha"": ""dbe29a9cffb0a6616e74df9c3f81e45cdc90e87a"", ""author"": {""name"": ""Michael Han"", ""email"": ""lhan@twitter.com"", ""date"": ""2019-12-23T15:50:59Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""enrico.olivelli@diennea.com"", ""date"": ""2019-12-23T15:51:11Z""}}"
1779,SubmitCommit,2019-12-27 21:33:37,Fangmin Lyu,fork_close,"ZOOKEEPER-3512: Real time data consistency check during broadcast time

This is the 2nd part of data consistency based on digest, it checks the DataTree digest on every txn during broadcast time.

Author: Fangmin Lyu <fangmin@apache.org>
Author: Enrico Olivelli <eolivelli@apache.org>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Andor Molnar <andor@apache.org>, Michael Han <hanm@apache.org>

Closes #1059 from lvfangmin/ZOOKEEPER-3512

(cherry picked from commit 2805e8982c0e8964e5f8d86f4b01a293d75d4aed)
Signed-off-by: Enrico Olivelli <eolivelli@apache.org>","{""sha"": ""034bcda589ae9d64ab3467b254179ed37f9b1635"", ""author"": {""name"": ""Fangmin Lyu"", ""email"": ""fangmin@apache.org"", ""date"": ""2019-12-27T21:33:26Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2019-12-27T21:33:37Z""}}"
1779,SubmitCommit,2020-01-06 10:52:40,eolivelli,fork_close,"ZOOKEEPER-3668: Clean up release package for 3.6.0

- add LICENSE files for Snappy and Metrics core
- update Copyright year
- copy airlift reference to the NOTICE file of the binary packages
- copy the Java 8 disclaimer from branch-3.5

Author: Enrico Olivelli <eolivelli@apache.org>

Reviewers: Andor Molnar <anmolnar@apache.org>

Closes #1196 from eolivelli/fix/license-stuff","{""sha"": ""59f7bbf478151ad5bbce6610bff78dc3d7671eb6"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-01-06T10:51:49Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-01-06T10:52:40Z""}}"
1779,SubmitCommit,2020-01-06 12:04:46,ztzg,fork_close,"ZOOKEEPER-3640: Implement ""batch mode"" in cli_mt

Batch mode never was implemented in `cli_mt`.  This patch seems to work, but:

1. There may be a cleaner way of waiting for the completion;
2. ~~`nanosleep` is POSIX; the Windows path should probably use `Sleep`~~ (DONE).

symat: Comments welcome.

Author: Damien Diederen <dd@crosstwine.com>

Reviewers: andor@apache.org

Closes #1173 from ztzg/ZOOKEEPER-3640-implement-batch-mode-in-cli-mt

(cherry picked from commit d7bc7b135f486f0b91bd7e40b150f39813ef9a9a)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""d01dac1fc4983fdde60dee64f0dd2b083a4e6bf2"", ""author"": {""name"": ""Damien Diederen"", ""email"": ""dd@crosstwine.com"", ""date"": ""2020-01-06T12:04:35Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2020-01-06T12:04:46Z""}}"
1779,SubmitCommit,2020-01-06 12:07:43,coheigea,fork_close,"ZOOKEEPER-3638: Update Jetty to 9.4.24.v20191120

Author: Colm O hEigeartaigh <coheigea@apache.org>

Reviewers: eolivelli@apache.org, andor@apache.org

Closes #1165 from coheigea/ZOOKEEPER-3638

(cherry picked from commit 178e8de664bed018c339108f168ae4ae4989b3b6)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""260c8896593055f705857d8e41f1094bd2fadb33"", ""author"": {""name"": ""Colm O hEigeartaigh"", ""email"": ""coheigea@apache.org"", ""date"": ""2020-01-06T12:07:32Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2020-01-06T12:07:43Z""}}"
1779,SubmitCommit,2020-01-09 10:27:25,rabi-kumar,fork_close,"ZOOKEEPER-2083: Remove deprecated class AuthFastLeaderElection

As per [ZOOKEEPER-2083](https://jira.apache.org/jira/browse/ZOOKEEPER-2083) we need to remove class AuthFastLeaderElection.java so I made changes in Quorumpeer.java by removing two cases 1 and 2 present in createElectionAlgorithm as QuorumPeerconfig.electioalg is always 3.

Please do let me know if anything additional needs to be done.

Author: ravowlga123 <ravowlga@gmail.com>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Andor Molnar <anmolnar@apache.org>, Patrick Hunt <phunt@apache.org>

Closes #1171 from ravowlga123/ZOOKEEPER-2083

(cherry picked from commit 590e3cbcf1967d4de6ebc08a938584e3b4caf7c4)
Signed-off-by: Enrico Olivelli <enrico.olivelli@diennea.com>","{""sha"": ""3aa3029868b03e92ecf20376eb7d947629afca7a"", ""author"": {""name"": ""ravowlga123"", ""email"": ""ravowlga@gmail.com"", ""date"": ""2020-01-09T10:27:14Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""enrico.olivelli@diennea.com"", ""date"": ""2020-01-09T10:27:25Z""}}"
1779,SubmitCommit,2020-01-09 21:52:04,rabi-kumar,fork_close,"ZOOKEEPER-3649: Add a line break in ls -s CLI

As per the ticket [ZOOKEEEPER-3649](https://issues.apache.org/jira/browse/ZOOKEEPER-3649) we need to add line break ls -s command.

To achieve the desired behavior I have added new line character in option.add of  LsCommand.printChildren(). Please do let me know if made changes gives us the desired behavior or if anything else needs to be changed.

Author: ravowlga123 <ravowlga@gmail.com>

Reviewers: eolivelli@apache.org, andor@apache.org

Closes #1183 from ravowlga123/ZOOKEEPER-3649 and squashes the following commits:

f2e1997d6 [ravowlga123] ZOOKEEPER-3649 Removed additional new line from printChildren
b36d63664 [ravowlga123] ZOOKEEPER-3649 Add a line break in ls -s CLI

(cherry picked from commit 570285af427fd69471a682a071a47483f8f7ddf8)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""901d82c7fa2fe2ff9cc6a408ab0b8a490667def7"", ""author"": {""name"": ""ravowlga123"", ""email"": ""ravowlga@gmail.com"", ""date"": ""2020-01-09T21:51:51Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2020-01-09T21:52:04Z""}}"
1779,SubmitCommit,2020-01-09 21:56:52,rabi-kumar,fork_close,"ZOOKEEPER-3411: Remove deprecated ls2 and rmr command

Removed Ls2Command.java, DeleteAllCommand.printdeprecatedwarning(), statements creating new objects for ls2 and rmr in ZookeeperMain.java. Updated zookeeperCLI.md and ZookeeperTest.java.

Please do let me know if any additional changes are needed

Author: ravowlga123 <ravowlga@gmail.com>

Reviewers: andor@apache.org

Closes #1175 from ravowlga123/ZOOKEEPER-3411

(cherry picked from commit 27b92caefd57a60309af06ebce29e56954ca9aac)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""dc673cb39d89162289f2ebfc7997d4e20efb7f17"", ""author"": {""name"": ""ravowlga123"", ""email"": ""ravowlga@gmail.com"", ""date"": ""2020-01-09T21:56:39Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2020-01-09T21:56:52Z""}}"
1779,SubmitCommit,2020-01-11 07:56:49,eolivelli,fork_close,Update release notes,"{""sha"": ""dc57f63926f724a2fd8fa38d967932d2af3e74be"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-01-11T07:56:49Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-01-11T07:56:49Z""}}"
1779,SubmitCommit,2020-01-17 16:09:10,eolivelli,fork_close,"ZOOKEEPER-3695: Source release tarball does not match repository in 3.6.0

- use the same configuration as in Apache Parent Pom to generate the source tarball
- drop the custom made configuration for the source tarball

Author: Enrico Olivelli <enrico.olivelli@diennea.com>

Reviewers: andor@apache.org

Closes #1226 from eolivelli/fix/ZOOKEEPER-3695-source-tarball and squashes the following commits:

781d95e5c [Enrico Olivelli] Fix typo
21eac30dd [Enrico Olivelli] Fix formatting and add comment
7eca978f6 [Enrico Olivelli] ZOOKEEPER-3695 Source release tarball does not match repository in 3.6.0 - use the same configuration as in Apache Parent Pom to generate the source tarball - drop the custom made configuration for the source tarball

(cherry picked from commit 9053f7c431bb17ed79c2be129b6ba4ba18d15ab1)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""fea678d7837ac0673a39dc10499fc8a526f351db"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""enrico.olivelli@diennea.com"", ""date"": ""2020-01-17T16:08:56Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2020-01-17T16:09:10Z""}}"
1779,SubmitCommit,2020-01-18 19:07:27,eolivelli,fork_close,"ZOOKEEPER-3677: owasp checker failing for - CVE-2019-17571 Apache Log4j 1.2 deserialization of untrusted data in SocketServer

Suppress error for CVE-2019-17571 as it does not affect us.
We are not running the log4j server.

Author: Enrico Olivelli <eolivelli@apache.org>

Reviewers: phunt@apache.org

Closes #1209 from eolivelli/fix/ZOOKEEPER-3677-owasp-log4j

Change-Id: I0ef24a7b142cd32ccf4f5c18f9e0c0132a413d6c
(cherry picked from commit 3bd6b1950eea1fabeac4bc477c8828939d008a4a)
Signed-off-by: Patrick Hunt <phunt@apache.org>","{""sha"": ""b4d9e5730b44cad90c70c1271b895e7fdda5af06"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-01-18T19:06:01Z""}, ""committer"": {""name"": ""Patrick Hunt"", ""email"": ""phunt@apache.org"", ""date"": ""2020-01-18T19:07:27Z""}}"
1779,SubmitCommit,2020-01-20 07:40:13,sujithsimon22,fork_close,"ZOOKEEPER-3667: Setting jute.maxbuffer value in hexadecimal throws Exception

Author: sujithsimon22 <sujith.abraham.simon@huawei.com>

Reviewers: Mohammad Arshad <arshad@apache.org>

Closes #1222 from sujithsimon22/3667

(cherry picked from commit 49ad75b18bfe26e853050f5add6f10f567399058)
Signed-off-by: Mohammad Arshad <arshad@apache.org>","{""sha"": ""261f8b8b913fdf3fb42d0a0fc5763b51abd3f830"", ""author"": {""name"": ""Sujith Simon"", ""email"": ""sujith.abraham.simon@huawei.com"", ""date"": ""2020-01-20T07:39:29Z""}, ""committer"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2020-01-20T07:40:13Z""}}"
1779,SubmitCommit,2020-01-20 08:07:42,sujithsimon22,fork_close,"ZOOKEEPER-3613: ZKConfig fails to return proper value on getBoolean()when user accidentally includes spaces at the end of the value

Author: sujithsimon22 <sujith.abraham.simon@huawei.com>

Reviewers: Allan Lyu <fangmin@apache.org>,Justin Mao Ling <maoling199210191@sina.com>,Mohammad Arshad <arshad@apache.org>

Closes #1190 from sujithsimon22/3613

(cherry picked from commit dcef1a6f33d8120a93f011da1870a503aafb0312)
Signed-off-by: Mohammad Arshad <arshad@apache.org>","{""sha"": ""1066de70f21e31f394be57b970d6d4b079a04e4d"", ""author"": {""name"": ""Sujith Simon"", ""email"": ""sujith.abraham.simon@huawei.com"", ""date"": ""2020-01-20T08:06:59Z""}, ""committer"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2020-01-20T08:07:42Z""}}"
1779,SubmitCommit,2020-01-21 16:53:47,belugabehr,fork_close,"ZOOKEEPER-3669: Use switch Statement in ClientCnxn SendThread

Author: David Mollitor <dmollitor@apache.org>

Reviewers: fangmin@apache.org, andor@apache.org

Closes #1197 from belugabehr/ZOOKEEPER-3669

(cherry picked from commit 517ecde9dd3cfe574118231ec242ea73b80a4e79)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""ad425cea0fae18619653154a48a7699b8f40ed0a"", ""author"": {""name"": ""David Mollitor"", ""email"": ""dmollitor@apache.org"", ""date"": ""2020-01-21T16:53:18Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2020-01-21T16:53:47Z""}}"
1779,SubmitCommit,2020-01-22 10:08:57,symat,fork_close,"ZOOKEEPER-3482: add unit tests for client SASL authentication over SSL

We had some issues about configuring Kerberos authentication with SSL, so I created some unit tests to verify that these features work together. The problem was originally reported on 3.5.5. There was some conflicts to backport the tests to 3.5, I will prepare a separate PR on that branch.

Author: Mate Szalay-Beko <szalay.beko.mate@gmail.com>
Author: Mate Szalay-Beko <mszalay@cloudera.com>

Reviewers: eolivelli@apache.org, andor@apache.org

Closes #1204 from symat/ZOOKEEPER-3482-master and squashes the following commits:

53194f564 [Mate Szalay-Beko] ZOOKEEPER-3482: update SASL related documentation
576ac0b21 [Mate Szalay-Beko] Merge remote-tracking branch 'apache/master' into ZOOKEEPER-3482-master
28da105c2 [Mate Szalay-Beko] ZOOKEEPER-3482: reload SASL and Kerberos configs before executing the tests
396c73e8a [Mate Szalay-Beko] ZOOKEEPER-3482: add unit tests for client SASL authentication over SSL

(cherry picked from commit b7dd0e49c5b25fffc1be8e619a3164bc680ef8bd)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""cf2e5d1cbdf836cf5cf7e491057d78c85cd6d3ac"", ""author"": {""name"": ""Mate Szalay-Beko"", ""email"": ""szalay.beko.mate@gmail.com"", ""date"": ""2020-01-22T10:08:42Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2020-01-22T10:08:57Z""}}"
1779,SubmitCommit,2020-01-23 10:15:06,phunt,fork_close,"ZOOKEEPER-3699: upgrade jackson-databind to address CVE-2019-20330

Latest version of jackson-databind is 2.9.10.2.

Change-Id: Id2b0f17c2dfa9a9765fd4893643007b49f06816d

Author: Patrick Hunt <phunt@apache.org>

Reviewers: Norbert Kalmar <nkalmar@apache.org>

Closes #1232 from phunt/ZOOKEEPER-3699

(cherry picked from commit 2d29c569f2c3ca879e1d026a7086f6e376187198)
Signed-off-by: Norbert Kalmar <nkalmar@apache.org>","{""sha"": ""b0debb06dd88e6097021160c9effe3cbfbd3d5f3"", ""author"": {""name"": ""Patrick Hunt"", ""email"": ""phunt@apache.org"", ""date"": ""2020-01-23T10:14:39Z""}, ""committer"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@apache.org"", ""date"": ""2020-01-23T10:15:06Z""}}"
1779,SubmitCommit,2020-01-23 12:43:39,symat,fork_close,"ZOOKEEPER-3698: fixing NoRouteToHostException when starting large cluster locally

When we tested RC 3.6.0, we had a problem of starting ZooKeeper cluster with large
number (11+) of ensemble members locally on mac. We found exceptions in the logs
when the new MultiAddress feature tries to filter the unreachable hosts from the
address list. This involves the calling of the InetAddress.isReachable method with
a default timeout of 500ms, which goes down to a native call in java and basically
try to do a ping (an ICMP echo request) to the host. Naturally, the localhost should
be always reachable.

The problem was that on mac we have the ICMP rate limit set to 250 by default.

In this patch we:
- changed the reachability check behavior by disabling the check if there is only
a single address provided (so we wouldn't be able to filter the unreachable
addresses anyway).
- added and documented a configuration parameter to disable the reachability check
for testing. (default: enabled)
- added and documented a configuration parameter to set the timeout for the
reachability checks. (default: 1000ms)

Author: Mate Szalay-Beko <szalay.beko.mate@gmail.com>

Reviewers: eolivelli@apache.org, andor@apache.org

Closes #1228 from symat/ZOOKEEPER-3698-branch-3.6","{""sha"": ""8352f78e752a019387c1eb6095085152e7d1d4ad"", ""author"": {""name"": ""Mate Szalay-Beko"", ""email"": ""szalay.beko.mate@gmail.com"", ""date"": ""2020-01-23T12:43:39Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2020-01-23T12:43:39Z""}}"
1779,SubmitCommit,2020-01-23 15:46:39,anmolnar,fork_close,"ZOOKEEPER-1936: Server exits when unable to create data directory due to race

Resurrecting an ancient ticket which could be fixed with a simple patch.

Jira mentions a scenario when auto purging tool is in use and Zookeeper server could have a race condition when creating snapshot and data directories. (directory auto creating is enabled by default)

Double checking the directory existence might help with it.

Author: Andor Molnar <andor@apache.org>

Reviewers: Enrico Olivelli <eolivelli@apache.org>

Closes #1225 from anmolnar/ZOOKEEPER-1936

(cherry picked from commit 689c8b2c4ed264f1dd75db7cbde1f86fe4408f50)
Signed-off-by: Enrico Olivelli <enrico.olivelli@diennea.com>","{""sha"": ""6495a7afd2e69056331c2327585be3baff711013"", ""author"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2020-01-23T15:46:28Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""enrico.olivelli@diennea.com"", ""date"": ""2020-01-23T15:46:39Z""}}"
1779,SubmitCommit,2020-01-23 15:51:11,phunt,fork_close,"ZOOKEEPER-3704: upgrade maven dependency-check to 5.3.0

Upgrade to the latest version of maven dependency checker.

Change-Id: I5ac9c77bb02f54784ff3ed4bb668fe38fd88ee11

Author: Patrick Hunt <phunt@apache.org>

Reviewers: Enrico Olivelli <eolivelli@apache.org>

Closes #1231 from phunt/ZOOKEEPER-3704

(cherry picked from commit 1fbaa26d6827263b2e9e8c18d8699f4bf799eda3)
Signed-off-by: Enrico Olivelli <enrico.olivelli@diennea.com>","{""sha"": ""56a6a034c71bdee3d822cf35ebbfb0ec6f8b44c7"", ""author"": {""name"": ""Patrick Hunt"", ""email"": ""phunt@apache.org"", ""date"": ""2020-01-23T15:50:58Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""enrico.olivelli@diennea.com"", ""date"": ""2020-01-23T15:51:11Z""}}"
1779,SubmitCommit,2020-01-27 10:26:28,symat,fork_close,"ZOOKEEPER-3567: add SSL support for zkpython

This PR is about adding SSL support for zkPython, based on the C-binding. I also fixed the zkpython ant build to work with the current maven top-level build. I also added a new python test case to try to connect to ZooKeeper with SSL.

You can test this patch in the following way:
```
# cleanup everything, just to be on the safe side:
git clean -xdf

# on ubuntu 16.4 make sure you have the following packages installed
apt-get install -y libcppunit-dev openssl libssl-dev python-setuptools python2.7 python2.7-dev

# make a full build (incl. C-client)
mvn clean install -DskipTests -Pfull-build

# we only support python2, so e.g. on ubuntu 18.4 you need to switch to python2
update-alternatives --install /usr/bin/python python /usr/bin/python2.7 1

# compile and test zkpython
cd zookeeper-contrib/zookeeper-contrib-zkpython/
ant compile
ant test
```

Author: Mate Szalay-Beko <szalay.beko.mate@gmail.com>

Reviewers: andor@apache.org

Closes #1121 from symat/ZOOKEEPER-3567 and squashes the following commits:

a5839cb56 [Mate Szalay-Beko] Merge remote-tracking branch 'apache/master' into ZOOKEEPER-3567
d25d61024 [Mate Szalay-Beko] ZOOKEEPER-3567: fix build issues after top-level ant removal
a8869c969 [Mate Szalay-Beko] Merge remote-tracking branch 'apache/master' into HEAD
b92f686e8 [Mate Szalay-Beko] ZOOKEEPER-3567: fix license check issue
0150986da [Mate Szalay-Beko] ZOOKEEPER-3567: removing code duplication: re-use test SSL certificate generator from C-client tests
7d91359d3 [Mate Szalay-Beko] ZOOKEEPER-3567: add SSL support for zkpython

(cherry picked from commit e4758ba70b35dd38ff0bba9e534790391f53b050)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""2a6f1e34d93668bd24a21c37f1f0c5367c7c798a"", ""author"": {""name"": ""Mate Szalay-Beko"", ""email"": ""szalay.beko.mate@gmail.com"", ""date"": ""2020-01-27T10:26:15Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2020-01-27T10:26:28Z""}}"
1779,SubmitCommit,2020-01-28 14:23:16,symat,fork_close,"ZOOKEEPER-1105: wait for server response in C client zookeeper_close

**Thanks for Lincoln Lee for the original fix!**

In the current implementation, we always get a WARN in server side
(""EndOfStreamException: Unable to read additional data from client"")
whenever we close a zookeeper handler from the C client. This also happens
in the end of every execution of the command line C client.

The reason is that currently we don't wait for the response from the server
when we initiate the closing of the client connection, and we terminate
the socket on the client side too early.

I tested the patch both on linux and windows. I also tested it both with
NIO and Netty server side socket implementations.

Author: Mate Szalay-Beko <szalay.beko.mate@gmail.com>

Reviewers: Andor Molnar <andor@apache.org>, Norbert Kalmar <nkalmar@apache.org>

Closes #1176 from symat/ZOOKEEPER-1105

(cherry picked from commit 57be7aedd698cb824ade7373aaa4d8264e1b4eb7)
Signed-off-by: Norbert Kalmar <nkalmar@apache.org>","{""sha"": ""eedf26bb12bc33169ba2756fccd9527c75afe6ca"", ""author"": {""name"": ""Mate Szalay-Beko"", ""email"": ""szalay.beko.mate@gmail.com"", ""date"": ""2020-01-28T14:22:30Z""}, ""committer"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@apache.org"", ""date"": ""2020-01-28T14:23:16Z""}}"
1779,SubmitCommit,2020-01-28 16:26:30,anmolnar,fork_close,"ZOOKEEPER-3701: Split brain on log disk full

Issue described here:
https://issues.apache.org/jira/browse/ZOOKEEPER-3701

Proposing a fix with catching `IOException` within the truncate method to properly return with `false` if truncate fails.

Author: Andor Molnar <andor@apache.org>
Author: Andor Molnar <andor@cloudera.com>

Reviewers: Ivan Kelly <ivank@apache.org>, Enrico Olivelli <eolivelli@apache.org>, Norbert Kalmar <nkalmar@apache.org>

Closes #1233 from anmolnar/ZOOKEEPER-3701

(cherry picked from commit a4bc9857e19b6fa3832813d7e47f683b582565b8)
Signed-off-by: Norbert Kalmar <nkalmar@apache.org>","{""sha"": ""9b6badb5b43d6b6d2ef5c84ad5659d48cf968558"", ""author"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2020-01-28T16:26:14Z""}, ""committer"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@apache.org"", ""date"": ""2020-01-28T16:26:30Z""}}"
1779,SubmitCommit,2020-01-29 13:15:59,eolivelli,fork_close,Update release notes before 3.6.0rc1,"{""sha"": ""2c232e3a8a330d5804ec6f121536629c37b530ed"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-01-29T13:15:28Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-01-29T13:15:59Z""}}"
1779,SubmitCommit,2020-01-30 08:46:06,maoling,fork_close,"ZOOKEEPER-3231: Purge task may lost data when the recent snapshots are all invalid

- Purge task uses `FileTxnSnapLog#findNRecentSnapshot`, which's likely to lost data when the recent 3 snapshots are all invalid(a new valid snapshot has not generated yet) and at the same time, Purge task(`e.g ./zkCleanup.sh -n 3`) has started a new round work to clean up the preceding snapshots. we will lose all the data.that's a small probability events, but it's reproducible.
- Overall, using `snaplog.findNValidSnapshots` to make sure the purge task tries to retain N valid snapshots(rather than N snapshots) to avoid a risk of data loss.
- For the unit test, it's not easy to use the `mock` way for the following reasons:
   - when we want to test the `dataDir` which some Snapshots are valid, others not.Just writing a little data contents to the snapshot to make it valid/invalid has a better flexibility.
   - too much code changes in the `PurgeTxnTest.java`(pass the original UT) and `FileTxnSnapLog.java`(have some handles)
- more details in the [ZOOKEEPER-3231](https://issues.apache.org/jira/browse/ZOOKEEPER-3231)

Author: maoling <maoling199210191@sina.com>

Reviewers: enixon@apache.org, andor@apache.org

Closes #1079 from maoling/ZOOKEEPER-3231 and squashes the following commits:

674175bef [maoling] setUp() & tearDown().
472dfd33c [maoling] ZOOKEEPER-3231:Purge task may lost data when the recent snapshots are all invalid

(cherry picked from commit 2abdfbc261d4ba2f9d17b51f2b46ab748a7d451f)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""1ec248185669016ec0705eb9c10fddf0328bacc5"", ""author"": {""name"": ""maoling"", ""email"": ""maoling199210191@sina.com"", ""date"": ""2020-01-30T08:43:09Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2020-01-30T08:46:06Z""}}"
1779,SubmitCommit,2020-02-01 11:08:50,eolivelli,fork_close,"ZOOKEEPER-3695: Source release tarball does not match repository in 3.6.0 - part2

- upgrade to Apache Parent 23
- disable maven remote plugin
- move source assembly execution before sources generation
- move git properties resolution to the correct phase

Author: Enrico Olivelli <eolivelli@apache.org>

Reviewers: Norbert Kalmar <nkalmar@apache.org>

Closes #1238 from eolivelli/fix/ZOOKEEPER-3695-part2

(cherry picked from commit d3ce1fa7e0b9804fb7752cbb3818c03341d8c87e)
Signed-off-by: Enrico Olivelli <eolivelli@apache.org>","{""sha"": ""955b4bf1ac037a7d0f53956ba637df0c7be69c1a"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-02-01T11:08:39Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-02-01T11:08:50Z""}}"
1779,SubmitCommit,2020-02-03 03:31:00,belugabehr,fork_close,"ZOOKEEPER-3708: Move Logging Code into Logging Guard in Learner

Author: David Mollitor <dmollitor@apache.org>

Reviewers: eolivelli@apache.org, andor@apache.org

Closes #1240 from belugabehr/ZOOKEEPER-3708

(cherry picked from commit 68e1f7d4c54429caa74441c7444ef1fe0f75867c)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""fc43a29e8737c50201aa34157c4f93c31b224c39"", ""author"": {""name"": ""David Mollitor"", ""email"": ""dmollitor@apache.org"", ""date"": ""2020-02-03T03:30:41Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2020-02-03T03:31:00Z""}}"
1779,SubmitCommit,2020-02-04 09:35:24,phunt,fork_close,"ZOOKEEPER-3716: upgrade netty 4.1.42 to address CVE-2019-20444 CVE-20…

…19-20445

Updated netty to version 4.1.45 to address CVE-2019-20444 CVE-2019-20445

Change-Id: Iabcbd1f0b75a03d2a555084de841d7f8caedf6bd

Author: Patrick Hunt <phunt@apache.org>

Reviewers: Enrico Olivelli <eolivelli@apache.org>

Closes #1245 from phunt/ZOOKEEPER-3716

(cherry picked from commit 13c8a35051acbc1f8c3369ed260df2ab22275f58)
Signed-off-by: Enrico Olivelli <eolivelli@apache.org>","{""sha"": ""4d36edeb13701f91c5154d086cb47b1a9153270d"", ""author"": {""name"": ""Patrick Hunt"", ""email"": ""phunt@apache.org"", ""date"": ""2020-02-04T09:35:10Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-02-04T09:35:24Z""}}"
1779,SubmitCommit,2020-02-04 09:39:10,symat,fork_close,"ZOOKEEPER-3715: fix Kerberos test failures for new JDK versions

Using OpenJDK 8u.242 or OpenJDK 11.0.6, we have some kerberos exceptions
when running the following, Kerberos Authentication related tests:
- QuorumKerberosAuthTest
- QuorumKerberosHostBasedAuthTest
- SaslKerberosAuthOverSSLTest

After trying this with different JDK versions, we see that the problem
seems to appear:
- between OpenJDK 8u.232 and 8u.242 for java 8
- and between 11.0.3 and 11.0.6 for java 11

There are a lot of kerberos related changes after 8u.232:
see https://hg.openjdk.java.net/jdk8u/jdk8u/jdk

I didn't really found the root cause of the issue, but the problem disappeared
after upgrading the Apache Kerby. Kerby is used only by the tests to start a local
embedded KDC server. I also checked the dependencies of the new Kerby version
and there is nothing to exclude there as far as I saw.

I also improved the logging of errors during Kerberos authentication problems by
printing out some more exceptions.

Author: Mate Szalay-Beko <szalay.beko.mate@gmail.com>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Norbert Kalmar <nkalmar@apache.org>

Closes #1244 from symat/ZOOKEEPER-3715

(cherry picked from commit 6763f73cb64d87145e8e642d9e4fcc1e0d509216)
Signed-off-by: Enrico Olivelli <eolivelli@apache.org>","{""sha"": ""d95c5a3d6f1e0be77c4838d85c526d226b7798a3"", ""author"": {""name"": ""Mate Szalay-Beko"", ""email"": ""szalay.beko.mate@gmail.com"", ""date"": ""2020-02-04T09:39:02Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-02-04T09:39:10Z""}}"
1779,SubmitCommit,2020-02-04 09:43:40,Jordan Zimmerman,fork_close,"ZOOKEEPER-3703: publish a test JAR

It would be very helpful to Apache Curator and others if ZooKeeper published its testing code as a Maven Test JAR. Curator, for example, could use it to improve its testing server to make it easier to inject error conditions without having to have forced time delays and other hacks.

NOTE: if we move forward with gRPC (ZOOKEEPER-102) that would be in a new module and this would be required. So, might as well do it now.

Author: Jordan Zimmerman <jordan@jordjzimmerman@grubhub.com>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Norbert Kalmar <nkalmar@apache.org>

Closes #1229 from Randgalt/ZOOKEEPER-3703-publish-test-jar

(cherry picked from commit 6db92d7dfa426488b191afba319a16b96f4a36c6)
Signed-off-by: Enrico Olivelli <eolivelli@apache.org>","{""sha"": ""3008ab70ea418ef97a4ccff968b96a4b5198a96c"", ""author"": {""name"": ""Jordan Zimmerman"", ""email"": ""jordan@jordjzimmerman@grubhub.com"", ""date"": ""2020-02-04T09:43:30Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-02-04T09:43:40Z""}}"
1779,SubmitCommit,2020-02-04 09:52:06,eolivelli,fork_close,Update release notes for 3.6.0rc2,"{""sha"": ""5bf63d7773b3f20a5da56ba94b839ee977dfcd98"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-02-04T09:51:22Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-02-04T09:52:06Z""}}"
1779,SubmitCommit,2020-02-14 13:59:32,maoling,fork_close,"ZOOKEEPER-3710: [trivial bug] fix compile error in PurgeTxnTest introduced by ZOOKEEPER-3231

- Link to [PR-1079](https://github.com/apache/zookeeper/pull/1079#issuecomment-580275886)
- more details in the [ZOOKEEPER-3710](https://issues.apache.org/jira/browse/ZOOKEEPER-3710)

Author: maoling <maoling199210191@sina.com>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Norbert Kalmar <nkalmar@apache.org>

Closes #1239 from maoling/ZOOKEEPER-3710","{""sha"": ""824d26f92b4b5577e4386d7d8798c47830287bd1"", ""author"": {""name"": ""maoling"", ""email"": ""maoling199210191@sina.com"", ""date"": ""2020-01-31T11:01:23Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""enrico.olivelli@diennea.com"", ""date"": ""2020-02-14T13:59:32Z""}}"
1779,SubmitCommit,2020-02-16 09:25:23,symat,fork_close,"ZOOKEEPER-3720: Fix rolling upgrade failure (invalid protocol version)

The multi-address feature introduced in ZOOKEEPER-3188 required
changes in the Quorum protocol as we had to send all addresses in
the connection initiation message to enable the receiving side to
choose a reachable address in case of network failure.

The new code can handle both the old and the new protocol versions to
avoid 'invalid protocol' error e.g. during rolling restarts. However,
the new protocol version still can not be used during rolling upgrade
if the old servers are not supporting this protocol. In this case the
old and the new servers would form two distinct partitions until all
the servers get upgraded. To support rolling upgrades too, we want to
disable the MultiAddress feature by default and use the old protocol.

If the user would like enable the MultiAddress feature on a 3.6.0
cluster, she/he can do it either by 1) starting the cluster from
scratch (without rolling upgrade), or 2) performing a rolling upgrade
without the MultiAddress feature enabled then doing a rolling restart
with a new configuration where the MultiAddress feature is enabled.
During the rolling restart there will be no partitions, as all the
servers in the cluster now will run ZooKeeper version 3.6.0 which
understands now both protocols.

The changes in this patch:
- introducing new config property: multiAddress.enabled, disabled
by default
- updating QuorumCnxManager to be able to use both protocol versions
and to use the old one if MultiAddress is disabled
- failing with ConfigException if the user provides multiple
addresses in the config while having MultiAddress disabled
- updating the existing MultiAddress related tests to enable the
feature first
- add some new tests
- update the documentation

Testing:
- I ran all the unit tests
- Using https://github.com/symat/zk-rolling-upgrade-test
  - I tested rolling upgrade from 3.5.6
  - I tested rolling restart to enable the MultiAddress feature
- Using https://github.com/symat/zookeeper-docker-test
  - I tested the MultiAddress feature by disabling some virtual
    interfaces and waiting for the cluster to recover

Author: Mate Szalay-Beko <szalay.beko.mate@gmail.com>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Norbert Kalmar <nkalmar@apache.org>, Andor Molnar <andor@apache.org>

Closes #1251 from symat/ZOOKEEPER-3720

(cherry picked from commit 3aa922c5737c9ef0879f290181cb281261c965e0)
Signed-off-by: Enrico Olivelli <eolivelli@apache.org>","{""sha"": ""d4681c7bda159fac7aa864b0c71074ce95feaf38"", ""author"": {""name"": ""Mate Szalay-Beko"", ""email"": ""szalay.beko.mate@gmail.com"", ""date"": ""2020-02-16T09:25:14Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-02-16T09:25:23Z""}}"
1779,SubmitCommit,2020-02-17 18:58:17,eolivelli,fork_close,Fix release notes for 3.6.0rc3,"{""sha"": ""3da01e0b522204c1086e83e808825bed7c1997fb"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-02-17T18:57:54Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-02-17T18:58:17Z""}}"
1779,SubmitCommit,2020-02-23 16:44:05,eolivelli,fork_close,"ZOOKEEPER-3734: upgrade jackson-databind to address CVE-2020-8840

Author: Enrico Olivelli <eolivelli@apache.org>

Reviewers: phunt@apache.org

Closes #1262 from eolivelli/fix/ZOOKEEPER-3734-jackson-again

Change-Id: I21df2c160f8dd9c2542c153e4aa53500b58e8144
(cherry picked from commit f0c6ae5eb205d7c546483a6f1769cb58b68169a6)
Signed-off-by: Patrick Hunt <phunt@apache.org>","{""sha"": ""9807f0a89504c983b6a44f75bcce41c776d700e3"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-02-23T16:41:20Z""}, ""committer"": {""name"": ""Patrick Hunt"", ""email"": ""phunt@apache.org"", ""date"": ""2020-02-23T16:44:05Z""}}"
1779,SubmitCommit,2020-02-24 05:52:13,eolivelli,fork_close,"ZOOKEEPER-3733: Fix issues reported in 3.6.0rc3

- metrics library LICENSE file has wrong file name
- spotbugs is not passing when '-SNAPSHOT' suffix is removed because the Info.java interface sets a null value for ""qualifier""
- the name of the directory inside the source tarbal is not consistent with the file name and with 3.5 tradition

Author: Enrico Olivelli <eolivelli@apache.org>

Reviewers: phunt@apache.org

Closes #1258 from eolivelli/fix/ZOOKEEPER-3733

Change-Id: I70f4bf96fcd3d8371e1251a60199fe5ef1fdd4d4
(cherry picked from commit b2db3918cb2b681e0446cfe3247730deacc0567b)
Signed-off-by: Patrick Hunt <phunt@apache.org>","{""sha"": ""3c4f24bc2a3da998a25ad1e17fcfcd7606519e43"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-02-24T05:14:46Z""}, ""committer"": {""name"": ""Patrick Hunt"", ""email"": ""phunt@apache.org"", ""date"": ""2020-02-24T05:52:13Z""}}"
1779,SubmitCommit,2020-02-25 13:56:46,eolivelli,fork_close,Update release notes,"{""sha"": ""59193605109621c6cec779ee13a4afa1aee34274"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-02-25T13:56:22Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-02-25T13:56:46Z""}}"
1779,SubmitCommit,2020-02-27 13:22:20,symat,fork_close,"ZOOKEEPER-3741: fix buffer length in C client causing warning with new gcc

We get a warning that we are trying to call like `sprintf(buf,""%s:%d"",addrstr,port);`, and both `buf` and `addrstr` are 128 long char arrays. So in theory, we can overflow. The fix is to increase the length of the destination string array (`buf`).

Actually this problem only causing compile time warning / failure only on the 3.5.5 and 3.5.6. On 3.5.7 this was fixed and on 3.6+ branches the compiler can not detect the problem due to some code refactoring made by ZOOKEEPER-3068, but the issue is still present on the master branch.

Author: Mate Szalay-Beko <szalay.beko.mate@gmail.com>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Norbert Kalmar <nkalmar@apache.org>

Closes #1273 from symat/ZOOKEEPER-3741

(cherry picked from commit 4b45ff1bda65b27d2771322d4613fccfb8a726b0)
Signed-off-by: Norbert Kalmar <nkalmar@apache.org>","{""sha"": ""06d4a8fe53a2b99189d3a7aefcf06f91799fdefc"", ""author"": {""name"": ""Mate Szalay-Beko"", ""email"": ""szalay.beko.mate@gmail.com"", ""date"": ""2020-02-27T13:22:06Z""}, ""committer"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@apache.org"", ""date"": ""2020-02-27T13:22:20Z""}}"
1779,SubmitCommit,2020-03-01 05:43:00,ctubbsii,fork_close,"ZOOKEEPER-3737: Detect log4j 1.2 jmx support better

* Look for jmx class that exists only in the log4j 1.2 jar, but not in
  the log4j2 1.2 compatibility jar.
* Check if disabled before attempting to detect log4j 1.2 jmx classes.
* Update log messages to highlight that they are referring to log4j 1.2
  and not log4j2 or other versions.
* Minor javadoc fixup

Author: Christopher Tubbs <ctubbsii@apache.org>

Reviewers: phunt@apache.org

Closes #1270 from ctubbsii/ZK-3737

Change-Id: I7ebd7a28386d3fee33fcc9078d7f573dc766e8ee
(cherry picked from commit 5a2332058deba04313ad37fa05cbb1515c83b8e6)
Signed-off-by: Patrick Hunt <phunt@apache.org>","{""sha"": ""3dcc996ee6089d8001d699d2461decddf4d76c4f"", ""author"": {""name"": ""Christopher Tubbs"", ""email"": ""ctubbsii@apache.org"", ""date"": ""2020-03-01T05:42:47Z""}, ""committer"": {""name"": ""Patrick Hunt"", ""email"": ""phunt@apache.org"", ""date"": ""2020-03-01T05:43:00Z""}}"
1779,SubmitCommit,2020-03-02 16:09:23,ctubbsii,fork_close,"ZOOKEEPER-3738: Use mavanagaiata for git commit id

Use mavanagaiata plugin to get git commit id for VerGen instead of
properties-maven-plugin (which is broken in some environments).

Also add the commit to the jar manifests for easy reference when given a
jar of unknown origin (especially useful for SNAPSHOT builds).

Author: Christopher Tubbs <ctubbsii@apache.org>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Norbert Kalmar <nkalmar@apache.org>

Closes #1268 from ctubbsii/ZK-3738

(cherry picked from commit 050e56ae48b978a9f8c04dfe00e1647e4301f5a0)
Signed-off-by: Norbert Kalmar <nkalmar@apache.org>","{""sha"": ""a93ff0fe631d1c96ee056a79e3c16535ab33c794"", ""author"": {""name"": ""Christopher Tubbs"", ""email"": ""ctubbsii@apache.org"", ""date"": ""2020-03-02T16:08:47Z""}, ""committer"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@apache.org"", ""date"": ""2020-03-02T16:09:23Z""}}"
1779,SubmitCommit,2020-03-03 09:54:18,symat,fork_close,"ZOOKEEPER-3740: fix flaky PurgeTxnTest.testPurgeWhenLogRollingInProgress

This test is always passing for me when I execute only the PurgeTxnTest test
class locally, but when I execute all the tests (with multiple parallel threads,
using `mvn clean install`), then it always fails. It is failing frequently on
the `zookeeper-master-maven` Jenkins job as well.

The test starts three threads, performing 1000 ZNode creation in each thread
and timeouts if the threads are not finished in 90 seconds. Currently it is
not easy to tell based on the logs if the timeout happens because the
operations are still in progress or if one of the threads terminated due
to an unexpected exception.

In this patch I:
- increased the timeout from 90 to 120 seconds
- added an extra logic to actually fail because of the Exception on the
threads, if any happen during the execution
- I decreased the number of ZNode creations to 750 (from the original 1000)

Applying this patch locally fixed my issues, I hope it will be enough
to fix the test on Jenkins as well.

Author: Mate Szalay-Beko <szalay.beko.mate@gmail.com>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Norbert Kalmar <nkalmar@apache.org>

Closes #1274 from symat/ZOOKEEPER-3740

(cherry picked from commit 118dee4b8a4a69699eb00e12bef2907cbbece160)
Signed-off-by: Norbert Kalmar <nkalmar@apache.org>","{""sha"": ""562863979515140cdf00b848aea2810706226745"", ""author"": {""name"": ""Mate Szalay-Beko"", ""email"": ""szalay.beko.mate@gmail.com"", ""date"": ""2020-03-03T09:53:43Z""}, ""committer"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@apache.org"", ""date"": ""2020-03-03T09:54:18Z""}}"
1779,SubmitCommit,2020-03-03 21:17:43,eolivelli,fork_close,Start ZooKeeper 3.6.1-SNAPSHOT,"{""sha"": ""e99e78d25da5e995d399903db0e44657a1e0de93"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-03-03T21:17:43Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-03-03T21:17:43Z""}}"
1779,SubmitCommit,2020-03-13 18:12:38,symat,fork_close,"ZOOKEEPER-2164: Quorum members can not rejoin after restart

Ever since ZOOKEEPER-107 (released in 3.5.0) the servers are sending
their addresses during initial connection requests. The receiving
server can potentially use these addresses to send back a new
connection request if the challenge is won by the receiver.

If the server config contains wildcard address (e.g. 0.0.0.0 in case
of IPv4) then the first connection request sent by A to B will contain
this address. If the ID of A is smaller than the ID of B, then A will
lose the challenge and the second connection request sent back by B
will never reach A, as B will send the initial message to 0.0.0.0.

So in any 3.5+ ZooKeeper, if wildcard addresses are used in the configs,
then there might be some servers never able to rejoin to the quorum
after they got restarted.

In 3.5+ for backward compatibility reasons (needed during rolling
upgrade) there is a version of the QuorumCnxManager.connectOne()
method that needs no election address but use the last known address
to initiate the connection. In this commit, we simply call this method
if the address is a wildcard address.

I also added a few restart realted tests, to make sure that restart
still works when we don't use wildcard addresses. We can not test
the original error with unit tests, as it would require to start
the quorum on multiple hosts.

I also tested the patch for rolling restart manually both with and
without wildcard addresses in the config.

Author: Mate Szalay-Beko <szalay.beko.mate@gmail.com>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Norbert Kalmar <nkalmar@apache.org>

Closes #1254 from symat/ZOOKEEPER-2164","{""sha"": ""29b0122c621b6c383b381c4a30162577c92039ca"", ""author"": {""name"": ""Mate Szalay-Beko"", ""email"": ""szalay.beko.mate@gmail.com"", ""date"": ""2020-03-12T13:47:27Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""enrico.olivelli@diennea.com"", ""date"": ""2020-03-13T18:12:38Z""}}"
1779,SubmitCommit,2020-03-14 16:46:55,phunt,fork_close,"ZOOKEEPER-3751: upgrade jackson-databind to 2.10 from 2.9

Change-Id: I3c548bcb8e67f83cf6d9fb553d54a6cf9bacf5f3

Author: Patrick Hunt <phunt@apache.org>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Christopher Tubbs, Jan Hentschel

Closes #1283 from phunt/zk3751

(cherry picked from commit 222685123018f9d0d35bfd35cc4cc5924f4348bc)
Signed-off-by: Enrico Olivelli <enrico.olivelli@diennea.com>","{""sha"": ""f7eca7041b76b8f6abe9f3ec0aa649ee0772d319"", ""author"": {""name"": ""Patrick Hunt"", ""email"": ""phunt@apache.org"", ""date"": ""2020-03-14T16:45:57Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""enrico.olivelli@diennea.com"", ""date"": ""2020-03-14T16:46:55Z""}}"
1779,SubmitCommit,2020-03-14 16:50:29,tisonkun,fork_close,"ZOOKEEPER-3745: Update copyright notices from 2019 to 2020

Author: tison <wander4096@gmail.com>

Reviewers: Enrico Olivelli <eolivelli@apache.org>

Closes #1278 from TisonKun/ZOOKEEPER-3745

(cherry picked from commit a5a4743733b8939464af82c1ee68a593fadbe362)
Signed-off-by: Enrico Olivelli <enrico.olivelli@diennea.com>","{""sha"": ""cb8456c1229bb199c29e90a9d312699c3706fc3d"", ""author"": {""name"": ""tison"", ""email"": ""wander4096@gmail.com"", ""date"": ""2020-03-14T16:50:15Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""enrico.olivelli@diennea.com"", ""date"": ""2020-03-14T16:50:29Z""}}"
1779,SubmitCommit,2020-03-19 16:10:06,symat,fork_close,"ZOOKEEPER-3758: Leader reachability check fails with single address

Since ZooKeeper 3.6.0 we can specify multiple addresses for each ZooKeeper server instance
(this can increase availability when multiple physical network interfaces can be used parallel
in the cluster). ZooKeeper will perform ICMP ECHO requests or try to establish a TCP connection
on port 7 (Echo) of the destination host in order to find the reachable addresses. This should
happen only if the user provide multiple addresses in the configuration, in a single address is
used then ZooKeeper shouldn’t send any ICMP requests.

This works as we expected for the leader election connections, but in this Jira issue we found
a bug when the reachability check was performed even with a single address when the Follower
tries to connect to the newly elected Leader.

The fix follows the same approach we discussed for the election protocol before (see
ZOOKEEPER-3698). We avoid the reachability check for single addresses. Also when we have
multiple addresses and none of them can be reached, we still start to connect to all addresses
in parallel.

Author: Mate Szalay-Beko <szalay.beko.mate@gmail.com>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Norbert Kalmar <nkalmar@apache.org>

Closes #1288 from symat/ZOOKEEPER-3758

(cherry picked from commit b1105ccc47685c64d1cca7ccb0b2bb66c194374a)
Signed-off-by: Norbert Kalmar <nkalmar@apache.org>","{""sha"": ""a1d16547e7868b4b4267c5403562f1df3bdce365"", ""author"": {""name"": ""Mate Szalay-Beko"", ""email"": ""szalay.beko.mate@gmail.com"", ""date"": ""2020-03-19T16:09:38Z""}, ""committer"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@apache.org"", ""date"": ""2020-03-19T16:10:06Z""}}"
1779,SubmitCommit,2020-03-20 10:00:29,ctubbsii,fork_close,"ZOOKEEPER-3739: Remove unsupported com.sun API

Remove unsupported use of com.sun.nio.file.SensitivityWatchEventModifier
to better support builds against newer JDKs.

Also update build tooling to use strict JDK release compatibility when
building with newer JDKs by adding profiles which automatically activate
the correct compiler flag when the newer JDK is detected when building
with Maven or Eclipse.

Author: Christopher Tubbs <ctubbsii@apache.org>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Norbert Kalmar <nkalmar@apache.org>

Closes #1269 from ctubbsii/ZK-3739

(cherry picked from commit 8148f966947d3ecf3db0b756d93c9ffa88174af9)
Signed-off-by: Norbert Kalmar <nkalmar@apache.org>","{""sha"": ""d3ac2334bcb380f35ffd55a19b3ac0a02ef2aace"", ""author"": {""name"": ""Christopher Tubbs"", ""email"": ""ctubbsii@apache.org"", ""date"": ""2020-03-20T10:00:13Z""}, ""committer"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@apache.org"", ""date"": ""2020-03-20T10:00:29Z""}}"
1779,SubmitCommit,2020-03-22 13:47:18,eolivelli,fork_close,"ZOOKEEPER-3763: Restore ZKUtil.deleteRecursive in order to help compatibility of applications with 3.5 and 3.6

Author: Enrico Olivelli <enrico.olivelli@diennea.com>

Reviewers: Christopher Tubbs, Norbert Kalmar <nkalmar@apache.org>, Mate Szalay-Beko

Closes #1287 from eolivelli/fix/ZOOKEEPER-3763-compat

(cherry picked from commit bb80b813d79b0eff93d112d6d15f00c147d946c1)
Signed-off-by: Enrico Olivelli <enrico.olivelli@diennea.com>","{""sha"": ""001ed3bd069a9aa176d2ac62467edc92297986ed"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""enrico.olivelli@diennea.com"", ""date"": ""2020-03-22T13:47:08Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""enrico.olivelli@diennea.com"", ""date"": ""2020-03-22T13:47:18Z""}}"
1779,SubmitCommit,2020-03-23 15:20:19,symat,fork_close,"ZOOKEEPER-3756: Members slow to rejoin quorum using Kubernetes

Whenever we close the current master ZooKeeper server, a new leader election
is triggered. During the new election, a connection will be established between
all the servers, by calling the synchronized 'connectOne' method in
QuorumCnxManager. The method will open the socket and send a single small
initial message to the other server, usually very quickly. If the destination
host is unreachable, it should fail immediately.

However, when we use Kubernetes, then the destination host is always reachable
as it points to Kubernetes services. If the actual container / pod is not
available then the 'socket.connect' method will timeout (by default after 5 sec)
instead of failing immediately with NoRouteToHostException. As the 'connectOne'
method is synchronized, this timeout will block the creation of other
connections, so a single unreachable host can cause timeout in the leader
election protocol.

One workaround is to decrease the socket connection timeout with the
'-Dzookeeper.cnxTimeout' stystem property, but the proper fix would be to
make the connection initiation fully asynchronous, as using very low timeout can
have its own side effect. Fortunately most of the initial message sending
is already made async: the SASL authentication can take more time, so the
second (authentication + initial message sending) part of the initiation protocol
is already called in a separate thread, when Quorum SASL authentication is enabled.

In the following patch I made the whole connection initiation async, by
always using the async executor (not only when Quorum SASL is enabled) and
also moving the socket.connect call into the async thread.

I also created a unit test to verify my fix. I added a static socket factory that can be
changed by the tests using a packet private setter method. My test failed (and
produced the same error logs as we see in the original Jira ticket) before I applied
my changes and a time-outed as no leader election succeeded after 15 seconds.
After the changes the test runs very quickly, in 1-2 seconds.

Note: due to the multiAddress changes, we will need different PRs to the branch 3.5
and to the 3.6+ branches. I will submit the other PR once this got reviewed.

Author: Mate Szalay-Beko <szalay.beko.mate@gmail.com>
Author: Mate Szalay-Beko <mszalay@cloudera.com>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Norbert Kalmar <nkalmar@apache.org>

Closes #1289 from symat/ZOOKEEPER-3756-master

(cherry picked from commit 4d8caf9851f63073145996fd4a535278014d01be)
Signed-off-by: Norbert Kalmar <nkalmar@apache.org>","{""sha"": ""97db6936745bdf548f90c2383647eab62d017254"", ""author"": {""name"": ""Mate Szalay-Beko"", ""email"": ""szalay.beko.mate@gmail.com"", ""date"": ""2020-03-23T15:20:05Z""}, ""committer"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@apache.org"", ""date"": ""2020-03-23T15:20:19Z""}}"
1779,SubmitCommit,2020-03-26 17:46:05,lingjinjiang,fork_close,"ZOOKEEPER-3760: remove a useless throwing CliException

https://issues.apache.org/jira/browse/ZOOKEEPER-3760

When I upgrade zookeeper from 3.4.13 to 3.5.7 in my application, I find the function processCmd in ZooKeeperMain.java throws a CliException which has been caught in the function. So I think it can be removed

Author: lingjinjiang <lingjinjiang@gmail.com>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Norbert Kalmar <nkalmar@apache.org>

Closes #1286 from lingjinjiang/master

(cherry picked from commit 2581f71dd97cfda2cf6768c3457b81c7a93b9ef7)
Signed-off-by: Norbert Kalmar <nkalmar@apache.org>","{""sha"": ""891d81d66fe93382376df2e417b41255f0bc3dac"", ""author"": {""name"": ""lingjinjiang"", ""email"": ""lingjinjiang@gmail.com"", ""date"": ""2020-03-26T17:41:57Z""}, ""committer"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@apache.org"", ""date"": ""2020-03-26T17:46:05Z""}}"
1779,SubmitCommit,2020-03-26 21:19:26,sankalpbhatia,fork_close,"ZOOKEEPER-3689: zkCli/ZooKeeperMain relies on system properties for TLS config

The current zkCli uses system properties to set confidential information like keystore location, password etc. This is not secure as these properties need to be passed on the command line as ""-D""  arguments.

Currently, there is no way to create a ZookeeperAdmin does not have a constructor which takes both canBeReadOnly and ZKClientConfig as parameters.  I am introducing a new constructor in ZookeeperAdmin which takes an additional ZKClientConfig parameter. This ZKClientConfig is created by an optional command line argument ``client-configuration``. If no argument is passed, a ZookeeperAdmin object with null client config is created, just like before.

Author: Sankalp <sankal@amazon.com>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Norbert Kalmar <nkalmar@apache.org>, Justin Ling Mao <maoling199210191@sina.com>

Closes #1285 from sankalpbhatia/ZOOKEEPER-3689

(cherry picked from commit b4a3238d1d0cebe1c97ed23427bbcc69c8477c8a)
Signed-off-by: Enrico Olivelli <eolivelli@localhost.localdomain>","{""sha"": ""c5f55eb39249f853398adf87a1860ee1025e99c9"", ""author"": {""name"": ""Sankalp"", ""email"": ""sankal@amazon.com"", ""date"": ""2020-03-26T21:19:08Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@localhost.localdomain"", ""date"": ""2020-03-26T21:19:26Z""}}"
1779,SubmitCommit,2020-03-26 21:21:01,sushantmane,fork_close,"ZOOKEEPER-3755: Use maven to create fatjar

- replace ant build.xml with maven pom.xml for zookeeper-contrib-fatjar module
- create maven profile ""fatjar"" to build a fatjar file.
- update readme files

Author: Sushant Mane <sushant.mane@sjsu.edu>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Benjamin Reed <breed@apache.org>

Closes #1284 from sushantmane/master

(cherry picked from commit 1ff1b779b70dd794c9e45f35f8ca305229df10e0)
Signed-off-by: Enrico Olivelli <eolivelli@localhost.localdomain>","{""sha"": ""07449c6209584fb6baf10fef13a955c0d88133e2"", ""author"": {""name"": ""Sushant Mane"", ""email"": ""sushant.mane@sjsu.edu"", ""date"": ""2020-03-26T21:20:51Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@localhost.localdomain"", ""date"": ""2020-03-26T21:21:01Z""}}"
1779,SubmitCommit,2020-03-31 11:40:01,tisonkun,fork_close,"ZOOKEEPER-3771: Update zk-merge-pr script to Python3

eolivelli generally I use `2to3` util and check the codepath that I can arrive, manually fix some lines.

But it seems we can verify this patch totally when merging this patch :)

Author: tison <wander4096@gmail.com>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Norbert Kalmar <nkalmar@apache.org>

Closes #1295 from TisonKun/patch-1

(cherry picked from commit a4c97d255ad7bb86c61a35d01415de1caebd3dac)
Signed-off-by: Norbert Kalmar <nkalmar@apache.org>","{""sha"": ""1a28de74a496bcca0407cfc9ba3c73014cbe9e11"", ""author"": {""name"": ""tison"", ""email"": ""wander4096@gmail.com"", ""date"": ""2020-03-31T11:39:49Z""}, ""committer"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@apache.org"", ""date"": ""2020-03-31T11:40:01Z""}}"
1779,SubmitCommit,2020-04-07 07:08:00,symat,fork_close,"ZOOKEEPER-3769: handling malformed Leader Election notification messages

Using ZooKeeper with JDK 12.0.2 on CentOS 7 when the current leader is killed, we saw a few times that some partial Leader Election notification (vote) messages were delivered to the other ZooKeeper servers. The malformed / partial messages are causing different exceptions in the WorkerReceiver thread of FastLeaderElection which were not handled before. This was leading to the death of the WorkerReceiver thread, which caused that the given ZooKeeper Server was unable to receive leader election messages anymore and was not able to re-join to any quorum until it got restarted.

In the proposed fix I created unit tests to simulate certain error cases with regards to partial leader election messages, and fixed the error handling in FastLeaderElection.

Author: Mate Szalay-Beko <szalay.beko.mate@gmail.com>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Norbert Kalmar <nkalmar@apache.org>

Closes #1300 from symat/ZOOKEEPER-3769-master

(cherry picked from commit a548253408384d9e943b151c942d795017dca70c)
Signed-off-by: Enrico Olivelli <enrico.olivelli@diennea.com>","{""sha"": ""68466c8767fa1b3ab0e355278921752392e2ea8b"", ""author"": {""name"": ""Mate Szalay-Beko"", ""email"": ""szalay.beko.mate@gmail.com"", ""date"": ""2020-04-07T07:07:50Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""enrico.olivelli@diennea.com"", ""date"": ""2020-04-07T07:08:00Z""}}"
1779,SubmitCommit,2020-04-07 13:40:39,nkalmar,fork_close,"ZOOKEEPER-3780: restore Version.getRevision() to be bacward compatible

Added a warning in https://cwiki.apache.org/confluence/display/ZOOKEEPER/Upgrade+FAQ

Author: Norbert Kalmar <nkalmar@apache.org>

Reviewers: Enrico Olivelli <eolivelli@apache.org>

Closes #1304 from nkalmar/branch-3.6","{""sha"": ""5062c39cb028115a9b79f9b28d6837065e70bf40"", ""author"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@apache.org"", ""date"": ""2020-04-07T13:40:39Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-04-07T13:40:39Z""}}"
1779,SubmitCommit,2020-04-07 15:00:45,eolivelli,fork_close,"ZOOKEEPER-3785: Make sources buildable with JDK14

Author: Enrico Olivelli <eolivelli@apache.org>

Reviewers: Mate Szalay-Beko <szalay.beko.mate@gmail.com>, TisunKun <wander4096@gmail.com>

Closes #1308 from eolivelli/fix/jdk14

(cherry picked from commit a8fb880218410ec3b31374d957e5a0bd6c8cdf28)
Signed-off-by: Enrico Olivelli <eolivelli@apache.org>","{""sha"": ""17374c0d4e0af2b59d2b4a56d1bc2c4041e6315d"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-04-07T15:00:35Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-04-07T15:00:45Z""}}"
1779,SubmitCommit,2020-04-10 14:39:53,eolivelli,fork_close,ZooKeeper 3.6.1 release notes,"{""sha"": ""1d25e0f6d2688d13f5853a05c87efbc522c82f35"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-04-10T14:34:28Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-04-10T14:39:53Z""}}"
1779,SubmitCommit,2020-04-11 06:37:22,vtyulb,fork_close,"ZOOKEEPER-3726: invalid ipv6 address comparison in C client

Fix for https://issues.apache.org/jira/browse/ZOOKEEPER-3726

sockaddr_storage can contain ipv4 or ipv6 address. If address is ipv6, then we need to compare more bytes.

In this PR correct comparison of sockaddr_storage was added.

Author: Vladislav Tyulbashev <vtyulb@vtyulb.ru>

Reviewers: Norbert Kalmar <nkalmar@apache.org>, Mate Szalay-Beko <symat@apache.org>

Closes #1252 from vtyulb/ZOOKEEPER-3726

(cherry picked from commit 726f6843eba75bb3673284b52d8ca3801c5431d3)
Signed-off-by: Mate Szalay-Beko <symat@apache.org>","{""sha"": ""754cf015f3bc45c39e1ad66e9a535ec280d972b8"", ""author"": {""name"": ""Vladislav Tyulbashev"", ""email"": ""vtyulb@vtyulb.ru"", ""date"": ""2020-04-11T06:19:04Z""}, ""committer"": {""name"": ""Mate Szalay-Beko"", ""email"": ""symat@apache.org"", ""date"": ""2020-04-11T06:37:22Z""}}"
1779,SubmitCommit,2020-04-12 09:14:54,hanm,fork_close,"ZOOKEEPER-3793: Request throttling is broken when RequestThrottler is disabled or configured incorrectly..

When RequestThrottler is not enabled or is enabled but configured incorrectly, ZooKeeper server will stop throttling. This is a serious bug as without request throttling, it's fairly easy to overwhelm ZooKeeper which leads to all sorts of issues.

This is a regression introduced in ZOOKEEPER-3243, where the total number of queued requests in request processing pipeline is not taking into consideration when deciding whether to throttle or not, or only taken into consideration conditionally based on RequestThrottler's configurations. We should make sure always taking into account the number of queued requests in request processing pipeline before making throttling decisions.

Author: Michael Han <hanm@apache.org>

Reviewers: Enrico Olivelli <eolivelli@apache.org>

Closes #1316 from hanm/ZOOKEEPER-3793

(cherry picked from commit 4d32f6cf39f76d606b436bd4c04a8d1bc9c60148)
Signed-off-by: Enrico Olivelli <eolivelli@apache.org>","{""sha"": ""e2aef19f4be4cd8015b66dbf63bb860efe4745f4"", ""author"": {""name"": ""Michael Han"", ""email"": ""hanm@apache.org"", ""date"": ""2020-04-12T09:14:45Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-04-12T09:14:54Z""}}"
1779,SubmitCommit,2020-04-12 12:20:55,eolivelli,fork_close,Add ZOOKEEPER-3793 to release notes,"{""sha"": ""37e3032ceab81e53a783e80ee995dba1fe815899"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-04-12T12:20:37Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-04-12T12:20:55Z""}}"
1779,SubmitCommit,2020-04-15 09:44:28,phunt,fork_close,"ZOOKEEPER-3794: upgrade netty to address CVE-2020-11612

Latest owasp runs are flagging this. Simple upgrade to the current latest version of netty 4.1.x codeline.

Change-Id: I3defe8a731a2bf22abbd154e7d51054cb62aaa64

Author: Patrick Hunt <phunt@apache.org>

Reviewers: Enrico Olivelli <eolivelli@apache.org>

Closes #1319 from phunt/ZOOKEEPER-3794

(cherry picked from commit 8a1e0b3643d85ffa362207880095e08f1dbc47da)
Signed-off-by: Enrico Olivelli <enrico.olivelli@diennea.com>","{""sha"": ""8a8ec3d55c9aac4266a2e60000a91df8606525cb"", ""author"": {""name"": ""Patrick Hunt"", ""email"": ""phunt@apache.org"", ""date"": ""2020-04-15T09:44:17Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""enrico.olivelli@diennea.com"", ""date"": ""2020-04-15T09:44:28Z""}}"
1779,SubmitCommit,2020-04-15 14:11:41,ctubbsii,fork_close,"ZOOKEEPER-3738: Fix VerGen when mvngit.commit.id is null

Workaround for exec-maven-plugin treating an empty
`<argument>${mvngit.commit.id}</argument>` as null and passing an
incorrect number of arguments to VerGen.

This change allows the revision to be omitted in the command-line args
to VerGen.

This allows the mavanagaiata-maven-plugin to provide the git commit id,
when available, to the VerGen command. This change is superseded in
ZooKeeper 3.7.0 and later by ZOOKEEPER-3786
(https://github.com/apache/zookeeper/pull/1310), which simplifies
generating the version information and removes VerGen.

Author: Christopher Tubbs <ctubbsii@apache.org>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Mate Szalay-Beko <szalay.beko.mate@gmail.com>

Closes #1321 from ctubbsii/fix-vergen-for-36-mavanagaiata","{""sha"": ""4d1ddefe044e5d69783c4cbbc3d25772a152ec72"", ""author"": {""name"": ""Christopher Tubbs"", ""email"": ""ctubbsii@apache.org"", ""date"": ""2020-04-15T14:11:41Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-04-15T14:11:41Z""}}"
1779,SubmitCommit,2020-04-15 14:16:06,eolivelli,fork_close,add ZOOKEEPER-3794 to release notes,"{""sha"": ""fbe16c929347bcefe2f393098d9f8ca972a48ae6"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-04-15T14:15:47Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-04-15T14:16:06Z""}}"
1779,SubmitCommit,2020-04-15 14:36:22,eolivelli,fork_close,Prepared 3.6.1,"{""sha"": ""d7b78e023af7d8dcf2530022da8565360fe64221"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-04-15T14:24:11Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-04-15T14:36:22Z""}}"
1779,SubmitCommit,2020-04-15 14:36:30,eolivelli,fork_close,Prepared 3.6.2-SNAPSHOT,"{""sha"": ""1964b1b015cb8224ce663f07cbf6fad5c566a607"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-04-15T14:25:55Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-04-15T14:36:30Z""}}"
1779,SubmitCommit,2020-04-17 06:46:41,eolivelli,fork_close,Fix pom.xml files that contained bad version 3.7.0-SNAPSHOT,"{""sha"": ""7cc5e6aed26af86d30a03715bfd0cad51453c0fc"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-04-17T06:46:41Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-04-17T06:46:41Z""}}"
1779,SubmitCommit,2020-04-18 17:03:14,eolivelli,fork_close,"ZOOKEEPER-3797: Conflict between fatjar and full-build Maven profiles

Enable fatjar module in full-build profile.
This is a fix only for branch-3.6, on master branch maven structure is changing, there is no need for this fix

Author: Enrico Olivelli <eolivelli@apache.org>

Reviewers: phunt@apache.org, breed@apache.org

Closes #1323 from eolivelli/fix/ZOOKEEPER-3797 and squashes the following commits:

6dc3270fb [Enrico Olivelli] skip checkstyle
1cff2ff85 [Enrico Olivelli] skip spotbugs
19a869959 [Enrico Olivelli] simplify skipTests
e48811917 [Enrico Olivelli] skip tests in zookeeper-it
3d6dc500b [Enrico Olivelli] enable zookeeper-it
940aec8da [Enrico Olivelli] ZOOKEEPER-3797 Conflict between fatjar and full-build Maven profiles in branch-3.6

Change-Id: Ifbfc6d1ac63a9eeab399a1fcd575b81185b36fc3","{""sha"": ""c5b4c235fdd4abc6d4ebda2d40eb76d9452a417e"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-04-18T17:03:14Z""}, ""committer"": {""name"": ""Patrick Hunt"", ""email"": ""phunt@apache.org"", ""date"": ""2020-04-18T17:03:14Z""}}"
1779,SubmitCommit,2020-04-19 06:36:54,eolivelli,fork_close,add ZOOKEEPER-3726 and ZOOKEEPER-3797 to release notes,"{""sha"": ""b57d0e9efa04f9dcd6e519cef9df563acb7c5830"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-04-19T06:36:32Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-04-19T06:36:54Z""}}"
1779,SubmitCommit,2020-04-20 09:35:50,ctubbsii,fork_close,"ZOOKEEPER-3802: Fix rat checks in full-build and fatjar

Ensure apache-rat:check passes with and without -Pfull-build and/or -Pfatjar

Specifically, this change does:

1. Use wildcards for rat check excludes, so the build passes whether rat
   detects the fils at the build execution root or within the activated
   module, so the rat check works whether or not the full-build or
   fatjar profiles are activated.
2. Ensures properties set at zookeeper-contrib that control rat,
   spotbugs, and checkstyle, are properly passed down to the contrib
   submodules when fatjar is activated, by ensuring the intermediate
   parent pom for zookeeper-contrib is activated when any of its
   submodules are activated.
3. Also use version of spotbugs that works with newer JDKs so the full
   build, including rat checks, can be tested with newer JDKs.

Author: Christopher Tubbs <ctubbsii@apache.org>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Patrick Hunt <phunt@apache.org>

Closes #1326 from ctubbsii/fix-rat-build-36","{""sha"": ""24001493d5d24a8c36e5fa38031243391191d62b"", ""author"": {""name"": ""Christopher Tubbs"", ""email"": ""ctubbsii@apache.org"", ""date"": ""2020-04-20T09:35:50Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-04-20T09:35:50Z""}}"
1779,SubmitCommit,2020-04-21 12:23:24,eolivelli,fork_close,Add ZOOKEEPER-3802 to release notes,"{""sha"": ""e64a74fabafeb3b20109014149beb3ebd6a48be7"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-04-21T12:23:03Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-04-21T12:23:24Z""}}"
1779,SubmitCommit,2020-04-27 08:58:25,ztzg,fork_close,"ZOOKEEPER-3790: zkpython compilation and testing issues

This series makes the zkpython ""contrib"" compile cleanly, and makes the tests runnable out of the box with Python 3:

  * Defined `THREADED`, as zkpython uses the sync API

    Without this, compilation produces a number of warnings about undefined functions (and misleading suggestions!) as it only sees the async API:

        src/c/zookeeper.c:1080:13: warning: implicit declaration of function 'zoo_delete'; did you mean 'zoo_adelete'? [-Wimplicit-function-declaration]
           int err = zoo_delete(zh, path, version);
                     ^~~~~~~~~~
                     zoo_adelete

  * Define `HAVE_OPENSSL_H`, as the extension calls zookeeper_init_ssl

    The flag is unconditionally defined for now, as the function is unconditionally called.

        src/c/zookeeper.c:646:10: warning: implicit declaration of function 'zookeeper_init_ssl'; did you mean 'zookeeper_init2'? [-Wimplicit-function-declaration]
             zh = zookeeper_init_ssl( host, cert_str, watcherfn != Py_None ? watcher_dispatch : NULL,

                  ^~~~~~~~~~~~~~~~~~
                  zookeeper_init2

  * Make SSL support optional (but on by default)

  * Raise `MemoryError` if module initialization fails

  * Allow for version/ABI information in shared object name

    In some versions of the Python framework, native extensions encode the interpreter version and some ABI information in the filename, giving e.g. `zookeeper.cpython-37m-x86_64-linux-gnu.so` instead of `zookeeper.so`.  Take this into account when setting up test runs.

  * Make sure test failures are detected

  * `async` is a keyword in Python 3.5+

Author: Damien Diederen <dd@crosstwine.com>

Reviewers: Mate Szalay-Beko <szalay.beko.mate@gmail.com>, Norbert Kalmar <nkalmar@apache.org>

Closes #1312 from ztzg/ZOOKEEPER-3790-zkpython-compilation-and-testing-issues","{""sha"": ""21221ac692405962bdda3e9ceb63186ef0f180ef"", ""author"": {""name"": ""Damien Diederen"", ""email"": ""dd@crosstwine.com"", ""date"": ""2020-04-27T08:58:25Z""}, ""committer"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@apache.org"", ""date"": ""2020-04-27T08:58:25Z""}}"
1779,SubmitCommit,2020-04-29 17:26:30,belugabehr,fork_close,"ZOOKEEPER-3678: Remove Redundant GroupID from Maven POMs

Author: David Mollitor <dmollitor@apache.org>

Reviewers: Norbert Kalmar <nkalmar@apache.org>

Closes #1206 from belugabehr/ZOOKEEPER-3678

(cherry picked from commit 1c5d135d74f16275876c024401dc2de92909b20a)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""adb0d297265d876a059ef64b10c53298e4522519"", ""author"": {""name"": ""David Mollitor"", ""email"": ""dmollitor@apache.org"", ""date"": ""2020-01-13T13:09:29Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2020-04-29T17:26:30Z""}}"
1779,SubmitCommit,2020-04-29 17:32:42,belugabehr,fork_close,"ZOOKEEPER-3679: Upgrade maven-compiler-plugin For ZooKeeper-jute

Author: David Mollitor <dmollitor@apache.org>

Reviewers: Enrico Olivelli <eolivelli@apache.org>

Closes #1207 from belugabehr/ZOOKEEPER-3679","{""sha"": ""8bd0d5e06be3d508c64c34bf2aa4423bcd8d666f"", ""author"": {""name"": ""David Mollitor"", ""email"": ""dmollitor@apache.org"", ""date"": ""2020-01-08T09:43:49Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2020-04-29T17:32:42Z""}}"
1779,SubmitCommit,2020-05-04 06:50:45,phunt,fork_close,"ZOOKEEPER-3794: upgrade netty to address CVE-2020-11612 - fixed file rename typo

I borked the rename of the netty-codec file on the original submit. This fixes by renaming the one file appropriately.

Change-Id: Ifff1e7bb49b3d0a5816ee97161a4043be7cdaaa6

Author: Patrick Hunt <phunt@apache.org>

Reviewers: Mate Szalay-Beko <symat@apache.org>

Closes #1333 from phunt/ZOOKEEPER-3794_rename

(cherry picked from commit ac4da3ebed34c536c4ea873503b0a6c036fa3910)
Signed-off-by: Mate Szalay-Beko <symat@apache.org>","{""sha"": ""5b548ff6a4a10d4ecb66ead55336ee3c76bc76fd"", ""author"": {""name"": ""Patrick Hunt"", ""email"": ""phunt@apache.org"", ""date"": ""2020-05-04T06:49:35Z""}, ""committer"": {""name"": ""Mate Szalay-Beko"", ""email"": ""symat@apache.org"", ""date"": ""2020-05-04T06:50:45Z""}}"
1779,SubmitCommit,2020-05-04 12:13:50,symat,fork_close,"ZOOKEEPER-3817: suppress log4j SmtpAppender related CVE-2020-9488

Author: Mate Szalay-Beko <symat@apache.org>

Reviewers: Enrico Olivelli <eolivelli@apache.org>

Closes #1346 from symat/ZOOKEEPER-3817

(cherry picked from commit f6b54a6cd227ac37f28803f45d7287c7fd3a8142)
Signed-off-by: Enrico Olivelli <eolivelli@apache.org>","{""sha"": ""6f23dfbbe3684092cb645d52b718c8f99902cff2"", ""author"": {""name"": ""Mate Szalay-Beko"", ""email"": ""symat@apache.org"", ""date"": ""2020-05-04T12:13:41Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-05-04T12:13:50Z""}}"
1779,SubmitCommit,2020-05-04 12:17:43,anmolnar,fork_close,"ZOOKEEPER-3813: FileChangeWatcherTest is broken on Mac

This patch will increase the FS wait timeout to give Mac OSX longer time to detect file modifications.

Author: Andor Molnar <andor@apache.org>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Christopher Tubbs, Mate Szalay-Beko

Closes #1345 from anmolnar/ZOOKEEPER-3813

(cherry picked from commit 391cb4aa6b54e19a028215e1340232a114c23ed3)
Signed-off-by: Enrico Olivelli <eolivelli@apache.org>","{""sha"": ""aa930d8757d2e300fe86a6e17e3eddbe9b276e91"", ""author"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2020-05-04T12:17:33Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-05-04T12:17:43Z""}}"
1779,SubmitCommit,2020-05-05 07:18:44,lingjinjiang,fork_close,"ZOOKEEPER-3772: JettyAdminServer should not allow Http TRACE method

A nessus scan pinged the cluster after I upgrade my zookeeper cluster, because the 8080 port of JettyAdminServer allows Http TRACE method.

Author: lingjinjiang <lingjinjiang@gmail.com>

Reviewers: Mate Szalay-Beko <symat@apache.org>, Andor Molnar <andor@apache.org>, Norbert Kalmar <nkalmar@apache.org>

Closes #1296 from lingjinjiang/master

(cherry picked from commit 44de549657a539dcedba58d56e67b8c906c89580)
Signed-off-by: Norbert Kalmar <nkalmar@apache.org>","{""sha"": ""02816bbd6b4229915954a2cfdaccc4295adca2bc"", ""author"": {""name"": ""lingjinjiang"", ""email"": ""lingjinjiang@gmail.com"", ""date"": ""2020-05-05T07:18:18Z""}, ""committer"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@apache.org"", ""date"": ""2020-05-05T07:18:44Z""}}"
1779,SubmitCommit,2020-05-12 09:43:35,asutosh936,fork_close,"ZOOKEEPER-3761: Upgrade JLine version to 2.14.6

Author: asutosh936 <asutosh.pandya@hotmail.com>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Mate Szalay-Beko <symat@apache.org>

Closes #1292 from asutosh936/ZOOKEEPER-3761

(cherry picked from commit c56506162bfde339e801743396361862cc8c5b41)
Signed-off-by: Mate Szalay-Beko <symat@apache.org>","{""sha"": ""cbfb83913bd6911f80821f680accbcfb47cdb90c"", ""author"": {""name"": ""asutosh936"", ""email"": ""asutosh.pandya@hotmail.com"", ""date"": ""2020-05-12T09:39:58Z""}, ""committer"": {""name"": ""Mate Szalay-Beko"", ""email"": ""symat@apache.org"", ""date"": ""2020-05-12T09:43:35Z""}}"
1779,SubmitCommit,2020-05-12 09:56:11,symat,fork_close,"ZOOKEEPER-3818: client SSL support for zkServer.sh status command

When the ZooKeeper cluster is started in client SSL-only mode (omitting the clientPort
from the zoo.cfg), then the current `zkServer.sh status` command fails to connect to
the server.

**This patch contains:**

- a fix for the zkServer.sh to fall-back to SSL connetion if no unsecure port is defined
- documenting the necessary system properties one needs to define in this case
- some formatting fixes in the `zookeeperTools.md` file to get proper code blocks generated

**Hints for testing:**

you can generate SSL certificate files e.g. by:
```
mkdir -p /tmp/ssl
mkdir -p /tmp/zkdata
cp ./zookeeper-client/zookeeper-client-c/ssl/gencerts.sh /tmp/ssl/
cd /tmp/ssl/
./gencerts.sh localhost
```

then you can change your zoo.cfg:
```
tickTime=3000
initLimit=10
syncLimit=5
dataDir=/tmp/zkdata

secureClientPort=22281
# clientPort=2181
serverCnxnFactory=org.apache.zookeeper.server.NettyServerCnxnFactory
ssl.keyStore.location=/tmp/ssl/server.jks
ssl.keyStore.password=password
ssl.trustStore.location=/tmp/ssl/servertrust.jks
ssl.trustStore.password=password
```

then start ZooKeeper: `./bin/zkServer.sh start-foreground`

then you can run `zkServer.sh status` like:
```
CLIENT_JVMFLAGS=""-Dzookeeper.clientCnxnSocket=org.apache.zookeeper.ClientCnxnSocketNetty -Dzookeeper.ssl.trustStore.location=/tmp/ssl/clienttrust.jks -Dzookeeper.ssl.trustStore.password=password -Dzookeeper.ssl.keyStore.location=/tmp/ssl/client.jks -Dzookeeper.ssl.keyStore.password=password -Dzookeeper.client.secure=true "" ./bin/zkServer.sh status
```

Author: Mate Szalay-Beko <symat@apache.org>

Reviewers: Aishwarya Soni <aishwarya.vsoni@gmail.com>, Norbert Kalmar <nkalmar@apache.org>

Closes #1348 from symat/ZOOKEEPER-3818

(cherry picked from commit 236e3d9183606512f0e03a1f828ad0d392eb6091)
Signed-off-by: Mate Szalay-Beko <symat@apache.org>","{""sha"": ""6cf8b02120731922b64a35ca997786314a3584ec"", ""author"": {""name"": ""Mate Szalay-Beko"", ""email"": ""symat@apache.org"", ""date"": ""2020-05-12T09:53:40Z""}, ""committer"": {""name"": ""Mate Szalay-Beko"", ""email"": ""symat@apache.org"", ""date"": ""2020-05-12T09:56:11Z""}}"
1779,SubmitCommit,2020-05-20 17:56:43,belugabehr,fork_close,"ZOOKEEPER-3834: Do Not Set Explicit Test Includes in POM

Author: David Mollitor <dmollitor@apache.org>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Norbert Kalmar <nkalmar@apache.org>

Closes #1355 from belugabehr/ZOOKEEPER-3834

(cherry picked from commit 5e88b541dcc2fd30e60bb437efa7704bbec8f6e6)
Signed-off-by: Norbert Kalmar <nkalmar@apache.org>","{""sha"": ""16ddfea7134dffab0dd4220c9ee89c7a0407cf6a"", ""author"": {""name"": ""David Mollitor"", ""email"": ""dmollitor@apache.org"", ""date"": ""2020-05-20T17:56:26Z""}, ""committer"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@apache.org"", ""date"": ""2020-05-20T17:56:43Z""}}"
1779,SubmitCommit,2020-05-21 09:22:25,nkalmar,fork_close,"ZOOKEEPER-3792: fix apidocs path

Author: Norbert Kalmar <nkalmar@apache.org>

Reviewers: Mate Szalay-Beko <symat@apache.org>

Closes #1362 from nkalmar/master

(cherry picked from commit 9e50853da2da5aa982a4b0da790f2da51575b6f1)
Signed-off-by: Norbert Kalmar <nkalmar@apache.org>","{""sha"": ""977881f61f3fb308eb2a2cc28e699f50fa7a8baa"", ""author"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@apache.org"", ""date"": ""2020-05-21T09:19:39Z""}, ""committer"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@apache.org"", ""date"": ""2020-05-21T09:22:25Z""}}"
1779,SubmitCommit,2020-05-21 12:13:46,anmolnar,fork_close,"ZOOKEEPER-3832: ZKHostnameVerifier rejects valid certificates with subjectAltNames

This issue has been reported by a user who wanted to use a cert that contains SAN entries that are not of type DNS or IP.
I've come across the following ticket in http client project which seems to be related:
https://issues.apache.org/jira/browse/HTTPCLIENT-1906

This is the backport of the fix.

Original patch: https://github.com/apache/httpcomponents-client/commit/56cc24525e5ba2a5ef8fa0de2385687e83589a71

Target versions: 3.5, 3.6, 3.7

Author: Andor Molnar <andor@apache.org>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Mate Szalay-Beko <symat@apache.org>

Closes #1353 from anmolnar/ZOOKEEPER-3832

(cherry picked from commit 5820d10d9dc58c8e12d2e25386fdf92acb360359)
Signed-off-by: Enrico Olivelli <eolivelli@apache.org>","{""sha"": ""751d63a3c03f5bc077c6d27e0566fc0aa15a9210"", ""author"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2020-05-21T12:13:32Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-05-21T12:13:46Z""}}"
1779,SubmitCommit,2020-05-29 13:00:10,symat,fork_close,"ZOOKEEPER-3829: fix rolling restart when dynamic reconfig is disabled

In four different Jira tickets (ZOOKEEPER-3829, ZOOKEEPER-3830, ZOOKEEPER-3814, ZOOKEEPER-3842) we saw different errors when dynamic reconfig was disabled and we used rolling restart to change the quorum membership configuration. These rolling restart sequences was working fine on 3.4 but caused errors in 3.5 or 3.6.

In worst case the rolling restart leads to the scenario that we had an elected leader which was up but unable to commit any changes. This happens, when the quorum is extended with a new member in the following sequence:
* start server.1, server.2, server.3 (with config: 1,2,3)
* start server.4 (with config 1,2,3,4)
* stop server.1, then restart it with config 1,2,3,4
* stop server.2, then restart it with config 1,2,3,4
* stop server.3, then restart it with config 1,2,3,4
* at this point leader is server.4, but it can not commit any transaction

An other error we saw was when we changed a host name of an existing member (removing server.5 and add a new host as server.6). In this case we found in the logs of the new server (server.6) that it is still tried to connect to the old invalid server (server.5), although it was missing from it's config. The same problem remained even after making a full rolling-restart on all the nodes.

In this patch I try to fix these issues without breaking anything. The patch contains the following changes:
* We are making sure that neither the committed, nor the last seen config gets updated if dynamic reconfig is disabled.
* It is not possible now to start the leader without the ability of committing transaction, when dynamic reconfig is disabled (this is only needed to avoid a reconfig edge-case).
* I added a testcase simulating the enablement of dynamic reconfig using rolling restart
* I added a few more unit tests to cover rolling restart scenarios. (the tests are failing without the patch but succeeding after applying it).
* The enablement / disablement of reconfig is getting initialized now in the QuorumPeer and gets propagated to the other classes. This was needed for the rolling restart tests to be able to enable/disable reconfig only for the newly created servers without affecting the servers running already in the same JVM.

I also tested the changes with docker, using: https://github.com/symat/zookeeper-docker-test

target branches: 3.5, 3.6, master

Author: Mate Szalay-Beko <symat@apache.org>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Norbert Kalmar <nkalmar@apache.org>

Closes #1356 from symat/ZOOKEEPER-3829

(cherry picked from commit e91455c1e3c50405666cd8afad71d99dceb7b340)
Signed-off-by: Norbert Kalmar <nkalmar@apache.org>","{""sha"": ""48f037fde4a1887ca4aed95919366a6bbae94260"", ""author"": {""name"": ""Mate Szalay-Beko"", ""email"": ""symat@apache.org"", ""date"": ""2020-05-29T12:59:47Z""}, ""committer"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@apache.org"", ""date"": ""2020-05-29T13:00:10Z""}}"
1779,SubmitCommit,2020-06-08 12:39:24,Jie Huang,fork_close,"ZOOKEEPER-3845: Add metric JVM_PAUSE_TIME

Author: Jie Huang <jiehuang@fb.com>

Reviewers: Michael Han <hanm@apache.org>, Andor Molnar <andor@apache.org>, Enrico Olivelli <eolivelli@apache.org>, Mate Szalay-Beko <symat@apache.org>

Closes #1365 from jhuan31/ZOOKEEPER-3845

(cherry picked from commit db99959ef338783102f8755b4d10c1443f709425)
Signed-off-by: Mate Szalay-Beko <symat@apache.org>","{""sha"": ""cf131e797c32ae11f0435ac889a490372470c2e5"", ""author"": {""name"": ""Jie Huang"", ""email"": ""jiehuang@fb.com"", ""date"": ""2020-06-08T12:33:03Z""}, ""committer"": {""name"": ""Mate Szalay-Beko"", ""email"": ""symat@apache.org"", ""date"": ""2020-06-08T12:39:24Z""}}"
1779,SubmitCommit,2020-06-08 12:45:48,Jie Huang,fork_close,"ZOOKEEPER-3856: Add a couple metrics to track inflight diff syncs and snap syncs

There are useful metrics in a cluster with a large number of observes:
INFLIGHT_SNAP_COUNT
INFLIGHT_DIFF_COUNT

Author: Jie Huang <jiehuang@fb.com>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Mate Szalay-Beko <symat@apache.org>

Closes #1374 from jhuan31/ZOOKEEPER-3856

(cherry picked from commit 501125588052827d92a90f8a56d07cbbbdad2fa7)
Signed-off-by: Mate Szalay-Beko <symat@apache.org>","{""sha"": ""352fea2964ee2784697ca690e2e40c6d980ba1eb"", ""author"": {""name"": ""Jie Huang"", ""email"": ""jiehuang@fb.com"", ""date"": ""2020-06-08T12:44:38Z""}, ""committer"": {""name"": ""Mate Szalay-Beko"", ""email"": ""symat@apache.org"", ""date"": ""2020-06-08T12:45:48Z""}}"
1779,SubmitCommit,2020-06-08 13:08:42,Jordan Zimmerman,fork_close,"ZOOKEEPER-3831: add a compatibility test module

ZooKeeper has many external libraries that are dependent on staying compatible. For example, Apache Curator. This new module will be used to add compatibility tests for any third party library, tool, etc. that we want to ensure maintains compatibility. The module is configured with Maven not to install/deploy so it's only for testing purposes. An initial test using Apache Curator is added.

Author: Jordan Zimmerman <jordan@jordanzimmerman.com>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Mate Szalay-Beko <symat@apache.org>

Closes #1369 from Randgalt/ZOOKEEPER-3831-add-compatibility-test-module

(cherry picked from commit 79a99ac97cea942967a2a08e7873a0cea9a2e046)
Signed-off-by: Mate Szalay-Beko <symat@apache.org>","{""sha"": ""4abe50c1b4b7d48a74be99e18568b4bbe926d38c"", ""author"": {""name"": ""Jordan Zimmerman"", ""email"": ""jordan@jordanzimmerman.com"", ""date"": ""2020-06-08T13:07:12Z""}, ""committer"": {""name"": ""Mate Szalay-Beko"", ""email"": ""symat@apache.org"", ""date"": ""2020-06-08T13:08:42Z""}}"
1779,SubmitCommit,2020-06-10 13:22:01,nkalmar,fork_close,"ZOOKEEPER-3831: [ADDENDUM] fix apache-rat error, add missing apache license

I think we will need to push this to both master and branch-3.6.

Author: Mate Szalay-Beko <symat@apache.org>

Reviewers: Norbert Kalmar <nkalmar@apache.org>

Closes #1376 from symat/rat-fix

(cherry picked from commit 8c9590caeaaa9079d958eb79da77321586c76236)
Signed-off-by: Norbert Kalmar <nkalmar@apache.org>","{""sha"": ""5e73d169f7a50cfdfef3bc4906741aaccd05aad9"", ""author"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@apache.org"", ""date"": ""2020-06-10T13:21:39Z""}, ""committer"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@apache.org"", ""date"": ""2020-06-10T13:22:01Z""}}"
1779,SubmitCommit,2020-06-10 15:43:49,tamaashu,fork_close,"ZOOKEEPER-3857: ZooKeeper branch-3.6 doesn't build after Curator test committed

Updated version number in two pom.xml files.

Change-Id: I71194499cac0275eb6068a9adee8920b3eeb8b11

Author: Tamas Penzes <tamaas@cloudera.com>

Reviewers: Norbert Kalmar <nkalmar@apache.org>, Mate Szalay-Beko <symat@apache.org>

Closes #1377 from tamaashu/apache-branch-3.6","{""sha"": ""8ae8d339946edcc60cdcf9e4e79616e6bfddb352"", ""author"": {""name"": ""Tamas Penzes"", ""email"": ""tamaas@cloudera.com"", ""date"": ""2020-06-10T15:43:49Z""}, ""committer"": {""name"": ""Mate Szalay-Beko"", ""email"": ""symat@apache.org"", ""date"": ""2020-06-10T15:43:49Z""}}"
1779,SubmitCommit,2020-06-19 07:55:29,symat,fork_close,"ZOOKEEPER-3865: fix backward-compatibility for ZooKeeperServer constructor

In the fix of ZOOKEEPER-3829 I accidentally changed a public constructor of ZooKeeper server. I didn’t realize Curator is using it for testing (and maybe other Apache projects are doing so as well).

In this PR I restore the original constructor for master and branch-3.6.

For branch-3.5 I will submit an other PR, that will make it compatible with e.g. Curator 4.3.

Author: Mate Szalay-Beko <symat@apache.org>

Reviewers: Enrico Olivelli <eolivelli@apache.org>

Closes #1382 from symat/ZOOKEEPER-3865

(cherry picked from commit f6c9bac7d39e790171762e522fedb7b3af66d3c7)
Signed-off-by: Enrico Olivelli <eolivelli@apache.org>","{""sha"": ""9d0e3742ad7420ab81480a70113dea457564398f"", ""author"": {""name"": ""Mate Szalay-Beko"", ""email"": ""symat@apache.org"", ""date"": ""2020-06-19T07:55:12Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-06-19T07:55:29Z""}}"
1779,SubmitCommit,2020-07-13 10:10:21,Mohammad Arshad 72626,fork_close,"ZOOKEEPER-3878: Client connection fails if IPV6 is not enclosed in square brackets

Author: Mohammad Arshad 72626 <mohammad.arshad@huawei.com>

Reviewers: Enrico Olivelli <eolivelli@apache.org>

Closes #1398 from arshadmohammad/ZOOKEEPER-3878-master

(cherry picked from commit f362313860401024b7141489e66ee76af442eb76)
Signed-off-by: Enrico Olivelli <eolivelli@apache.org>","{""sha"": ""08b30f9c375c417962fc18948735eaa3adfe605d"", ""author"": {""name"": ""Mohammad Arshad 72626"", ""email"": ""mohammad.arshad@huawei.com"", ""date"": ""2020-07-13T10:10:05Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-07-13T10:10:21Z""}}"
1779,SubmitCommit,2020-07-24 06:46:58,anmolnar,fork_close,"ZOOKEEPER-3896: Migrate Jenkins jobs to Jenkinsfile based Pipeline

As part of the new CI instance migration we wanted to take advantage of Jenkinsfile based pipelines. From now on we're able to script and source control our main Jenkins settings.

This patch only adding the Jenkinsfile itself to all major branches: master, branch-3.6 and branch-3.5. Once it's in I'll create the Jenkins job which will use it.

Currently I have a testing job based on my ZK fork: https://ci-hadoop.apache.org/view/ZooKeeper/job/zookeeper-master-maven-multipipeline/

Author: Andor Molnar <andor@apache.org>

Reviewers: Enrico Olivelli <eolivelli@apache.org>

Closes #1409 from anmolnar/ZOOKEEPER-3896

(cherry picked from commit d1c40dd130a232f8b8b68940db607f14d3667f6e)
Signed-off-by: Enrico Olivelli <eolivelli@apache.org>","{""sha"": ""b7961920db593c2f69035188a2dbf60701fb372c"", ""author"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2020-07-24T06:46:43Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-07-24T06:46:58Z""}}"
1779,SubmitCommit,2020-07-24 11:27:53,anmolnar,fork_close,"ZOOKEEPER-3896: PollSCM hourly only to let previous builds to finish

Looks like that PollSCM trigger will trigger another build on the same ref if other builds haven't completed rather than haven't started.

I change the polling interval to hourly to let other builds finish in time.

Author: Andor Molnar <andor@apache.org>

Reviewers: Enrico Olivelli <eolivelli@apache.org>

Closes #1413 from anmolnar/ZOOKEEPER-3896_2

(cherry picked from commit 5de840cdfd0396341e390470c3e03c370196ce64)
Signed-off-by: Enrico Olivelli <eolivelli@apache.org>","{""sha"": ""59cb1d18ac4720f6629b74f91991d9608bc0aa22"", ""author"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2020-07-24T11:27:39Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-07-24T11:27:53Z""}}"
1779,SubmitCommit,2020-07-27 13:47:32,anmolnar,fork_close,"ZOOKEEPER-3896: Remove badly behaving PollSCM trigger

PollSCM trigger triggers a build every time it scans the ZooKeeper repo regardless the branch pointer has been changed or not. Instead, I try to use the built-in 'Scan Multibranch Pipeline' instead which should be good for the same purpose.

Author: Andor Molnar <andor@apache.org>

Reviewers: Enrico Olivelli <eolivelli@apache.org>

Closes #1415 from anmolnar/ZOOKEEPER-3896

(cherry picked from commit 1c41e127537f66842515ccb21fb48f1670003454)
Signed-off-by: Enrico Olivelli <eolivelli@apache.org>","{""sha"": ""0535faceb39a145c5e393618d7456a80baefabfd"", ""author"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2020-07-27T13:47:20Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-07-27T13:47:32Z""}}"
1779,SubmitCommit,2020-07-28 08:30:44,Alexey.Saltanov,fork_close,"ZOOKEEPER-3112: fix fd leak due to UnresolvedAddressException on connect

SocketChannel.connect() can throw different kind of exceptions but ClientCnxnSocketNIO.connect() handles only IOException. This could lead to FD leak when socked is opened but is not connected. We should handle some additional exception classes and close the socket.

Author: Alexey.Saltanov <Alexey.Saltanov@billing.ru>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Mate Szalay-Beko <symat@apache.org>

Closes #1410 from saltos/ZOOKEEPER-3112

(cherry picked from commit 6a8728d98307f7d52cf6dbadb78149e01b1d0bf5)
Signed-off-by: Mate Szalay-Beko <symat@apache.org>","{""sha"": ""536593f4d96b329fbf0fad6c45bbcb555f3ffebe"", ""author"": {""name"": ""Alexey.Saltanov"", ""email"": ""Alexey.Saltanov@billing.ru"", ""date"": ""2020-07-28T08:29:28Z""}, ""committer"": {""name"": ""Mate Szalay-Beko"", ""email"": ""symat@apache.org"", ""date"": ""2020-07-28T08:30:44Z""}}"
1779,SubmitCommit,2020-07-29 09:37:41,anmolnar,fork_close,"ZOOKEEPER-3896: Added separate Jenkinsfile for PreCommit jobs + disable concurrent builds

Further improvements to our Jenkinsfiles.

Author: Andor Molnar <andor@apache.org>

Reviewers: Enrico Olivelli <eolivelli@apache.org>

Closes #1416 from anmolnar/ZOOKEEPER-3896

(cherry picked from commit 2898ffddb05df4e826be34ad13478e78ad6fb321)
Signed-off-by: Enrico Olivelli <eolivelli@apache.org>","{""sha"": ""c6495b6d9c59584aea699c659505c2311471db30"", ""author"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2020-07-29T09:37:21Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-07-29T09:37:41Z""}}"
1779,SubmitCommit,2020-07-29 10:31:54,arshadmohammad,fork_close,"ZOOKEEPER-3876: zkServer.sh status command fails when IPV6 is configured

Modified host and IP parsing logic for IPV6

Author: Mohammad Arshad <arshad@apache.org>

Reviewers: Enrico Olivelli <eolivelli@apache.org>

Closes #1395 from arshadmohammad/ZOOKEEPER-3876

(cherry picked from commit c9f15213663fc9b86809adcbc27a4dbe1232c31a)
Signed-off-by: Enrico Olivelli <eolivelli@apache.org>","{""sha"": ""f6b7b1b35be13a2bb35f44f58773ba87f5b40b50"", ""author"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2020-07-29T10:31:40Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-07-29T10:31:54Z""}}"
1779,SubmitCommit,2020-07-29 17:12:12,eolivelli,fork_close,"ZOOKEEPER-3895: Client side NullPointerException in case of empty Multi operation

https://issues.apache.org/jira/browse/ZOOKEEPER-3895

Author: Enrico Olivelli <eolivelli@apache.org>

Reviewers: tison <wander4096@gmail.com>, Mate Szalay-Beko <symat@apache.org>

Closes #1407 from eolivelli/fix/ZOOKEEPER-3895

(cherry picked from commit ce523e01938e26ad92d613bd28b59501e9a853df)
Signed-off-by: Mate Szalay-Beko <symat@apache.org>","{""sha"": ""3dbfdf9b4414c79362a7a1426592fd9f082d45d2"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-07-29T16:55:45Z""}, ""committer"": {""name"": ""Mate Szalay-Beko"", ""email"": ""symat@apache.org"", ""date"": ""2020-07-29T17:12:12Z""}}"
1779,SubmitCommit,2020-07-31 14:10:58,tudor,fork_close,"ZOOKEEPER-3885: add locking for watchers hashtables

See the comments in the JIRA issue.

Author: Tudor Bosman <tudor@rockset.com>

Reviewers: Mate Szalay-Beko <symat@apache.org>, Damien Diederen <dd@crosstwine.com>, Enrico Olivelli <eolivelli@apache.org>

Closes #1403 from tudor/htlocking1

(cherry picked from commit b776b2360ac282fc4eef1e86fcf185d7a6c3eae5)
Signed-off-by: Mate Szalay-Beko <symat@apache.org>","{""sha"": ""07400df7f882515c7a7979db393b586fe56efb97"", ""author"": {""name"": ""Tudor Bosman"", ""email"": ""tudor@rockset.com"", ""date"": ""2020-07-31T13:42:18Z""}, ""committer"": {""name"": ""Mate Szalay-Beko"", ""email"": ""symat@apache.org"", ""date"": ""2020-07-31T14:10:58Z""}}"
1779,SubmitCommit,2020-08-12 06:23:06,anmolnar,fork_close,"ZOOKEEPER-3905: Race condition causes sessions to be created for clients even though their certificate authentication has failed (3.6)

Backport to branch-3.6

Netty channel doesn't get closed if authentication fails after a successful SSL handshake. We need a custom authentication provider in order to trigger this, because the default implementation does the same check as for the SSL handshake. Hence it never fails.

Unit test added to make sure client is not able to connect.

Author: Andor Molnar <andor@apache.org>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Mate Szalay-Beko <symat@apache.org>, Norbert Kalmar <nkalmar@apache.org>

Closes #1427 from anmolnar/ZOOKEEPER-3905_36","{""sha"": ""8bcaf7bb3cfa6470e1660e2b36964ae2284197df"", ""author"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2020-08-12T06:23:06Z""}, ""committer"": {""name"": ""Mate Szalay-Beko"", ""email"": ""symat@apache.org"", ""date"": ""2020-08-12T06:23:06Z""}}"
1779,SubmitCommit,2020-08-14 14:47:56,anmolnar,fork_close,"ZOOKEEPER-3896: Added cleanup bits to all ZK builds

Recently I noticed some weird null pointer exception issues during compile in out new builds. I usually resolve this by a full ""git clean"" locally, so I added it to the Jenkinsfiles too.

Author: Andor Molnar <andor@apache.org>

Reviewers: Enrico Olivelli <eolivelli@apache.org>

Closes #1431 from anmolnar/ZOOKEEPER-3896","{""sha"": ""b1e0380eee0ecd7f763da318c7a1e2049495bd35"", ""author"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2020-08-14T14:44:01Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-08-14T14:47:56Z""}}"
1779,SubmitCommit,2020-08-21 15:55:01,odidev,fork_close,"ZOOKEEPER-3913: Upgrade to Netty 4.1.50.Final

- Upgrade Netty to its latest version 4.1.50.Final which includes both security fixes and AArch64 performance improvements
Refer release notes for detail: https://netty.io/news/2020/05/13/4-1-50-Final.html
- Upgraded surefire to 3.0.0-M5 due to compatibility

Author: odidev <odidev@puresoftware.com>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Mate Szalay-Beko <symat@apache.org>

Closes #1428 from odidev/netty_upgrade

(cherry picked from commit e16361d8769eea9e834fd587c3914463b1fb62ed)
Signed-off-by: Enrico Olivelli <eolivelli@apache.org>","{""sha"": ""ec272f376af86b1e24f2cd2392a03e21ceb3acd2"", ""author"": {""name"": ""odidev"", ""email"": ""odidev@puresoftware.com"", ""date"": ""2020-08-21T15:54:46Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-08-21T15:55:01Z""}}"
1779,SubmitCommit,2020-08-24 07:49:29,sankalpbhatia,fork_close,"ZOOKEEPER-3893: Enhance documentation for property ssl.clientAuth

Currently, the documentation for this property just mentions TBD (check https://zookeeper.apache.org/doc/r3.5.7/zookeeperAdmin.html). I believe this was ignored until versions 3.5.7 (https://issues.apache.org/jira/browse/ZOOKEEPER-3674) and a fix was made. It will be good to add some documentation around it.

Author: Sankalp Bhatia <sankalpbhatia92@gmail.com>
Author: Sankalp <sankal@amazon.com>

Reviewers: Christopher Tubbs <ctubbsii@apache.org>, Enrico Olivelli <eolivelli@apache.org>, Mate Szalay-Beko <symat@apache.org>

Closes #1405 from sankalpbhatia/master

(cherry picked from commit fa846cbb70c031bdc126977d453dae1812b0012a)
Signed-off-by: Mate Szalay-Beko <symat@apache.org>","{""sha"": ""b42d76cd14618e7119c0d39150407405b7e87731"", ""author"": {""name"": ""Sankalp Bhatia"", ""email"": ""sankalpbhatia92@gmail.com"", ""date"": ""2020-08-24T07:47:38Z""}, ""committer"": {""name"": ""Mate Szalay-Beko"", ""email"": ""symat@apache.org"", ""date"": ""2020-08-24T07:49:29Z""}}"
1779,SubmitCommit,2020-08-27 17:01:44,eolivelli,fork_close,"ZOOKEEPER-3801: update CI link to https://ci-hadoop.apache.org/view/ZooKeeper/

Author: Enrico Olivelli <eolivelli@apache.org>

Reviewers: Christopher Tubbs <ctubbsii@apache.org>, Mate Szalay-Beko <symat@apache.org>

Closes #1440 from eolivelli/fix/ZOOKEEPER-3801-2

(cherry picked from commit 9c3281f17be8ad899a03327ccdde612ee6ef9be1)
Signed-off-by: Mate Szalay-Beko <symat@apache.org>","{""sha"": ""3d3171475f126d91423671c58d15ff6224d455a7"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-08-27T16:57:38Z""}, ""committer"": {""name"": ""Mate Szalay-Beko"", ""email"": ""symat@apache.org"", ""date"": ""2020-08-27T17:01:44Z""}}"
1779,SubmitCommit,2020-09-03 09:39:02,eolivelli,fork_close,"ZOOKEEPER-3924: Netty and JLine Licenses are inconsistent with jars in the binary tarball in 3.6.2 rc0

- Fix license file names
- Remove legacy pom.template file (for Ant based build ?)

Author: Enrico Olivelli <eolivelli@apache.org>

Reviewers: andor@apache.org

Closes #1449 from eolivelli/fix/ZOOKEEPER-3924-netty-lic

(cherry picked from commit d33193a968d4f1ffc5047c40b7a293af04f35a47)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""cea9801bc5564fd170c7f18276b1fbbca52f81fb"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-09-03T09:38:47Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2020-09-03T09:39:02Z""}}"
1779,SubmitCommit,2020-09-04 12:24:24,eolivelli,fork_close,prepare 3.6.2 release notes,"{""sha"": ""df7900d0bc6c0200b99836ace285176cfb59824b"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-08-30T07:43:41Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-09-04T12:24:24Z""}}"
1779,SubmitCommit,2020-09-04 12:24:29,eolivelli,fork_close,Fix 3.6.2 release notes,"{""sha"": ""10358c3dc564d6e36854747122f4c67496de744b"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-08-31T14:42:08Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-09-04T12:24:29Z""}}"
1779,SubmitCommit,2020-09-04 12:24:36,eolivelli,fork_close,add item to release notes,"{""sha"": ""11984725d467d5d52670e3ca4be8e44c53aacdb0"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-09-04T12:22:36Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-09-04T12:24:36Z""}}"
1779,SubmitCommit,2020-09-09 11:22:53,eolivelli,fork_close,start ZooKeeper 3.6.3-SNAPSHOT,"{""sha"": ""7fe086b0e84766bff1e8e14fbd607e8dbc3e9766"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-09-09T11:22:53Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-09-09T11:22:53Z""}}"
1779,SubmitCommit,2020-09-14 07:10:36,paurkedal,fork_close,"ZOOKEEPER-3935: Handle float metrics in check_zookeeper

After upgrading to Zookeeper 3.6, Nagios tests for zk_avg_latency started failing due to floating point metrics being compared as strings.

Author: Petter A. Urkedal <paurkedal@gmail.com>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Mate Szalay-Beko <symat@apache.org>

Closes #1452 from paurkedal/check_zookeeper-float

(cherry picked from commit efe83baeaa6715c32383a383f33f70522c1b7614)
Signed-off-by: Mate Szalay-Beko <symat@apache.org>","{""sha"": ""0edb15297868e15da8e2b9d6269fe3ea6738c314"", ""author"": {""name"": ""Petter A. Urkedal"", ""email"": ""paurkedal@gmail.com"", ""date"": ""2020-09-14T07:09:01Z""}, ""committer"": {""name"": ""Mate Szalay-Beko"", ""email"": ""symat@apache.org"", ""date"": ""2020-09-14T07:10:36Z""}}"
1779,SubmitCommit,2020-09-17 05:37:24,surnaik,fork_close,"ZOOKEEPER-3931: zkServer.sh version"" returns a trailing dash

Problem:
The VersionInfoMain.java file generated by VerGen.java, which gets used by `bin/zkServer.sh version` print a trailing '-' when version qualifier is an empty string.

Fix:
Added a check to see if Qualifier is empty in the VerGen.java file

Test:
Tested manually by running the `bin/zkServer.sh version`
Before the change:
Apache ZooKeeper, version **3.6.2-** 09/13/2020 18:51 GMT
After the change:
Apache ZooKeeper, version **3.6.2** 09/13/2020 18:56 GMT

Author: Suraj Naik <suraj.naikxp@gmail.com>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Mohammad Arshad <arshad@apache.org>

Closes #1456 from surajj-naik/patch-1","{""sha"": ""54030ce63295145e92420952bf17cf83da371788"", ""author"": {""name"": ""Suraj Naik"", ""email"": ""suraj.naikxp@gmail.com"", ""date"": ""2020-09-17T05:37:24Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-09-17T05:37:24Z""}}"
1779,SubmitCommit,2020-10-06 10:40:46,tamaashu,fork_close,"ZOOKEEPER-3952: Remove commons-lang from ZooKeeper

Removed commons-lang from main project, replaced functionality with standard Java code.

Author: Tamas Penzes <tamaas@cloudera.com>

Reviewers: Christopher Tubbs <ctubbsii@apache.org>, Enrico Olivelli <eolivelli@apache.org>, Mate Szalay-Beko <symat@apache.org>, tison <wander4096@gmail.com>

Closes #1478 from tamaashu/ZOOKEEPER-3952

(cherry picked from commit d3282c62ddb30a8ce265dcebca0e106c51f07ca3)
Signed-off-by: Mate Szalay-Beko <symat@apache.org>","{""sha"": ""82f43bf85b1341ab0b5f3ffeb830c7fc7aefb64f"", ""author"": {""name"": ""Tamas Penzes"", ""email"": ""tamaas@cloudera.com"", ""date"": ""2020-10-06T10:39:37Z""}, ""committer"": {""name"": ""Mate Szalay-Beko"", ""email"": ""symat@apache.org"", ""date"": ""2020-10-06T10:40:46Z""}}"
1779,SubmitCommit,2020-10-06 12:03:33,symat,fork_close,"ZOOKEEPER-3950: Add support for BCFKS key/trust store format

This PR is the same as #1480 on the master branch, only the unit tests needed to be changed back from junit5 to junit4.

The BCFKS key store format is widely used in the industry, as it provides an open source alternative if someone has to use FIPS compliant key stores due to some regulatory constraints.

Currently in the ZooKeeper java client, only PEM, JKS and PEM12 is supported. I extend the list of supported key store formats with BCFKS.

I also tested this patch on a real FIPS compliant cluster, having the appropriate java security configs, security providers and also running a RedHat-based Linux distro (Centos 7.8) with FIPS mode enabled.

I tested both the client and the quorum SSL too. If someone wants to test this patch, and the keystore/truststore file names are not ending with "".bckfs"", then (beside the usual SSL configs) make sure to also set the following parameters in the zoo.cfg:
```
ssl.keyStore.type=bcfks
ssl.trustStore.type=bcfks
ssl.quorum.keyStore.type=bcfks
ssl.quorum.trustStore.type=bcfks
```

and also provide the following parameters for the command line java client:
```
 -Dzookeeper.ssl.keyStore.type=bcfks -Dzookeeper.ssl.trustStore.type=bcfks
```

This patch doesn't contain any modification for the c-client (that can be handled with a separate Jira, but I don't plan to work on that part right now).

Author: Mate Szalay-Beko <symat@apache.org>

Reviewers: Norbert Kalmar <nkalmar@apache.org>

Closes #1482 from symat/zookeeper-3950-branch-3.6","{""sha"": ""6642ac605ba7cb007b04ce64eea94eb757cf76e7"", ""author"": {""name"": ""Mate Szalay-Beko"", ""email"": ""symat@apache.org"", ""date"": ""2020-10-06T12:03:33Z""}, ""committer"": {""name"": ""Mate Szalay-Beko"", ""email"": ""symat@apache.org"", ""date"": ""2020-10-06T12:03:33Z""}}"
1779,SubmitCommit,2020-10-07 14:19:08,anmolnar,fork_close,"ZOOKEEPER-3957: Created initial version of owasp-check Jenkinsfile

Running the dependency check and collecting dependency-check-* files as artifacts.
Build that is validating the patch:
https://ci-hadoop.apache.org/view/ZooKeeper/job/zookeeper-multi-branch-owasp/job/ZOOKEEPER-3957/

Author: Andor Molnar <andor@apache.org>

Reviewers: Enrico Olivelli <eolivelli@apache.org>

Closes #1483 from anmolnar/ZOOKEEPER-3957","{""sha"": ""6e89a4da65cae2e5009c99223f41a4f61a417666"", ""author"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2020-10-06T15:51:15Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2020-10-07T14:19:08Z""}}"
1779,SubmitCommit,2020-10-09 13:09:01,symat,fork_close,"ZOOKEEPER-3960: Update Programmers Guide about key file format parameters

The Programmer's guide doesn't contain the parameters needed to be changed in order to specify keystore and truststore file formats for the Java Clients.
see: https://zookeeper.apache.org/doc/r3.6.2/zookeeperProgrammers.html#sc_java_client_configuration

Author: Mate Szalay-Beko <symat@apache.org>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Norbert Kalmar <nkalmar@apache.org>

Closes #1488 from symat/zookeeper-3960

(cherry picked from commit c4169b6f64b8a8668f2037adcf71148752d3066d)
Signed-off-by: Mate Szalay-Beko <symat@apache.org>","{""sha"": ""0806d80dbf94be13c783c11df470be4695786b4e"", ""author"": {""name"": ""Mate Szalay-Beko"", ""email"": ""symat@apache.org"", ""date"": ""2020-10-09T13:07:15Z""}, ""committer"": {""name"": ""Mate Szalay-Beko"", ""email"": ""symat@apache.org"", ""date"": ""2020-10-09T13:09:01Z""}}"
1779,SubmitCommit,2020-10-12 07:28:35,symat,fork_close,"ZOOKEEPER-3808: fix the documentation about digest.enabled

The digest.enabled is true by default, not false (as the admin guide suggested before)

The digest feature was added to detect the data inconsistency inside ZooKeeper when
loading database from disk, catching up and following leader.

This fix is needed on master and branch-3.6. (the feature was not available in 3.5)

Author: Mate Szalay-Beko <symat@apache.org>

Reviewers: Enrico Olivelli <eolivelli@apache.org>

Closes #1496 from symat/ZOOKEEPER-3808

(cherry picked from commit 06405a8e67b2e86347f3b68b72cb9bfba0cd2b2a)
Signed-off-by: Mate Szalay-Beko <symat@apache.org>","{""sha"": ""4f6c88fef1b7b37ad9fb8c116ac7f0a518bec5c4"", ""author"": {""name"": ""Mate Szalay-Beko"", ""email"": ""symat@apache.org"", ""date"": ""2020-10-12T07:27:25Z""}, ""committer"": {""name"": ""Mate Szalay-Beko"", ""email"": ""symat@apache.org"", ""date"": ""2020-10-12T07:28:35Z""}}"
1779,SubmitCommit,2020-10-12 08:53:01,ztzg,fork_close,"ZOOKEEPER-3954: C client: GCC 10 compilation fixes

The most important change in this PR avoids a confusing and scary compilation issue [encountered by Michael Hudson-Doyle](https://issues.apache.org/jira/browse/ZOOKEEPER-3954) when building the C client with GCC 10 and ""aggressive"" optimization settings:

> `free_auth_completions` is being inlined into `free_completions`, and this lets gcc see that members of `a_list` are being accessed without initialization

This is (fortunately!) a red herring: what GCC doesn't see is that, in practice, `zoo_lock_auth` always returns zero, and that `a_list` is always initialized in the conditional block which follows it.

That issue is easily ""fixed"" by removing the `if`.  The rest of the client code doesn't check `zoo_lock_auth`'s return value--and we have bigger issues if unconditional locks start failing anyway.

The remaining changes get rid of a couple of innocuous warnings, to that the client can successfully build even when configured with `-Werror`.

See also https://github.com/apache/zookeeper/pull/1481.

Author: Damien Diederen <dd@crosstwine.com>

Reviewers: Mate Szalay-Beko <symat@apache.org>

Closes #1486 from ztzg/ZOOKEEPER-3954-gcc10-compilation-fixes-3.6","{""sha"": ""1a1e7b0a3a8f3dbbf782877258d5a390c20b3949"", ""author"": {""name"": ""Damien Diederen"", ""email"": ""dd@crosstwine.com"", ""date"": ""2020-10-12T08:53:01Z""}, ""committer"": {""name"": ""Mate Szalay-Beko"", ""email"": ""symat@apache.org"", ""date"": ""2020-10-12T08:53:01Z""}}"
1779,SubmitCommit,2020-10-12 10:59:26,championquizzer,fork_close,"ZOOKEEPER-3955: added a shebang or a 'shell' directive to lastRevision.sh

1. Added the shebang
2. Added $(...) notation instead of legacy backticked `...`
3. Added double quote to prevent globbing and word splitting

Author: championquizzer <joydeep09@gmail.com>

Reviewers: eolivelli@apache.org, andor@apache.org

Closes #1472 from championquizzer/newbranch

(cherry picked from commit fae62f521a5cf36e2d35f5646aa34d2ed3ae3415)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""7cc7c12bc6bf374fc2eb9bec085591e2f9014e38"", ""author"": {""name"": ""championquizzer"", ""email"": ""joydeep09@gmail.com"", ""date"": ""2020-10-12T10:59:11Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2020-10-12T10:59:26Z""}}"
1779,SubmitCommit,2020-10-20 14:21:45,eolivelli,fork_close,"ZOOKEEPER-3980: Fix Jenkinsfiles with new tool names

Author: Enrico Olivelli <eolivelli@apache.org>

Reviewers: andor@apache.org

Closes #1510 from eolivelli/fix/ZOOKEEPER-3980 and squashes the following commits:

15beb5713 [Enrico Olivelli] fix java
5d8418f5c [Enrico Olivelli] ZOOKEEPER-3980 Fix Jenkinsfiles with new tool names

(cherry picked from commit eeb1ceb6f82b67b8b46d5ff9481908f7ec943f19)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""0783a9c5d7c91d0a204a97159cb72e9007de504b"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2020-10-20T14:21:30Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2020-10-20T14:21:45Z""}}"
1779,SubmitCommit,2020-10-22 07:52:27,ctubbsii,fork_close,"ZOOKEEPER-3983: Avoid mocking unix domain sockets

This fixes issues with the C client tests, causing them to hang if
certain nameservices are in use (such as SSS), which use UNIX domain
sockets for getting the `getlogin()` and `getpwuid_r()`

This change makes the mocking of sockets less aggressive, since the
tests do not need to mock `AF_UNIX` socket types.

Author: Christopher Tubbs <ctubbsii@apache.org>

Reviewers: Damien Diederen <dd@crosstwine.com>, Enrico Olivelli <eolivelli@apache.org>, Mate Szalay-Beko <symat@apache.org>

Closes #1514 from ctubbsii/ZOOKEEPER-3983-no-mock-unix-sockets

(cherry picked from commit ffcea5b291c5a26fd8dff66a9752b80f559394e1)
Signed-off-by: Mate Szalay-Beko <symat@apache.org>","{""sha"": ""bd1c7b64b26cb49410e026d0e6a72b8650238bee"", ""author"": {""name"": ""Christopher Tubbs"", ""email"": ""ctubbsii@apache.org"", ""date"": ""2020-10-22T07:50:53Z""}, ""committer"": {""name"": ""Mate Szalay-Beko"", ""email"": ""symat@apache.org"", ""date"": ""2020-10-22T07:52:27Z""}}"
1779,SubmitCommit,2020-10-24 13:28:07,hanm,fork_close,"ZOOKEEPER-3981: Flaky test MultipleAddressTest::testGetValidAddressWithNotValid

Problem:

Test MultipleAddressTest::testGetValidAddressWithNotValid might fail deterministically when the address it's using, 10.0.0.1, is reachable, as per https://tools.ietf.org/html/rfc5735 10.0.0.1 might be allocatable to private network usage. In fact, the router address of my ISP is assigned this IP, leading to this test always failing for me.

Solution:

Replace the address with 240.0.0.0, which is reserved for future use and less likely to be reachable.

Author: Michael Han <michael@lianghan.org>
Author: Michael Han <hanm@apache.org>

Reviewers: Christopher Tubbs <ctubbsii@apache.org>, Mate Szalay-Beko <symat@apache.org>

Closes #1511 from hanm/fixut

(cherry picked from commit 3ff30a6427fdc2f13e60ff530800eca55ff02c9a)
Signed-off-by: Mate Szalay-Beko <symat@apache.org>","{""sha"": ""79a91b95341bf417f3237d33846db19b39831712"", ""author"": {""name"": ""Michael Han"", ""email"": ""hanm@apache.org"", ""date"": ""2020-10-24T13:18:10Z""}, ""committer"": {""name"": ""Mate Szalay-Beko"", ""email"": ""symat@apache.org"", ""date"": ""2020-10-24T13:28:07Z""}}"
1779,SubmitCommit,2020-10-25 14:56:41,symat,fork_close,"ZOOKEEPER-3950: [ADDENDUM] fix checksyle error on branch-3.6

when I cherry-picked ZOOKEEPER-3950 to branch-3.6, I had to change the unit test (from junit 5 to junit 4). I left a checkstyle error in the test code, so checkstyle fails now on branch-3.6. This trivial commit fixes that.

Author: Mate Szalay-Beko <symat@apache.org>

Reviewers: Enrico Olivelli <eolivelli@apache.org>

Closes #1516 from symat/ZOOKEEPER-3950-branch-3.6","{""sha"": ""d13e28b0c45e4f96b2e61bd363d0e4379faabea4"", ""author"": {""name"": ""Mate Szalay-Beko"", ""email"": ""symat@apache.org"", ""date"": ""2020-10-25T14:56:41Z""}, ""committer"": {""name"": ""Mate Szalay-Beko"", ""email"": ""symat@apache.org"", ""date"": ""2020-10-25T14:56:41Z""}}"
1779,SubmitCommit,2020-11-12 15:03:56,hanm,fork_close,"ZOOKEEPER-3911: Data inconsistency caused by DIFF sync uncommitted log

Problem:

During DIFF sync, followers will persist the proposals from leader only after receiving the UPTODATE message. Leader will start serve client requests once receive a quorum of NEWLEADER ACK from followers, and NEWLEADER ACKs are sent from followers before receiving UPTODATE. So it's possible that when leader starting serving, followers might not persistent all of the DIFF sync proposals from leader. If at a certain point in time (e.g. once receiving UPTODATE from leader) all quorum servers crash, then these proposals, where leader they are quorum committed, will lost if the old leader can't come back and the followers form a new quorum. The end result is inconsistent view of the data from client before / after quorum recovers.

Solution:

Make sure follower to persist all DIFF proposals before they ACK NEWLEADER. When leader receives a quorum of NEWLEADER ACK, it's guaranteed that all DIFF sync proposals are quorum persistent and can survive after the recovery.

Author: Michael Han <hanm@apache.org>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Norbert Kalmar <nkalmar@apache.org>

Closes #1445 from hanm/ZOOKEEPER-3911

(cherry picked from commit b978dfb949e4ac4d703e956c6ef811415c831bcd)
Signed-off-by: Norbert Kalmar <nkalmar@apache.org>","{""sha"": ""9b2b72abc5d9be866337972b1cd45790cdad792e"", ""author"": {""name"": ""Michael Han"", ""email"": ""hanm@apache.org"", ""date"": ""2020-11-12T15:03:25Z""}, ""committer"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@apache.org"", ""date"": ""2020-11-12T15:03:56Z""}}"
1779,SubmitCommit,2020-11-16 07:43:21,lvisterin,fork_close,"ZOOKEEPER-3991: Refresh InetSocketAddress before binding quorum server socket

Setting `electionPortBindRetry` to 0 (as recommended by the documentation for the setup we are using) results in this code being called in a loop.

The desired behaviour is that in case of a bad DNS reply the server socket creation will fail and keep retrying until the hostname resolves. The current behaviour is that it keeps throwing unresolved address errors even though the DNS entry became correct.

For more details and reproduction steps see the Jira issue at https://issues.apache.org/jira/browse/ZOOKEEPER-3991

Please note that the contents of this PR are different from the patch I initially attached to the issue.

Author: Lander Visterin <lander.visterin@klarrio.com>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Mate Szalay-Beko <symat@apache.org>

Closes #1524 from lvisterin/ZOOKEEPER-3991

(cherry picked from commit 58e0a7741533ec3598c619c526208f8a90f5756c)
Signed-off-by: Mate Szalay-Beko <symat@apache.org>","{""sha"": ""7655bb83990753c30f564dedba79cd545e442740"", ""author"": {""name"": ""Lander Visterin"", ""email"": ""lander.visterin@klarrio.com"", ""date"": ""2020-11-16T07:41:58Z""}, ""committer"": {""name"": ""Mate Szalay-Beko"", ""email"": ""symat@apache.org"", ""date"": ""2020-11-16T07:43:21Z""}}"
1779,SubmitCommit,2020-11-18 08:19:32,p-malik,fork_close,"ZOOKEEPER-3978: Adding additional security metrics to zookeeper

The changes include adding 3 metrics for security for zookeeper for better monitoring

Monitoring all authN and AuthZ errors
Monitoring all local non mtls local connections counts
Monitoring all remote non mtls connection counts.

Author: Pooja Malik <pmalik@salesforce.com>
Author: p-malik <73135174+p-malik@users.noreply.github.com>

Reviewers: karanmehta93 <karanmehta93@apache.org>, Enrico Olivelli <eolivelli@apache.org>, Michael Han <hanm@apache.org>, Damien Diederen <ddiederen@apache.org>

Closes #1513 from p-malik/ZOOKEEPER-3978","{""sha"": ""00071dd3532f47c16e0973cc5af03cccec7ba9ab"", ""author"": {""name"": ""Pooja Malik"", ""email"": ""pmalik@salesforce.com"", ""date"": ""2020-11-18T08:19:32Z""}, ""committer"": {""name"": ""Damien Diederen"", ""email"": ""ddiederen@apache.org"", ""date"": ""2020-11-18T08:19:32Z""}}"
1779,SubmitCommit,2020-11-22 03:44:22,huizhilu,fork_close,"ZOOKEEPER-4011: Fix build failure due to jUnit 5 usage in DIFFSyncConsistencyTest

### Description
Resolves [ZOOKEEPER-4011](https://issues.apache.org/jira/browse/ZOOKEEPER-4011)

maven build fails on branch-3.6 because a back ported commit from the branch master uses jUnit 5.

### Solution
As discussed in https://github.com/apache/zookeeper/pull/1445, since cherry-picking jUnit 5 upgrades has conflicts, and there won't be too many back ports to 3.6 afterwards, we can just fix the issue by using jUnit 4 in the test.

Author: Huizhi Lu <hulu@linkedin.com>

Reviewers: hanm, tamaashu, maoling

Closes #1545 from pkuwm/fix-build-branch-3.6","{""sha"": ""96f65c8bb5217a514f24f52ebca5ca147b7d8337"", ""author"": {""name"": ""Huizhi Lu"", ""email"": ""hulu@linkedin.com"", ""date"": ""2020-11-22T03:44:22Z""}, ""committer"": {""name"": ""Michael Han"", ""email"": ""hanm@apache.org"", ""date"": ""2020-11-22T03:44:22Z""}}"
1779,SubmitCommit,2020-11-23 11:51:15,Matteo Minardi,fork_close,"ZOOKEEPER-3992: addWatch api should check the null watch

This is the backport pull request for https://github.com/apache/zookeeper/pull/1529

Main issue [ZOOKEEPER-3992](https://issues.apache.org/jira/projects/ZOOKEEPER/issues/ZOOKEEPER-3992?filter=allissues)

Author: Matteo Minardi <matteo.minardi@diennea.com>

Reviewers: Damien Diederen <ddiederen@apache.org>

Closes #1531 from mino181295/fix/ZOOKEEPER-3992/addwatch-check-null-3.6","{""sha"": ""6169a67451b7057b05baf50e5223c06b53284e63"", ""author"": {""name"": ""Matteo Minardi"", ""email"": ""matteo.minardi@diennea.com"", ""date"": ""2020-11-23T11:51:15Z""}, ""committer"": {""name"": ""Damien Diederen"", ""email"": ""ddiederen@apache.org"", ""date"": ""2020-11-23T11:51:15Z""}}"
1779,SubmitCommit,2020-11-24 14:57:42,anmolnar,fork_close,"ZOOKEEPER-4017: Owasp check failing - Jetty 9.4.32 - CVE-2020-27216

Author: Andor Molnar <andor@apache.org>

Reviewers: Mate Szalay-Beko <symat@apache.org>, Enrico Olivelli <eolivelli@apache.org>, Norbert Kalmar <nkalmar@apache.org>

Closes #1549 from anmolnar/ZOOKEEPER-4017

(cherry picked from commit ef1f12fbe8865aaa675adf8f844487e71e1b6a77)
Signed-off-by: Norbert Kalmar <nkalmar@apache.org>","{""sha"": ""d5ef4e562d44553e1b1a874569097a0d85c171cd"", ""author"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2020-11-24T14:37:33Z""}, ""committer"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@apache.org"", ""date"": ""2020-11-24T14:57:42Z""}}"
1779,SubmitCommit,2020-12-24 14:40:18,ztzg,fork_close,"ZOOKEEPER-4023: dependency-check:check failing - Jetty 9.4.34.v20201102 - CVE-2020-27218

Bump jetty.version to 9.4.35.v20201120.

The [release notes](https://github.com/eclipse/jetty.project/releases/tag/jetty-9.4.35.v20201120)
mention [issues 5605](https://github.com/eclipse/jetty.project/issues/5605):

> java.io.IOException: unconsumed input during http request parsing

which seems to match the description of
[CVE-2020-27218](http://cve.circl.lu/cve/CVE-2020-27218)

Author: Damien Diederen <dd@crosstwine.com>

Reviewers: Enrico Olivelli <eolivelli@apache.org>

Closes #1553 from ztzg/jetty-upgrade-CVE-2020-27218-branch-3.6","{""sha"": ""8f6e13a8bf3c27f11a49071cd6b158baacd677cb"", ""author"": {""name"": ""Damien Diederen"", ""email"": ""ddiederen@apache.org"", ""date"": ""2020-12-24T14:40:18Z""}, ""committer"": {""name"": ""Damien Diederen"", ""email"": ""ddiederen@apache.org"", ""date"": ""2020-12-24T14:40:18Z""}}"
1779,SubmitCommit,2021-01-05 15:29:11,belugabehr,fork_close,"ZOOKEEPER-3671: Use ThreadLocalConcurrent to Replace Random and Math.…

…random

Author: David Mollitor <dmollitor@apache.org>

Reviewers: Andor Molnar <andor@apache.org>, Norbert Kalmar <nkalmar@apache.org>

Closes #1199 from belugabehr/ZOOKEEPER-3671

(cherry picked from commit 0a6b055356128483ad4166ca8cd5eff26f66fefb)
Signed-off-by: Norbert Kalmar <nkalmar@apache.org>","{""sha"": ""fa63a2bbf4caffe60c444e74c1646346da73cc68"", ""author"": {""name"": ""David Mollitor"", ""email"": ""dmollitor@apache.org"", ""date"": ""2021-01-05T15:27:46Z""}, ""committer"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@apache.org"", ""date"": ""2021-01-05T15:29:11Z""}}"
1779,SubmitCommit,2021-01-06 18:52:40,Edwin Hobor,fork_close,"ZOOKEEPER-4045: CVE-2020-25649 - Upgrade jackson databind to 2.10.5.1

Jackson reported a vulnerability under CVE-2020-25649. Upgrading to 2.10.5.1 will resolve the problem. See https://github.com/FasterXML/jackson/wiki/Jackson-Release-2.10#micro-patches for more details.

Author: Edwin Hobor <edwin.hobor@microfocus.com>

Reviewers: Mate Szalay-Beko <symat@apache.org>, Norbert Kalmar <nkalmar@apache.org>

Closes #1572 from edwin092/ZOOKEEPER-4045

(cherry picked from commit 676d10b2fad97c69e4083619cb1db223ed1896a4)
Signed-off-by: Norbert Kalmar <nkalmar@apache.org>","{""sha"": ""ae606bf09c158c35c1748aeac811796b469f3cf1"", ""author"": {""name"": ""Edwin Hobor"", ""email"": ""edwin.hobor@microfocus.com"", ""date"": ""2021-01-06T18:50:08Z""}, ""committer"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@apache.org"", ""date"": ""2021-01-06T18:52:40Z""}}"
1779,SubmitCommit,2021-01-10 18:52:40,okumin,fork_close,"ZOOKEEPER-4055: Dockerfile can't build Zookeeper C client library

https://issues.apache.org/jira/browse/ZOOKEEPER-4055

This PR would fix the build by installing `pkg-config` and enabling `PKG_CHECK_MODULES`.
https://github.com/apache/zookeeper/blob/4e82a8be889d91dde46a11b38c8a20e82f3220f2/zookeeper-client/zookeeper-client-c/acinclude.m4#L314-L327

Another approach is to use a maven image with old Debian but it's less reasonable for me.

Author: okumin <git@okumin.com>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Damien Diederen <ddiederen@apache.org>

Closes #1575 from okumin/ZOOKEEPER-4055

(cherry picked from commit eeb053767c9e931ae72a2d8c59c0940da3da9679)
Signed-off-by: Damien Diederen <ddiederen@apache.org>","{""sha"": ""4e1c6d50238dff87fce2bfc00ec3ef25c85d5a44"", ""author"": {""name"": ""okumin"", ""email"": ""git@okumin.com"", ""date"": ""2021-01-10T18:50:44Z""}, ""committer"": {""name"": ""Damien Diederen"", ""email"": ""ddiederen@apache.org"", ""date"": ""2021-01-10T18:52:40Z""}}"
1779,SubmitCommit,2021-01-11 11:02:31,ztzg,fork_close,"ZOOKEEPER-4056: Update copyright notices from 2020 to 2021

See ZOOKEEPER-3745 for previous iteration.

Author: Damien Diederen <dd@crosstwine.com>

Reviewers: Enrico Olivelli <eolivelli@apache.org>

Closes #1577 from ztzg/ZOOKEEPER-4056-copyright-2021

(cherry picked from commit b995c559e6a567deaeb5b87c136aaa97d574d8de)
Signed-off-by: Enrico Olivelli <eolivelli@datastax.com>","{""sha"": ""2acfc733949b3a01255edcce672d6f4335901026"", ""author"": {""name"": ""Damien Diederen"", ""email"": ""dd@crosstwine.com"", ""date"": ""2021-01-11T11:02:19Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@datastax.com"", ""date"": ""2021-01-11T11:02:31Z""}}"
1779,SubmitCommit,2021-02-09 15:31:28,anmolnar,fork_close,"ZOOKEEPER-4207: Remove extra checkout from Jenkinsfile

I believe we don't need to add the git checkout to the ""Steps"" section. I cannot see it neither in owasp nor the PR jenkinsfiles. Also I see that master branch gets also checked out during our normal builds, so I hope this will fix it.

Target branches: master, branch-3.7, branch-3.6, branch-3.5

Author: Andor Molnar <andor@apache.org>

Reviewers: Enrico Olivelli <eolivelli@apache.org>

Closes #1600 from anmolnar/ZOOKEEPER-4207

(cherry picked from commit 8c68933226595b839ba3694dacd39cd2b2a21878)
Signed-off-by: Enrico Olivelli <eolivelli@datastax.com>","{""sha"": ""8b4be143d654c0034c6f4d58da05d9ec72757db1"", ""author"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2021-02-09T15:30:54Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@datastax.com"", ""date"": ""2021-02-09T15:31:28Z""}}"
1779,SubmitCommit,2021-02-17 17:29:04,frederiko,fork_close,"ZOOKEEPER-4209: Update Netty to 4.1.59.Final

Update Netty to 4.1.59.Final on to address the vulnerability described at https://snyk.io/vuln/SNYK-JAVA-IONETTY-1020439

Author: Frederiko Costa <frederiko@gmail.com>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Damien Diederen <ddiederen@apache.org>

Closes #1605 from frederiko/netty-4.1.59-update

(cherry picked from commit 884fc38db166617e03d03f793ef917febcc131be)
Signed-off-by: Damien Diederen <ddiederen@apache.org>","{""sha"": ""2a475fe5571b400df4a4d44d49e7db15fef26cac"", ""author"": {""name"": ""Frederiko Costa"", ""email"": ""frederiko@gmail.com"", ""date"": ""2021-02-17T17:22:40Z""}, ""committer"": {""name"": ""Damien Diederen"", ""email"": ""ddiederen@apache.org"", ""date"": ""2021-02-17T17:29:04Z""}}"
1779,SubmitCommit,2021-02-25 12:05:16,arshadmohammad,fork_close,"ZOOKEEPER-2307: ZooKeeper not starting because acceptedEpoch is less than the currentEpoch

Update acceptedEpoch and currentEpoch in file first then in memory.

Author: Mohammad Arshad <arshadapache.org>

Reviewers: andorapache.org

Closes #1145 from arshadmohammad/ZOOKEEPER-2307-epochUpdate and squashes the following commits:

b05bc1f1c [Mohammad Arshad] review comment fix
c8d620f39 [Mohammad Arshad] ZOOKEEPER-2307:ZooKeeper not starting because acceptedEpoch is less than the currentEpoch

(cherry picked from commit 19d85670a3c87565bc63a5f84169e4c6c72e2915)

Author: Mohammad Arshad <arshad@apache.org>

Reviewers: Andor Molnar <andor@apache.org>, Norbert Kalmar <nkalmar@apache.org>

Closes #1613 from symat/ZOOKEEPER-4222","{""sha"": ""3a7c945e80690fb9ce0e95f9b09dfc0fbc0312f3"", ""author"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2021-02-25T12:05:16Z""}, ""committer"": {""name"": ""Mate Szalay-Beko"", ""email"": ""symat@apache.org"", ""date"": ""2021-02-25T12:05:16Z""}}"
1779,SubmitCommit,2021-03-02 06:09:42,arshadmohammad,fork_close,"ZOOKEEPER-3877: JMX Bean RemotePeerBean should enclose IPV6 host in square bracket same as LocalPeerBean

…quare bracket same as LocalPeerBean

Author: Mohammad Arshad <arshad@apache.org>

Reviewers: Enrico Olivelli <eolivelli@apache.org>

Closes #1493 from arshadmohammad/ZOOKEEPER-3877-master

(cherry picked from commit 425ee189dcf952fd7a2a38df375ec245dcdfbfc6)
Signed-off-by: Mohammad Arshad <arshad@apache.org>","{""sha"": ""a51b222de42fd0d0591dd8eda39a9045324a11fc"", ""author"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2021-03-02T06:07:47Z""}, ""committer"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2021-03-02T06:09:42Z""}}"
1779,SubmitCommit,2021-03-08 15:39:38,ztzg,fork_close,"ZOOKEEPER-4233: dependency-check:check failing - Jetty 9.4.35.v20201120 - CVE-2020-27223

The OWASP checker reports that the version of Jetty currently
referenced by this branch is vulnerable to a CVE:

    [ERROR] Failed to execute goal org.owasp:dependency-check-maven:5.3.0:check (default-cli) on project zookeeper:
    [ERROR]
    [ERROR] One or more dependencies were identified with vulnerabilities that have a CVSS score greater than or equal to '0.0':
    [ERROR]
    [ERROR] jetty-server-9.4.35.v20201120.jar: CVE-2020-27223
    [ERROR] jetty-http-9.4.35.v20201120.jar: CVE-2020-27223

https://nvd.nist.gov/vuln/detail/CVE-2020-27223 describes it as:

> In Eclipse Jetty 9.4.6.v20170531 to 9.4.36.v20210114 (inclusive),
> 10.0.0, and 11.0.0 when Jetty handles a request containing multiple
> Accept headers with a large number of ""quality"" (i.e. q) parameters,
> the server may enter a denial of service (DoS) state due to high CPU
> usage processing those quality values, resulting in minutes of CPU
> time exhausted processing those quality values.

This changeset bumps Jetty to 9.4.38.v20210224, which is the latest
as of the commit date.

Author: Damien Diederen <dd@crosstwine.com>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Mohammad Arshad <arshad@apache.org>

Closes #1624 from ztzg/ZOOKEEPER-4023-jetty-CVE-2020-27223-x-3.6","{""sha"": ""c78d926cc94de0710a8a7f07dd1f7f1138a3e8cc"", ""author"": {""name"": ""Damien Diederen"", ""email"": ""dd@crosstwine.com"", ""date"": ""2021-03-08T15:39:38Z""}, ""committer"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2021-03-08T15:39:38Z""}}"
1779,SubmitCommit,2021-03-09 07:06:35,MuktiKrishnan,fork_close,"ZOOKEEPER-4223: Backport ZOOKEEPER-3706 to branch-3.6

Author: Mukti <muktikrishnan94@gmail.com>

Reviewers: Mohammad Arshad <arshad@apache.org>

Closes #1617 from MuktiKrishnan/ZOOKEEPER-4223","{""sha"": ""d46689e5861516b92605bcb911f7ffce9ad6fba4"", ""author"": {""name"": ""Mukti Krishnan"", ""email"": ""muktikrishnan94@gmail.com"", ""date"": ""2021-03-09T07:06:35Z""}, ""committer"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2021-03-09T07:06:35Z""}}"
1779,SubmitCommit,2021-03-09 11:17:36,MuktiKrishnan,fork_close,"ZOOKEEPER-4224: Backport ZOOKEEPER-3891 to branch-3.6

Author: Mukti <muktikrishnan94@gmail.com>

Reviewers: Mohammad Arshad <arshad@apache.org>

Closes #1618 from MuktiKrishnan/ZOOKEEPER-4224","{""sha"": ""8d0a6d64ae348016c4864ff49bb83281d618d8a5"", ""author"": {""name"": ""Mukti Krishnan"", ""email"": ""muktikrishnan94@gmail.com"", ""date"": ""2021-03-09T11:17:36Z""}, ""committer"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2021-03-09T11:17:36Z""}}"
1779,SubmitCommit,2021-03-09 14:29:50,ztzg,fork_close,"ZOOKEEPER-4232: InvalidSnapshotTest corrupts its own test data

`InvalidSnapshotTest.testSnapshot` starts an instance of
`ZooKeeperServer` on the version-controlled `resources/data/invalidsnap`
directory, which, as a side-effect, \""fixes\"" the following
snapshot—which was broken on purpose (see ZOOKEEPER-367):

`zookeeper-server/src/test/resources/data/invalidsnap/version-2/snapshot.83f`

This status quo creates a number of problems:

1.  It makes the test ineffective after the first run;
2.  The file shows as modified in version control tools, which can be
    annoying;
3.  The \""fixed\"" snapshot can end up being committed by mistake,
    invalidating the test.

(\#3 is not theoretical; that \""fixed\"" snapshot frequently shows up in
pull requests, and was recently merged into `master`.)

Author: Damien Diederen <dd@crosstwine.com>

Reviewers: Mohammad Arshad <arshad@apache.org>

Closes #1628 from ztzg/ZOOKEEPER-4232-invalid-snapshot-is-invalid-x-3.6 and squashes the following commits:

508d6a393 [Damien Diederen] ZOOKEEPER-4232: Ensure that ZOOKEEPER-367 test data fails to parse
a8ce9e511 [Damien Diederen] ZOOKEEPER-4232: Run InvalidSnapshotTest on a copy of test data","{""sha"": ""af43cde41971693b2a2db2837655a6c6b10fabbc"", ""author"": {""name"": ""Damien Diederen"", ""email"": ""dd@crosstwine.com"", ""date"": ""2021-03-09T14:29:50Z""}, ""committer"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2021-03-09T14:29:50Z""}}"
1779,SubmitCommit,2021-03-09 16:16:52,MuktiKrishnan,fork_close,"ZOOKEEPER-4225: Backport ZOOKEEPER-3642 to branch-3.6

Author: Mukti <muktikrishnan94@gmail.com>

Reviewers: Mohammad Arshad <arshad@apache.org>

Closes #1619 from MuktiKrishnan/ZOOKEEPER-4225 and squashes the following commits:

cb7a9868f [Mukti] ZOOKEEPER-1871: Corrected argument order of assert statement
51a489f2d [Mukti] ZOOKEEPER-4225: Backport ZOOKEEPER-3642 to branch-3.6","{""sha"": ""a53cfeb26e1e1b9b6b1e29fe7bd9f0277b8fff9a"", ""author"": {""name"": ""Mukti Krishnan"", ""email"": ""muktikrishnan94@gmail.com"", ""date"": ""2021-03-09T16:16:52Z""}, ""committer"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2021-03-09T16:16:52Z""}}"
1779,SubmitCommit,2021-03-09 17:05:54,symat,fork_close,"ZOOKEEPER-4220: Potential redundant connection attempts during leader election

We have a logic in the server code, that would try to connect to an other quorum member, based
on its server ID. We identify the address assigned to this ID first based on the last committed
quorum configuration. If the connection attempt fails (or the server is not known in the
committed configuration) then we try to find the address based on the last proposed quorum
configuration. But we should do the second connection attempt, only if the address in the
last proposed configuration differs from the address in the last committed configuration.
Otherwise we would just retry to connect to the same address that failed just right before.

In the current code we have a bug, because we compare the address object references (use ""!="")
instead of comparing the objects themselves (using ""not equals""). In certain edge cases (e.g.
when the last proposed and last committed addresses are the same, but the address is unreachable)
this bug can lead to unnecessary retry of connection attempts. The normal behaviour would be to
mark this connection attempt to be failed and wait for e.g. the next election round or wait for
the other server to come online and initiate a connection to us.

Author: Mate Szalay-Beko <symat@apache.org>

Reviewers: Andor Molnar <andor@apache.org>, Damien Diederen <dd@crosstwine.com>

Closes #1630 from symat/ZOOKEEPER-4220-branch-3.6","{""sha"": ""9f39c33cc352be24ab8402d510aadc72849d650e"", ""author"": {""name"": ""Mate Szalay-Beko"", ""email"": ""symat@apache.org"", ""date"": ""2021-03-09T17:05:54Z""}, ""committer"": {""name"": ""Mate Szalay-Beko"", ""email"": ""symat@apache.org"", ""date"": ""2021-03-09T17:05:54Z""}}"
1779,SubmitCommit,2021-03-10 16:12:47,arshadmohammad,fork_close,"ZOOKEEPER-4227: X509AuthFailureTest is failing consistently

Author: Mohammad Arshad <arshad@apache.org>

Reviewers: Enrico Olivelli <eolivelli@apache.org>

Closes #1636 from arshadmohammad/ZOOKEEPER-4227-branch-3.6","{""sha"": ""732a3d3d8f0338a787a91fa4b1975c63e56d48a4"", ""author"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2021-03-10T16:12:47Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@datastax.com"", ""date"": ""2021-03-10T16:12:47Z""}}"
1779,SubmitCommit,2021-03-11 05:08:39,MuktiKrishnan,fork_close,"ZOOKEEPER-4230: Use dynamic temp folder instead of static temp folder in RestMain

Author: Mukti <muktikrishnan94@gmail.com>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Mohammad Arshad <arshad@apache.org>

Closes #1633 from MuktiKrishnan/ZOOKEEPER-4230-master

(cherry picked from commit 04471b2e117a0cbe08c42b0482f0adca93494e7c)
Signed-off-by: Mohammad Arshad <arshad@apache.org>","{""sha"": ""cf306c07182e642bdbeb26b2a4e90fdda8f8dd5e"", ""author"": {""name"": ""Mukti Krishnan"", ""email"": ""muktikrishnan94@gmail.com"", ""date"": ""2021-03-11T05:06:48Z""}, ""committer"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2021-03-11T05:08:39Z""}}"
1779,SubmitCommit,2021-03-15 14:13:43,MuktiKrishnan,fork_close,"ZOOKEEPER-1871: Add an option to zkCli to wait for connection before executing commands

-waitforconnection option will make zk client wait for -timeout time to connect to zk server. timeout time is 30ms by default but can be specified explicitly for a session using -timeout option in command line.

Author: Mukti <muktikrishnan94@gmail.com>

Reviewers: Mohammad Arshad <arshad@apache.org>

Closes #1639 from MuktiKrishnan/ZOOKEEPER-1871-branch-3.6","{""sha"": ""579aa3417273ed13a0679344a96538bacb8d2eaf"", ""author"": {""name"": ""Mukti Krishnan"", ""email"": ""muktikrishnan94@gmail.com"", ""date"": ""2021-03-15T14:13:43Z""}, ""committer"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2021-03-15T14:13:43Z""}}"
1779,SubmitCommit,2021-03-17 08:33:51,amichair,fork_close,"ZOOKEEPER-4205: Change X509AuthFailureTest to use dynamically assigned free port

…d free port

Author: Amichai Rothman <amichai@apache.org>

Reviewers: Damien Diederen <dd@crosstwine.com>,Andor Molnar <andor@apache.org>,Christopher Tubbs <ctubbsii@apache.org>,Mohammad Arshad <arshad@apache.org>

Closes #1599 from amichair/ZOOKEEPER-4205

(cherry picked from commit c74658d398cdc1d207aa296cb6e20de00faec03e)
Signed-off-by: Mohammad Arshad <arshad@apache.org>","{""sha"": ""545b223bc512eb03106b7b48f79fe1dfdeaa05ba"", ""author"": {""name"": ""Amichai Rothman"", ""email"": ""amichai@apache.org"", ""date"": ""2021-03-17T08:32:13Z""}, ""committer"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2021-03-17T08:33:51Z""}}"
1779,SubmitCommit,2021-03-25 10:19:36,arshadmohammad,fork_close,"ZOOKEEPER-4251: Flaky test: org.apache.zookeeper.test.WatcherTest

Moved ReconfigTest in test suites in the last to avoid the ReconfigTest test impacts on other test classes

Author: Mohammad Arshad <arshad@apache.org>

Reviewers: Enrico Olivelli <eolivelli@apache.org>

Closes #1647 from arshadmohammad/ZOOKEEPER-4251-branch-3.6","{""sha"": ""8625c363aa23ac0c14447ce6291bea17bda3293f"", ""author"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2021-03-25T10:19:36Z""}, ""committer"": {""name"": ""Damien Diederen"", ""email"": ""ddiederen@apache.org"", ""date"": ""2021-03-25T10:19:36Z""}}"
1779,SubmitCommit,2021-03-25 10:45:19,nkalmar,fork_close,"ZOOKEEPER-4259: Allow AdminServer to force https

Initial commit to allow adminServer to only serve HTTPS requests

Author: Norbert Kalmar <nkalmar@apache.org>

Reviewers: Mate Szalay-Beko <symat@apache.org>, Enrico Olivelli <eolivelli@apache.org>

Closes #1652 from nkalmar/ZOOKEEPER-2512","{""sha"": ""13e02c5731df6785fba16c71b0f47177a5c40376"", ""author"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@apache.org"", ""date"": ""2021-03-25T09:48:24Z""}, ""committer"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@apache.org"", ""date"": ""2021-03-25T10:45:19Z""}}"
1779,SubmitCommit,2021-03-27 17:12:26,arshadmohammad,fork_close,"ZOOKEEPER-3887: In SSL-only server zkServer.sh status command should use secureClientPortAddress instead of clientPortAddress

Author: Mohammad Arshad <arshad@apache.org>

Reviewers: Mate Szalay-Beko <symat@apache.org>

Closes #1654 from arshadmohammad/ZOOKEEPER-3887-master

(cherry picked from commit 51be692523b65afc21cfb0edaa4a5e60ab996aa2)
Signed-off-by: Mohammad Arshad <arshad@apache.org>","{""sha"": ""4946c582fa002803075bf32d0c2fec638c8f9a45"", ""author"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2021-03-27T17:11:02Z""}, ""committer"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2021-03-27T17:12:26Z""}}"
1779,SubmitCommit,2021-03-27 18:02:53,brentwritescode,fork_close,"ZOOKEEPER-4194: ZooInspector throws NullPointerExceptions to console when node data is null
This is a very minor fix to a NullPointerException present in the ZooInspector utility which prevents a NullPointerException getting thrown when ZooInspector inspects an empty node.

Author: brentwritescode <brentwritescode@gmail.com>

Reviewers: Damien Diederen <dd@crosstwine.com>, Mohammad Arshad <arshad@apache.org>

Closes #1601 from brentwritescode/ZOOKEEPER-4194

(cherry picked from commit 4edbbea5566925390b32702a97c17f7a76e32de5)
Signed-off-by: Mohammad Arshad <arshad@apache.org>","{""sha"": ""e19926a51c5d30ea8f034c5d1a377ff0ac53ad9c"", ""author"": {""name"": ""brentwritescode"", ""email"": ""brentwritescode@gmail.com"", ""date"": ""2021-03-27T18:00:11Z""}, ""committer"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2021-03-27T18:02:53Z""}}"
1779,SubmitCommit,2021-03-28 04:26:18,arshadmohammad,fork_close,"ZOOKEEPER-3128: Get CLI Command displays Authentication error for Authorization error

Author: Mohammad Arshad <arshad@apache.org>

Reviewers: Enrico Olivelli <eolivelli@apache.org>

Closes #1656 from arshadmohammad/ZOOKEEPER-3128-branch-3.6","{""sha"": ""62f2e2f0ea1ee78282e7fc51f97dc781614a4a27"", ""author"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2021-03-28T04:26:18Z""}, ""committer"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2021-03-28T04:26:18Z""}}"
1779,SubmitCommit,2021-03-28 05:12:13,abhilash1in,fork_close,"ZOOKEEPER-4231: Add documentation about snapshot compression.

This PR adds documentation about ZooKeeper's snapshot compression feature (see ZOOKEEPER-3179) to `branch-3.6`.

Author: Abhilash Kishore <abkishore@linkedin.com>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Mohammad Arshad <arshad@apache.org>

Closes #1641 from abhilash1in/ZOOKEEPER-4231-branch-3.6","{""sha"": ""da2f001db612568cde170ecaad98da8cd2da68d7"", ""author"": {""name"": ""Abhilash Kishore"", ""email"": ""abkishore@linkedin.com"", ""date"": ""2021-03-28T05:12:13Z""}, ""committer"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2021-03-28T05:12:13Z""}}"
1779,SubmitCommit,2021-03-29 16:18:56,functioner,fork_close,"ZOOKEEPER-4260: Backport ZOOKEEPER-3575 to branch-3.6

(cherry picked from commit 7c1251dbcf6a314466024f71ae5757bde34bb3fd)

Author: functioner <oierwhz@gmail.com>
Author: Ayush Mantri <aayushmantri@gmail.com>
Author: Jie Huang <jiehuang@fb.com>

Reviewers: Mohammad Arshad <arshad@apache.org>

Closes #1653 from functioner/ZOOKEEPER-4260 and squashes the following commits:

0a19eb18d [functioner] remove useless import
5d827decd [Ayush Mantri] cherry-pick ZOOKEEPER-4257 and fix conflicts
469d971d6 [functioner] Merge branch 'branch-3.6' of https://github.com/apache/zookeeper into ZOOKEEPER-4260
e6cb76734 [Jie Huang] ZOOKEEPER-3575: Moving sending packets in Learner to a separate thread","{""sha"": ""992abc8ce224183ef3d9e01909644f4cb489a9fc"", ""author"": {""name"": ""functioner"", ""email"": ""oierwhz@gmail.com"", ""date"": ""2021-03-29T16:18:56Z""}, ""committer"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2021-03-29T16:18:56Z""}}"
1779,SubmitCommit,2021-03-30 11:29:19,arshadmohammad,fork_close,"ZOOKEEPER-4270: Flaky test: QuorumPeerMainTest#testLeaderOutOfView

The test case is expecting node3 to be leader but node2 sometimes becomes leader. This happens because leader election completes between node1 and node2 which is valid.
Changed the expectations when node2 is leader otherwise kept the same expectations

Author: Mohammad Arshad <arshad@apache.org>

Reviewers: Enrico Olivelli <eolivelli@apache.org>

Closes #1665 from arshadmohammad/ZOOKEEPER-4270-branch-3.6","{""sha"": ""72facc3b54ddcaedc4693c01fb74474f26f262cb"", ""author"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2021-03-30T11:29:19Z""}, ""committer"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2021-03-30T11:29:19Z""}}"
1779,SubmitCommit,2021-03-30 11:38:55,arshadmohammad,fork_close,"ZOOKEEPER-4267: Fix check-style issues

Formatted CertificatesToPlayWith to fix check-style issue :(whitespace) OperatorWrap: '+' should be on a new line
Formatted one line in QuorumPeerMainTest to fix check-style issue: (whitespace) ParenPad: '(' is followed by whitespace

Author: Mohammad Arshad <arshad@apache.org>

Reviewers: Enrico Olivelli <eolivelli@apache.org>

Closes #1663 from arshadmohammad/ZOOKEEPER-4267-branch-3.6","{""sha"": ""fc9294888f6a0e504f00b0899d8090a57891b5f5"", ""author"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2021-03-30T11:38:55Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@datastax.com"", ""date"": ""2021-03-30T11:38:55Z""}}"
1779,SubmitCommit,2021-03-31 13:36:44,ayushmantri,fork_close,"ZOOKEEPER-4272: Upgrade Netty library to > 4.1.60 due to security vulnerability CVE-2021-21295

Upgraded Netty library to  4.1.60

Author: Ayush Mantri <aayushmantri@gmail.com>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Mohammad Arshad <arshad@apache.org>

Closes #1670 from ayushmantri/ZK-4272","{""sha"": ""744baabef4724f5f02f6bb0628249a642a4fb80a"", ""author"": {""name"": ""Ayush Mantri"", ""email"": ""aayushmantri@gmail.com"", ""date"": ""2021-03-31T13:36:44Z""}, ""committer"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2021-03-31T13:36:44Z""}}"
1779,SubmitCommit,2021-03-31 21:24:37,arshadmohammad,fork_close,"ZOOKEEPER-4269: acceptedEpoch.tmp rename failure will cause server startup error

Using accepted epoch from acceptedEpoch.tmp if it is available

Author: Mohammad Arshad <arshad@apache.org>

Reviewers: Enrico Olivelli <eolivelli@apache.org>,Damien Diederen <dd@crosstwine.com>

Closes #1668 from arshadmohammad/ZOOKEEPER-4269-branch-3.6","{""sha"": ""54e563bfe13508fc3707d45e47d37e0c201f19ed"", ""author"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2021-03-31T21:24:37Z""}, ""committer"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2021-03-31T21:24:37Z""}}"
1779,SubmitCommit,2021-04-01 08:05:02,arshadmohammad,fork_close,ZooKeeper 3.6.3 Release Notes,"{""sha"": ""6ef17e64fb8c43393d6a08c906b83907b20314b7"", ""author"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2021-04-01T08:03:06Z""}, ""committer"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2021-04-01T08:05:02Z""}}"
1779,SubmitCommit,2021-04-04 07:20:55,arshadmohammad,fork_close,Updated ZooKeeper 3.6.3 Release Notes,"{""sha"": ""ad0546ccc20f15efa5877b3674ab93a4c9bb9fff"", ""author"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2021-04-04T07:19:26Z""}, ""committer"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2021-04-04T07:20:55Z""}}"
1779,SubmitCommit,2021-04-04 10:09:45,arshadmohammad,fork_close,Corrected ZooKeeper 3.6.3 Release Notes,"{""sha"": ""8c3779d854c5fa9f13309c37bf21ee0ce2593ffd"", ""author"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2021-04-04T09:10:51Z""}, ""committer"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2021-04-04T10:09:45Z""}}"
1779,SubmitCommit,2021-04-07 18:15:19,arshadmohammad,fork_close,Updated ZooKeeper 3.6.3 Release Notes,"{""sha"": ""744c8be840ad38966d2b55a195ecdc04cdfe2705"", ""author"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2021-04-07T18:13:50Z""}, ""committer"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2021-04-07T18:15:19Z""}}"
1779,SubmitCommit,2021-04-07 18:26:23,nkalmar,fork_close,"ZOOKEEPER-4277: update jetty to 9.4.39 due to CVE-2021-28165

Author: Norbert Kalmar <nkalmar@apache.org>

Reviewers: Mohammad Arshad <arshad@apache.org>

Closes #1675 from nkalmar/master

(cherry picked from commit b08b6bb2ea7259face0df881dcbc9f5061a35d1e)
Signed-off-by: Mohammad Arshad <arshad@apache.org>","{""sha"": ""72eb3f43583435aa4c73ff87ebec9b70b2db2041"", ""author"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@apache.org"", ""date"": ""2021-04-07T17:40:01Z""}, ""committer"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2021-04-07T18:26:23Z""}}"
1779,SubmitCommit,2021-04-08 16:05:42,ayushmantri,fork_close,"ZOOKEEPER-4278: dependency-check:check failing - netty-transport-4.1.60.Final CVE-2021-21409

Upgraded Netty library to 4.1.63.Final

Author: Ayush Mantri <aayushmantri@gmail.com>

Reviewers: Mohammad Arshad <arshad@apache.org>

Closes #1678 from ayushmantri/ZOOKEEPER-4278

(cherry picked from commit 925b5b28a0aa9e7749da9672de92eab5b95578f0)
Signed-off-by: Mohammad Arshad <arshad@apache.org>","{""sha"": ""45165bb4284a9570b83f3d964b3437ec844ff61d"", ""author"": {""name"": ""Ayush Mantri"", ""email"": ""aayushmantri@gmail.com"", ""date"": ""2021-04-08T14:19:08Z""}, ""committer"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2021-04-08T16:05:42Z""}}"
1779,SubmitCommit,2021-04-08 16:06:09,arshadmohammad,fork_close,Updated ZooKeeper 3.6.3 Release Notes,"{""sha"": ""1c74b312dd2e95e8d8c61e1bc3b15183b97f9709"", ""author"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2021-04-08T16:03:08Z""}, ""committer"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2021-04-08T16:06:09Z""}}"
1779,SubmitCommit,2021-04-08 16:27:50,arshadmohammad,fork_close,Prepared 3.6.3,"{""sha"": ""6401e4ad2087061bc6b9f80dec2d69f2e3c8660a"", ""author"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2021-04-08T16:27:50Z""}, ""committer"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2021-04-08T16:27:50Z""}}"
1779,SubmitCommit,2021-11-22 18:15:23,Dipesh Dutta,fork_close,Fix ZOOKEEPER-4393 issue,"{""sha"": ""de4995bb8363ee6946a8dbd4c6b880d4fc3ba5da"", ""author"": {""name"": ""Dipesh Dutta"", ""email"": ""dipesh.dutta@oracle.com"", ""date"": ""2021-11-22T18:15:23Z""}, ""committer"": {""name"": ""Dipesh Dutta"", ""email"": ""dipesh.dutta@oracle.com"", ""date"": ""2021-11-22T18:15:23Z""}}"
1779,OpenPR,2021-11-22 18:21:13,edipesh19,fork_close,,
1779,ReviewComment,2021-11-22 18:40:03,sonatype-lift[bot],fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1779#pullrequestreview-812896230""}"
1779,ReviewComment,2021-11-22 18:40:10,sonatype-lift[bot],fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1779#pullrequestreview-812896335""}"
1779,ReviewComment,2021-11-22 18:40:13,sonatype-lift[bot],fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1779#pullrequestreview-812896366""}"
1779,ReviewComment,2021-11-22 18:40:17,sonatype-lift[bot],fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1779#pullrequestreview-812896426""}"
1779,ClosePR,2021-11-22 18:48:06,edipesh19,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5656044679"", ""commit_url"": null}"
1781,OpenPR,2021-11-25 07:35:44,Shoothzj,fork_close,,
1781,IssueComment,2021-12-02 14:34:03,Shoothzj,fork_close,@maoling PTAL,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/984682937"", ""author_association"": ""MEMBER""}"
1781,ReviewApproved,2021-12-02 16:12:32,ctubbsii,fork_close,"This is fine, but it really doesn't matter. It's a completely arbitrary identifier for the task. The only time execution IDs matter is when overriding the execution's configuration in a child POM. That situation doesn't apply here. It does not matter.","{""author_association"": ""MEMBER"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1781#pullrequestreview-821719113""}"
1781,IssueComment,2021-12-07 11:15:39,maoling,fork_close,@eolivelli  PTAL:),"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/987827470"", ""author_association"": ""MEMBER""}"
1781,ReviewRejected,2021-12-07 12:05:26,eolivelli,fork_close,"I am not sure that this patch adds much value.

Can you please take a deeper look and see if there are other typos in the pom files?

BTW thanks for sharing your fix","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1781#pullrequestreview-825184779""}"
1781,Revise,2021-12-24 01:54:01,Shoothzj,fork_close,fix-typo-in-zookeeper-server-pom,"{""sha"": ""fd69f67700b5b65696271a29e65c1b10cfb3509f"", ""author"": {""name"": ""Shoothzj"", ""email"": ""shoothzj@gmail.com"", ""date"": ""2021-12-24T01:54:01Z""}, ""committer"": {""name"": ""Shoothzj"", ""email"": ""shoothzj@gmail.com"", ""date"": ""2021-12-24T01:54:01Z""}}"
1781,IssueComment,2021-12-24 01:59:38,Shoothzj,fork_close,@eolivelli I have taken a deeper look at all pom files. Just found an `any more` typo.,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1000606871"", ""author_association"": ""MEMBER""}"
1781,ReviewApproved,2021-12-24 07:19:00,eolivelli,fork_close,"+1

thank you for double checking","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1781#pullrequestreview-839779611""}"
1781,ClosePR,2021-12-24 10:09:36,Shoothzj,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5813242595"", ""commit_url"": null}"
1781,ReopenPR,2021-12-24 10:09:39,Shoothzj,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5813242698"", ""commit_url"": null}"
1781,IssueComment,2021-12-24 14:48:38,Shoothzj,fork_close,@maoling PTAL,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1000864848"", ""author_association"": ""MEMBER""}"
1781,ReviewApproved,2022-02-08 02:54:49,maoling,fork_close,,"{""author_association"": ""MEMBER"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1781#pullrequestreview-875467934""}"
1781,IssueComment,2022-02-08 02:56:26,maoling,fork_close,"If no other concerns, I'll merge it at this weekend(02-13)","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1032160535"", ""author_association"": ""MEMBER""}"
1781,ReviewApproved,2022-02-08 07:54:18,eolivelli,fork_close,,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1781#pullrequestreview-875629911""}"
1781,ClosePR,2022-02-17 09:32:03,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6088774121"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/bce2bf42361163a2c026fb0d629edc22f2fb1c73""}"
1781,IssueCommentSupplement,2022-02-17 09:33:02,maoling,fork_close,"@Shoothzj 
Thanks for your contribution.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1042746306"", ""author_association"": ""MEMBER""}"
1781,Referenced,2023-01-13 15:21:47,anurag-harness,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/8221815012"", ""commit_url"": ""https://api.github.com/repos/anurag-harness/zookeeper/commits/9fb72d70c0eb0eeb2ee5939cc8ac4648d86f10b6""}"
1781,CrossReferenced,2023-01-13 15:21:47,anurag-harness,fork_close,Fix typo in ZooKeeper Server Pom,"{""reference"": {""url"": ""https://api.github.com/repos/anurag-harness/zookeeper/issues/5"", ""is_pull_request"": true}}"
1781,Referenced,2023-01-13 15:36:31,anurag-harness,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/8221950373"", ""commit_url"": ""https://api.github.com/repos/anurag-harness/zookeeper/commits/64a84c398f2d941688aba7bf5edad12be9c21849""}"
1783,SubmitCommit,2021-12-10 07:42:09,srdo,fork_close,ZOOKEEPER-4421 : Backport ZOOKEEPER-3781 for branch-3.5,"{""sha"": ""f26b299c8c8770caa25d1928c08f230a1f4b7067"", ""author"": {""name"": ""Stig Rohde D\u00f8ssing"", ""email"": ""stig@humio.com"", ""date"": ""2021-03-06T19:38:43Z""}, ""committer"": {""name"": ""Ananya Singh"", ""email"": ""purpul90@gmail.com"", ""date"": ""2021-12-10T07:42:09Z""}}"
1783,OpenPR,2021-12-10 09:52:43,AnanyaSingh2121,fork_close,,
1783,IssueCommentSupplement,2022-05-16 19:18:09,symat,fork_close,I fixed this build error and cherry-picked both ZOOKEEPER-3392 and ZOOKEEPER-3781 to branch-3.5.,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1128043933"", ""author_association"": ""CONTRIBUTOR""}"
1783,ClosePR,2022-05-16 19:18:09,symat,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6618772187"", ""commit_url"": null}"
1786,SubmitCommit,2021-12-20 23:46:32,frederiko,fork_close,ZOOKEEPER-4429: Update jackson-databind to 2.13.1,"{""sha"": ""22c61dd9f251e2da54ed71bac9ff73b8a72df307"", ""author"": {""name"": ""Frederiko Costa"", ""email"": ""frederiko@gmail.com"", ""date"": ""2021-12-20T23:46:32Z""}, ""committer"": {""name"": ""Frederiko Costa"", ""email"": ""frederiko@gmail.com"", ""date"": ""2021-12-20T23:46:32Z""}}"
1786,OpenPR,2021-12-20 23:52:04,frederiko,fork_close,,
1786,ReviewApproved,2022-01-17 07:42:29,eolivelli,fork_close,lgtm,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1786#pullrequestreview-853973064""}"
1786,Referenced,2022-01-22 06:51:21,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5936094107"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/f1084cde2f977dd7dace7f77662b19ab494405b3""}"
1786,IssueCommentSupplement,2022-01-22 06:53:02,maoling,fork_close,"@frederiko 
Thanks for your contribution.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1019078339"", ""author_association"": ""MEMBER""}"
1786,ClosePR,2022-01-22 06:53:02,maoling,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5936095654"", ""commit_url"": null}"
1787,OpenPR,2021-12-20 23:58:53,frederiko,fork_close,,
1787,ReviewRejected,2022-01-17 07:43:23,eolivelli,fork_close,"I left one comment, please take a look","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1787#pullrequestreview-853973522""}"
1787,ReviewRequested,2022-01-20 23:51:56,frederiko,fork_close,,"{""requested_reviewer"": {""login"": ""eolivelli"", ""id"": 9469110, ""node_id"": ""MDQ6VXNlcjk0NjkxMTA="", ""avatar_url"": ""https://avatars.githubusercontent.com/u/9469110?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/eolivelli"", ""html_url"": ""https://github.com/eolivelli"", ""followers_url"": ""https://api.github.com/users/eolivelli/followers"", ""following_url"": ""https://api.github.com/users/eolivelli/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/eolivelli/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/eolivelli/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/eolivelli/subscriptions"", ""organizations_url"": ""https://api.github.com/users/eolivelli/orgs"", ""repos_url"": ""https://api.github.com/users/eolivelli/repos"", ""events_url"": ""https://api.github.com/users/eolivelli/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/eolivelli/received_events"", ""type"": ""User"", ""site_admin"": false}, ""requested_team"": null}"
1787,ClosePR,2022-01-22 07:01:40,maoling,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5936103728"", ""commit_url"": null}"
1787,ReopenPR,2022-01-22 07:01:46,maoling,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5936103824"", ""commit_url"": null}"
1787,IssueComment,2022-01-22 07:54:27,maoling,fork_close,"@frederiko  The latest code has a checkstyle violation,  we don't need that line before `import java.io.IOException`.
`mvn checkstyle:check` to check this","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1019087900"", ""author_association"": ""MEMBER""}"
1787,IssueComment,2022-01-22 16:52:44,frederiko,fork_close,@maoling Sure. Will take a look.,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1019307888"", ""author_association"": ""CONTRIBUTOR""}"
1787,Revise,2022-01-22 18:35:46,frederiko,fork_close,ZOOKEEPER-4429: Update jackson-databind to 2.13.1,"{""sha"": ""cfc7f0d9f35d44cb53b1326b057b75851c485377"", ""author"": {""name"": ""Frederiko Costa"", ""email"": ""frederiko@gmail.com"", ""date"": ""2021-12-20T23:57:29Z""}, ""committer"": {""name"": ""Frederiko Costa"", ""email"": ""frederiko@gmail.com"", ""date"": ""2022-01-22T18:35:46Z""}}"
1787,Referenced,2022-01-24 03:52:14,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5939464252"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/353bd5554a263b41b37863ed7c74b353aa52049f""}"
1787,IssueComment,2022-01-24 03:52:56,maoling,fork_close,"@frederiko 
Thanks for your contribution.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1019690050"", ""author_association"": ""MEMBER""}"
1787,ClosePR,2022-01-24 03:53:02,maoling,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5939465934"", ""commit_url"": null}"
1788,SubmitCommit,2021-12-21 20:48:27,frederiko,fork_close,ZOOKEEPER-4429: Update jackson-databind to 2.13.1,"{""sha"": ""e44f3f777ac1c9c62bbeba1f460c1f8251e584c9"", ""author"": {""name"": ""Frederiko Costa"", ""email"": ""frederiko@gmail.com"", ""date"": ""2021-12-21T20:48:27Z""}, ""committer"": {""name"": ""Frederiko Costa"", ""email"": ""frederiko@gmail.com"", ""date"": ""2021-12-21T20:48:27Z""}}"
1788,OpenPR,2021-12-21 20:50:11,frederiko,fork_close,,
1788,IssueComment,2021-12-24 10:30:08,maoling,fork_close,@frederiko  LGTM. I check this PR was applied to master is also OK. Please fix the master branch firstly next time.,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1000777153"", ""author_association"": ""MEMBER""}"
1788,IssueComment,2022-01-11 08:01:03,maoling,fork_close,@eolivelli PTAL,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1009687023"", ""author_association"": ""MEMBER""}"
1788,ReviewApproved,2022-01-17 07:43:48,eolivelli,fork_close,lgtm,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1788#pullrequestreview-853973958""}"
1788,CrossReferenced,2022-01-17 07:47:13,eolivelli,fork_close,ZOOKEEPER-4437: Bump Jackson version from 2.10.5.1 to 2.13.1,"{""reference"": {""url"": ""https://api.github.com/repos/apache/zookeeper/issues/1794"", ""is_pull_request"": true}}"
1788,ReviewApproved,2022-01-17 08:17:19,Shoothzj,fork_close,,"{""author_association"": ""MEMBER"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1788#pullrequestreview-854001781""}"
1788,IssueComment,2022-01-17 09:42:20,maoling,fork_close,"If no other concerns, I'll merge it at this weekend(01-22).","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1014324567"", ""author_association"": ""MEMBER""}"
1788,Referenced,2022-01-22 06:27:56,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5936072388"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/13b09990ecd42de9565512b0047f5ebb46868986""}"
1788,IssueCommentSupplement,2022-01-22 06:40:51,maoling,fork_close,"@frederiko 
Thanks for your contribution.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1019076664"", ""author_association"": ""MEMBER""}"
1788,ClosePR,2022-01-22 06:40:51,maoling,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5936084473"", ""commit_url"": null}"
1790,SubmitCommit,2021-12-30 06:59:40,AnanyaSingh2121,fork_close,ZOOKEEPER-4433,"{""sha"": ""64e4eea003f40d0918bc2f9024a20228d5284eeb"", ""author"": {""name"": ""Ananya Singh"", ""email"": ""purpul90@gmail.com"", ""date"": ""2021-12-30T06:59:40Z""}, ""committer"": {""name"": ""Ananya Singh"", ""email"": ""purpul90@gmail.com"", ""date"": ""2021-12-30T06:59:40Z""}}"
1790,OpenPR,2021-12-30 07:04:36,AnanyaSingh2121,fork_close,,
1790,IssueComment,2021-12-30 07:49:28,AnanyaSingh2121,fork_close,"@nkalmar , @eolivelli  could you please take a look at this.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1002910720"", ""author_association"": ""CONTRIBUTOR""}"
1790,IssueComment,2021-12-30 16:53:41,brahmareddybattula,fork_close,@AnanyaSingh2121  Changes lgtm . +1 (non-binding). @lvfangmin can you check once as you committed to master.,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1003106733"", ""author_association"": ""CONTRIBUTOR""}"
1790,IssueComment,2022-01-12 10:08:15,nkalmar,fork_close,"LGTM, also contains ZOOKEEPER-3595 fix, +1","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1010873440"", ""author_association"": ""CONTRIBUTOR""}"
1790,ReviewApproved,2022-02-08 15:36:35,arshadmohammad,fork_close,LGTM +1,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1790#pullrequestreview-876223054""}"
1790,Referenced,2022-02-08 15:50:06,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6027891232"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/6f6757b2680af60bd8dd752d81480e71cb458def""}"
1790,ClosePR,2022-02-08 15:54:16,arshadmohammad,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6027923003"", ""commit_url"": null}"
1791,OpenPR,2022-01-03 10:41:33,AnanyaSingh2121,fork_close,,
1791,ClosePR,2022-01-03 11:34:18,AnanyaSingh2121,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5834844386"", ""commit_url"": null}"
1791,ReopenPR,2022-01-03 11:34:20,AnanyaSingh2121,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5834844522"", ""commit_url"": null}"
1791,HeadRefForcePushed,2022-01-03 16:09:54,AnanyaSingh2121,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5836051634"", ""commit_url"": null}"
1791,ReviewComment,2022-01-03 16:40:47,sonatype-lift[bot],fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1791#pullrequestreview-842878599""}"
1791,ReviewComment,2022-01-03 16:40:48,sonatype-lift[bot],fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1791#pullrequestreview-842878606""}"
1791,IssueComment,2022-02-08 16:21:27,AnanyaSingh2121,fork_close,@eolivelli could you please take a look at this,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1032805010"", ""author_association"": ""CONTRIBUTOR""}"
1791,ReviewComment,2022-02-17 18:18:32,arshadmohammad,fork_close,,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1791#pullrequestreview-886371350""}"
1791,IssueComment,2022-02-17 18:23:10,arshadmohammad,fork_close,"Other than the minor formatting comment, changes look good to me.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1043270382"", ""author_association"": ""CONTRIBUTOR""}"
1791,Revise,2022-02-20 06:22:53,AnanyaSingh2121,fork_close,ZOOKEEPER-4434,"{""sha"": ""1801efca101bf2e4b751222d9a9fef4df1ef2417"", ""author"": {""name"": ""Ananya Singh"", ""email"": ""purpul90@gmail.com"", ""date"": ""2022-01-03T16:07:19Z""}, ""committer"": {""name"": ""Ananya Singh"", ""email"": ""purpul90@gmail.com"", ""date"": ""2022-02-20T06:22:53Z""}}"
1791,HeadRefForcePushed,2022-02-20 06:48:23,AnanyaSingh2121,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6106839010"", ""commit_url"": null}"
1791,ReviewApproved,2022-02-20 08:30:10,eolivelli,fork_close,"+1

@arshadmohammad would you mind merging this PR if you are happy with it? I won't be at the keyboard probably for the whole week","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1791#pullrequestreview-888004034""}"
1791,ReviewApproved,2022-02-22 06:47:56,arshadmohammad,fork_close,LGTM +1,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1791#pullrequestreview-889348496""}"
1791,Referenced,2022-02-22 06:52:52,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6115684610"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/801f36791a37b58de67fec34120e9e75ea920017""}"
1791,ClosePR,2022-02-22 06:54:58,arshadmohammad,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6115692158"", ""commit_url"": null}"
1792,SubmitCommit,2022-01-03 14:56:38,epugh@opensourceconnections.com,fork_close,typo,"{""sha"": ""52db6bad4cb7b85d7ad1178cd92fb5bd77cd7a8d"", ""author"": {""name"": ""epugh@opensourceconnections.com"", ""email"": """", ""date"": ""2022-01-03T14:56:38Z""}, ""committer"": {""name"": ""epugh@opensourceconnections.com"", ""email"": """", ""date"": ""2022-01-03T14:56:38Z""}}"
1792,SubmitCommit,2022-01-03 14:59:05,epugh@opensourceconnections.com,fork_close,"Revert ""typo""

This reverts commit 52db6bad4cb7b85d7ad1178cd92fb5bd77cd7a8d.","{""sha"": ""392b16baec18bb60a3dc6778bdf79309f5264bc0"", ""author"": {""name"": ""epugh@opensourceconnections.com"", ""email"": """", ""date"": ""2022-01-03T14:59:05Z""}, ""committer"": {""name"": ""epugh@opensourceconnections.com"", ""email"": """", ""date"": ""2022-01-03T14:59:05Z""}}"
1792,SubmitCommit,2022-01-03 14:59:53,epugh@opensourceconnections.com,fork_close,ZOOKEEPER-4435: typo,"{""sha"": ""ba3d781530af20ad24dc77ad70dbdd2f3aa4419a"", ""author"": {""name"": ""epugh@opensourceconnections.com"", ""email"": """", ""date"": ""2022-01-03T14:59:53Z""}, ""committer"": {""name"": ""epugh@opensourceconnections.com"", ""email"": """", ""date"": ""2022-01-03T14:59:53Z""}}"
1792,OpenPR,2022-01-03 15:00:59,epugh,fork_close,,
1792,RenameTitle,2022-01-03 15:01:15,epugh,fork_close,,"{""rename"": {""from"": ""Zookeeper 4435: fix a tiny typo"", ""to"": ""ZOOKEEPER-4435: fix a tiny typo""}, ""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5835720006""}"
1792,ReviewApproved,2022-01-03 21:06:50,eolivelli,fork_close,Thanks,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1792#pullrequestreview-843041698""}"
1792,IssueComment,2022-01-04 11:01:25,maoling,fork_close,"If no other concerns, I'll merge it at this weekend(01-09).","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1004713120"", ""author_association"": ""MEMBER""}"
1792,ClosePR,2022-01-08 07:42:53,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5860961373"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/a43b9ef0cb2147d6a27f9285f9db02de54a0174f""}"
1792,IssueCommentSupplement,2022-01-08 07:43:50,maoling,fork_close,"@epugh 
Thanks for your contribution.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1007903265"", ""author_association"": ""MEMBER""}"
1793,SubmitCommit,2021-12-16 15:06:42,anmolnar,fork_close,"ZOOKEEPER-4427. Add logback dependency, fixed some unit tests, logback.xml","{""sha"": ""cca424c7b9c5ffda987c4c879e30814e60191741"", ""author"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2021-12-16T15:06:42Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2021-12-16T15:06:42Z""}}"
1793,SubmitCommit,2022-01-05 13:06:22,anmolnar,fork_close,ZOOKEEPER-4427. Logback.xml for main project,"{""sha"": ""c37074d49d02764fd9afb23888516a6309ef8fa3"", ""author"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2022-01-05T13:06:22Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2022-01-05T13:06:22Z""}}"
1793,SubmitCommit,2022-01-05 13:15:08,anmolnar,fork_close,ZOOKEEPER-4427. Add logback.xml to other resource folders,"{""sha"": ""7d5f936d61f3a1c65f6af2f2e3c9b337dfd95743"", ""author"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2022-01-05T13:15:08Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2022-01-05T13:15:08Z""}}"
1793,SubmitCommit,2022-01-05 14:36:09,anmolnar,fork_close,ZOOKEEPER-4427. Fix unit tests,"{""sha"": ""86c485a7bc4d6fbcf064a83580ad53b807247def"", ""author"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2022-01-05T14:36:09Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2022-01-05T14:36:09Z""}}"
1793,SubmitCommit,2022-01-05 14:44:01,anmolnar,fork_close,ZOOKEEPER-4427. More unit tests fixed,"{""sha"": ""53a820566e7f4a538e1b3a1cfac8451406fbbf01"", ""author"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2022-01-05T14:44:01Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2022-01-05T14:44:01Z""}}"
1793,SubmitCommit,2022-01-05 15:06:51,anmolnar,fork_close,ZOOKEEPER-4427. Indentation fix,"{""sha"": ""d594d7280403cbe099588c09fdce2bbdb0ce9b1d"", ""author"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2022-01-05T15:06:51Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2022-01-05T15:06:51Z""}}"
1793,SubmitCommit,2022-01-05 15:11:28,anmolnar,fork_close,ZOOKEEPER-4427. Removed log4j.properties files,"{""sha"": ""93e689320662c32152154384a38f599a467955b9"", ""author"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2022-01-05T15:11:28Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2022-01-05T15:11:28Z""}}"
1793,OpenPR,2022-01-05 15:12:00,anmolnar,fork_close,,
1793,ReviewRejected,2022-01-05 15:50:51,ctubbsii,fork_close,"I think the XML is far less convenient and readable than the properties files for configuring logging. I do like the consolidation of the test code that uses logging, and it might make sense to use logback for that implementation for now. But, I'm still not a fan of logback over log4j2, as I think it's outdated, and a downgrade in functionality. If the goal is to trade off functionality for simplicity, then I don't think this achieves that, especially with the use of XML. slf4j-simple might achieve it better. But, I'd still prefer log4j2 as the default slf4j binding at runtime.","{""author_association"": ""MEMBER"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1793#pullrequestreview-844745705""}"
1793,ReviewApproved,2022-01-05 15:54:44,eolivelli,fork_close,+1 as  far as @ctubbsii comments about pom.xml are addressed,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1793#pullrequestreview-844767814""}"
1793,IssueComment,2022-01-05 16:20:06,anmolnar,fork_close,"@ctubbsii Thanks for the useful feedback, I really appreciate it. Isn't log4j2's config file also XML based? Afaik log4j1 was the only one which still uses properties file, but I'm not sure.

I also need some help with the contrib projects, because currently they don't build. The reason is that I removed log4j dependencies from the parent pom and can't figure out how to put them back for only the. contrib projects

Thanks!","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1005871292"", ""author_association"": ""CONTRIBUTOR""}"
1793,IssueComment,2022-01-05 16:49:24,ctubbsii,fork_close,"> @ctubbsii Thanks for the useful feedback, I really appreciate it. Isn't log4j2's config file also XML based? Afaik log4j1 was the only one which still uses properties file, but I'm not sure.

log4j1 supported XML and properties, but some options were only available with XML. With log4j2, everything can be done with either XML, JSON, properties, or even YAML. We use properties files with log4j2 for Accumulo (https://github.com/apache/accumulo/blob/main/assemble/conf/log4j2.properties)","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1005894613"", ""author_association"": ""MEMBER""}"
1793,IssueComment,2022-01-05 16:53:24,ctubbsii,fork_close,"> I also need some help with the contrib projects, because currently they don't build. The reason is that I removed log4j dependencies from the parent pom and can't figure out how to put them back for only the. contrib projects

To fix the contribs, their POMs use the zookeeper-contrib parent POM, which itself points to the parent POM that you edited. You can leave the log4j stuff in the dependencyManagement section. That section only manages dependencies when they are used. Since they are still used in the contribs, you still need to manage them somewhere. Adding them back to the dependencyManagement section won't add them back as dependencies to the modules that moved to logback, so it's fine to have them there.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1005897777"", ""author_association"": ""MEMBER""}"
1793,Revise,2022-01-05 19:37:20,anmolnar,fork_close,ZOOKEEPER-4427. Add back log4j dependencies for contrib projects,"{""sha"": ""c74594ae94e51ebc2deee3a38fe260e080c29806"", ""author"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2022-01-05T19:37:20Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2022-01-05T19:37:20Z""}}"
1793,ReviewRejected,2022-01-05 20:59:13,cnauroth,fork_close,"@anmolnar , thanks for picking this up. It's looking good so far! I entered a few comments.

Some additional areas of the codebase to consider, not currently in the pull request:
* Shell scripts under bin/.
* owaspSuppressions.xml can remove Log4J CVEs.
* Minor: the native client has a comment mentioning Log4J in zk_log.c.
* Various documentation under zookeeper-docs will need a rewrite to discuss Logback instead of Log4J.
* Possibly some things in zookeeper-recipes reference Log4J?
* zookeeper-server NOTICE.txt should be updated for Logback instead of Log4J. I'm not sure if the phrasing needs to take care to indicate the license terms. Logback is dual-licensed under LGPL and EPL. LGPL is a category X license, disallowed in Apache project distributions, so we need to take the dependency under EPL intsead.
* zookeeper-server still has a few references to Log4J in the JMX functionality, mostly just comments and method naming, but good to clean up. (See `grep -ri log4j zookeeper-server` for the full list.)

I know you already said that you were treating contrib as separate scope. I think it would be fair to split some of this other stuff out into separate tickets/pull requests too.","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1793#pullrequestreview-845043582""}"
1793,Revise,2022-01-06 10:04:58,anmolnar,fork_close,ZOOKEEPER-4427. Checkstyle fixes,"{""sha"": ""3f928ab4f00e395337ec8e72c99ee8a537458b1e"", ""author"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2022-01-06T10:04:58Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2022-01-06T10:04:58Z""}}"
1793,IssueComment,2022-01-06 10:15:20,anmolnar,fork_close,"> @anmolnar , thanks for picking this up. It's looking good so far! I entered a few comments.
> 
> Some additional areas of the codebase to consider, not currently in the pull request:
> 
> * Shell scripts under bin/.
> * owaspSuppressions.xml can remove Log4J CVEs.
> * Minor: the native client has a comment mentioning Log4J in zk_log.c.
> * Various documentation under zookeeper-docs will need a rewrite to discuss Logback instead of Log4J.
> * Possibly some things in zookeeper-recipes reference Log4J?
> * zookeeper-server NOTICE.txt should be updated for Logback instead of Log4J. I'm not sure if the phrasing needs to take care to indicate the license terms. Logback is dual-licensed under LGPL and EPL. LGPL is a category X license, disallowed in Apache project distributions, so we need to take the dependency under EPL intsead.
> * zookeeper-server still has a few references to Log4J in the JMX functionality, mostly just comments and method naming, but good to clean up. (See `grep -ri log4j zookeeper-server` for the full list.)
> 
> I know you already said that you were treating contrib as separate scope. I think it would be fair to split some of this other stuff out into separate tickets/pull requests too.

Thanks @cnauroth , that's a very nice list of outstanding items. Very useful, because it contains a lot of stuff that I didn't consider previously. First, I'd like to get the buy-in from the community, then I'll polish up as much as I can fit into this PR.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1006442969"", ""author_association"": ""CONTRIBUTOR""}"
1793,Revise,2022-01-06 11:00:59,anmolnar,fork_close,ZOOKEEPER-4427. Address cnauroth's comments,"{""sha"": ""727c8379fdda510451835c7ac3479238f127b677"", ""author"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2022-01-06T11:00:28Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2022-01-06T11:00:59Z""}}"
1793,Revise,2022-01-18 17:44:33,anmolnar,fork_close,ZOOKEEPER-4427. Remove root logger config from shell scripts,"{""sha"": ""953d081e1661afa8f0929d0ccbf2c6323f02171b"", ""author"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2022-01-18T17:44:33Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2022-01-18T17:44:33Z""}}"
1793,Revise,2022-01-18 17:59:19,anmolnar,fork_close,ZOOKEEPER-4427. Added (comment) logback JMX configurator to logback.xml,"{""sha"": ""d485248f565e726d6b5019493622b8dec8378ce0"", ""author"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2022-01-18T17:59:19Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2022-01-18T17:59:19Z""}}"
1793,Revise,2022-01-18 18:01:04,anmolnar,fork_close,ZOOKEEPER-4427. Remove log4j1 OWASP suppressions,"{""sha"": ""2ca6c20bd3fe890c3e9959880c8ce046d3df9274"", ""author"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2022-01-18T18:01:04Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2022-01-18T18:01:04Z""}}"
1793,IssueComment,2022-01-18 18:03:40,anmolnar,fork_close,"The following commits have been pushed:
- Clean-up shell scripts under bin/. (this is a new limitation: root logger is no longer configurable via system property)
- Remove Log4J CVEs from owaspSuppressions.xml
- Added `jmxConfigurator` to logback.xml as commented suggestion to register logback beans (not enabled by default)

Still outstanding:
- Update documentation
- Check zookeeper-recipes project","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1015674774"", ""author_association"": ""CONTRIBUTOR""}"
1793,ReviewRequested,2022-01-18 20:09:07,eolivelli,fork_close,,"{""requested_reviewer"": {""login"": ""cnauroth"", ""id"": 227407, ""node_id"": ""MDQ6VXNlcjIyNzQwNw=="", ""avatar_url"": ""https://avatars.githubusercontent.com/u/227407?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/cnauroth"", ""html_url"": ""https://github.com/cnauroth"", ""followers_url"": ""https://api.github.com/users/cnauroth/followers"", ""following_url"": ""https://api.github.com/users/cnauroth/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/cnauroth/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/cnauroth/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/cnauroth/subscriptions"", ""organizations_url"": ""https://api.github.com/users/cnauroth/orgs"", ""repos_url"": ""https://api.github.com/users/cnauroth/repos"", ""events_url"": ""https://api.github.com/users/cnauroth/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/cnauroth/received_events"", ""type"": ""User"", ""site_admin"": false}, ""requested_team"": null}"
1793,ReviewApproved,2022-01-18 20:10:46,eolivelli,fork_close,Looks great ,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1793#pullrequestreview-855922712""}"
1793,IssueComment,2022-01-19 11:15:26,sourabhsparkala,fork_close,"Hello All,

Requesting you to confirm if this is the fix to completely remove log4j from zookeeper? If yes, could you please provide a planned release date for this fix?

Thanks and Regards
Sourabh","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1016352555"", ""author_association"": ""NONE""}"
1793,IssueComment,2022-01-19 12:14:41,anmolnar,fork_close,"@sourabhsparkala  Yes, this patch will completely remove log4j from ZK. Unfortunately we don't have a release date yet.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1016409755"", ""author_association"": ""CONTRIBUTOR""}"
1793,Revise,2022-01-19 19:19:14,anmolnar,fork_close,ZOOKEEPER-4427. Docs changes,"{""sha"": ""9c65a5e6cdb271f0a90c90688aea1677dd90f4de"", ""author"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2022-01-19T19:19:14Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2022-01-19T19:19:14Z""}}"
1793,IssueComment,2022-01-19 19:20:27,anmolnar,fork_close,"Almost there @eolivelli hold your last approval for a minute. ;)
I've submitted docs changes recently and would like to take care of the licenses file based on our LEGAL ticket. Stay tuned.
Recipes and contrib projects will come in a follow-up patch.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1016790773"", ""author_association"": ""CONTRIBUTOR""}"
1793,Revise,2022-01-19 21:35:12,anmolnar,fork_close,ZOOKEEPER-4427. Update lincense and notice files,"{""sha"": ""0eadec1eacd906cd1070a50e301821f468d904a7"", ""author"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2022-01-19T21:35:12Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2022-01-19T21:35:12Z""}}"
1793,Revise,2022-01-19 21:40:46,anmolnar,fork_close,ZOOKEEPER-4427. Fix doc link,"{""sha"": ""b13715f5a1d37b9513de8699302c0f191c65c3f7"", ""author"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2022-01-19T21:40:46Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2022-01-19T21:40:46Z""}}"
1793,Revise,2022-01-19 22:06:06,anmolnar,fork_close,ZOOKEEPER-4427. Replace log4j1 license with logback's,"{""sha"": ""26ca9add98740b9b07457c65deb6a6db6d21216e"", ""author"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2022-01-19T22:06:06Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2022-01-19T22:06:06Z""}}"
1793,ReviewRequested,2022-01-19 22:06:43,anmolnar,fork_close,,"{""requested_reviewer"": {""login"": ""eolivelli"", ""id"": 9469110, ""node_id"": ""MDQ6VXNlcjk0NjkxMTA="", ""avatar_url"": ""https://avatars.githubusercontent.com/u/9469110?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/eolivelli"", ""html_url"": ""https://github.com/eolivelli"", ""followers_url"": ""https://api.github.com/users/eolivelli/followers"", ""following_url"": ""https://api.github.com/users/eolivelli/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/eolivelli/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/eolivelli/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/eolivelli/subscriptions"", ""organizations_url"": ""https://api.github.com/users/eolivelli/orgs"", ""repos_url"": ""https://api.github.com/users/eolivelli/repos"", ""events_url"": ""https://api.github.com/users/eolivelli/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/eolivelli/received_events"", ""type"": ""User"", ""site_admin"": false}, ""requested_team"": null}"
1793,ReviewRejected,2022-01-20 01:33:14,cnauroth,fork_close,"Thanks for incorporating the feedback! I see just a few more things that would be nice to include before committing this.

* The top-level pom.xml still contains some references to Log4J.
* zookeeperAdmin.md contains a `java -cp ...` example that references Log4J jars.
* `ReconfigExceptionTest` contains a comment with a `java -cp ...` command referencing Log4J jars.
* `ZooTrace` contains a comment that ""Log4J must be correctly configured"".
* zookeeper-server/src/main/resources/NOTICE.txt still mentions Log4J (though I'm unclear on whether or not this file is actually getting into the distribution).

I tested building a binary distribution and confirmed that there are no Log4J jars or configuration files. I ran `mvn dependency:tree` and confirmed no transitive dependencies to Log4J either. I also tested swapping in Log4J 2 as the SLF4J back-end, and that worked fine:

```
rm -f lib/logback*.jar
ln -sfn ~/.m2/repository/org/apache/logging/log4j/log4j-api/2.17.1/log4j-api-2.17.1.jar lib/log4j-api-2.17.1.jar
ln -sfn ~/.m2/repository/org/apache/logging/log4j/log4j-core/2.17.1/log4j-core-2.17.1.jar lib/log4j-core-2.17.1.jar
ln -sfn ~/.m2/repository/org/apache/logging/log4j/log4j-slf4j-impl/2.17.1/log4j-slf4j-impl-2.17.1.jar lib/log4j-slf4j-impl-2.17.1.jar

cat > conf/log4j2.properties <<EOF
appender.console.type = Console
appender.console.name = consoleLogger
appender.console.layout.type = PatternLayout
appender.console.layout.pattern = %d{yyyy-MM-dd HH:mm:ss} %-5p %c{1}:%L - %m%n

rootLogger.level = info
rootLogger.appenderRef.stdout.ref = consoleLogger
EOF
```
","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1793#pullrequestreview-857545860""}"
1793,ReviewRejected,2022-01-20 07:54:05,symat,fork_close,"I like the patch, I saw only a single issue raised by @ctubbsii before that needs to be addressed. Otherwise if the community gives a green light for logback, then I am OK with the patch.","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1793#pullrequestreview-857874227""}"
1793,Revise,2022-01-20 08:24:27,anmolnar,fork_close,ZOOKEEPER-4427. Remove EPL from top level LICENSE/NOTICE files,"{""sha"": ""ed2610515931ef2e45584eae3ab751eba9b64dfb"", ""author"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2022-01-20T08:24:27Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2022-01-20T08:24:27Z""}}"
1793,IssueComment,2022-01-20 08:37:20,anmolnar,fork_close,"> The top-level pom.xml still contains some references to Log4J.

It's needed for contrib projects to build. I'll remove it in the next patch.

> zookeeperAdmin.md contains a java -cp ... example that references Log4J jars.

Thought it's only an example and the CP is probably already outdated, so not worth replacing it. I'll fix it anyway.

> ReconfigExceptionTest contains a comment with a java -cp ... command referencing Log4J jars.

I'll fix this too.

> ZooTrace contains a comment that ""Log4J must be correctly configured"".

Fixed.

> zookeeper-server/src/main/resources/NOTICE.txt still mentions Log4J (though I'm unclear on whether or not this file is actually getting into the distribution).

Weird. I've never come across this file, but replace it with logback alternatives.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1017235459"", ""author_association"": ""CONTRIBUTOR""}"
1793,Revise,2022-01-20 08:38:06,anmolnar,fork_close,ZOOKEEPER-4427. Fix minor log4j references,"{""sha"": ""8cb22fa1d6f9fa991a16988788dce389bfb23f9f"", ""author"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2022-01-20T08:38:06Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2022-01-20T08:38:06Z""}}"
1793,ReviewApproved,2022-01-20 08:56:31,symat,fork_close,"If the community agrees with logback for now, the patch LGTM. Thanks @anmolnar for the work!","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1793#pullrequestreview-857941399""}"
1793,ReviewComment,2022-01-21 09:51:14,craiglawson,fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1793#pullrequestreview-859324923""}"
1793,IssueComment,2022-01-24 11:54:17,anmolnar,fork_close,@cnauroth Please double check the PR and let me know what exactly is outstanding and required for your +1.,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1020019694"", ""author_association"": ""CONTRIBUTOR""}"
1793,ReviewApproved,2022-01-25 20:25:56,cnauroth,fork_close,"LGTM

@anmolnar , thank you for addressing the feedback.","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1793#pullrequestreview-862826351""}"
1793,Revise,2022-01-26 09:43:45,anmolnar,fork_close,ZOOKEEPER-4427. Use shorter version number for SLF4j,"{""sha"": ""70714c0ee3f237c6e599631fc6a506a38886ff4e"", ""author"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2022-01-26T09:43:45Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2022-01-26T09:43:45Z""}}"
1793,IssueComment,2022-01-26 09:45:55,anmolnar,fork_close,"I've finished the last change that was requsted in the review. SLF4j version number is now just 1.7 in the admin docs.
Got the green light from @cnauroth as well, so @eolivelli if you're in the mood, launch it.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1022031316"", ""author_association"": ""CONTRIBUTOR""}"
1793,IssueComment,2022-01-26 11:49:39,eolivelli,fork_close,"great work @anmolnar 
committing as soon as CI is green
","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1022125862"", ""author_association"": ""CONTRIBUTOR""}"
1793,ClosePR,2022-01-27 09:06:45,eolivelli,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5962129795"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/85551f9be5b054fa4aee0636597b12bda2ecb2e8""}"
1793,IssueCommentSupplement,2022-01-27 09:07:13,eolivelli,fork_close,"Committed to master branch.
I restarted CI many times, the last failure is unrelated to the patch.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1022993084"", ""author_association"": ""CONTRIBUTOR""}"
1793,DeleteBranch,2022-01-27 16:15:43,anmolnar,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5965054612"", ""commit_url"": null}"
1793,IssueCommentSupplement,2022-02-08 16:21:10,c3ivodujmovic,fork_close,@eolivelli @anmolnar did this merge?,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1032804678"", ""author_association"": ""NONE""}"
1793,IssueCommentSupplement,2022-02-08 16:22:12,eolivelli,fork_close,"@c3ivodujmovic yes

We are VOTING on ZooKeeper 3.8.0 release candidate 0, please participate in the VOTE","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1032805865"", ""author_association"": ""CONTRIBUTOR""}"
1793,IssueCommentSupplement,2022-02-09 10:27:53,Co-Din,fork_close,Is the vote open to anyone to participate? If so where can we vote?,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1033605285"", ""author_association"": ""NONE""}"
1793,IssueCommentSupplement,2022-02-09 11:22:52,ctubbsii,fork_close,"> Is the vote open to anyone to participate? If so where can we vote?

Voting happens on the project mailing lists, whose addresses you can find on the project website, https://zookeeper.apache.org

Anybody can provide feedback on a release candidate, but at the Apache Software Foundation, only PMC members' votes count (are considered ""binding"") for a release.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1033655149"", ""author_association"": ""MEMBER""}"
1793,CrossReferenced,2022-09-07 21:25:53,rahulrane50,fork_close,Moving log4j to logback,"{""reference"": {""url"": ""https://api.github.com/repos/linkedin/zookeeper/issues/105"", ""is_pull_request"": true}}"
1793,CrossReferenced,2022-09-16 23:28:58,rahulrane50,fork_close,Moving log4j to logback [1/n],"{""reference"": {""url"": ""https://api.github.com/repos/linkedin/zookeeper/issues/107"", ""is_pull_request"": true}}"
1794,SubmitCommit,2022-01-06 02:51:48,Shoothzj,fork_close,Bump Jackson version from 2.10.5.1 to 2.13.1,"{""sha"": ""6a44d12547916dc2d2c605ed318a3bdf2addc541"", ""author"": {""name"": ""Shoothzj"", ""email"": ""shoothzj@gmail.com"", ""date"": ""2022-01-06T02:51:48Z""}, ""committer"": {""name"": ""Shoothzj"", ""email"": ""shoothzj@gmail.com"", ""date"": ""2022-01-06T02:51:48Z""}}"
1794,OpenPR,2022-01-06 02:57:18,Shoothzj,fork_close,,
1794,IssueComment,2022-01-17 06:17:24,Shoothzj,fork_close,@maoling @eolivelli PTAL,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1014177204"", ""author_association"": ""MEMBER""}"
1794,IssueComment,2022-01-17 07:47:13,eolivelli,fork_close,"thank you but this patch looks like #1788 

feel free to close this PR and the JIRA as duplicated","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1014228286"", ""author_association"": ""CONTRIBUTOR""}"
1794,IssueCommentSupplement,2022-01-17 08:02:44,Shoothzj,fork_close,duplicate to #1788,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1014237597"", ""author_association"": ""MEMBER""}"
1794,ClosePR,2022-01-17 08:02:44,Shoothzj,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5902447990"", ""commit_url"": null}"
1794,DeleteBranch,2022-01-17 08:02:47,Shoothzj,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5902448244"", ""commit_url"": null}"
1794,Referenced,2022-01-22 07:05:58,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5936108522"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/7b75017bbb70c9f159b35f7399e29dc53bdc3d97""}"
1795,SubmitCommit,2022-01-08 09:02:43,Shoothzj,fork_merge,Updated Notice file to 2022,"{""sha"": ""f1da215e2ac008dc1a691f635278f9ceaa568ab9"", ""author"": {""name"": ""Shoothzj"", ""email"": ""shoothzj@gmail.com"", ""date"": ""2022-01-08T09:02:43Z""}, ""committer"": {""name"": ""Shoothzj"", ""email"": ""shoothzj@gmail.com"", ""date"": ""2022-01-08T09:02:43Z""}}"
1795,OpenPR,2022-01-08 09:02:55,Shoothzj,fork_merge,,
1795,ReviewApproved,2022-01-08 10:31:13,eolivelli,fork_merge,,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1795#pullrequestreview-847143540""}"
1795,MergePR,2022-01-08 10:31:35,eolivelli,fork_merge,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5861082185"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/1104deeaa589b01548bfa6c411e090e345f132f8""}"
1795,IssueCommentSupplement,2022-01-08 10:31:44,eolivelli,fork_merge,Thanks ,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1007950657"", ""author_association"": ""CONTRIBUTOR""}"
1795,DeleteBranch,2022-01-08 10:31:55,Shoothzj,fork_merge,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5861082526"", ""commit_url"": null}"
1795,IssueCommentSupplement,2022-01-10 02:47:38,Shoothzj,fork_merge,"@eolivelli Are you use squash and merge, I saw a merge node in git history.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1008500684"", ""author_association"": ""MEMBER""}"
1796,SubmitCommit,2022-01-09 17:20:24,Brent Nash,fork_close,ZOOKEEPER-4291: ZooInspector has very high latency when operating against remote clusters,"{""sha"": ""7532542fff43b0285a66a550059e1f7a7ec8d170"", ""author"": {""name"": ""Brent Nash"", ""email"": ""brent.nash@crowdstrike.com"", ""date"": ""2022-01-09T17:20:24Z""}, ""committer"": {""name"": ""Brent Nash"", ""email"": ""brent.nash@crowdstrike.com"", ""date"": ""2022-01-09T17:20:24Z""}}"
1796,SubmitCommit,2022-01-09 21:06:02,Brent Nash,fork_close,Changes from self review,"{""sha"": ""2f029e7de0b65017cb9271999d8fef499eec5d8b"", ""author"": {""name"": ""Brent Nash"", ""email"": ""brent.nash@crowdstrike.com"", ""date"": ""2022-01-09T21:06:02Z""}, ""committer"": {""name"": ""Brent Nash"", ""email"": ""brent.nash@crowdstrike.com"", ""date"": ""2022-01-09T21:06:02Z""}}"
1796,SubmitCommit,2022-01-10 17:46:21,Brent Nash,fork_close,Changes from internal review (mostly remove unnecessary formatting changes).,"{""sha"": ""c0d9a7060355276acaa089a941f0eed424212e64"", ""author"": {""name"": ""Brent Nash"", ""email"": ""brent.nash@crowdstrike.com"", ""date"": ""2022-01-10T17:46:21Z""}, ""committer"": {""name"": ""Brent Nash"", ""email"": ""brent.nash@crowdstrike.com"", ""date"": ""2022-01-10T17:46:21Z""}}"
1796,SubmitCommit,2022-01-10 17:50:37,Brent Nash,fork_close,Fix whitespace diff in comments.,"{""sha"": ""5d13017b62c0d6b4faac322288cbbb28bc998ca8"", ""author"": {""name"": ""Brent Nash"", ""email"": ""brent.nash@crowdstrike.com"", ""date"": ""2022-01-10T17:50:37Z""}, ""committer"": {""name"": ""Brent Nash"", ""email"": ""brent.nash@crowdstrike.com"", ""date"": ""2022-01-10T17:50:37Z""}}"
1796,SubmitCommit,2022-01-10 18:14:59,Brent Nash,fork_close,Formatting refactor part 2,"{""sha"": ""dd459e3515bbdc7c05ae434a100a85fd55af22c7"", ""author"": {""name"": ""Brent Nash"", ""email"": ""brent.nash@crowdstrike.com"", ""date"": ""2022-01-10T18:14:59Z""}, ""committer"": {""name"": ""Brent Nash"", ""email"": ""brent.nash@crowdstrike.com"", ""date"": ""2022-01-10T18:14:59Z""}}"
1796,SubmitCommit,2022-01-10 18:21:16,Brent Nash,fork_close,Final refactor pass,"{""sha"": ""caadd1dddb51894efcf55e74e7a33de3d48fe150"", ""author"": {""name"": ""Brent Nash"", ""email"": ""brent.nash@crowdstrike.com"", ""date"": ""2022-01-10T18:21:16Z""}, ""committer"": {""name"": ""Brent Nash"", ""email"": ""brent.nash@crowdstrike.com"", ""date"": ""2022-01-10T18:21:16Z""}}"
1796,OpenPR,2022-01-10 18:27:57,brentwritescode,fork_close,,
1796,IssueComment,2022-01-10 18:46:30,brentwritescode,fork_close,"Darn, I think I missed a license header.  I didn't think to run the RAT check locally.  I will run the proper build command locally and upload a fix.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1009238101"", ""author_association"": ""CONTRIBUTOR""}"
1796,Revise,2022-01-10 18:48:19,Brent Nash,fork_close,Fix missing license headers,"{""sha"": ""7e011e5c58f3588d6ad6374cf53f72775ea32b92"", ""author"": {""name"": ""Brent Nash"", ""email"": ""brent.nash@crowdstrike.com"", ""date"": ""2022-01-10T18:48:19Z""}, ""committer"": {""name"": ""Brent Nash"", ""email"": ""brent.nash@crowdstrike.com"", ""date"": ""2022-01-10T18:48:19Z""}}"
1796,ReviewApproved,2022-01-31 17:29:16,eolivelli,fork_close,LGTM,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1796#pullrequestreview-868189630""}"
1796,ClosePR,2022-02-01 10:40:07,eolivelli,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5987184712"", ""commit_url"": null}"
1796,ReopenPR,2022-02-01 10:40:09,eolivelli,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5987184931"", ""commit_url"": null}"
1796,IssueComment,2022-02-01 10:40:32,eolivelli,fork_close,closed/reopened to trigger CI,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1026702245"", ""author_association"": ""CONTRIBUTOR""}"
1796,ReviewApproved,2022-02-01 14:07:48,symat,fork_close,"LGTM, thanks for the contribution! Nice refactorings, @brentwritescode! I think this part is not really maintained by the community, it is great that you improved it!

If you would have time to fix the star imports, that would be great! (We are close to cut the 3.8.0 release, if you are not available right now, then I think this is not a reason to exclude your patch from 3.8.0.)","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1796#pullrequestreview-869163954""}"
1796,Revise,2022-02-01 15:38:06,Brent Nash,fork_close,Address PR feedback: remove wildcard imports,"{""sha"": ""c6e6807b15d29bbd007fc897707382f6d215f87a"", ""author"": {""name"": ""Brent Nash"", ""email"": ""brent.nash@crowdstrike.com"", ""date"": ""2022-02-01T15:38:06Z""}, ""committer"": {""name"": ""Brent Nash"", ""email"": ""brent.nash@crowdstrike.com"", ""date"": ""2022-02-01T15:38:06Z""}}"
1796,IssueComment,2022-02-01 15:41:17,eolivelli,fork_close,@brentwritescode what about writing a small blog post about ZooInspector and how are you using it in production ?,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1026983717"", ""author_association"": ""CONTRIBUTOR""}"
1796,IssueComment,2022-02-02 00:27:16,brentwritescode,fork_close,"> @brentwritescode what about writing a small blog post about ZooInspector and how are you using it in production ?

That's an interesting idea.  Is there an official Zookeeper blog somewhere?  Or do you mean on a personal or company blog that I have access to?","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1027434622"", ""author_association"": ""CONTRIBUTOR""}"
1796,IssueComment,2022-02-02 07:35:47,symat,fork_close,"thanks @brentwritescode ! I'm going to merge it soon.
This is our 'official' wiki, linked from zookeeper webpage: https://cwiki.apache.org/confluence/display/ZOOKEEPER/Index
This is some apache wiki, where ZooKeeper has it's own 'space'. I'm not sure who can add you as an editor...","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1027660686"", ""author_association"": ""CONTRIBUTOR""}"
1796,IssueComment,2022-02-02 07:39:54,eolivelli,fork_close,"@symat the errors in CI (CPP tests) are unrelated to this patch.
I believe that we can merge the patch","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1027662872"", ""author_association"": ""CONTRIBUTOR""}"
1796,ClosePR,2022-02-02 07:40:42,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5993798554"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/d32ec677f8fd00a367b305e1ae8abf127700511c""}"
1796,IssueCommentSupplement,2022-02-02 07:42:14,symat,fork_close,"agree, those are flaky and unrelated.
I merged it to master, the patch will land in 3.8.0. Thanks for the contribution, @brentwritescode !","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1027664231"", ""author_association"": ""CONTRIBUTOR""}"
1797,OpenPR,2022-01-19 13:25:52,phang98,fork_close,,
1797,Revise,2022-01-19 13:34:19,phang98,fork_close,ZOOKEEPER-4446 branch-3.6 txnLogCountTest use wrong version of Junit Assert import,"{""sha"": ""a888ae0f0ed2c4682c2a9c9d0441ee76cb033527"", ""author"": {""name"": ""Phang"", ""email"": ""phang98@users.noreply.github.com"", ""date"": ""2022-01-18T09:46:13Z""}, ""committer"": {""name"": ""kharyeowp"", ""email"": ""kharyeow.phang@experian.com"", ""date"": ""2022-01-19T13:34:19Z""}}"
1797,HeadRefForcePushed,2022-01-19 13:35:09,phang98,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5917744535"", ""commit_url"": null}"
1797,ReviewApproved,2022-01-25 06:53:27,maoling,fork_close,"- +1. Great catch. This issue was introduced by [PR-1744](https://github.com/apache/zookeeper/pull/1744) when I applied that patch to `branch-3.6` which without using `junit-5` and no code conflicts
- @eolivelli  PTAL
","{""author_association"": ""MEMBER"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1797#pullrequestreview-861853350""}"
1797,ReviewApproved,2022-01-25 13:18:43,eolivelli,fork_close,LGTM,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1797#pullrequestreview-862265076""}"
1797,IssueComment,2022-01-25 15:04:05,symat,fork_close,"sorry, I just merged ZooKeeper 3988 to branch 3.6, and fixed this issue together with the similar junit issue in that PR to make it work. I was not aware that this was already discovered and you already prepared a separate PR for txnLogCountTest.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1021278958"", ""author_association"": ""CONTRIBUTOR""}"
1797,IssueComment,2022-01-26 01:49:33,phang98,fork_close,"no worry, anyone who trying to build branch-3.6 will notice anyway. I was just surprise this is broken for quite sometime when I try to build to validate this branch with latest jetty server. May be we can closed this PR now.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1021778314"", ""author_association"": ""NONE""}"
1797,ReviewApproved,2022-01-26 02:05:11,XiaoyiPeng,fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1797#pullrequestreview-863051474""}"
1797,IssueCommentSupplement,2022-01-26 08:32:41,maoling,fork_close,"@phang98 Thanks for your contribution. Since this issue had been fixed by [this](https://github.com/apache/zookeeper/commit/357e88c1438780e28d36bf54784937e18547e136#diff-9d42ebb7cb61ecb8e3014f10e256fab1af0e93005a62a0ff97a8d5046dd5f2d1L21), let me close this PR","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1021975222"", ""author_association"": ""MEMBER""}"
1797,ClosePR,2022-01-26 08:32:41,maoling,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5955069389"", ""commit_url"": null}"
1798,SubmitCommit,2022-01-20 11:04:45,eolivelli,fork_close,ZOOKEEPER-3988 rg.apache.zookeeper.server.NettyServerCnxn.receiveMessage throws NullPointerException,"{""sha"": ""e734cea45ac2177974f93f907df26068bb3a23eb"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2022-01-20T11:00:29Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2022-01-20T11:04:45Z""}}"
1798,OpenPR,2022-01-20 11:05:23,eolivelli,fork_close,,
1798,CrossReferenced,2022-01-20 11:07:02,eolivelli,fork_close,Zookeeper in 3 node Kubernetes cluster does not pass heath check in 2.8.0,"{""reference"": {""url"": ""https://api.github.com/repos/apache/pulsar/issues/11070"", ""is_pull_request"": false}}"
1798,CrossReferenced,2022-01-20 11:08:09,eolivelli,fork_close,Netty server does not respond to ruok while initializing cluster,"{""reference"": {""url"": ""https://api.github.com/repos/apache/zookeeper/issues/1770"", ""is_pull_request"": true}}"
1798,CrossReferenced,2022-01-20 11:11:08,eolivelli,fork_close,"All zK pods reports error ""Zookeeper is not running""","{""reference"": {""url"": ""https://api.github.com/repos/pravega/zookeeper-operator/issues/393"", ""is_pull_request"": false}}"
1798,ReviewApproved,2022-01-20 11:53:47,nicoloboschi,fork_close,LGTM,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1798#pullrequestreview-858141699""}"
1798,ReviewRejected,2022-01-20 12:33:06,anmolnar,fork_close,"Sorry for the delayed answer @eolivelli , I'm not actively monitoring ZK anymore unfortunately. 

So, the problem has been introduced by this patch: b842cd4b463a7c3674963f6f66fc392293c1334c
It's only about a metric update if I understand the intention correctly. I think your patch is right, but I don't think we have to log this at the trace level, but doesn't do any harm.

Unit testing. I see some unit tests updated in the original patch which might cover this code part in one way or the other. Would you please take a very quick look at those tests and check if you're able to cover this scenario somehow with a test?

Thanks.","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1798#pullrequestreview-858182460""}"
1798,ReviewApproved,2022-01-20 12:39:32,symat,fork_close,"LGTM. if you have time for a unit test (as Andor suggested) then I think it is a good idea to have it. But if it is complicated, then I'm happy with the patch as it is. It is harmless and fixing a trivial bug.","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1798#pullrequestreview-858189169""}"
1798,ReviewApproved,2022-01-20 12:47:52,anmolnar,fork_close,"+1
I changed my mind reading @symat 's comment. Up to you @eolivelli .
Thanks!","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1798#pullrequestreview-858197802""}"
1798,Revise,2022-01-20 12:59:12,eolivelli,fork_close,Add tests,"{""sha"": ""d6fee8db185ad2b9c632857a13de63f72adc91d9"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2022-01-20T12:59:12Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2022-01-20T12:59:12Z""}}"
1798,IssueComment,2022-01-20 12:59:44,eolivelli,fork_close,"thank you @anmolnar for your pointer
I have updated the test added by the patch that caused the problem 

https://github.com/apache/zookeeper/commit/b842cd4b463a7c3674963f6f66fc392293c1334c#diff-508b7388fc8bead40a3f6d652a9faeed4796d12fc84b9e8fbfe657a520398e3fR179","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1017482467"", ""author_association"": ""CONTRIBUTOR""}"
1798,Revise,2022-01-20 13:01:33,eolivelli,fork_close,fix build,"{""sha"": ""cea1a4a8eccb2596d6694b34b3a336aa5df5c7d8"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2022-01-20T13:01:33Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2022-01-20T13:01:33Z""}}"
1798,IssueComment,2022-01-20 13:04:31,eolivelli,fork_close,"for reference, this is an alternative solution to #1770","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1017485908"", ""author_association"": ""CONTRIBUTOR""}"
1798,IssueComment,2022-01-20 13:25:44,eolivelli,fork_close,my plan is to cherry-pick this patch to 3.7.x and to 3.6.x,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1017502407"", ""author_association"": ""CONTRIBUTOR""}"
1798,IssueComment,2022-01-20 16:40:26,anmolnar,fork_close,Great stuff! ???? ,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1017698135"", ""author_association"": ""CONTRIBUTOR""}"
1798,IssueComment,2022-01-21 10:51:50,eolivelli,fork_close,"@symat @ztzg 
CPP tests are always failing.
I am running them locally now.

the test that is failing looks unrelated to the patch","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1018396492"", ""author_association"": ""CONTRIBUTOR""}"
1798,IssueComment,2022-01-25 10:30:14,eolivelli,fork_close,"@symat @maoling would you have time to help here ?
the CPP tests are failing.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1021038442"", ""author_association"": ""CONTRIBUTOR""}"
1798,IssueComment,2022-01-25 12:14:26,eolivelli,fork_close,The test is passing for me locally,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1021125355"", ""author_association"": ""CONTRIBUTOR""}"
1798,IssueComment,2022-01-25 12:26:10,symat,fork_close,"C client unit test failed again:
```
  [exec] /home/runner/work/zookeeper/zookeeper/zookeeper-client/zookeeper-client-c/tests/TestOperations.cc:296: Assertion: equality assertion failed [Expected: 1, Actual  : 0]
```

this test is using mocked ZooKeeper Server, not even starting the real Java server, so this is completely unrelated. The test is flaky or we have some environment issue on the CI nodes. Let's merge this PR regardless of this independent CI problem.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1021134841"", ""author_association"": ""CONTRIBUTOR""}"
1798,ClosePR,2022-01-25 12:49:19,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5949609496"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/957f8fc0afbeca638f13f6fb739e49a921da2b9d""}"
1798,Referenced,2022-01-25 12:49:40,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5949611346"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/56f807f909f2b7799ced0fcdd4c1073c9a1acc0d""}"
1798,Referenced,2022-01-25 13:09:32,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5949733016"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/357e88c1438780e28d36bf54784937e18547e136""}"
1798,IssueCommentSupplement,2022-01-25 13:13:56,symat,fork_close,"PR merged on master, branch-3.7 and (with slight modification due to junit version differences) also on branch-3.6. Thanks for the fix @eolivelli !","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1021170900"", ""author_association"": ""CONTRIBUTOR""}"
1798,IssueCommentSupplement,2022-01-25 14:47:13,andrekramer1,fork_close,"On this PR: NettyServerCnxnFactory.java line 462 zkServer.serverStats().incrementAuthFailedCount(); Probably also could use an if (zkServer != null). There are uses of zks in NettyServerCnxn that I was also protecting from being null. 
It would be better if the ServerCnxn flavours were more similar as you pointed out it does a close early on exceptions. Then it may not need the SSL handshake suppression for example. 

A minimal fix is probably best but in testing just branch/PR I just get it stuck at launching Zookeeper 0:

14:34:25.541 [QuorumPeer[myid=1](plain=0.0.0.0:2181)(secure=disabled)] INFO  org.apache.zookeeper.server.quorum.FastLeaderElection - Notification time out: 25600 ms
14:34:39.674 [epollEventLoopGroup-4-1] WARN  org.apache.zookeeper.server.NettyServerCnxnFactory - Zookeeper server is not running, close the connection before starting the TLS handshake
14:34:47.441 [epollEventLoopGroup-4-2] WARN  org.apache.zookeeper.server.NettyServerCnxnFactory - Zookeeper server is not running, close the connection before starting the TLS handshake
14:34:51.147 [QuorumConnectionThread-[myid=1]-1] WARN  org.apache.zookeeper.server.quorum.QuorumCnxManager - Cannot open channel to 2 at election address pulsar-zookeeper-1.pulsar-zookeeper.c8y-messaging-service.svc.cluster.local:3888
java.net.UnknownHostException: pulsar-zookeeper-1.pulsar-zookeeper.c8y-messaging-service.svc.cluster.local
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:220) ~[?:?]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[?:?]
	at java.net.Socket.connect(Socket.java:609) ~[?:?]
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.initiateConnection(QuorumCnxManager.java:384) [org.apache.zookeeper-zookeeper-3.8.0-SNAPSHOT.jar:3.8.0-SNAPSHOT]
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$QuorumConnectionReqThread.run(QuorumCnxManager.java:458) [org.apache.zookeeper-zookeeper-3.8.0-SNAPSHOT.jar:3.8.0-SNAPSHOT]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) [?:?]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) [?:?]
	at java.lang.Thread.run(Thread.java:829) [?:?]
14:34:51.158 [QuorumPeer[myid=1](plain=0.0.0.0:2181)(secure=disabled)] INFO  org.apache.zookeeper.server.quorum.FastLeaderElection - Notification time out: 51200 ms
14:34:51.160 [QuorumConnectionThread-[myid=1]-1] WARN  org.apache.zookeeper.server.quorum.QuorumCnxManager - Cannot open channel to 3 at election address pulsar-zookeeper-2.pulsar-zookeeper.c8y-messaging-service.svc.cluster.local:3888
java.net.UnknownHostException: pulsar-zookeeper-2.pulsar-zookeeper.c8y-messaging-service.svc.cluster.local
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:220) ~[?:?]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[?:?]
	at java.net.Socket.connect(Socket.java:609) ~[?:?]
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.initiateConnection(QuorumCnxManager.java:384) [org.apache.zookeeper-zookeeper-3.8.0-SNAPSHOT.jar:3.8.0-SNAPSHOT]
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$QuorumConnectionReqThread.run(QuorumCnxManager.java:458) [org.apache.zookeeper-zookeeper-3.8.0-SNAPSHOT.jar:3.8.0-SNAPSHOT]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) [?:?]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) [?:?]
	at java.lang.Thread.run(Thread.java:829) [?:?]
14:35:09.729 [epollEventLoopGroup-4-1] WARN  org.apache.zookeeper.server.NettyServerCnxnFactory - Zookeeper server is not running, close the connection before starting the TLS handshake
14:35:17.480 [epollEventLoopGroup-4-2] WARN  org.apache.zookeeper.server.NettyServerCnxnFactory - Zookeeper server is not running, close the connection before starting the TLS handshake
14:35:39.785 [epollEventLoopGroup-4-1] WARN  org.apache.zookeeper.server.NettyServerCnxnFactory - Zookeeper server is not running, close the connection before starting the TLS handshake
14:35:42.371 [QuorumPeer[myid=1](plain=0.0.0.0:2181)(secure=disabled)] INFO  org.apache.zookeeper.server.quorum.FastLeaderElection - Notification time out: 60000 ms
14:35:42.371 [QuorumConnectionThread-[myid=1]-5] WARN  org.apache.zookeeper.server.quorum.QuorumCnxManager - Cannot open channel to 3 at election address pulsar-zookeeper-2.pulsar-zookeeper.c8y-messaging-service.svc.cluster.local:3888
java.net.UnknownHostException: pulsar-zookeeper-2.pulsar-zookeeper.c8y-messaging-service.svc.cluster.local
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:220) ~[?:?]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[?:?]
	at java.net.Socket.connect(Socket.java:609) ~[?:?]
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.initiateConnection(QuorumCnxManager.java:384) [org.apache.zookeeper-zookeeper-3.8.0-SNAPSHOT.jar:3.8.0-SNAPSHOT]
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$QuorumConnectionReqThread.run(QuorumCnxManager.java:458) [org.apache.zookeeper-zookeeper-3.8.0-SNAPSHOT.jar:3.8.0-SNAPSHOT]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) [?:?]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) [?:?]
	at java.lang.Thread.run(Thread.java:829) [?:?]
14:35:42.374 [QuorumConnectionThread-[myid=1]-4] WARN  org.apache.zookeeper.server.quorum.QuorumCnxManager - Cannot open channel to 2 at election address pulsar-zookeeper-1.pulsar-zookeeper.c8y-messaging-service.svc.cluster.local:3888
java.net.UnknownHostException: pulsar-zookeeper-1.pulsar-zookeeper.c8y-messaging-service.svc.cluster.local
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:220) ~[?:?]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[?:?]
	at java.net.Socket.connect(Socket.java:609) ~[?:?]
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.initiateConnection(QuorumCnxManager.java:384) [org.apache.zookeeper-zookeeper-3.8.0-SNAPSHOT.jar:3.8.0-SNAPSHOT]
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$QuorumConnectionReqThread.run(QuorumCnxManager.java:458) [org.apache.zookeeper-zookeeper-3.8.0-SNAPSHOT.jar:3.8.0-SNAPSHOT]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) [?:?]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) [?:?]
	at java.lang.Thread.run(Thread.java:829) [?:?]
14:35:47.425 [epollEventLoopGroup-4-2] WARN  org.apache.zookeeper.server.NettyServerCnxnFactory - Zookeeper server is not running, close the connection before starting the TLS handshake
14:36:09.738 [epollEventLoopGroup-4-1] WARN  org.apache.zookeeper.server.NettyServerCnxnFactory - Zookeeper server is not running, close the connection before starting the TLS handshake
14:36:17.448 [epollEventLoopGroup-4-2] WARN  org.apache.zookeeper.server.NettyServerCnxnFactory - Zookeeper server is not running, close the connection before starting the TLS handshake

I suspect Zookeeper 0 is not responding with ""I'm ok/up"" so kubernetes never starts up the other two instances. I saw this before and I think I side stepped it by always allowing things to progress and reply ""I'm ok/up"". Not exactly sure why the NIO server context does not suffer this problem but just closing the connection may not be enough to fix it for Netty/Pulsar/Kubernetes.

So not really sure how to progress this now unless we ignore SSL for Zookeeper/Pulsar/Kubernetes to keep the throttling hack and otherwise try with my original approach if throttling can't be avoided.

Hopefully I've not messed up testing or something else in building your pull request. But probably we need some more testing with Pulsar/Kubernetes at the very least?","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1021258557"", ""author_association"": ""NONE""}"
1798,IssueCommentSupplement,2022-01-25 14:48:58,andrekramer1,fork_close,"I see this was merged just as I was writing up my testing. Fixes the NULL reference OK but may not be a fix for the original 3 node Zookeeper Pulsar in Kubernetes start up problem? https://github.com/apache/zookeeper/pull/1770
","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1021260319"", ""author_association"": ""NONE""}"
1798,DeleteBranch,2022-01-25 14:49:34,eolivelli,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5950429749"", ""commit_url"": null}"
1798,IssueCommentSupplement,2022-01-25 14:53:18,eolivelli,fork_close,"@andrekramer1 thanks for testing this patch.

This is interesting
> I suspect Zookeeper 0 is not responding with ""I'm ok/up"" so kubernetes never starts up the other two instances. I saw this before and I think I side stepped it by always allowing things to progress and reply ""I'm ok/up"". Not exactly sure why the NIO server context does not suffer this problem but just closing the connection may not be enough to fix it for Netty/Pulsar/Kubernetes.

I have checked again the NIO Server connection code and the behaviour should be the same as for Netty, if the zkServer is not available then it drops the connection.


> There are uses of zks in NettyServerCnxn that I was also protecting from being null

I checked other accesses and it seemed to me that the other places should be safe (IIRC because the connection should have been dropped before reaching those parts, but I may be wrong)","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1021264821"", ""author_association"": ""CONTRIBUTOR""}"
1798,IssueCommentSupplement,2022-01-25 14:59:43,andrekramer1,fork_close,"Possibly zkServer comes up for NIO and not for Netty? Zookeeper 0 seems to be running an election before replying ""I'm ok/up"" (new warnings from my test above). I waited a few minutes and it did not seem to recover or progress any further. This was just 3 nodes on one machine as I did not have our 3 node kubernetes environment to test on. Possibly the new release can be tested with the official Helm chart just to confirm where we are now.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1021272941"", ""author_association"": ""NONE""}"
1798,IssueCommentSupplement,2022-01-25 16:20:09,eolivelli,fork_close,"I did a simple test on current master (with this fix).

1. Prepare a configuration file with 3 nodes
2. Start only the 1 node
3. the node is not able to create a quorum, but it is up and running
4. Send the 'ruok' command to the node
5. see the result

The result is ""imok"" with both NIO, but not with Netty

so this fix is not enough and you are right !

> 2022-01-25 17:20:48,289 [myid:1] - WARN  [nioEventLoopGroup-4-14:NettyServerCnxnFactory$CnxnChannelHandler@231] - Zookeeper server is not running, close the connection before starting the TLS handshake","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1021361091"", ""author_association"": ""CONTRIBUTOR""}"
1798,IssueCommentSupplement,2022-01-25 16:44:22,andrekramer1,fork_close,"I don't see the npe just a number of retries on the election and then the Zookeeper was restarted. So maybe it's a timing issue in that Kubernetes is not waiting long enough for Zookeeper node to say ""imok""? Seems to be 5 mins between restarts. This is on a Pulsar 2.8.0 I built with the patched Zookeeper (from your branch). It says state is LOOKING and then there are UnknownHostExceptions maybe you are getting another networking error? Never seems to get further for me. So pod keeps restarting:Events:
  Type     Reason            Age        From                        Message
  ----     ------            ----       ----                        -------
  Warning  FailedScheduling  <unknown>  default-scheduler           0/1 nodes are available: 1 node(s) didn't find available persistent volumes to bind.
  Warning  FailedScheduling  <unknown>  default-scheduler           0/1 nodes are available: 1 node(s) didn't find available persistent volumes to bind.
  Normal   Scheduled         <unknown>  default-scheduler           Successfully assigned c8y-messaging-service/pulsar-zookeeper-0 to ip-172-18-252-196
  Normal   Started           14m        kubelet, ip-172-18-252-196  Started container pulsar-zookeeper
  Warning  Unhealthy         14m        kubelet, ip-172-18-252-196  Readiness probe failed: ZK server is not ok
localhost [127.0.0.1] 2181 (?) : Connection refused
  Warning  Unhealthy  9m58s (x9 over 13m)   kubelet, ip-172-18-252-196  Readiness probe failed: ZK server is not ok
  Normal   Killing    9m38s                 kubelet, ip-172-18-252-196  Container pulsar-zookeeper failed liveness probe, will be restarted
  Normal   Created    9m37s (x2 over 14m)   kubelet, ip-172-18-252-196  Created container pulsar-zookeeper
  Normal   Pulled     9m37s (x2 over 14m)   kubelet, ip-172-18-252-196  Container image ""pulsar:2.8.0"" already present on machine
  Warning  Unhealthy  4m38s (x20 over 14m)  kubelet, ip-172-18-252-196  Liveness probe failed: ZK server is not ok

","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1021389539"", ""author_association"": ""NONE""}"
1799,SubmitCommit,2022-01-26 08:48:58,eolivelli,fork_merge,"ZOOKEEPER-4453: NettyServerCnxnFactory: allow to configure the early TLS connection drop feature
- add new flag netty.server.earlyDropSecureConnectionHandshakes to turn on/off ZOOKEEPER-3682
- disable ZOOKEEPER-3682 by default
- add docs
- add tests for this patch and for ZOOKEEPER-3682","{""sha"": ""2f49b17d448d3076e5e8b14ddfb218494c67c342"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2022-01-26T08:48:58Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2022-01-26T08:48:58Z""}}"
1799,OpenPR,2022-01-26 08:50:09,eolivelli,fork_merge,,
1799,ReviewRequested,2022-01-26 08:50:12,eolivelli,fork_merge,,"{""requested_reviewer"": {""login"": ""symat"", ""id"": 18458499, ""node_id"": ""MDQ6VXNlcjE4NDU4NDk5"", ""avatar_url"": ""https://avatars.githubusercontent.com/u/18458499?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/symat"", ""html_url"": ""https://github.com/symat"", ""followers_url"": ""https://api.github.com/users/symat/followers"", ""following_url"": ""https://api.github.com/users/symat/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/symat/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/symat/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/symat/subscriptions"", ""organizations_url"": ""https://api.github.com/users/symat/orgs"", ""repos_url"": ""https://api.github.com/users/symat/repos"", ""events_url"": ""https://api.github.com/users/symat/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/symat/received_events"", ""type"": ""User"", ""site_admin"": false}, ""requested_team"": null}"
1799,CrossReferenced,2022-01-26 08:51:08,eolivelli,fork_merge,Netty server does not respond to ruok while initializing cluster,"{""reference"": {""url"": ""https://api.github.com/repos/apache/zookeeper/issues/1770"", ""is_pull_request"": true}}"
1799,IssueComment,2022-01-26 10:45:04,andrekramer1,fork_merge,I saw a second zookeeper started in Kubernetes using this branch so the fix seems good.,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1022078745"", ""author_association"": ""NONE""}"
1799,IssueComment,2022-01-26 11:14:26,eolivelli,fork_merge,"@andrekramer1  thank you for confirming.
are you able to test TLS as well ?","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1022100889"", ""author_association"": ""CONTRIBUTOR""}"
1799,ReviewRequested,2022-01-26 11:16:29,eolivelli,fork_merge,,"{""requested_reviewer"": {""login"": ""fpj"", ""id"": 572920, ""node_id"": ""MDQ6VXNlcjU3MjkyMA=="", ""avatar_url"": ""https://avatars.githubusercontent.com/u/572920?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/fpj"", ""html_url"": ""https://github.com/fpj"", ""followers_url"": ""https://api.github.com/users/fpj/followers"", ""following_url"": ""https://api.github.com/users/fpj/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/fpj/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/fpj/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/fpj/subscriptions"", ""organizations_url"": ""https://api.github.com/users/fpj/orgs"", ""repos_url"": ""https://api.github.com/users/fpj/repos"", ""events_url"": ""https://api.github.com/users/fpj/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/fpj/received_events"", ""type"": ""User"", ""site_admin"": false}, ""requested_team"": null}"
1799,IssueComment,2022-01-26 11:25:50,andrekramer1,fork_merge,@eolivelli not able to test SSL and it was a one node Kubernetes test. It is similar to what I had with the new config false.,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1022109415"", ""author_association"": ""NONE""}"
1799,Assigned,2022-01-26 11:30:37,eolivelli,fork_merge,,"{""assignee"": {""login"": ""eolivelli"", ""id"": 9469110, ""node_id"": ""MDQ6VXNlcjk0NjkxMTA="", ""avatar_url"": ""https://avatars.githubusercontent.com/u/9469110?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/eolivelli"", ""html_url"": ""https://github.com/eolivelli"", ""followers_url"": ""https://api.github.com/users/eolivelli/followers"", ""following_url"": ""https://api.github.com/users/eolivelli/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/eolivelli/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/eolivelli/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/eolivelli/subscriptions"", ""organizations_url"": ""https://api.github.com/users/eolivelli/orgs"", ""repos_url"": ""https://api.github.com/users/eolivelli/repos"", ""events_url"": ""https://api.github.com/users/eolivelli/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/eolivelli/received_events"", ""type"": ""User"", ""site_admin"": false}}"
1799,ReviewRequested,2022-01-26 11:50:17,eolivelli,fork_merge,,"{""requested_reviewer"": {""login"": ""anmolnar"", ""id"": 4997876, ""node_id"": ""MDQ6VXNlcjQ5OTc4NzY="", ""avatar_url"": ""https://avatars.githubusercontent.com/u/4997876?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/anmolnar"", ""html_url"": ""https://github.com/anmolnar"", ""followers_url"": ""https://api.github.com/users/anmolnar/followers"", ""following_url"": ""https://api.github.com/users/anmolnar/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/anmolnar/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/anmolnar/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/anmolnar/subscriptions"", ""organizations_url"": ""https://api.github.com/users/anmolnar/orgs"", ""repos_url"": ""https://api.github.com/users/anmolnar/repos"", ""events_url"": ""https://api.github.com/users/anmolnar/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/anmolnar/received_events"", ""type"": ""User"", ""site_admin"": false}, ""requested_team"": null}"
1799,ReviewRequested,2022-01-26 11:50:17,eolivelli,fork_merge,,"{""requested_reviewer"": {""login"": ""lvfangmin"", ""id"": 2357288, ""node_id"": ""MDQ6VXNlcjIzNTcyODg="", ""avatar_url"": ""https://avatars.githubusercontent.com/u/2357288?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/lvfangmin"", ""html_url"": ""https://github.com/lvfangmin"", ""followers_url"": ""https://api.github.com/users/lvfangmin/followers"", ""following_url"": ""https://api.github.com/users/lvfangmin/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/lvfangmin/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/lvfangmin/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/lvfangmin/subscriptions"", ""organizations_url"": ""https://api.github.com/users/lvfangmin/orgs"", ""repos_url"": ""https://api.github.com/users/lvfangmin/repos"", ""events_url"": ""https://api.github.com/users/lvfangmin/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/lvfangmin/received_events"", ""type"": ""User"", ""site_admin"": false}, ""requested_team"": null}"
1799,ReviewRejected,2022-01-26 12:11:05,symat,fork_merge,nice change and great to have the new tests!,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1799#pullrequestreview-863426229""}"
1799,MergePR,2022-01-26 12:23:10,eolivelli,fork_merge,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5956327716"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/2f49b17d448d3076e5e8b14ddfb218494c67c342""}"
1799,IssueCommentSupplement,2022-01-26 12:24:54,eolivelli,fork_merge,"I pushed this patch by mistake to master branch.
Sorry","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1022151169"", ""author_association"": ""CONTRIBUTOR""}"
1799,IssueCommentSupplement,2022-01-26 12:26:17,eolivelli,fork_merge,I have push forced the master branch. Sorry,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1022152118"", ""author_association"": ""CONTRIBUTOR""}"
1799,IssueCommentSupplement,2022-01-26 12:27:58,eolivelli,fork_merge,@symat reopened as #1800,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1022153162"", ""author_association"": ""CONTRIBUTOR""}"
1799,DeleteBranch,2022-01-26 12:28:02,eolivelli,fork_merge,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5956352950"", ""commit_url"": null}"
1799,CrossReferenced,2022-01-26 12:28:25,eolivelli,fork_merge,ZOOKEEPER-4453: NettyServerCnxnFactory: allow to configure the early TLS connection drop feature,"{""reference"": {""url"": ""https://api.github.com/repos/apache/zookeeper/issues/1800"", ""is_pull_request"": true}}"
1800,SubmitCommit,2022-01-26 08:48:58,eolivelli,fork_close,"ZOOKEEPER-4453: NettyServerCnxnFactory: allow to configure the early TLS connection drop feature
- add new flag netty.server.earlyDropSecureConnectionHandshakes to turn on/off ZOOKEEPER-3682
- disable ZOOKEEPER-3682 by default
- add docs
- add tests for this patch and for ZOOKEEPER-3682","{""sha"": ""2f49b17d448d3076e5e8b14ddfb218494c67c342"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2022-01-26T08:48:58Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2022-01-26T08:48:58Z""}}"
1800,OpenPR,2022-01-26 12:27:38,eolivelli,fork_close,,
1800,CrossReferenced,2022-01-26 12:27:58,eolivelli,fork_close,ZOOKEEPER-4453: NettyServerCnxnFactory: allow to configure the early TLS connection drop feature,"{""reference"": {""url"": ""https://api.github.com/repos/apache/zookeeper/issues/1799"", ""is_pull_request"": true}}"
1800,ReviewRequested,2022-01-26 12:28:06,eolivelli,fork_close,,"{""requested_reviewer"": {""login"": ""symat"", ""id"": 18458499, ""node_id"": ""MDQ6VXNlcjE4NDU4NDk5"", ""avatar_url"": ""https://avatars.githubusercontent.com/u/18458499?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/symat"", ""html_url"": ""https://github.com/symat"", ""followers_url"": ""https://api.github.com/users/symat/followers"", ""following_url"": ""https://api.github.com/users/symat/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/symat/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/symat/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/symat/subscriptions"", ""organizations_url"": ""https://api.github.com/users/symat/orgs"", ""repos_url"": ""https://api.github.com/users/symat/repos"", ""events_url"": ""https://api.github.com/users/symat/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/symat/received_events"", ""type"": ""User"", ""site_admin"": false}, ""requested_team"": null}"
1800,IssueComment,2022-01-26 12:28:25,eolivelli,fork_close,"I had problems with #1799 
This is the same patch","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1022153451"", ""author_association"": ""CONTRIBUTOR""}"
1800,Revise,2022-01-26 12:29:21,eolivelli,fork_close,moved from WARN to INFO,"{""sha"": ""43f679f3054e4dab38a1e1531b192a11d581235c"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2022-01-26T12:24:15Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2022-01-26T12:29:21Z""}}"
1800,Revise,2022-01-26 12:29:27,eolivelli,fork_close,Address some comments,"{""sha"": ""2c4c55d7f568f6cb9119e69b3ac2c73d158e66dd"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2022-01-26T12:22:52Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2022-01-26T12:29:27Z""}}"
1800,Revise,2022-01-26 12:31:01,eolivelli,fork_close,More changes to INFO,"{""sha"": ""8815347e9d5256450d8c06e83ab032a5d3c550b6"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2022-01-26T12:31:01Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2022-01-26T12:31:01Z""}}"
1800,ReviewApproved,2022-01-26 12:38:22,symat,fork_close,"LGTM. My only question left is if we should also convert the other ""throw new IOException(""ZK down"");"" in NettyServerCnx.receiveMessage() (was around line 477). But I don't think this is crucial, I let you to decide.","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1800#pullrequestreview-863482434""}"
1800,IssueComment,2022-01-26 12:40:37,eolivelli,fork_close,"> But I don't think this is crucial, I let you to decide.
Yes, let's leave that for the future.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1022161757"", ""author_association"": ""CONTRIBUTOR""}"
1800,CrossReferenced,2022-01-26 16:58:03,andrekramer1,fork_close,Zookeeper in 3 node Kubernetes cluster does not pass heath check in 2.8.0,"{""reference"": {""url"": ""https://api.github.com/repos/apache/pulsar/issues/11070"", ""is_pull_request"": false}}"
1800,ClosePR,2022-01-27 10:10:25,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5962549874"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/1cc1eb6a2be7323a5c326652d59a070473bb8779""}"
1800,Referenced,2022-01-27 10:15:39,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5962588548"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/ec0ade3053fd56113df0f4cab9f1996d83152ff7""}"
1800,IssueCommentSupplement,2022-01-27 10:17:08,symat,fork_close,"Thanks @eolivelli for the fix!
The commit was pushed to master and to branch-3.7, it will be released in 3.7.1 and 3.8.0","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1023053464"", ""author_association"": ""CONTRIBUTOR""}"
1800,DeleteBranch,2022-01-27 10:35:24,eolivelli,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5962727187"", ""commit_url"": null}"
1800,CrossReferenced,2022-02-02 07:58:26,lhotari,fork_close,[Issue 11070][Zookeeper] Fix netcat returning early for probe,"{""reference"": {""url"": ""https://api.github.com/repos/apache/pulsar/issues/14088"", ""is_pull_request"": true}}"
1801,SubmitCommit,2022-01-26 13:21:49,eolivelli,fork_close,ZOOKEEPER-4454: Upgrade Netty to 4.1.73,"{""sha"": ""a8e8787e7e2d17e4735f7cc39844e682a0c44132"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2022-01-26T13:21:49Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2022-01-26T13:21:49Z""}}"
1801,OpenPR,2022-01-26 13:22:21,eolivelli,fork_close,,
1801,ReviewRequested,2022-01-26 13:22:27,eolivelli,fork_close,,"{""requested_reviewer"": {""login"": ""cnauroth"", ""id"": 227407, ""node_id"": ""MDQ6VXNlcjIyNzQwNw=="", ""avatar_url"": ""https://avatars.githubusercontent.com/u/227407?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/cnauroth"", ""html_url"": ""https://github.com/cnauroth"", ""followers_url"": ""https://api.github.com/users/cnauroth/followers"", ""following_url"": ""https://api.github.com/users/cnauroth/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/cnauroth/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/cnauroth/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/cnauroth/subscriptions"", ""organizations_url"": ""https://api.github.com/users/cnauroth/orgs"", ""repos_url"": ""https://api.github.com/users/cnauroth/repos"", ""events_url"": ""https://api.github.com/users/cnauroth/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/cnauroth/received_events"", ""type"": ""User"", ""site_admin"": false}, ""requested_team"": null}"
1801,ReviewRequested,2022-01-26 13:22:36,eolivelli,fork_close,,"{""requested_reviewer"": {""login"": ""anmolnar"", ""id"": 4997876, ""node_id"": ""MDQ6VXNlcjQ5OTc4NzY="", ""avatar_url"": ""https://avatars.githubusercontent.com/u/4997876?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/anmolnar"", ""html_url"": ""https://github.com/anmolnar"", ""followers_url"": ""https://api.github.com/users/anmolnar/followers"", ""following_url"": ""https://api.github.com/users/anmolnar/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/anmolnar/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/anmolnar/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/anmolnar/subscriptions"", ""organizations_url"": ""https://api.github.com/users/anmolnar/orgs"", ""repos_url"": ""https://api.github.com/users/anmolnar/repos"", ""events_url"": ""https://api.github.com/users/anmolnar/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/anmolnar/received_events"", ""type"": ""User"", ""site_admin"": false}, ""requested_team"": null}"
1801,ReviewRequested,2022-01-26 13:22:36,eolivelli,fork_close,,"{""requested_reviewer"": {""login"": ""phunt"", ""id"": 15702, ""node_id"": ""MDQ6VXNlcjE1NzAy"", ""avatar_url"": ""https://avatars.githubusercontent.com/u/15702?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/phunt"", ""html_url"": ""https://github.com/phunt"", ""followers_url"": ""https://api.github.com/users/phunt/followers"", ""following_url"": ""https://api.github.com/users/phunt/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/phunt/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/phunt/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/phunt/subscriptions"", ""organizations_url"": ""https://api.github.com/users/phunt/orgs"", ""repos_url"": ""https://api.github.com/users/phunt/repos"", ""events_url"": ""https://api.github.com/users/phunt/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/phunt/received_events"", ""type"": ""User"", ""site_admin"": false}, ""requested_team"": null}"
1801,ReviewRequested,2022-01-26 13:22:36,eolivelli,fork_close,,"{""requested_reviewer"": {""login"": ""symat"", ""id"": 18458499, ""node_id"": ""MDQ6VXNlcjE4NDU4NDk5"", ""avatar_url"": ""https://avatars.githubusercontent.com/u/18458499?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/symat"", ""html_url"": ""https://github.com/symat"", ""followers_url"": ""https://api.github.com/users/symat/followers"", ""following_url"": ""https://api.github.com/users/symat/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/symat/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/symat/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/symat/subscriptions"", ""organizations_url"": ""https://api.github.com/users/symat/orgs"", ""repos_url"": ""https://api.github.com/users/symat/repos"", ""events_url"": ""https://api.github.com/users/symat/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/symat/received_events"", ""type"": ""User"", ""site_admin"": false}, ""requested_team"": null}"
1801,IssueComment,2022-01-26 13:23:15,eolivelli,fork_close,please cherry pick to branch-3.6 and branch-3.7,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1022193173"", ""author_association"": ""CONTRIBUTOR""}"
1801,ReviewApproved,2022-01-26 14:22:19,symat,fork_close,LGTM,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1801#pullrequestreview-863606707""}"
1801,ReviewApproved,2022-01-26 22:17:38,cnauroth,fork_close,"LGTM. Thanks, @eolivelli !","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1801#pullrequestreview-864172919""}"
1801,ClosePR,2022-01-27 09:01:32,eolivelli,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5962097848"", ""commit_url"": null}"
1801,ReopenPR,2022-01-27 09:01:34,eolivelli,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5962098089"", ""commit_url"": null}"
1801,IssueComment,2022-01-27 09:34:19,eolivelli,fork_close,I am running the tests locally,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1023015606"", ""author_association"": ""CONTRIBUTOR""}"
1801,IssueComment,2022-01-27 10:36:21,eolivelli,fork_close,"test failure is not related to the patch
```
OR] Failures: 
[ERROR]   WatcherCleanerTest.testDeadWatcherMetrics:161 Total dead watchers cleared should be 3 ==> expected: <3> but was: <2>
[INFO] 
```","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1023070097"", ""author_association"": ""CONTRIBUTOR""}"
1801,IssueComment,2022-01-27 10:36:27,eolivelli,fork_close,launching again,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1023070179"", ""author_association"": ""CONTRIBUTOR""}"
1801,IssueComment,2022-01-27 11:37:51,eolivelli,fork_close,"tests failed again, for something unrelated to the patch
Thu, 27 Jan 2022 11:37:13 GMT

> [ERROR] Failures: 
> Thu, 27 Jan 2022 11:37:13 GMT
> [ERROR]   RequestThrottlerTest.testGlobalOutstandingRequestThrottlingWithRequestThrottlerDisabled:338 expected: <3> but was: <4>
> Thu, 27 Jan 2022 11:37:13 GMT
> [ERROR]   RaceConditionTest.testRaceConditionBetweenLeaderAndAckRequestProcessor:85 Leader failed to transition to new state. Current state is leading ==> expected: <true> but was: <false>","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1023119131"", ""author_association"": ""CONTRIBUTOR""}"
1801,ClosePR,2022-01-27 14:34:47,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5964193726"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/d45d5df963cc3f7641d6dec2920bb22cfe8d0a76""}"
1801,Referenced,2022-01-27 14:36:27,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5964205918"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/510088be1bdd154e84f365fcf87a57ed7e493edb""}"
1801,IssueCommentSupplement,2022-01-27 14:38:54,anmolnar,fork_close,Merged to master and 3.7 branches.,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1023277779"", ""author_association"": ""CONTRIBUTOR""}"
1801,Referenced,2022-01-29 11:38:11,eolivelli,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5974978832"", ""commit_url"": ""https://api.github.com/repos/eolivelli/zookeeper/commits/71267d05e05e01447968ceba9116c2346e6c7713""}"
1801,Referenced,2022-01-29 11:43:08,eolivelli,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5974983060"", ""commit_url"": ""https://api.github.com/repos/eolivelli/zookeeper/commits/7168a9721a579a367129c1b96d6c9d55382522a5""}"
1802,Assigned,2022-01-26 13:59:36,eolivelli,fork_close,,"{""assignee"": {""login"": ""eolivelli"", ""id"": 9469110, ""node_id"": ""MDQ6VXNlcjk0NjkxMTA="", ""avatar_url"": ""https://avatars.githubusercontent.com/u/9469110?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/eolivelli"", ""html_url"": ""https://github.com/eolivelli"", ""followers_url"": ""https://api.github.com/users/eolivelli/followers"", ""following_url"": ""https://api.github.com/users/eolivelli/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/eolivelli/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/eolivelli/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/eolivelli/subscriptions"", ""organizations_url"": ""https://api.github.com/users/eolivelli/orgs"", ""repos_url"": ""https://api.github.com/users/eolivelli/repos"", ""events_url"": ""https://api.github.com/users/eolivelli/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/eolivelli/received_events"", ""type"": ""User"", ""site_admin"": false}}"
1802,OpenPR,2022-01-26 13:59:36,eolivelli,fork_close,,
1802,ReviewComment,2022-01-26 19:01:46,ctubbsii,fork_close,,"{""author_association"": ""MEMBER"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1802#pullrequestreview-863973987""}"
1802,IssueComment,2022-01-27 13:20:22,anmolnar,fork_close,"@eolivelli Waiting for the syntax fix to make CI happy again.
This patch could render the logback migration pointless to be honest.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1023203679"", ""author_association"": ""CONTRIBUTOR""}"
1802,IssueComment,2022-01-27 13:29:25,eolivelli,fork_close,I will also have to update the LICENSE files,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1023211921"", ""author_association"": ""CONTRIBUTOR""}"
1802,ReviewComment,2022-01-27 16:48:59,sudeepknair,fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1802#pullrequestreview-865157405""}"
1802,IssueComment,2022-01-27 21:06:41,ctubbsii,fork_close,"@anmolnar wrote:
> @eolivelli Waiting for the syntax fix to make CI happy again. This patch could render the logback migration pointless to be honest.

If there was interest in staying on log4j1 longer, it does obviate the *need* to move to logback. However, you had some other good changes in that migration that improved using logs for tests, and the changes you did to move to logback increase the confidence that users can swap out the implementation at runtime with any other slf4j runtime implementation jar. I think migrating to reload4j is a temporary hack. Long-term, what you did to get onto logback will be more useful.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1023638912"", ""author_association"": ""MEMBER""}"
1802,ReviewApproved,2022-01-28 12:58:48,symat,fork_close,"I like this approach for our older but still active branches. But I also agree with @ctubbsii that is is more like a 'temporary hack' (or maybe better put it as ""the most backward-compatible, yet still secure option"" we can do in bugfix releases). Do you think we should discuss this on the dev list too? (also we need some green CI run, I just re-triggered it)","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1802#pullrequestreview-866109805""}"
1802,IssueComment,2022-01-28 15:30:50,eolivelli,fork_close,"> Do you think we should discuss this on the dev list too

sure thing.
I created this PR in order to kickstart CI and do testing.

for old branches we cannot change the logging framework, and Reload4j is 100% compatible","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1024330714"", ""author_association"": ""CONTRIBUTOR""}"
1802,IssueComment,2022-01-31 17:37:54,tamaashu,fork_close,@eolivelli what happens with the log4j1 jars which come to ZooKeeper transitively? Should we not exclude them everywhere?,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1026035628"", ""author_association"": ""CONTRIBUTOR""}"
1802,IssueComment,2022-01-31 18:27:28,eolivelli,fork_close,"> @eolivelli what happens with the log4j1 jars which come to ZooKeeper transitively? Should we not exclude them everywhere?

The new version will import reload4j.

Probably we can make this optional, and include it only in the binaries package.
So people won't have to care about excluding reload4j when upgrading.

Good point!","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1026079175"", ""author_association"": ""CONTRIBUTOR""}"
1802,IssueComment,2022-02-01 08:17:06,eolivelli,fork_close,@tamaashu  PTAL,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1026578503"", ""author_association"": ""CONTRIBUTOR""}"
1802,HeadRefForcePushed,2022-02-01 14:14:58,eolivelli,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5988557213"", ""commit_url"": null}"
1802,IssueComment,2022-02-01 14:46:38,tamaashu,fork_close,"@eolivelli looks good to me, but I have thought something else. What about the dependencies used in ZooKeeper.

e.g. ZooKeeper uses jUnit or commons-cli  or anything else and they depend on log4j1, shouldn't we exclude log4j1 when we use them?","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1026920900"", ""author_association"": ""CONTRIBUTOR""}"
1802,IssueComment,2022-02-01 15:29:53,ctubbsii,fork_close,"> @eolivelli looks good to me, but I have thought something else. What about the dependencies used in ZooKeeper.
> 
> e.g. ZooKeeper uses jUnit or commons-cli or anything else and they depend on log4j1, shouldn't we exclude log4j1 when we use them?

Yes. In general, ZK should exclude any logging runtimes coming from dependencies using `<exclusions>`, and it should mark any logging runtimes it adds as `<optional>true</optional>`. This would be very helpful for downstream Maven builds that depend on ZK.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1026971460"", ""author_association"": ""MEMBER""}"
1802,IssueComment,2022-02-01 15:31:50,eolivelli,fork_close,"> Yes. In general, ZK should exclude any logging runtimes coming from dependencies using <exclusions>, and it should mark any logging runtimes it adds as <optional>true</optional>. This would be very helpful for downstream Maven builds that depend on ZK.

100% agreed.
The real problem is that we don't have a clean ""client package"", I started to work on it much time ago, but I never finished.

But this is actually out of the scope of the PR. isn't it ?","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1026974069"", ""author_association"": ""CONTRIBUTOR""}"
1802,IssueComment,2022-02-01 16:14:58,ctubbsii,fork_close,"> > Yes. In general, ZK should exclude any logging runtimes coming from dependencies using , and it should mark any logging runtimes it adds as true. This would be very helpful for downstream Maven builds that depend on ZK.
> 
> 100% agreed. The real problem is that we don't have a clean ""client package"", I started to work on it much time ago, but I never finished.

I'm not sure what you mean by `clean ""client package""` or how that applies here.

> 
> But this is actually out of the scope of the PR. isn't it ?

I'm not so sure. In order to ensure slf4j binds to reload4j and not to log4j1, you probably need to make sure any log4j1 jars are excluded from the classpath. That means doing the work to set up any exclusions from dependencies. That can be made easier by checking the dependency hierarchy with `mvn dependency:tree`. Declaring reload4j as optional might be considered out of scope, but it's also trivial to do, so I'd include it anyway, so long as it doesn't prevent it from being bundled in the distribution assembly.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1027018960"", ""author_association"": ""MEMBER""}"
1802,IssueComment,2022-02-01 17:02:53,eolivelli,fork_close,"I have excluded the slf4j binding from zookeeper-server, setting it to ""test scope"".
People that use zookeeper-server as ""client"" library should not import that binding and reloadj4 into their dependency tree.

but we want it in the binary tarball.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1027067804"", ""author_association"": ""CONTRIBUTOR""}"
1802,ReviewRejected,2022-02-01 18:08:12,ctubbsii,fork_close,,"{""author_association"": ""MEMBER"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1802#pullrequestreview-869580500""}"
1802,IssueComment,2022-02-01 18:12:23,ctubbsii,fork_close,"> I have excluded the slf4j binding from zookeeper-server, setting it to ""test scope"". People that use zookeeper-server as ""client"" library should not import that binding and reloadj4 into their dependency tree.
> 
> but we want it in the binary tarball.

The distribution looks like it's being put together using maven-assembly-plugin using `dependencySets`. Marking it as a test dependency means it might not show up as a transitive dependency for that. So, you can fix that by adding it directly as a dependency to the `zookeeper-assembly/pom.xml`. Here is where you can also add exclusions so logj4 1.2 jars don't make it into the assembly.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1027142104"", ""author_association"": ""MEMBER""}"
1802,IssueComment,2022-02-16 19:18:55,c3ivodujmovic,fork_close,"Does anyone understand why the make of zookeeper client c is failing?  This build code has not changed in a while, so is it could be a real issue? https://github.com/apache/zookeeper/blob/48191b63dfaa4d6d71572608a31338e15f02f0fa/zookeeper-client/zookeeper-client-c/pom.xml#L175 ","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1042066780"", ""author_association"": ""NONE""}"
1802,IssueComment,2022-02-16 19:54:48,eolivelli,fork_close,It is a flaky test,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1042106392"", ""author_association"": ""CONTRIBUTOR""}"
1802,ReviewComment,2022-02-17 17:35:06,arshadmohammad,fork_close,,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1802#pullrequestreview-886320992""}"
1802,IssueComment,2022-02-23 13:45:18,garydgregory,fork_close,Note that reload4j is not 100% compatible with Log4j 1.2.,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1048797467"", ""author_association"": ""MEMBER""}"
1802,IssueComment,2022-02-23 13:55:27,eolivelli,fork_close,"> Note that reload4j is not 100% compatible with Log4j 1.2.

Thanks for the reminder.
Would you suggest to use log4j2 and activate the compatibility bridge instead of using that fork?

It seemed to me that this move was the less risky.
We are doing very limited use of the capabilities of log4j1 as we are using sl4fj API.
The main problem for us is to to give surprises to users who changed the log configuration file","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1048806212"", ""author_association"": ""CONTRIBUTOR""}"
1802,IssueComment,2022-02-23 16:37:35,garydgregory,fork_close,"I understand your POV WRT minimum changes. You have a whole team of dedicated Apache developers ready to help :-) we have made a lot of improvements to the 1.2 bridge for the upcoming 2.17.2 release, which hopefully will get a release within a week.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1048976689"", ""author_association"": ""MEMBER""}"
1802,IssueComment,2022-02-23 21:42:36,li4wang,fork_close,"> Note that reload4j is not 100% compatible with Log4j 1.2.

According to the Reload4j website, reload4j  is a fork of log4j1.2 and supposed to be a drop-in replacement for log4j.1.2.17. Any info on what and why it is not 100% compatible with Log4j 1.2?","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1049242463"", ""author_association"": ""CONTRIBUTOR""}"
1802,IssueComment,2022-02-23 22:10:35,ctubbsii,fork_close,"> > Note that reload4j is not 100% compatible with Log4j 1.2.
> 
> According to the Reload4j website, reload4j is a fork of log4j1.2 and supposed to be a drop-in replacement for log4j.1.2.17. Any info on what and why it is not 100% compatible with Log4j 1.2?

The only issues I saw was the removal of the JMX MBean stuff, but ZooKeeper should already handle that fine.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1049263495"", ""author_association"": ""MEMBER""}"
1802,IssueComment,2022-02-23 22:31:43,li4wang,fork_close,"> The only issues I saw was the removal of the JMX MBean stuff,  but ZooKeeper should already handle that fine.

Yeah, I noticed JMX MBean stuff was removed from reload4j-1.2.18.5 and 1.2.19, but I don't know if the removal was intended and permanent. I posted a message to the  reload4j distribution list but haven't got response yet.

I replaced log4j1.2.17 with reload4j-1.2.18.3  and slf4j-reload4j-1.7.35 for the legacy Zookeeper 3.4 release and it works great.

Yes, Zookeeper still tries to instantiate the `org.apache.log4j.jmx.HierarchyDynamicMBean ` in  ManagedUtil.registerLog4jMBeans, but the caller catches the JMSException and logs it as warn.

https://github.com/apache/zookeeper/blob/master/zookeeper-server/src/main/java/org/apache/zookeeper/jmx/ManagedUtil.java#L68

https://github.com/apache/zookeeper/blob/master/zookeeper-server/src/main/java/org/apache/zookeeper/server/ZooKeeperServerMain.java#L102-L103

","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1049279741"", ""author_association"": ""CONTRIBUTOR""}"
1802,IssueComment,2022-03-11 03:09:04,li4wang,fork_close,Would it be possible to get this PR merged soon? Please let me know if anything I can help with. ,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1064727777"", ""author_association"": ""CONTRIBUTOR""}"
1802,IssueComment,2022-03-11 08:22:12,eolivelli,fork_close,"I don't know why GH does not allow me to restart CI, trying to close and reopen","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1064881425"", ""author_association"": ""CONTRIBUTOR""}"
1802,ClosePR,2022-03-11 08:22:15,eolivelli,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6223155369"", ""commit_url"": null}"
1802,ReopenPR,2022-03-11 08:22:18,eolivelli,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6223155588"", ""commit_url"": null}"
1802,Revise,2022-03-11 14:00:25,eolivelli,fork_close,Do not report reload4j as transitive dependency for dependant projects,"{""sha"": ""4be74c4f57adb5f350fd5d551ad4474c8a27d880"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2022-02-01T08:14:27Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2022-03-11T14:00:25Z""}}"
1802,Revise,2022-03-11 14:00:25,eolivelli,fork_close,add LICENSE stuff,"{""sha"": ""9c6a12823a68c9de1fd848811ec3bfeda4b551d6"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2022-01-30T07:53:05Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2022-03-11T14:00:25Z""}}"
1802,Revise,2022-03-11 14:00:25,eolivelli,fork_close,Fix contrib rest,"{""sha"": ""3bbcd95d34849763a1e8b20896684a283f962463"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2022-01-27T13:40:58Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2022-03-11T14:00:25Z""}}"
1802,Revise,2022-03-11 14:00:25,eolivelli,fork_close,fix fatjar,"{""sha"": ""dbf29df20bf0efbd7d177876802087f9b7b79db8"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2022-01-26T15:56:51Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2022-03-11T14:00:25Z""}}"
1802,Revise,2022-03-11 14:00:25,eolivelli,fork_close,fix loggraph,"{""sha"": ""f265335992a0088b609d0ab663c50a9cd7ebbaec"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2022-01-26T16:23:54Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2022-03-11T14:00:25Z""}}"
1802,Revise,2022-03-11 14:00:25,eolivelli,fork_close,fix build,"{""sha"": ""b27844f31bf52ece28dd3a92859dc013ff78d99e"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2022-01-27T13:28:40Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2022-03-11T14:00:25Z""}}"
1802,Revise,2022-03-11 14:00:25,eolivelli,fork_close,fix contrib,"{""sha"": ""37a55cc0f5839d164ef4f2419415d0dfccf4e0ff"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2022-01-26T15:04:57Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2022-03-11T14:00:25Z""}}"
1802,Revise,2022-03-11 14:00:25,eolivelli,fork_close,ZOOKEEPER-4455: Move to https://reload4j.qos.ch/ (remove log4j1),"{""sha"": ""e7879295157be6427bb845a6467024192e09e235"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2022-01-26T13:58:47Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2022-03-11T14:00:25Z""}}"
1802,Revise,2022-03-11 14:00:26,eolivelli,fork_close,move slf4j impl to test scope,"{""sha"": ""3d8ce939a148775c85d863433c7efcabbe78a788"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2022-02-01T14:14:40Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2022-03-11T14:00:26Z""}}"
1802,Revise,2022-03-11 14:00:26,eolivelli,fork_close,add slf4j-log4j12 to the tarball,"{""sha"": ""0e99b80701211a8f8ae42fcdb578caa45b5174e7"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2022-02-01T17:03:36Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2022-03-11T14:00:26Z""}}"
1802,HeadRefForcePushed,2022-03-11 14:00:32,eolivelli,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6225053786"", ""commit_url"": null}"
1802,IssueComment,2022-03-11 14:01:14,eolivelli,fork_close,I have rebased onto branch-3.7 after cherry-picking https://issues.apache.org/jira/browse/ZOOKEEPER-4479 (to fix C client test flakyness),"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1065140139"", ""author_association"": ""CONTRIBUTOR""}"
1802,ReviewComment,2022-03-11 14:24:07,sonatype-lift[bot],fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1802#pullrequestreview-907282447""}"
1802,IssueComment,2022-03-11 18:55:31,li4wang,fork_close,"Thanks for looking into this @eolivelli 

For the Vulnerability issue reported from slf4j-log4j12, how about updating slf4j version from `1.7.30` to `1.7.35`? Another thing we can try is replacing slf4j-log4j12 with slf4j-reload4j for the binding after upgrading slf4j to 1.7.35.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1065398600"", ""author_association"": ""CONTRIBUTOR""}"
1802,IssueComment,2022-03-13 18:43:48,ctubbsii,fork_close,"> Thanks for looking into this @eolivelli
> 
> For the Vulnerability issue reported from slf4j-log4j12, how about updating slf4j version from `1.7.30` to `1.7.35`? Another thing we can try is replacing slf4j-log4j12 with slf4j-reload4j for the binding after upgrading slf4j to 1.7.35.

Both of these should be done. slf4j-log4j12 after 1.7.35 is just a simple redirect to slf4j-reload4j anyway. On the class path, it makes no difference, because the jar it resolves to is the same. It's just a name change.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1066159594"", ""author_association"": ""MEMBER""}"
1802,IssueComment,2022-03-22 17:50:08,li4wang,fork_close,"Any updates on this @eolivelli ? We are in the process  of deploying 3.7 to production. It would be great if this issue can be addressed. Please let me know if anything I can help with. Thanks.


","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1075442960"", ""author_association"": ""CONTRIBUTOR""}"
1802,IssueComment,2022-03-22 18:07:36,eolivelli,fork_close,I have restarted CI,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1075460926"", ""author_association"": ""CONTRIBUTOR""}"
1802,Revise,2022-03-23 08:58:15,eolivelli,fork_close,Update SLF4J,"{""sha"": ""0399bffe7249c4fa773888a18198954292f8c8ac"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2022-03-23T08:58:15Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2022-03-23T08:58:15Z""}}"
1802,IssueComment,2022-03-23 08:58:41,eolivelli,fork_close,I have updated SLF4J to 1.7.35  as suggested by @ctubbsii ,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1076112807"", ""author_association"": ""CONTRIBUTOR""}"
1802,Revise,2022-03-23 21:08:47,eolivelli,fork_close,Move to slf4j-reload4j,"{""sha"": ""f80c08948dd38bedee7efaa3d6ba8c9e0c2b6e02"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2022-03-23T21:08:47Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2022-03-23T21:08:47Z""}}"
1802,IssueComment,2022-03-23 21:09:26,eolivelli,fork_close,"I had to move to slf4j-reload4j otherwise I saw the same problem as @arshadmohammad 

Now I see the server working correctly","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1076823058"", ""author_association"": ""CONTRIBUTOR""}"
1802,IssueComment,2022-03-24 15:21:35,arshadmohammad,fork_close,"Changes look good to me. Functionality works fine. 
As this work started long back and meanwhile reload4j team have come up with new releases. I think it is better to take latest release [1.2.19](https://github.com/qos-ch/reload4j/releases/tag/v_1.2.19)","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1077748610"", ""author_association"": ""CONTRIBUTOR""}"
1802,Revise,2022-03-25 10:26:44,eolivelli,fork_close,update reload4j to 1.2.19,"{""sha"": ""54415368f709d297db26c182fa50e892415d19e7"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2022-03-25T10:26:44Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2022-03-25T10:26:44Z""}}"
1802,IssueComment,2022-03-25 10:27:26,eolivelli,fork_close,"@arshadmohammad I have updated reload4j
PTAL

feel free to merge if you are happy with this patch and CI passes
thanks","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1078880037"", ""author_association"": ""CONTRIBUTOR""}"
1802,ReviewApproved,2022-03-25 17:15:06,arshadmohammad,fork_close,LGTM +1,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1802#pullrequestreview-921934317""}"
1802,IssueComment,2022-03-25 17:19:20,arshadmohammad,fork_close,I will merge this PR tomorrow.,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1079238139"", ""author_association"": ""CONTRIBUTOR""}"
1802,Referenced,2022-03-26 17:41:36,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6312227820"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/efe333e7f8c1894d3c985cefcf1bf24d857c1b4e""}"
1802,IssueCommentSupplement,2022-03-26 17:46:02,arshadmohammad,fork_close,"Merged to branch-3.7.  But this PR change causes conflict in branch-3.6
@eolivelli please raise PR for branch-3.6. Thanks.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1079741855"", ""author_association"": ""CONTRIBUTOR""}"
1802,ClosePR,2022-03-26 17:46:02,arshadmohammad,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6312234363"", ""commit_url"": null}"
1802,DeleteBranch,2022-03-27 06:06:23,eolivelli,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6313199991"", ""commit_url"": null}"
1802,IssueCommentSupplement,2022-03-27 06:06:34,eolivelli,fork_close,I will send a new patch for 3.6 thanks,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1079847903"", ""author_association"": ""CONTRIBUTOR""}"
1802,IssueCommentSupplement,2022-03-28 16:34:35,li4wang,fork_close,Thanks @eolivelli and others for getting this in. Really appreciated. ,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1080880951"", ""author_association"": ""CONTRIBUTOR""}"
1802,Referenced,2022-03-29 07:41:37,eolivelli,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6324190863"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/654dc5bc5dc7567722003b76f9338a9f594b2483""}"
1802,Referenced,2022-05-16 15:22:27,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6617159916"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/c4f26832693ef9d75cea50923ea5da3cfe772f37""}"
1803,SubmitCommit,2022-01-28 07:18:26,maoling,fork_close,ZOOKEEPER-3423: use the maven-like way to ignore the generated version java files,"{""sha"": ""c045747dd3c5ff3ab68629a55b4b534db7982420"", ""author"": {""name"": ""maoling"", ""email"": ""maoling@apache.org"", ""date"": ""2022-01-27T10:43:14Z""}, ""committer"": {""name"": ""maoling"", ""email"": ""maoling@apache.org"", ""date"": ""2022-01-28T07:18:26Z""}}"
1803,OpenPR,2022-01-28 08:16:20,maoling,fork_close,,
1803,IssueCommentSupplement,2022-05-09 03:00:47,maoling,fork_close,"Since branch-3.5 will EOL, so let me close this PR","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1120585944"", ""author_association"": ""MEMBER""}"
1803,ClosePR,2022-05-09 03:00:47,maoling,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6569694881"", ""commit_url"": null}"
1804,SubmitCommit,2022-01-27 11:04:50,ctubbsii,fork_close,"ZOOKEEPER-3738: Use mavanagaiata for git commit id

Use mavanagaiata plugin to get git commit id for VerGen instead of
properties-maven-plugin (which is broken in some environments).

Also add the commit to the jar manifests for easy reference when given a
jar of unknown origin (especially useful for SNAPSHOT builds).","{""sha"": ""a81c19bb381b7f581def3edd50d98cc101db6b39"", ""author"": {""name"": ""Christopher Tubbs"", ""email"": ""ctubbsii@apache.org"", ""date"": ""2020-02-25T18:43:52Z""}, ""committer"": {""name"": ""maoling"", ""email"": ""maoling@apache.org"", ""date"": ""2022-01-27T11:04:50Z""}}"
1804,SubmitCommit,2022-01-28 07:34:16,maoling,fork_close,ZOOKEEPER-3738: Fix VerGen when mvngit.commit.id is null,"{""sha"": ""41f4d582f976c2a9512685cd8950e64b31d93f95"", ""author"": {""name"": ""maoling"", ""email"": ""maoling@apache.org"", ""date"": ""2022-01-28T07:34:16Z""}, ""committer"": {""name"": ""maoling"", ""email"": ""maoling@apache.org"", ""date"": ""2022-01-28T07:34:16Z""}}"
1804,OpenPR,2022-01-28 08:36:48,maoling,fork_close,,
1804,IssueCommentSupplement,2022-05-09 03:00:31,maoling,fork_close,"Since branch-3.5 will EOL, so let me close this PR","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1120585817"", ""author_association"": ""MEMBER""}"
1804,ClosePR,2022-05-09 03:00:31,maoling,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6569694201"", ""commit_url"": null}"
1805,SubmitCommit,2022-01-28 11:12:25,maoling,fork_close,ZOOKEEPER-4377: KeeperException.create has NullPointerException when low version client requests the high version server,"{""sha"": ""b11699524d0485e5f510aa92360541dbadfd52cf"", ""author"": {""name"": ""maoling"", ""email"": ""maoling@apache.org"", ""date"": ""2022-01-28T11:12:25Z""}, ""committer"": {""name"": ""maoling"", ""email"": ""maoling@apache.org"", ""date"": ""2022-01-28T11:12:25Z""}}"
1805,OpenPR,2022-01-28 11:20:35,maoling,fork_close,,
1805,IssueCommentSupplement,2022-05-09 03:00:00,maoling,fork_close,"Since `branch-3.5` will EOL, so let me close this PR","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1120585570"", ""author_association"": ""MEMBER""}"
1805,ClosePR,2022-05-09 03:00:00,maoling,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6569692753"", ""commit_url"": null}"
1807,SubmitCommit,2022-01-28 12:41:22,anmolnar,fork_close,ZOOKEEPER-4461. Remove log4j references from zookeeper-contrib project,"{""sha"": ""587b534deceae26d51f7e4da8dec4ca2312c0819"", ""author"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2022-01-28T12:41:22Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2022-01-28T12:41:22Z""}}"
1807,OpenPR,2022-01-28 12:44:34,anmolnar,fork_close,,
1807,ReviewComment,2022-01-28 13:16:00,symat,fork_close,,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1807#pullrequestreview-866122598""}"
1807,RenameTitle,2022-01-28 13:18:06,symat,fork_close,,"{""rename"": {""from"": ""ZOOKEEPER-4461 Migrate zookeeper-contrib and -recipes projects."", ""to"": ""ZOOKEEPER-4461 Use logback in zookeeper-contrib project""}, ""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5970664206""}"
1807,ReviewApproved,2022-01-28 15:27:43,eolivelli,fork_close,LGTM,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1807#pullrequestreview-866296170""}"
1807,IssueComment,2022-01-31 08:42:18,symat,fork_close,"I re-triggered the CI. We had this test failing before (shouldn't be related to this patch):
```
Zab1_0Test.testNormalFollowerRunWithDiff:706->testFollowerConversation:445 expected: <4294967298> but was: <0>
```","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1025498688"", ""author_association"": ""CONTRIBUTOR""}"
1807,IssueComment,2022-01-31 16:26:47,symat,fork_close,"different java test failed this time, must both be flaky
```
[ERROR] Failures: 
[ERROR]   RequestThrottlerTest.testRequestThrottler:206 expected: <5> but was: <4>
```

@anmolnar do you have time to push a new commit with the ""file renaming""? If not (and @eolivelli wants to cut the release), then I don't think this is very necessary.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1025964615"", ""author_association"": ""CONTRIBUTOR""}"
1807,ClosePR,2022-02-01 10:39:17,eolivelli,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5987179873"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/04c7ad115e298387e4a75dfe14013f6c6aa68a6d""}"
1807,IssueCommentSupplement,2022-02-01 10:39:34,eolivelli,fork_close,"committed to master branch, thank you @anmolnar ","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1026701438"", ""author_association"": ""CONTRIBUTOR""}"
1807,DeleteBranch,2022-02-04 12:14:06,anmolnar,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6009117962"", ""commit_url"": null}"
1807,CrossReferenced,2022-02-14 10:58:22,iamgd67,fork_close,ZOOKEEPER-4465: zooinspector logback pattern config add escape for '(' and ')',"{""reference"": {""url"": ""https://api.github.com/repos/apache/zookeeper/issues/1814"", ""is_pull_request"": true}}"
1807,Referenced,2022-09-25 21:30:30,rahulrane50,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7454080873"", ""commit_url"": ""https://api.github.com/repos/rahulrane50/zookeeper/commits/46de1f944eba8425e25a5fd8dff0256108200cf5""}"
1807,CrossReferenced,2022-09-25 21:33:54,rahulrane50,fork_close,ZOOKEEPER-4461: Use logback in zookeeper-contrib project,"{""reference"": {""url"": ""https://api.github.com/repos/linkedin/zookeeper/issues/108"", ""is_pull_request"": true}}"
1808,SubmitCommit,2022-01-29 11:37:48,eolivelli,fork_close,"ZOOKEEPER-4454: Upgrade Netty to 4.1.73

Author: Enrico Olivelli <eolivelli@apache.org>

Reviewers: symat@apache.org, cnauroth@apache.org

Closes #1801 from eolivelli/fix/netty-4.1.72

(cherry picked from commit d45d5df963cc3f7641d6dec2920bb22cfe8d0a76)","{""sha"": ""71267d05e05e01447968ceba9116c2346e6c7713"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2022-01-27T14:34:36Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2022-01-29T11:37:48Z""}}"
1808,OpenPR,2022-01-29 11:38:52,eolivelli,fork_close,,
1808,ReviewRequested,2022-01-29 11:43:43,eolivelli,fork_close,,"{""requested_reviewer"": {""login"": ""cnauroth"", ""id"": 227407, ""node_id"": ""MDQ6VXNlcjIyNzQwNw=="", ""avatar_url"": ""https://avatars.githubusercontent.com/u/227407?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/cnauroth"", ""html_url"": ""https://github.com/cnauroth"", ""followers_url"": ""https://api.github.com/users/cnauroth/followers"", ""following_url"": ""https://api.github.com/users/cnauroth/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/cnauroth/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/cnauroth/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/cnauroth/subscriptions"", ""organizations_url"": ""https://api.github.com/users/cnauroth/orgs"", ""repos_url"": ""https://api.github.com/users/cnauroth/repos"", ""events_url"": ""https://api.github.com/users/cnauroth/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/cnauroth/received_events"", ""type"": ""User"", ""site_admin"": false}, ""requested_team"": null}"
1808,ReviewRequested,2022-01-29 11:43:50,eolivelli,fork_close,,"{""requested_reviewer"": {""login"": ""anmolnar"", ""id"": 4997876, ""node_id"": ""MDQ6VXNlcjQ5OTc4NzY="", ""avatar_url"": ""https://avatars.githubusercontent.com/u/4997876?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/anmolnar"", ""html_url"": ""https://github.com/anmolnar"", ""followers_url"": ""https://api.github.com/users/anmolnar/followers"", ""following_url"": ""https://api.github.com/users/anmolnar/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/anmolnar/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/anmolnar/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/anmolnar/subscriptions"", ""organizations_url"": ""https://api.github.com/users/anmolnar/orgs"", ""repos_url"": ""https://api.github.com/users/anmolnar/repos"", ""events_url"": ""https://api.github.com/users/anmolnar/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/anmolnar/received_events"", ""type"": ""User"", ""site_admin"": false}, ""requested_team"": null}"
1808,ReviewRequested,2022-01-29 11:43:50,eolivelli,fork_close,,"{""requested_reviewer"": {""login"": ""symat"", ""id"": 18458499, ""node_id"": ""MDQ6VXNlcjE4NDU4NDk5"", ""avatar_url"": ""https://avatars.githubusercontent.com/u/18458499?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/symat"", ""html_url"": ""https://github.com/symat"", ""followers_url"": ""https://api.github.com/users/symat/followers"", ""following_url"": ""https://api.github.com/users/symat/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/symat/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/symat/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/symat/subscriptions"", ""organizations_url"": ""https://api.github.com/users/symat/orgs"", ""repos_url"": ""https://api.github.com/users/symat/repos"", ""events_url"": ""https://api.github.com/users/symat/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/symat/received_events"", ""type"": ""User"", ""site_admin"": false}, ""requested_team"": null}"
1808,IssueComment,2022-01-30 07:54:57,eolivelli,fork_close,"@cnauroth do you mind ""approving"" also this patch please, as you already reviewed the other patches on the other branches ?","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1025090524"", ""author_association"": ""CONTRIBUTOR""}"
1808,ReviewApproved,2022-01-30 08:51:09,symat,fork_close,LGTM,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1808#pullrequestreview-867068843""}"
1808,CrossReferenced,2022-01-31 14:28:20,eolivelli,fork_close,ZOOKEEPER-4462: Update Netty tcnative to 2.0.48,"{""reference"": {""url"": ""https://api.github.com/repos/apache/zookeeper/issues/1810"", ""is_pull_request"": true}}"
1808,IssueComment,2022-01-31 16:07:49,symat,fork_close,merging it soon,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1025943817"", ""author_association"": ""CONTRIBUTOR""}"
1808,Referenced,2022-01-31 16:10:00,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5981964641"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/db65d65ac3d98028ee763250851a4d971ec0edde""}"
1808,ClosePR,2022-01-31 16:10:43,symat,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5981970897"", ""commit_url"": null}"
1809,SubmitCommit,2022-01-29 11:42:59,eolivelli,fork_close,"ZOOKEEPER-4454: Upgrade Netty to 4.1.73

Author: Enrico Olivelli <eolivelli@apache.org>

Reviewers: symat@apache.org, cnauroth@apache.org

Closes #1801 from eolivelli/fix/netty-4.1.72

(cherry picked from commit d45d5df963cc3f7641d6dec2920bb22cfe8d0a76)","{""sha"": ""7168a9721a579a367129c1b96d6c9d55382522a5"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2022-01-27T14:34:36Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2022-01-29T11:42:59Z""}}"
1809,OpenPR,2022-01-29 11:43:40,eolivelli,fork_close,,
1809,ReviewRequested,2022-01-29 11:43:41,eolivelli,fork_close,,"{""requested_reviewer"": {""login"": ""cnauroth"", ""id"": 227407, ""node_id"": ""MDQ6VXNlcjIyNzQwNw=="", ""avatar_url"": ""https://avatars.githubusercontent.com/u/227407?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/cnauroth"", ""html_url"": ""https://github.com/cnauroth"", ""followers_url"": ""https://api.github.com/users/cnauroth/followers"", ""following_url"": ""https://api.github.com/users/cnauroth/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/cnauroth/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/cnauroth/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/cnauroth/subscriptions"", ""organizations_url"": ""https://api.github.com/users/cnauroth/orgs"", ""repos_url"": ""https://api.github.com/users/cnauroth/repos"", ""events_url"": ""https://api.github.com/users/cnauroth/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/cnauroth/received_events"", ""type"": ""User"", ""site_admin"": false}, ""requested_team"": null}"
1809,ReviewRequested,2022-01-29 11:43:41,eolivelli,fork_close,,"{""requested_reviewer"": {""login"": ""anmolnar"", ""id"": 4997876, ""node_id"": ""MDQ6VXNlcjQ5OTc4NzY="", ""avatar_url"": ""https://avatars.githubusercontent.com/u/4997876?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/anmolnar"", ""html_url"": ""https://github.com/anmolnar"", ""followers_url"": ""https://api.github.com/users/anmolnar/followers"", ""following_url"": ""https://api.github.com/users/anmolnar/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/anmolnar/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/anmolnar/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/anmolnar/subscriptions"", ""organizations_url"": ""https://api.github.com/users/anmolnar/orgs"", ""repos_url"": ""https://api.github.com/users/anmolnar/repos"", ""events_url"": ""https://api.github.com/users/anmolnar/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/anmolnar/received_events"", ""type"": ""User"", ""site_admin"": false}, ""requested_team"": null}"
1809,ReviewRequested,2022-01-29 11:43:41,eolivelli,fork_close,,"{""requested_reviewer"": {""login"": ""symat"", ""id"": 18458499, ""node_id"": ""MDQ6VXNlcjE4NDU4NDk5"", ""avatar_url"": ""https://avatars.githubusercontent.com/u/18458499?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/symat"", ""html_url"": ""https://github.com/symat"", ""followers_url"": ""https://api.github.com/users/symat/followers"", ""following_url"": ""https://api.github.com/users/symat/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/symat/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/symat/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/symat/subscriptions"", ""organizations_url"": ""https://api.github.com/users/symat/orgs"", ""repos_url"": ""https://api.github.com/users/symat/repos"", ""events_url"": ""https://api.github.com/users/symat/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/symat/received_events"", ""type"": ""User"", ""site_admin"": false}, ""requested_team"": null}"
1809,ReviewApproved,2022-01-29 22:01:42,cnauroth,fork_close,"LGTM, thanks!","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1809#pullrequestreview-867013361""}"
1809,ReviewApproved,2022-01-30 08:51:37,symat,fork_close,LGTM,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1809#pullrequestreview-867068888""}"
1809,Referenced,2022-01-31 16:14:00,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5981999884"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/fc1764bc976b3c57404686a4b4a69ec154c561c6""}"
1809,IssueCommentSupplement,2022-01-31 16:14:21,symat,fork_close,merged to branch-3.5,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1025951238"", ""author_association"": ""CONTRIBUTOR""}"
1809,ClosePR,2022-01-31 16:14:21,symat,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5982002729"", ""commit_url"": null}"
1810,SubmitCommit,2022-01-30 12:55:43,eolivelli,fork_close,ZOOKEEPER-4462: Update Netty tcnative to 2.0.48,"{""sha"": ""ef9b9fb1f6c8443e5138690198b5a573df393bec"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2022-01-30T12:55:43Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2022-01-30T12:55:43Z""}}"
1810,OpenPR,2022-01-30 12:56:25,eolivelli,fork_close,,
1810,ReviewRequested,2022-01-30 12:56:26,eolivelli,fork_close,,"{""requested_reviewer"": {""login"": ""cnauroth"", ""id"": 227407, ""node_id"": ""MDQ6VXNlcjIyNzQwNw=="", ""avatar_url"": ""https://avatars.githubusercontent.com/u/227407?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/cnauroth"", ""html_url"": ""https://github.com/cnauroth"", ""followers_url"": ""https://api.github.com/users/cnauroth/followers"", ""following_url"": ""https://api.github.com/users/cnauroth/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/cnauroth/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/cnauroth/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/cnauroth/subscriptions"", ""organizations_url"": ""https://api.github.com/users/cnauroth/orgs"", ""repos_url"": ""https://api.github.com/users/cnauroth/repos"", ""events_url"": ""https://api.github.com/users/cnauroth/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/cnauroth/received_events"", ""type"": ""User"", ""site_admin"": false}, ""requested_team"": null}"
1810,ReviewRequested,2022-01-30 12:56:26,eolivelli,fork_close,,"{""requested_reviewer"": {""login"": ""symat"", ""id"": 18458499, ""node_id"": ""MDQ6VXNlcjE4NDU4NDk5"", ""avatar_url"": ""https://avatars.githubusercontent.com/u/18458499?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/symat"", ""html_url"": ""https://github.com/symat"", ""followers_url"": ""https://api.github.com/users/symat/followers"", ""following_url"": ""https://api.github.com/users/symat/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/symat/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/symat/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/symat/subscriptions"", ""organizations_url"": ""https://api.github.com/users/symat/orgs"", ""repos_url"": ""https://api.github.com/users/symat/repos"", ""events_url"": ""https://api.github.com/users/symat/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/symat/received_events"", ""type"": ""User"", ""site_admin"": false}, ""requested_team"": null}"
1810,Assigned,2022-01-30 12:56:28,eolivelli,fork_close,,"{""assignee"": {""login"": ""eolivelli"", ""id"": 9469110, ""node_id"": ""MDQ6VXNlcjk0NjkxMTA="", ""avatar_url"": ""https://avatars.githubusercontent.com/u/9469110?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/eolivelli"", ""html_url"": ""https://github.com/eolivelli"", ""followers_url"": ""https://api.github.com/users/eolivelli/followers"", ""following_url"": ""https://api.github.com/users/eolivelli/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/eolivelli/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/eolivelli/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/eolivelli/subscriptions"", ""organizations_url"": ""https://api.github.com/users/eolivelli/orgs"", ""repos_url"": ""https://api.github.com/users/eolivelli/repos"", ""events_url"": ""https://api.github.com/users/eolivelli/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/eolivelli/received_events"", ""type"": ""User"", ""site_admin"": false}}"
1810,IssueComment,2022-01-30 12:57:22,eolivelli,fork_close,"please merge to branch-3.7 and branch-3.6.

branch-3.5 needs a separate patch, as we have to fix Ant/Ivy files","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1025137992"", ""author_association"": ""CONTRIBUTOR""}"
1810,IssueComment,2022-01-31 08:39:39,symat,fork_close,"I retriggered CI. We had this test failing before:
```
 RequestPathMetricsCollectorTest.testMultiThreadPerf:445 expected: <true> but was: <false>
```","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1025496865"", ""author_association"": ""CONTRIBUTOR""}"
1810,IssueComment,2022-01-31 10:34:35,eolivelli,fork_close,"CPP tests failed, restarted CI again","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1025595514"", ""author_association"": ""CONTRIBUTOR""}"
1810,IssueComment,2022-01-31 14:28:20,eolivelli,fork_close,"@symat CI passed
can you please help me merging this patch ?
also cherry picking to 3.7 and 3.6 is good

you will see less conflict if you merge these other patch before this one
https://github.com/apache/zookeeper/pull/1808

thanks","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1025796220"", ""author_association"": ""CONTRIBUTOR""}"
1810,ReviewApproved,2022-01-31 16:06:48,symat,fork_close,"LGTM, I'll merge it soon","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1810#pullrequestreview-868074749""}"
1810,ClosePR,2022-01-31 16:17:06,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5982026919"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/1bdba023c19dd9616bf3cd27ce68c140a286f558""}"
1810,Referenced,2022-01-31 16:20:01,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5982050834"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/d4bcb4206011458468c60e51a10f6784055a31a0""}"
1810,Referenced,2022-01-31 16:21:25,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/5982062457"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/e074443837b422278df7d4d87fbe28fb0be47612""}"
1812,SubmitCommit,2022-02-03 08:41:12,eolivelli,fork_close,ZOOKEEPER-4315 Include reference to third party files in the source NOTICE.txt file,"{""sha"": ""cac9456f6c128aa34a1464ffc557842faa721e6b"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2022-02-03T08:41:12Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2022-02-03T08:41:12Z""}}"
1812,OpenPR,2022-02-03 08:42:37,eolivelli,fork_close,,
1812,ReviewApproved,2022-02-03 13:45:26,symat,fork_close,"LGTM, thanks!
(feel free to merge it. I would do it, but have only phone access today.)","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1812#pullrequestreview-871859690""}"
1812,Referenced,2022-02-04 07:01:09,eolivelli,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6007526705"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/11b4497047937bb8ed87bc283ac5eef5ce7d87da""}"
1812,ClosePR,2022-02-04 07:01:09,eolivelli,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6007526728"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/ebcf18e52fa095773429348ce495d59c896f4a26""}"
1812,Referenced,2022-02-04 07:01:16,eolivelli,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6007527111"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/965571e43ee9f40ac445dfe4d46c9b5d91aff7d2""}"
1812,Referenced,2022-02-04 07:01:26,eolivelli,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6007527648"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/d764b2ff571f9a1e63f2ebc6daf45af9d813fa7f""}"
1813,SubmitCommit,2022-02-08 09:05:14,iamgd67,fork_close,display Ephemeral Owner in hex too,"{""sha"": ""354b05fb9c51c9ee93c34f907d6d1b486fa20a6f"", ""author"": {""name"": ""67"", ""email"": ""67@gd67.com"", ""date"": ""2022-02-08T09:05:14Z""}, ""committer"": {""name"": ""67"", ""email"": ""67@gd67.com"", ""date"": ""2022-02-08T09:05:14Z""}}"
1813,OpenPR,2022-02-08 09:16:07,iamgd67,fork_close,,
1813,IssueComment,2022-02-08 09:46:21,iamgd67,fork_close,"this pr add this part to zooinspector
![image](https://user-images.githubusercontent.com/4783681/152961042-a44322ef-10f1-4fa2-b02e-39bf456e5588.png)
","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1032410523"", ""author_association"": ""CONTRIBUTOR""}"
1813,IssueComment,2022-02-09 01:01:25,iamgd67,fork_close,link to JIRA [ZOOKEEPER-4464](https://issues.apache.org/jira/browse/ZOOKEEPER-4464),"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1033220078"", ""author_association"": ""CONTRIBUTOR""}"
1813,IssueComment,2022-03-04 11:13:27,maoling,fork_close,"@iamgd67 
In the context of zk, we present the `zxid` and `sessionId` with hex. IMO, changing the value of '`Ephemeran Owner'` value to hex is good enough. Don't need to add another `JTextField` which makes the UI unsightly and will have render issue in the different platform","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1059069682"", ""author_association"": ""MEMBER""}"
1813,IssueComment,2022-03-11 06:00:01,iamgd67,fork_close,"@maoling I will change the pr/Jira title and the code, thanks for your review and opinion","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1064800096"", ""author_association"": ""CONTRIBUTOR""}"
1813,Revise,2022-03-11 06:14:14,iamgd67,fork_close,Ephemeral Owner id just use hex format instead of both hex and decimal,"{""sha"": ""5c6dc8d8cb7d8a3018981b2c17d10e3a790bc94f"", ""author"": {""name"": ""67"", ""email"": ""67@gd67.com"", ""date"": ""2022-03-11T06:14:14Z""}, ""committer"": {""name"": ""67"", ""email"": ""67@gd67.com"", ""date"": ""2022-03-11T06:14:14Z""}}"
1813,RenameTitle,2022-03-11 06:15:20,iamgd67,fork_close,,"{""rename"": {""from"": ""ZOOKEEPER-4464: zooinspector display \""Ephemeral Owner\"" in hex too for easy match to jmx session"", ""to"": ""ZOOKEEPER-4464: zooinspector display \""Ephemeral Owner\"" in hex for easy match to jmx session""}, ""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6222632473""}"
1813,IssueComment,2022-03-11 06:19:30,iamgd67,fork_close,"as @maoling  advised, just use hex format.
![image](https://user-images.githubusercontent.com/4783681/157813281-ef2d2f20-239f-4c8f-952a-add7947f3ac6.png)
","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1064810114"", ""author_association"": ""CONTRIBUTOR""}"
1813,IssueComment,2022-03-11 07:22:45,iamgd67,fork_close,"failed test should be unrelated
 `QuorumPeerMainTest.testLeaderOutOfView:904 Corrupt peer should join quorum with servers having same server configuration ==> expected: <true> but was: <false>`","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1064843948"", ""author_association"": ""CONTRIBUTOR""}"
1813,IssueComment,2022-03-28 03:56:39,iamgd67,fork_close,ping @maoling  @symat for review,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1080153355"", ""author_association"": ""CONTRIBUTOR""}"
1813,ReviewApproved,2022-03-29 06:33:36,symat,fork_close,"LGTM, thanks!!","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1813#pullrequestreview-924091410""}"
1813,ReviewApproved,2022-03-29 06:47:04,eolivelli,fork_close,LGTM,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1813#pullrequestreview-924102969""}"
1813,ReviewApproved,2022-03-29 09:36:17,arshadmohammad,fork_close,LGTM +1,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1813#pullrequestreview-924324016""}"
1813,IssueComment,2022-03-29 09:50:15,symat,fork_close,I'm merging it now,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1081662847"", ""author_association"": ""CONTRIBUTOR""}"
1813,ClosePR,2022-03-29 09:53:46,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6325152196"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/d7cb4e8b7b14ea94e7ea8cd2a8e43fa7e8668132""}"
1813,IssueCommentSupplement,2022-03-29 09:55:07,symat,fork_close,"merged to master, thanks for the contribution and for the reviews!","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1081667315"", ""author_association"": ""CONTRIBUTOR""}"
1813,Referenced,2022-10-31 23:45:21,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7708883354"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/16ee0045a02337c3b58f92089183612c12a71b92""}"
1813,CrossReferenced,2022-10-31 23:45:21,anuragmadnawat1,fork_close,"ZOOKEEPER-4464: zooinspector display ""Ephemeral Owner"" in hex for easy match to jmx session","{""reference"": {""url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/issues/22"", ""is_pull_request"": true}}"
1813,Referenced,2022-10-31 23:59:01,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7708930633"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/bf5109246842881fd934e8915b2e2c96428ee398""}"
1813,Referenced,2022-11-01 22:06:03,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7717549422"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/2710da01405e13f7b6a9ffc14f3f583dbe46259c""}"
1813,CrossReferenced,2022-11-01 22:06:03,anuragmadnawat1,fork_close,"ZOOKEEPER-4464: zooinspector display ""Ephemeral Owner"" in hex for easy match to jmx session","{""reference"": {""url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/issues/48"", ""is_pull_request"": true}}"
1813,Referenced,2022-11-01 22:07:47,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7717559474"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/857e8f947e390e066446c99b2dddf5f5612af5da""}"
1813,Referenced,2023-01-13 17:18:32,anurag-harness,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/8222924559"", ""commit_url"": ""https://api.github.com/repos/anurag-harness/zookeeper/commits/a63465d084613ad49ece081d0897545dcea70ef3""}"
1813,CrossReferenced,2023-01-13 17:18:32,anurag-harness,fork_close,"ZOOKEEPER-4464: zooinspector display ""Ephemeral Owner"" in hex for easy match to jmx session","{""reference"": {""url"": ""https://api.github.com/repos/anurag-harness/zookeeper/issues/15"", ""is_pull_request"": true}}"
1813,Referenced,2023-01-13 17:19:27,anurag-harness,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/8222931743"", ""commit_url"": ""https://api.github.com/repos/anurag-harness/zookeeper/commits/21542ee770d0f179046da2aff6e8bd973d085920""}"
1814,SubmitCommit,2022-02-10 01:25:32,iamgd67,fork_close,zooinspector logback pattern config add escape for '(' and ')',"{""sha"": ""7c2f7010f219079a86a1c3d91621e1b22b8945fc"", ""author"": {""name"": ""67"", ""email"": ""67@gd67.com"", ""date"": ""2022-02-10T01:25:32Z""}, ""committer"": {""name"": ""67"", ""email"": ""67@gd67.com"", ""date"": ""2022-02-10T01:25:32Z""}}"
1814,OpenPR,2022-02-10 01:28:29,iamgd67,fork_close,,
1814,Revise,2022-02-11 02:35:33,iamgd67,fork_close,add test for zooinspector logback pattern config add escape for '(' and ')',"{""sha"": ""39db5f2f4712ad9d9a58342ae31bcdb69a129051"", ""author"": {""name"": ""67"", ""email"": ""67@gd67.com"", ""date"": ""2022-02-11T02:35:33Z""}, ""committer"": {""name"": ""67"", ""email"": ""67@gd67.com"", ""date"": ""2022-02-11T02:35:33Z""}}"
1814,Revise,2022-02-11 06:54:37,iamgd67,fork_close,add license header to added test file,"{""sha"": ""38f376049cc22f1971283006b231fc3fb82ba730"", ""author"": {""name"": ""67"", ""email"": ""67@gd67.com"", ""date"": ""2022-02-11T06:54:37Z""}, ""committer"": {""name"": ""67"", ""email"": ""67@gd67.com"", ""date"": ""2022-02-11T06:54:37Z""}}"
1814,IssueComment,2022-02-14 03:07:46,iamgd67,fork_close,@symat could you please review this?,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1038579742"", ""author_association"": ""CONTRIBUTOR""}"
1814,IssueComment,2022-02-14 10:58:22,iamgd67,fork_close,"@anmolnar likelly the broken is from #1807 which  change log4j to logback, can you review this fix?","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1038943461"", ""author_association"": ""CONTRIBUTOR""}"
1814,IssueComment,2022-02-15 05:37:18,iamgd67,fork_close,@eolivelli could you please review this?,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1039878828"", ""author_association"": ""CONTRIBUTOR""}"
1814,IssueComment,2022-02-15 07:52:30,symat,fork_close,"cool, thanks @iamgd67 for the contribution! This would be great to land in 3.8.0 where we will migrate to logback.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1039961028"", ""author_association"": ""CONTRIBUTOR""}"
1814,ReviewApproved,2022-02-15 07:52:47,symat,fork_close,LGTM,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1814#pullrequestreview-882584211""}"
1814,IssueComment,2022-02-15 07:53:35,symat,fork_close,"@anmolnar can you take a look?
(we should merge this to master, branch-3.8 and branch-3.8.0)","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1039962424"", ""author_association"": ""CONTRIBUTOR""}"
1814,ReviewApproved,2022-02-15 08:02:04,eolivelli,fork_close,Lgtm ,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1814#pullrequestreview-882593420""}"
1814,ReviewApproved,2022-02-15 08:54:33,anmolnar,fork_close,lgtm.,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1814#pullrequestreview-882652322""}"
1814,IssueComment,2022-02-15 10:10:39,symat,fork_close,"we had one java unit test failure (all c++ tests passed this time).
```
[ERROR]   EagerACLFilterTest.testCreate2Fail:171->assertTransactionState:115 Server State: OBSERVING Check Enabled: true Transaction state on Leader after failed create2 ==> expected: <4294967298> but was: <4294967299>
```

I don't see how this test failure could connect to the PR, but to be on the safe side I re-triggered CI. I will merge if the CI is green (or at least this single failing test become green).","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1040087920"", ""author_association"": ""CONTRIBUTOR""}"
1814,IssueComment,2022-02-15 11:26:32,symat,fork_close,"CI failed again, but with different test failure this time:
```
[ERROR] Failures: 
[ERROR]   ReconfigRollingRestartCompatibilityTest.testRollingRestartWithExtendedMembershipConfig:263 waiting for server 2 being up ==> expected: <true> but was: <false>
[INFO] 
[ERROR] Tests run: 2976, Failures: 1, Errors: 0, Skipped: 4
```

we have many flaky tests apparently... anyway, I'm merging this PR now.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1040160580"", ""author_association"": ""CONTRIBUTOR""}"
1814,ClosePR,2022-02-15 11:29:50,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6074183141"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/48191b63dfaa4d6d71572608a31338e15f02f0fa""}"
1814,Referenced,2022-02-15 11:30:15,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6074185584"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/eda61703fab4b77e304535ae7b0ec45ff0e1e9ef""}"
1814,Referenced,2022-02-15 11:30:53,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6074189373"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/d4fe0c64721a1bc0fa28ded40b07f5da79cae77e""}"
1814,IssueCommentSupplement,2022-02-15 11:32:12,symat,fork_close,"@iamgd67, thanks for the contribution again!
PR merged to branches:
- master
- branch-3.8
- branch-3.8.0","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1040166011"", ""author_association"": ""CONTRIBUTOR""}"
1814,DeleteBranch,2022-02-16 01:27:12,iamgd67,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6079382261"", ""commit_url"": null}"
1814,Referenced,2022-09-29 17:29:13,rahulrane50,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7488898058"", ""commit_url"": ""https://api.github.com/repos/rahulrane50/zookeeper/commits/613eb9eb8f10e29893049ab20e657e7db798a65a""}"
1814,CrossReferenced,2022-09-29 17:51:41,rahulrane50,fork_close,ZOOKEEPER-4465: zooinspector logback pattern config add escape for '(' and ')',"{""reference"": {""url"": ""https://api.github.com/repos/linkedin/zookeeper/issues/109"", ""is_pull_request"": true}}"
1814,Referenced,2023-01-13 15:07:05,anurag-harness,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/8221674249"", ""commit_url"": ""https://api.github.com/repos/anurag-harness/zookeeper/commits/36ea9372521ed85498fd4be8893025a35f6f3d2c""}"
1814,CrossReferenced,2023-01-13 15:07:05,anurag-harness,fork_close,ZOOKEEPER-4465: zooinspector logback pattern config add escape for '(' and ')',"{""reference"": {""url"": ""https://api.github.com/repos/anurag-harness/zookeeper/issues/4"", ""is_pull_request"": true}}"
1814,Referenced,2023-01-13 15:21:45,anurag-harness,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/8221814641"", ""commit_url"": ""https://api.github.com/repos/anurag-harness/zookeeper/commits/1a5818e1a0455f0fec3b8da3996d26304daf4878""}"
1816,SubmitCommit,2022-02-11 08:16:35,Mate Szalay-Beko,fork_close,"ZOOKEEPER-4468: Update documentation about BCFKS keystore/truststore format

The BCFKS keystore/truststore format support was backported to branch 3.5, I updated the documentation.","{""sha"": ""9495c878f6e0daa782488e0ea1cf587b9f4f4a34"", ""author"": {""name"": ""Mate Szalay-Beko"", ""email"": ""mszalay@cloudera.com"", ""date"": ""2022-02-11T08:16:35Z""}, ""committer"": {""name"": ""Mate Szalay-Beko"", ""email"": ""mszalay@cloudera.com"", ""date"": ""2022-02-11T08:16:35Z""}}"
1816,OpenPR,2022-02-11 08:19:08,symat,fork_close,,
1816,IssueComment,2022-02-11 08:20:07,symat,fork_close,"this PR should be cherry-picked to all active branches (expect branch-3.5, where #1815 already contains this change)","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1035970197"", ""author_association"": ""CONTRIBUTOR""}"
1816,ReviewApproved,2022-02-11 09:53:30,nkalmar,fork_close,+1,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1816#pullrequestreview-879966567""}"
1816,ReviewApproved,2022-02-11 11:10:04,anmolnar,fork_close,+1,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1816#pullrequestreview-880043225""}"
1816,ClosePR,2022-02-11 13:53:56,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6051458721"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/0b0dfe521f374bb473aebc858bdde8fc4c491f7a""}"
1816,Referenced,2022-02-11 13:54:35,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6051462836"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/aa394b0b0251b66323654422293d1e7714e17be1""}"
1816,Referenced,2022-02-11 13:57:15,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6051480617"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/c1f2025abd87db5b44982e15fbc1b79e12ec47a9""}"
1816,Referenced,2022-02-11 13:58:18,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6051487271"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/470b97da4b0f285f69652125bb9529b56eb5755d""}"
1816,DeleteBranch,2022-02-11 13:59:05,symat,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6051492780"", ""commit_url"": null}"
1816,Referenced,2023-01-13 14:34:54,anurag-harness,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/8221389299"", ""commit_url"": ""https://api.github.com/repos/anurag-harness/zookeeper/commits/f89488dde35a6ce66c7ca09fb9cd5eb9f2b86aac""}"
1816,CrossReferenced,2023-01-13 14:34:54,anurag-harness,fork_close,ZOOKEEPER-4468: Update documentation about BCFKS keystore/truststore format,"{""reference"": {""url"": ""https://api.github.com/repos/anurag-harness/zookeeper/issues/1"", ""is_pull_request"": true}}"
1816,Referenced,2023-01-13 14:36:45,anurag-harness,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/8221404020"", ""commit_url"": ""https://api.github.com/repos/anurag-harness/zookeeper/commits/309e24651d55c1a53e37611c221141ea629f7075""}"
1816,CrossReferenced,2023-01-13 14:36:45,anurag-harness,fork_close,ZOOKEEPER-4468: Update documentation about BCFKS keystore/truststore format,"{""reference"": {""url"": ""https://api.github.com/repos/anurag-harness/zookeeper/issues/2"", ""is_pull_request"": true}}"
1816,Referenced,2023-01-13 14:52:00,anurag-harness,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/8221529605"", ""commit_url"": ""https://api.github.com/repos/anurag-harness/zookeeper/commits/abbfba2b57ec533de907de2db4a0be7c4fb1d3e4""}"
1817,SubmitCommit,2022-02-11 11:16:10,eolivelli,fork_close,ZOOKEEPER-4469: Suppress OWASP false positives related to Netty TCNative,"{""sha"": ""15781bcf5dc99dca7c2b5773316fcd8291d3ed82"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2022-02-11T11:16:10Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2022-02-11T11:16:10Z""}}"
1817,OpenPR,2022-02-11 11:16:35,eolivelli,fork_close,,
1817,Assigned,2022-02-11 11:16:38,eolivelli,fork_close,,"{""assignee"": {""login"": ""eolivelli"", ""id"": 9469110, ""node_id"": ""MDQ6VXNlcjk0NjkxMTA="", ""avatar_url"": ""https://avatars.githubusercontent.com/u/9469110?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/eolivelli"", ""html_url"": ""https://github.com/eolivelli"", ""followers_url"": ""https://api.github.com/users/eolivelli/followers"", ""following_url"": ""https://api.github.com/users/eolivelli/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/eolivelli/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/eolivelli/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/eolivelli/subscriptions"", ""organizations_url"": ""https://api.github.com/users/eolivelli/orgs"", ""repos_url"": ""https://api.github.com/users/eolivelli/repos"", ""events_url"": ""https://api.github.com/users/eolivelli/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/eolivelli/received_events"", ""type"": ""User"", ""site_admin"": false}}"
1817,ReviewRequested,2022-02-11 11:16:44,eolivelli,fork_close,,"{""requested_reviewer"": {""login"": ""anmolnar"", ""id"": 4997876, ""node_id"": ""MDQ6VXNlcjQ5OTc4NzY="", ""avatar_url"": ""https://avatars.githubusercontent.com/u/4997876?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/anmolnar"", ""html_url"": ""https://github.com/anmolnar"", ""followers_url"": ""https://api.github.com/users/anmolnar/followers"", ""following_url"": ""https://api.github.com/users/anmolnar/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/anmolnar/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/anmolnar/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/anmolnar/subscriptions"", ""organizations_url"": ""https://api.github.com/users/anmolnar/orgs"", ""repos_url"": ""https://api.github.com/users/anmolnar/repos"", ""events_url"": ""https://api.github.com/users/anmolnar/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/anmolnar/received_events"", ""type"": ""User"", ""site_admin"": false}, ""requested_team"": null}"
1817,ReviewRequested,2022-02-11 11:16:44,eolivelli,fork_close,,"{""requested_reviewer"": {""login"": ""symat"", ""id"": 18458499, ""node_id"": ""MDQ6VXNlcjE4NDU4NDk5"", ""avatar_url"": ""https://avatars.githubusercontent.com/u/18458499?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/symat"", ""html_url"": ""https://github.com/symat"", ""followers_url"": ""https://api.github.com/users/symat/followers"", ""following_url"": ""https://api.github.com/users/symat/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/symat/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/symat/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/symat/subscriptions"", ""organizations_url"": ""https://api.github.com/users/symat/orgs"", ""repos_url"": ""https://api.github.com/users/symat/repos"", ""events_url"": ""https://api.github.com/users/symat/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/symat/received_events"", ""type"": ""User"", ""site_admin"": false}, ""requested_team"": null}"
1817,ReviewRequested,2022-02-11 11:16:50,eolivelli,fork_close,,"{""requested_reviewer"": {""login"": ""phunt"", ""id"": 15702, ""node_id"": ""MDQ6VXNlcjE1NzAy"", ""avatar_url"": ""https://avatars.githubusercontent.com/u/15702?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/phunt"", ""html_url"": ""https://github.com/phunt"", ""followers_url"": ""https://api.github.com/users/phunt/followers"", ""following_url"": ""https://api.github.com/users/phunt/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/phunt/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/phunt/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/phunt/subscriptions"", ""organizations_url"": ""https://api.github.com/users/phunt/orgs"", ""repos_url"": ""https://api.github.com/users/phunt/repos"", ""events_url"": ""https://api.github.com/users/phunt/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/phunt/received_events"", ""type"": ""User"", ""site_admin"": false}, ""requested_team"": null}"
1817,IssueComment,2022-02-11 11:40:58,symat,fork_close,"Are we absolutely sure we can simply skip these checks for the netty-tcnative library? Isn't this something we use through netty when we do ClientTLS or QuorumTLS?

I see in the pom.xml file that we use a quite recent netty, but a very old netty-tcnative-classes:
```
    <netty.version>4.1.73.Final</netty.version>
    <netty.tcnative.version>2.0.48.Final</netty.tcnative.version>

(...)

      <dependency>
        <groupId>io.netty</groupId>
        <artifactId>netty-handler</artifactId>
        <version>${netty.version}</version>
        <exclusions>
          <exclusion>
            <groupId>io.netty</groupId>
            <artifactId>netty-tcnative-classes</artifactId>
          </exclusion>
        </exclusions>
      </dependency>
      <dependency>
        <groupId>io.netty</groupId>
        <artifactId>netty-transport-native-epoll</artifactId>
        <version>${netty.version}</version>
      </dependency>
      <dependency>
        <groupId>io.netty</groupId>
        <artifactId>netty-tcnative</artifactId>
        <version>${netty.tcnative.version}</version>
      </dependency>
  
```

Some of these CVEs are actually quite scary (many affecting only the https admin api interface, but some can affect regular QuorumSSL and ClientSSL interfaces too, AFAICT).

I also don't really understand what the netty-tcnative-classes artifact is. It is not mentioned in the documentation I found about netty-tcnative: https://netty.io/wiki/forked-tomcat-native.html","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1036119664"", ""author_association"": ""CONTRIBUTOR""}"
1817,IssueComment,2022-02-11 11:50:15,symat,fork_close,"> I see in the pom.xml file that we use a quite recent netty, but a very old netty-tcnative-classes

never mind, I see 2.0.48.Final is actually the latest netty-tcnative.

In this case I don't understand why these old CVEs appeared now. How can we get e.g. this one: https://nvd.nist.gov/vuln/detail/CVE-2015-2156 
This should not be reported for 4.1.73.Final and this has nothing to do with netty-tcnative, AFAICT

Do we have some old netty on our classpath we should exclude?","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1036133003"", ""author_association"": ""CONTRIBUTOR""}"
1817,IssueComment,2022-02-11 11:58:23,symat,fork_close,"I checked the maven dependency tree, and we don't have any old netty on our class path. These CVEs should not have appeared. Maybe OWASP is mixing the netty-tcnative version with the regular netty version?","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1036141751"", ""author_association"": ""CONTRIBUTOR""}"
1817,IssueComment,2022-02-11 12:09:26,nkalmar,fork_close,"Yes, looks like it: https://www.giters.com/jeremylong/DependencyCheck/issues/3867 

edit: here's the merged patch, owasp was fixed in 6.5.2: https://github.com/jeremylong/DependencyCheck/issues/3865","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1036150036"", ""author_association"": ""CONTRIBUTOR""}"
1817,IssueComment,2022-02-11 12:13:28,nkalmar,fork_close,Can we update owasp to latest 6.5.3? Will it cause any issues? ,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1036152946"", ""author_association"": ""CONTRIBUTOR""}"
1817,ReviewApproved,2022-02-11 12:15:39,nkalmar,fork_close,"Unless we want to upgrade to latest owasp (6.5.3, we are on 5.3.0, so major version change is required) this is a +1 from me. It is a false positive, see previous comments. ","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1817#pullrequestreview-880102448""}"
1817,IssueComment,2022-02-11 12:31:40,anmolnar,fork_close,@eolivelli @symat OWASP upgrade makes sense to me too.,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1036166199"", ""author_association"": ""CONTRIBUTOR""}"
1817,IssueComment,2022-02-11 12:35:28,symat,fork_close,"yeah... although even the latest OWASP version seems to find false positives:
```
[ERROR] Failed to execute goal org.owasp:dependency-check-maven:6.5.3:check (default-cli) on project zookeeper:
[ERROR]
[ERROR] One or more dependencies were identified with vulnerabilities that have a CVSS score greater than or equal to '0.0':
[ERROR]
[ERROR] netty-tcnative-2.0.48.Final.jar: CVE-2021-43797, CVE-2019-16869, CVE-2015-2156, CVE-2021-37136, CVE-2014-3488, CVE-2021-37137, CVE-2019-20445, CVE-2019-20444, CVE-2021-21295, CVE-2021-21409, CVE-2021-21290
[ERROR] zookeeper-jute-3.8.0-SNAPSHOT.jar: CVE-2021-29425, CVE-2021-28164, CVE-2021-34429
```

Here e.g. CVE-2021-43797 should affect only netty prior to 4.1.71.Final and we already have 4.1.73.Final. See: https://nvd.nist.gov/vuln/detail/CVE-2021-43797

Interesting that OWASP 6.5.3 found some additional CVEs. (e.g. CVE-2021-29425, etc) These should be investigated too.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1036169071"", ""author_association"": ""CONTRIBUTOR""}"
1817,IssueComment,2022-02-11 12:37:09,symat,fork_close,"I think the nicest would be to update to the latest OWASP, then go through the reported CVEs one-by-one to see if they are really false positives.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1036170324"", ""author_association"": ""CONTRIBUTOR""}"
1817,IssueComment,2022-02-11 12:44:41,symat,fork_close,"I tried again, purging my local CVE database this time before running the new OWASP check with latest OWASP 6.5.3. It still reports the same 11 netty and 3 other CVEs that I listed before.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1036176185"", ""author_association"": ""CONTRIBUTOR""}"
1817,IssueComment,2022-02-11 12:47:25,nkalmar,fork_close,"That's a bummer, I double checked, this is a closed item in 6.5.2 milestone (one up from last item): https://github.com/jeremylong/DependencyCheck/milestone/38?closed=1 ","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1036178351"", ""author_association"": ""CONTRIBUTOR""}"
1817,CrossReferenced,2022-02-11 13:01:15,nkalmar,fork_close,False Positive on netty-tcnative-classes-2.0.46.Final.jar,"{""reference"": {""url"": ""https://api.github.com/repos/jeremylong/DependencyCheck/issues/3865"", ""is_pull_request"": false}}"
1817,IssueComment,2022-02-11 13:05:57,symat,fork_close,"OK, I double-checked all the CVE errors detected by the latest OWASP 6.5.3. All of these are false positive. Also I checked the maven dependency tree to make sure we don't have any old netty/jetty/commons-io jars on the claspath). I think we are good to go. But I recommend to still update to the latest OWASP version in our project and also suppress these CVEs below. (let's hope OWASP will be fixed later to produce less false positives) 

- CVE-2021-43797 - fixed in netty 4.1.71 (we use 4.1.73)
- CVE-2019-16869 - fixed in netty 4.1.42 (we use 4.1.73)
- CVE-2015-2156 - fixed in netty 4.1.0 (we use 4.1.73)
- CVE-2021-37136 - fixed in netty 4.1.68 (we use 4.1.73)
- CVE-2014-3488 - fixed after netty 3.9.1 (we use 4.1.73)
- CVE-2021-37137 - fixed in netty 4.1.68 (we use 4.1.73)
- CVE-2019-20445 - fixed in netty 4.1.44 (we use 4.1.73)
- CVE-2019-20444 - fixed in netty 4.1.44 (we use 4.1.73)
- CVE-2021-21295 - fixed in netty 4.1.60 (we use 4.1.73)
- CVE-2021-21409 - fixed in netty 4.1.61 (we use 4.1.73)
- CVE-2021-21290 - fixed in netty 4.1.59 (we use 4.1.73)
- CVE-2021-29425 - fixed in commons-io 2.7 (we use 2.11)
- CVE-2021-28164 - fixed in jetty 9.4.39 (we use 9.4.43)
- CVE-2021-34429 - fixed in jetty 9.4.43 (we use 9.4.43)","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1036195421"", ""author_association"": ""CONTRIBUTOR""}"
1817,CrossReferenced,2022-02-12 13:35:48,aikebah,fork_close,False positive on netty-tcnative,"{""reference"": {""url"": ""https://api.github.com/repos/jeremylong/DependencyCheck/issues/4065"", ""is_pull_request"": false}}"
1817,Revise,2022-02-13 08:50:09,eolivelli,fork_close,Update OWASP dependency plugin,"{""sha"": ""acd26edba33fc374dfe5a91d2865dbaf5687e540"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2022-02-13T08:50:09Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2022-02-13T08:50:09Z""}}"
1817,IssueComment,2022-02-13 09:09:04,eolivelli,fork_close,"I have updated the OWASP plugin to 6.5.3, but it does not reveal additional CVEs

@symat ","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1037948314"", ""author_association"": ""CONTRIBUTOR""}"
1817,IssueComment,2022-02-13 09:09:19,eolivelli,fork_close,@nkalmar please take another look,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1037948455"", ""author_association"": ""CONTRIBUTOR""}"
1817,IssueComment,2022-02-13 10:54:59,eolivelli,fork_close,"@symat I have run the checker locally several times, cleaning the local cache, but I haven't seen new CVEs reported","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1038012724"", ""author_association"": ""CONTRIBUTOR""}"
1817,ReviewApproved,2022-02-14 07:41:06,symat,fork_close,"interesting... I'm also unable now to reproduce the additional jetty and commins-io related false positives for some reason. Anyway, I think your PR is good and the `mvn clean package -DskipTests dependency-check:check` is successful for me now. 

Let's merge this and go ahead with the RC...","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1817#pullrequestreview-881247889""}"
1817,ClosePR,2022-02-14 07:51:26,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6064738591"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/428e6f92132e19390c81e19f67d5380451acdbe4""}"
1817,Referenced,2022-02-14 07:51:53,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6064740886"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/43255fbaeae5cc15e1c596a313d2ab56afcb2155""}"
1817,Referenced,2022-02-14 07:52:25,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6064743625"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/fb9e31845f24b5919bab501118e264d1273332af""}"
1817,Referenced,2022-02-14 08:00:08,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6064784289"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/e19807d9c721b9135f245a40f3130edf3035b501""}"
1817,Referenced,2022-02-14 08:02:22,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6064797961"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/68c8e706afcb13720e8e00bc0eb1a5c062896ecf""}"
1817,IssueCommentSupplement,2022-02-14 08:13:58,symat,fork_close,"I merged this to the following branches:

- master
- branch-3.8.0
- branch-3.8
- branch-3.7
- branch-3.6

On branch 3.5 I don't see we use netty tcnative, at least we don't have it explicitly added in pom.xml. However, I see some other CVE errors on that branch. We will have to handle branch-3.5 with a separate Jira later (after the 3.8.0 release, when we prepare 3.5.10)","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1038779798"", ""author_association"": ""CONTRIBUTOR""}"
1817,IssueCommentSupplement,2022-02-14 09:48:57,nkalmar,fork_close,"One of the devs at owasp clarified to me that this was only fixed for netty:netty artifact, and he also opened a new issue to fix it in other artifacts as well. So this is why we still see false positive in netty-tcnative.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1038874390"", ""author_association"": ""CONTRIBUTOR""}"
1817,CrossReferenced,2023-01-13 14:52:00,anurag-harness,fork_close,ZOOKEEPER-4469: Suppress OWASP false positives related to Netty TCNative,"{""reference"": {""url"": ""https://api.github.com/repos/anurag-harness/zookeeper/issues/3"", ""is_pull_request"": true}}"
1817,Referenced,2023-01-13 14:52:01,anurag-harness,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/8221529647"", ""commit_url"": ""https://api.github.com/repos/anurag-harness/zookeeper/commits/d59d0e5c6968217aaad7d198103b84dbff1a07dc""}"
1817,Referenced,2023-01-13 15:07:05,anurag-harness,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/8221674318"", ""commit_url"": ""https://api.github.com/repos/anurag-harness/zookeeper/commits/079fc1bfda6d7b999c86774d19032382b85ee84d""}"
1818,SubmitCommit,2022-02-22 03:15:42,iamgd67,fork_close,"zooInspector root child create fail with path validate fix
create node update ui only if creation success, if fail show message dialog about the reason
add basic ZooInspectorManagerImpl tests using mocked zk client","{""sha"": ""f75cba2b46ecae39c059cec5cd04d993bdf7d567"", ""author"": {""name"": ""67"", ""email"": ""67@gd67.com"", ""date"": ""2022-02-22T01:35:09Z""}, ""committer"": {""name"": ""67"", ""email"": ""67@gd67.com"", ""date"": ""2022-02-22T03:15:42Z""}}"
1818,OpenPR,2022-02-22 03:19:29,iamgd67,fork_close,,
1818,IssueComment,2022-02-22 03:21:06,iamgd67,fork_close,"without this fix, creation will fail with 
`java.lang.IllegalArgumentException: Invalid path string ""//test"" caused by empty node name specified @1`

link to Jira too [ZOOKEEPER-4473](https://issues.apache.org/jira/browse/ZOOKEEPER-4473)","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1047387949"", ""author_association"": ""CONTRIBUTOR""}"
1818,RenameTitle,2022-02-22 03:23:00,iamgd67,fork_close,,"{""rename"": {""from"": ""zooInspector root child creates fail with path validate fix"", ""to"": ""ZOOKEEPER-4473: zooInspector root child creates fail with path validate fix""}, ""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6115055277""}"
1818,Revise,2022-02-22 03:25:18,iamgd67,fork_close,add license header,"{""sha"": ""d6869d367ab05710bc21f597651b39ab312f5f06"", ""author"": {""name"": ""67"", ""email"": ""67@gd67.com"", ""date"": ""2022-02-22T03:25:18Z""}, ""committer"": {""name"": ""67"", ""email"": ""67@gd67.com"", ""date"": ""2022-02-22T03:25:18Z""}}"
1818,ClosePR,2022-02-22 03:49:11,iamgd67,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6115120832"", ""commit_url"": null}"
1818,ReopenPR,2022-02-22 03:49:14,iamgd67,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6115120958"", ""commit_url"": null}"
1818,IssueComment,2022-02-22 05:42:11,iamgd67,fork_close,"CPP unit test failed, should be unrelated","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1047444782"", ""author_association"": ""CONTRIBUTOR""}"
1818,ReviewApproved,2022-02-22 06:58:13,eolivelli,fork_close,"Lgtm

We will pick this into branch-3.8 and branch-3.8.0 as well","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1818#pullrequestreview-889355316""}"
1818,IssueComment,2022-02-24 00:57:04,iamgd67,fork_close,@eolivelli are we waiting for more reviews?,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1049376686"", ""author_association"": ""CONTRIBUTOR""}"
1818,IssueComment,2022-03-01 02:43:49,iamgd67,fork_close,ping @symat for review,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1054929299"", ""author_association"": ""CONTRIBUTOR""}"
1818,IssueComment,2022-03-04 10:21:04,iamgd67,fork_close,@eolivelli are we going to merge this?,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1059030825"", ""author_association"": ""CONTRIBUTOR""}"
1818,ReviewApproved,2022-03-04 13:49:12,symat,fork_close,"LGTM, thanks for the fix!
(sorry for the slow review)","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1818#pullrequestreview-900245311""}"
1818,IssueComment,2022-03-04 13:50:42,symat,fork_close,"I'll merge this to master, and branch-3.8 (will be released in 3.8.1, as the release of 3.8.0 is finished already)","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1059178826"", ""author_association"": ""CONTRIBUTOR""}"
1818,ClosePR,2022-03-04 13:57:27,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6185337637"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/99cb20e82743ef73db7257a3f9a4c55bc8acf037""}"
1818,Referenced,2022-03-04 13:58:00,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6185341280"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/16bf3766fd77056ef37c79e53d6bf7bd90136311""}"
1818,IssueCommentSupplement,2022-03-04 13:59:28,symat,fork_close,"merged, thanks for the contribution!","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1059186043"", ""author_association"": ""CONTRIBUTOR""}"
1818,DeleteBranch,2022-03-07 01:44:56,iamgd67,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6191500974"", ""commit_url"": null}"
1818,Referenced,2022-10-31 21:20:49,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7708209357"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/637ad22625633277558e0153bb39277999b3a355""}"
1818,CrossReferenced,2022-10-31 21:20:49,anuragmadnawat1,fork_close,ZOOKEEPER-4473: zooInspector root child creates fail with path validate fix,"{""reference"": {""url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/issues/15"", ""is_pull_request"": true}}"
1818,CrossReferenced,2022-10-31 22:33:12,anuragmadnawat1,fork_close,ZOOKEEPER-4473: zooInspector root child creates fail with path validate fix,"{""reference"": {""url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/issues/17"", ""is_pull_request"": true}}"
1818,Referenced,2022-10-31 22:33:13,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7708596113"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/738191c1f8fef79923700f8fd2e2dc16ca891d17""}"
1818,Referenced,2022-10-31 22:47:18,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7708657905"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/120f924ab914c3fab673b3b9b8de88226a974cde""}"
1818,CrossReferenced,2022-11-01 16:15:06,anuragmadnawat1,fork_close,ZOOKEEPER-4473: zooInspector root child creates fail with path validate fix,"{""reference"": {""url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/issues/29"", ""is_pull_request"": true}}"
1818,Referenced,2022-11-01 16:15:07,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7714941166"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/810082145464a774fc62d14243da54d01a432376""}"
1818,Referenced,2022-11-01 16:31:21,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7715097682"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/953ccb6b864fe43fa33dc342a6929332e464dca3""}"
1818,Referenced,2022-11-01 20:31:40,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7716969847"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/c9cba2545e4d846cc62bf8e45db328fdbba4a6bf""}"
1818,CrossReferenced,2022-11-01 20:31:40,anuragmadnawat1,fork_close,ZOOKEEPER-4473: zooInspector root child creates fail with path validate fix,"{""reference"": {""url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/issues/43"", ""is_pull_request"": true}}"
1818,Referenced,2022-11-01 20:50:09,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7717088932"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/80c798ae563686e82960c0ee112ba4afb66e4748""}"
1818,CrossReferenced,2023-01-13 16:22:52,anurag-harness,fork_close,ZOOKEEPER-4473: zooInspector root child creates fail with path validate fix,"{""reference"": {""url"": ""https://api.github.com/repos/anurag-harness/zookeeper/issues/10"", ""is_pull_request"": true}}"
1818,Referenced,2023-01-13 16:22:53,anurag-harness,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/8222374273"", ""commit_url"": ""https://api.github.com/repos/anurag-harness/zookeeper/commits/b0f9d347b8be0e42ea234fd2c93971ec7eb2ea28""}"
1818,Referenced,2023-01-13 16:37:26,anurag-harness,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/8222581942"", ""commit_url"": ""https://api.github.com/repos/anurag-harness/zookeeper/commits/220a6c491a41473c780bf00e870540e577f76386""}"
1819,SubmitCommit,2022-02-22 03:16:46,kezhuw,fork_close,ZOOKEEPER-4467: Format OpCode.addWatch in Request.op2String,"{""sha"": ""ebe6faa307ec8f483ef8c811606a04d3eb76d855"", ""author"": {""name"": ""Kezhu Wang"", ""email"": ""kezhuw@gmail.com"", ""date"": ""2022-02-22T03:14:48Z""}, ""committer"": {""name"": ""Kezhu Wang"", ""email"": ""kezhuw@gmail.com"", ""date"": ""2022-02-22T03:16:46Z""}}"
1819,OpenPR,2022-02-22 03:22:05,kezhuw,fork_close,,
1819,ReviewApproved,2022-02-22 07:01:12,eolivelli,fork_close,,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1819#pullrequestreview-889357312""}"
1819,ReviewComment,2022-03-04 09:07:49,maoling,fork_close,,"{""author_association"": ""MEMBER"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1819#pullrequestreview-899971938""}"
1819,Revise,2022-03-04 10:38:39,kezhuw,fork_close,fixup! ZOOKEEPER-4467: Format OpCode.addWatch in Request.op2String,"{""sha"": ""97f891da1ba4bf19932cb68eb9ea2bd78d3d4382"", ""author"": {""name"": ""Kezhu Wang"", ""email"": ""kezhuw@gmail.com"", ""date"": ""2022-03-04T10:38:39Z""}, ""committer"": {""name"": ""Kezhu Wang"", ""email"": ""kezhuw@gmail.com"", ""date"": ""2022-03-04T10:38:39Z""}}"
1819,ReviewRequested,2022-03-04 10:45:15,kezhuw,fork_close,,"{""requested_reviewer"": {""login"": ""maoling"", ""id"": 11016631, ""node_id"": ""MDQ6VXNlcjExMDE2NjMx"", ""avatar_url"": ""https://avatars.githubusercontent.com/u/11016631?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/maoling"", ""html_url"": ""https://github.com/maoling"", ""followers_url"": ""https://api.github.com/users/maoling/followers"", ""following_url"": ""https://api.github.com/users/maoling/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/maoling/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/maoling/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/maoling/subscriptions"", ""organizations_url"": ""https://api.github.com/users/maoling/orgs"", ""repos_url"": ""https://api.github.com/users/maoling/repos"", ""events_url"": ""https://api.github.com/users/maoling/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/maoling/received_events"", ""type"": ""User"", ""site_admin"": false}, ""requested_team"": null}"
1819,IssueComment,2022-04-02 10:51:00,maoling,fork_close,"If no other concerns, I'll merge it at this weekend(04-05). Cc @kezhuw ","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1086613884"", ""author_association"": ""MEMBER""}"
1819,IssueComment,2022-04-02 10:57:47,eolivelli,fork_close,@maoling please always ensure that CI passes before merging,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1086615032"", ""author_association"": ""CONTRIBUTOR""}"
1819,IssueComment,2022-04-05 04:13:18,maoling,fork_close,"- @kezhuw  Thanks for your contribution.
- All 15 CI checks had passed. Cc @eolivelli 
","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1088249281"", ""author_association"": ""MEMBER""}"
1819,ClosePR,2022-04-05 04:14:51,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6367786185"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/5b12b0e4eb010dca9b46047f559c6847d7e0b5f7""}"
1819,CrossReferenced,2022-11-01 22:46:41,anuragmadnawat1,fork_close,ZOOKEEPER-4467: Format OpCode.addWatch in Request.op2String,"{""reference"": {""url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/issues/52"", ""is_pull_request"": true}}"
1819,Referenced,2022-11-01 22:46:42,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7717759853"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/ac5596bc7a6c9f1f2ce60f13e707507a9c652eab""}"
1819,Referenced,2022-11-01 22:50:06,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7717780117"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/88c6526df7dfc2b4e6f3798de2b24a71af390508""}"
1819,Referenced,2023-01-13 17:57:59,anurag-harness,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/8223211720"", ""commit_url"": ""https://api.github.com/repos/anurag-harness/zookeeper/commits/db36960dc0fee9fa312c48f2687bcf033f66146d""}"
1819,CrossReferenced,2023-01-13 17:57:59,anurag-harness,fork_close,ZOOKEEPER-4467: Format OpCode.addWatch in Request.op2String,"{""reference"": {""url"": ""https://api.github.com/repos/anurag-harness/zookeeper/issues/19"", ""is_pull_request"": true}}"
1819,Referenced,2023-01-13 18:01:19,anurag-harness,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/8223233181"", ""commit_url"": ""https://api.github.com/repos/anurag-harness/zookeeper/commits/e2f5b68c98a2f3bcd5256d50cc9ce772e996ce89""}"
1821,OpenPR,2022-02-23 02:22:17,kezhuw,fork_close,,
1821,HeadRefForcePushed,2022-02-23 02:26:25,kezhuw,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6122127805"", ""commit_url"": null}"
1821,IssueComment,2022-02-25 14:41:14,kezhuw,fork_close,Ping @hanm @nkalmar @ztzg @eolivelli for review.,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1050911640"", ""author_association"": ""CONTRIBUTOR""}"
1821,ReviewRejected,2022-02-25 16:24:57,eolivelli,fork_close,Thank you very much for working on this,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1821#pullrequestreview-893899979""}"
1821,IssueComment,2022-03-09 03:09:55,kezhuw,fork_close,Ping @eolivelli @symat @maoling for review.,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1062510276"", ""author_association"": ""CONTRIBUTOR""}"
1821,Revise,2022-04-02 12:11:38,kezhuw,fork_close,"ZOOKEEPER-4327: Fix flaky RequestThrottlerTest.testLargeRequestThrottling

This test failed following assertions in ci:
1. `RequestThrottlerTest.testRequestThrottler:206 expected: <5> but was: <4>`

   This is caused by no happens-before relationship between
   `connectionLossCount` and `disconnected.await`. Places
   `disconnected.countDown()` after `connectionLossCount++` to solve
   this.

2. `RequestThrottlerTest.testLargeRequestThrottling:297 expected: <2> but was: <0>`

   Large request throttling is handled in io thread, while
   `prep_processor_request_queued` metric is updated in processor
   thread. Places metric assertion after `finished.await` to solve this.

Additionally, I find one more potential flaky case. After connection
closed due to throttling third request, reconnecting could fail this
test in slow sending environment. It is easy to reproduce by adding
`Thread.sleep(i * 100)` in sending loop.","{""sha"": ""3df34b82790e59a1760f0e88202e5c949170a42a"", ""author"": {""name"": ""Kezhu Wang"", ""email"": ""kezhuw@gmail.com"", ""date"": ""2022-02-23T01:51:14Z""}, ""committer"": {""name"": ""Kezhu Wang"", ""email"": ""kezhuw@gmail.com"", ""date"": ""2022-04-02T12:11:38Z""}}"
1821,HeadRefForcePushed,2022-04-02 12:11:53,kezhuw,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6356864589"", ""commit_url"": null}"
1821,ReviewRequested,2022-04-02 14:12:44,kezhuw,fork_close,,"{""requested_reviewer"": {""login"": ""eolivelli"", ""id"": 9469110, ""node_id"": ""MDQ6VXNlcjk0NjkxMTA="", ""avatar_url"": ""https://avatars.githubusercontent.com/u/9469110?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/eolivelli"", ""html_url"": ""https://github.com/eolivelli"", ""followers_url"": ""https://api.github.com/users/eolivelli/followers"", ""following_url"": ""https://api.github.com/users/eolivelli/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/eolivelli/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/eolivelli/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/eolivelli/subscriptions"", ""organizations_url"": ""https://api.github.com/users/eolivelli/orgs"", ""repos_url"": ""https://api.github.com/users/eolivelli/repos"", ""events_url"": ""https://api.github.com/users/eolivelli/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/eolivelli/received_events"", ""type"": ""User"", ""site_admin"": false}, ""requested_team"": null}"
1821,ReviewApproved,2022-04-02 17:08:23,eolivelli,fork_close,"Lgtm

Thanks","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1821#pullrequestreview-929588103""}"
1821,IssueComment,2022-04-02 17:09:45,eolivelli,fork_close,"@maoling @symat @ztzg PTAL

Let's improve CI","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1086680281"", ""author_association"": ""CONTRIBUTOR""}"
1821,Revise,2022-04-03 03:41:34,kezhuw,fork_close,"ZOOKEEPER-4327: Fix flaky RequestThrottlerTest.testDropStaleRequests

This test failed because `submitted` countdown locates in io thread,
while `prep_processor_request_queued` and `request_throttle_wait_count`
metrics are counted in different threads. So there is no happen-before
relation between `submitted.await` and metrics assertion.","{""sha"": ""e21c2f8f7c1cda16fc9df48a5d9ebfaa00ac0167"", ""author"": {""name"": ""Kezhu Wang"", ""email"": ""kezhuw@gmail.com"", ""date"": ""2022-04-03T03:31:49Z""}, ""committer"": {""name"": ""Kezhu Wang"", ""email"": ""kezhuw@gmail.com"", ""date"": ""2022-04-03T03:41:34Z""}}"
1821,IssueComment,2022-04-03 03:48:10,kezhuw,fork_close,"I have pushed one more commit to fix `RequestThrottlerTest.testDropStaleRequests` which fails in https://github.com/apache/zookeeper/runs/5799432447?check_suite_focus=true.

```none
org.opentest4j.AssertionFailedError: expected: <2> but was: <0>
	at org.apache.zookeeper.server.RequestThrottlerTest.testDropStaleRequests(RequestThrottlerTest.java:236)
```

Assertion `assertEquals(2L, (long) metrics.get(""prep_processor_request_queued""));` fails due to same reason as `RequestThrottlerTest.testLargeRequestThrottling`.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1086770493"", ""author_association"": ""CONTRIBUTOR""}"
1821,ReviewApproved,2022-04-06 06:21:09,symat,fork_close,"nice, big thanks! we really need a more stable CI.","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1821#pullrequestreview-932880609""}"
1821,IssueComment,2022-04-22 13:29:26,kezhuw,fork_close,@eolivelli @symat Shall we merge this ?,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1106517947"", ""author_association"": ""CONTRIBUTOR""}"
1821,IssueComment,2022-05-19 06:36:04,maoling,fork_close,"If no other concerns, I'll merge it at this weekend(05-22). Cc @kezhuw ","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1131288069"", ""author_association"": ""MEMBER""}"
1821,IssueComment,2022-05-19 10:50:21,symat,fork_close,"sure, thanks @kezhuw for the contribution and thank you @maoling for taking care of the merge!","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1131538040"", ""author_association"": ""CONTRIBUTOR""}"
1821,IssueComment,2022-05-19 10:50:46,symat,fork_close,"I think this test is flaky for a while, would make sense to check if we can backport it to older branches too.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1131538380"", ""author_association"": ""CONTRIBUTOR""}"
1821,ClosePR,2022-05-23 03:50:38,maoling,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6657509015"", ""commit_url"": null}"
1821,ReopenPR,2022-05-23 03:50:42,maoling,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6657509140"", ""commit_url"": null}"
1821,ClosePR,2022-05-24 07:32:30,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6666522291"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/4b1b33e72ca819258b8675948b9a80dd6290edb0""}"
1821,Referenced,2022-05-24 07:33:38,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6666529876"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/6c99420e046efa16feca780eb9986a4e0d2b1df1""}"
1821,Referenced,2022-05-24 07:34:08,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6666533207"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/c05ca0ee0deedd50d0ef32e3e01ad7f691d27009""}"
1821,IssueCommentSupplement,2022-05-24 07:37:26,maoling,fork_close,"@kezhuw Thanks for your contribution. 
Commit to the following branches:
[master ](https://github.com/apache/zookeeper/tree/master)
[branch-3.8](https://github.com/apache/zookeeper/tree/branch-3.8)
[branch-3.7](https://github.com/apache/zookeeper/tree/branch-3.7)
, except [branch-3.6](https://github.com/apache/zookeeper/tree/branch-3.6) please create another PR for it
","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1135518523"", ""author_association"": ""MEMBER""}"
1821,Referenced,2022-05-24 13:50:14,kezhuw,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6669304590"", ""commit_url"": ""https://api.github.com/repos/kezhuw/zookeeper/commits/f465a87495dbf9e6cc14484e4fdb12507719a1e5""}"
1821,Referenced,2022-05-24 13:51:12,kezhuw,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6669312722"", ""commit_url"": ""https://api.github.com/repos/kezhuw/zookeeper/commits/2011d8912a9647207bd6c9bf3267dee42016d65f""}"
1821,CrossReferenced,2022-05-24 13:52:16,kezhuw,fork_close,ZOOKEEPER-4327: Fix flaky RequestThrottlerTest,"{""reference"": {""url"": ""https://api.github.com/repos/apache/zookeeper/issues/1887"", ""is_pull_request"": true}}"
1821,IssueCommentSupplement,2022-05-24 14:21:53,kezhuw,fork_close,@maoling Thank you for merging. I observed ci failure https://github.com/apache/zookeeper/runs/6568872986?check_suite_focus=true. I opened #1887 to fix it. Would it be better to open backport for branch-3.6 after #1887 decided ?,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1135994300"", ""author_association"": ""CONTRIBUTOR""}"
1821,IssueCommentSupplement,2022-05-24 14:49:10,symat,fork_close,"> I opened https://github.com/apache/zookeeper/pull/1887 to fix it.

great, thanks, I'll check that too

> Would it be better to open backport for branch-3.6 after #1887 decided ?

I think it would be logical to backport to branch-3.6 only when you think you have all the fixes in place for newer branches. (less administration)","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1136029095"", ""author_association"": ""CONTRIBUTOR""}"
1821,IssueCommentSupplement,2022-06-28 07:34:31,kezhuw,fork_close,"Commit message correction:
`RequestThrottlerTest.testRequestThrottler:206 expected: <5> but was: <4>` should be `RequestThrottlerTest.testLargeRequestThrottling:299 expected: <5> but was: <4>`.

This PR did not touch `RequestThrottlerTest.testRequestThrottler`(fortunate, its line number does not change), so it is still flaky.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1168347001"", ""author_association"": ""CONTRIBUTOR""}"
1821,Referenced,2022-06-28 12:48:58,kezhuw,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6893705355"", ""commit_url"": ""https://api.github.com/repos/kezhuw/zookeeper/commits/7936aecd8b033b2eb3fc1be92a0efff8e3d82bde""}"
1821,Referenced,2022-09-25 08:21:55,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7453102578"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/bc1b231c9e32667b2978c86a6a64833470973dbd""}"
1821,Referenced,2022-09-25 08:23:55,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7453104307"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/0d382fb39b64d92fd4326b1fc00eb3455c58a533""}"
1821,Referenced,2022-09-25 08:25:39,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7453105786"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/f0381e95f0432f42258d96a3d68152d59dd6651d""}"
1821,CrossReferenced,2022-11-02 00:28:34,anuragmadnawat1,fork_close,ZOOKEEPER-4327: Fix flaky RequestThrottlerTest.testLargeRequestThrottling,"{""reference"": {""url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/issues/64"", ""is_pull_request"": true}}"
1821,Referenced,2022-11-02 00:28:34,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7718234136"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/f27836b8d3dd7e8127a223a07a71561866c46a4b""}"
1821,Referenced,2022-11-02 00:31:59,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7718249931"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/09477012f988348370ac554cd8370ef203a0eb34""}"
1821,Referenced,2022-11-02 02:23:46,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7718732753"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/ab9cf86f2b320023b81da0362f9177809308d2a4""}"
1821,CrossReferenced,2022-11-02 02:23:46,anuragmadnawat1,fork_close,ZOOKEEPER-4327: Fix flaky RequestThrottlerTest,"{""reference"": {""url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/issues/77"", ""is_pull_request"": true}}"
1821,Referenced,2022-11-02 02:30:31,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7718761977"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/77c80ddcb8eb894adfdf66cbefe512c4012db35e""}"
1821,Referenced,2023-01-13 19:47:43,anurag-harness,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/8223931975"", ""commit_url"": ""https://api.github.com/repos/anurag-harness/zookeeper/commits/1467b482cd375ae3bc1e5846602f7937fc40669c""}"
1821,CrossReferenced,2023-01-13 19:47:43,anurag-harness,fork_close,ZOOKEEPER-4327: Fix flaky RequestThrottlerTest.testLargeRequestThrottling,"{""reference"": {""url"": ""https://api.github.com/repos/anurag-harness/zookeeper/issues/31"", ""is_pull_request"": true}}"
1821,Referenced,2023-01-13 19:49:41,anurag-harness,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/8223943938"", ""commit_url"": ""https://api.github.com/repos/anurag-harness/zookeeper/commits/144a614c4a1573422a1305c3bfcf85ccdc2ff0c7""}"
1822,SubmitCommit,2022-02-23 02:41:35,kezhuw,fork_close,ZOOKEEPER-4474: Drop unused ZooDefs.opNames,"{""sha"": ""4f9271d58df3af4efe59ea0ad20ee88b8df03a38"", ""author"": {""name"": ""Kezhu Wang"", ""email"": ""kezhuw@gmail.com"", ""date"": ""2022-02-23T02:41:35Z""}, ""committer"": {""name"": ""Kezhu Wang"", ""email"": ""kezhuw@gmail.com"", ""date"": ""2022-02-23T02:41:35Z""}}"
1822,OpenPR,2022-02-23 02:43:41,kezhuw,fork_close,,
1822,ReviewApproved,2022-03-04 07:52:57,maoling,fork_close,+1,"{""author_association"": ""MEMBER"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1822#pullrequestreview-899902686""}"
1822,IssueComment,2022-03-08 02:44:11,maoling,fork_close,"If no other concerns, I'll merge it at this weekend(03-12)","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1061349011"", ""author_association"": ""MEMBER""}"
1822,ClosePR,2022-03-12 07:10:44,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6229319009"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/09117f8ed850cc12eba0d6f0ed7615e7983039aa""}"
1822,IssueCommentSupplement,2022-03-12 07:11:44,maoling,fork_close,"@kezhuw 
Thanks for your contribution.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1065830922"", ""author_association"": ""MEMBER""}"
1822,DeleteBranch,2022-03-12 08:01:55,kezhuw,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6229368744"", ""commit_url"": null}"
1822,CrossReferenced,2022-10-31 23:01:44,anuragmadnawat1,fork_close,ZOOKEEPER-4474: Drop unused ZooDefs.opNames,"{""reference"": {""url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/issues/19"", ""is_pull_request"": true}}"
1822,Referenced,2022-10-31 23:01:45,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7708717337"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/a82c46a7458b22acb285e7241390a06bff485aa3""}"
1822,Referenced,2022-10-31 23:16:27,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7708775020"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/a9c590b12de80c1ef0fde192e2eccba651f6e93e""}"
1822,CrossReferenced,2022-11-01 16:46:21,anuragmadnawat1,fork_close,ZOOKEEPER-4474: Drop unused ZooDefs.opNames,"{""reference"": {""url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/issues/31"", ""is_pull_request"": true}}"
1822,Referenced,2022-11-01 16:46:21,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7715220805"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/29f089e9b83967135b59d6295b5d8335189a7188""}"
1822,Referenced,2022-11-01 16:59:54,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7715353217"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/150ca1f4725af73b34066fb93cd86b012967a872""}"
1822,CrossReferenced,2022-11-01 21:13:47,anuragmadnawat1,fork_close,ZOOKEEPER-4474: Drop unused ZooDefs.opNames,"{""reference"": {""url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/issues/45"", ""is_pull_request"": true}}"
1822,Referenced,2022-11-01 21:13:50,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7717258531"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/50060804a8c2ff3b91284f30b5df883d44da0e4f""}"
1822,Referenced,2022-11-01 21:39:04,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7717398928"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/380709960a30001a4aafc751499501b98ca1881f""}"
1822,Referenced,2023-01-13 16:52:00,anurag-harness,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/8222696039"", ""commit_url"": ""https://api.github.com/repos/anurag-harness/zookeeper/commits/e1ed4b82fe9c60068a24896f0f9e73745a15d696""}"
1822,CrossReferenced,2023-01-13 16:52:00,anurag-harness,fork_close,ZOOKEEPER-4474: Drop unused ZooDefs.opNames,"{""reference"": {""url"": ""https://api.github.com/repos/anurag-harness/zookeeper/issues/12"", ""is_pull_request"": true}}"
1822,Referenced,2023-01-13 16:53:07,anurag-harness,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/8222705504"", ""commit_url"": ""https://api.github.com/repos/anurag-harness/zookeeper/commits/f3fd495c25fc22aaa43db73884335a0c93122f3f""}"
1823,SubmitCommit,2022-02-23 04:57:58,AnanyaSingh2121,fork_close,ZOOKEEPER-4476,"{""sha"": ""d3a72468cd6c6e026c02cc29ac59a937a5009fd3"", ""author"": {""name"": ""Ananya Singh"", ""email"": ""purpul90@gmail.com"", ""date"": ""2022-02-23T04:57:58Z""}, ""committer"": {""name"": ""Ananya Singh"", ""email"": ""purpul90@gmail.com"", ""date"": ""2022-02-23T04:57:58Z""}}"
1823,OpenPR,2022-02-23 05:04:35,AnanyaSingh2121,fork_close,,
1823,ReviewComment,2022-02-23 05:28:10,sonatype-lift[bot],fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1823#pullrequestreview-890632805""}"
1823,ReviewComment,2022-02-23 05:28:11,sonatype-lift[bot],fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1823#pullrequestreview-890632814""}"
1823,ReviewComment,2022-02-23 05:28:12,sonatype-lift[bot],fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1823#pullrequestreview-890632824""}"
1823,ClosePR,2022-03-27 14:00:45,AnanyaSingh2121,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6313754262"", ""commit_url"": null}"
1823,ReopenPR,2022-03-27 14:00:48,AnanyaSingh2121,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6313754340"", ""commit_url"": null}"
1823,IssueCommentSupplement,2022-03-27 14:37:42,eolivelli,fork_close,I am sorry but branch 3.5 is no more active as we declared it End Of Life ,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1079944659"", ""author_association"": ""CONTRIBUTOR""}"
1823,ClosePR,2022-03-27 14:37:42,eolivelli,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6313801533"", ""commit_url"": null}"
1824,SubmitCommit,2022-02-24 07:50:36,eolivelli,fork_close,"ZOOKEEPER-4478: Suppress OWASP false positives zookeeper-jute-3.8.0-SNAPSHOT.jar: CVE-2021-29425, CVE-2021-28164, CVE-2021-34429","{""sha"": ""472864dfb319cbb20a9463e1cb7674640cc21d32"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2022-02-24T07:50:36Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2022-02-24T07:50:36Z""}}"
1824,OpenPR,2022-02-24 07:54:48,eolivelli,fork_close,,
1824,ReviewRequested,2022-02-24 08:29:29,eolivelli,fork_close,,"{""requested_reviewer"": {""login"": ""anmolnar"", ""id"": 4997876, ""node_id"": ""MDQ6VXNlcjQ5OTc4NzY="", ""avatar_url"": ""https://avatars.githubusercontent.com/u/4997876?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/anmolnar"", ""html_url"": ""https://github.com/anmolnar"", ""followers_url"": ""https://api.github.com/users/anmolnar/followers"", ""following_url"": ""https://api.github.com/users/anmolnar/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/anmolnar/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/anmolnar/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/anmolnar/subscriptions"", ""organizations_url"": ""https://api.github.com/users/anmolnar/orgs"", ""repos_url"": ""https://api.github.com/users/anmolnar/repos"", ""events_url"": ""https://api.github.com/users/anmolnar/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/anmolnar/received_events"", ""type"": ""User"", ""site_admin"": false}, ""requested_team"": null}"
1824,ReviewRequested,2022-02-24 08:29:29,eolivelli,fork_close,,"{""requested_reviewer"": {""login"": ""arshadmohammad"", ""id"": 5720433, ""node_id"": ""MDQ6VXNlcjU3MjA0MzM="", ""avatar_url"": ""https://avatars.githubusercontent.com/u/5720433?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/arshadmohammad"", ""html_url"": ""https://github.com/arshadmohammad"", ""followers_url"": ""https://api.github.com/users/arshadmohammad/followers"", ""following_url"": ""https://api.github.com/users/arshadmohammad/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/arshadmohammad/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/arshadmohammad/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/arshadmohammad/subscriptions"", ""organizations_url"": ""https://api.github.com/users/arshadmohammad/orgs"", ""repos_url"": ""https://api.github.com/users/arshadmohammad/repos"", ""events_url"": ""https://api.github.com/users/arshadmohammad/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/arshadmohammad/received_events"", ""type"": ""User"", ""site_admin"": false}, ""requested_team"": null}"
1824,ReviewRequested,2022-02-24 08:29:29,eolivelli,fork_close,,"{""requested_reviewer"": {""login"": ""nkalmar"", ""id"": 5468746, ""node_id"": ""MDQ6VXNlcjU0Njg3NDY="", ""avatar_url"": ""https://avatars.githubusercontent.com/u/5468746?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/nkalmar"", ""html_url"": ""https://github.com/nkalmar"", ""followers_url"": ""https://api.github.com/users/nkalmar/followers"", ""following_url"": ""https://api.github.com/users/nkalmar/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/nkalmar/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/nkalmar/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/nkalmar/subscriptions"", ""organizations_url"": ""https://api.github.com/users/nkalmar/orgs"", ""repos_url"": ""https://api.github.com/users/nkalmar/repos"", ""events_url"": ""https://api.github.com/users/nkalmar/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/nkalmar/received_events"", ""type"": ""User"", ""site_admin"": false}, ""requested_team"": null}"
1824,ReviewRequested,2022-02-24 08:29:29,eolivelli,fork_close,,"{""requested_reviewer"": {""login"": ""symat"", ""id"": 18458499, ""node_id"": ""MDQ6VXNlcjE4NDU4NDk5"", ""avatar_url"": ""https://avatars.githubusercontent.com/u/18458499?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/symat"", ""html_url"": ""https://github.com/symat"", ""followers_url"": ""https://api.github.com/users/symat/followers"", ""following_url"": ""https://api.github.com/users/symat/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/symat/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/symat/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/symat/subscriptions"", ""organizations_url"": ""https://api.github.com/users/symat/orgs"", ""repos_url"": ""https://api.github.com/users/symat/repos"", ""events_url"": ""https://api.github.com/users/symat/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/symat/received_events"", ""type"": ""User"", ""site_admin"": false}, ""requested_team"": null}"
1824,ReviewApproved,2022-02-24 09:01:43,symat,fork_close,"I double checked the CVEs, seems false positive indeed:
- https://nvd.nist.gov/vuln/detail/CVE-2021-28164 affects jetty 9.4.37 - 9.4.38 (we use 9.4.43)
- https://nvd.nist.gov/vuln/detail/CVE-2021-29425 affects commons-io before 2.7 (we use 2.11.0)
- https://nvd.nist.gov/vuln/detail/CVE-2021-34429 affects jetty 9.4.37-9.4.42 (we use 9.4.43)","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1824#pullrequestreview-892152250""}"
1824,IssueComment,2022-02-24 10:44:27,eolivelli,fork_close,"@symat I believe we can merge this patch even if C tests failed.
I created a issue
https://issues.apache.org/jira/browse/ZOOKEEPER-4479
and a patch to disable the flaky test
https://github.com/apache/zookeeper/pull/1825","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1049725080"", ""author_association"": ""CONTRIBUTOR""}"
1824,ClosePR,2022-02-25 06:59:20,eolivelli,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6137153459"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/3004c909b78b3056985c8e39925e14bde3baa430""}"
1824,Referenced,2022-02-25 06:59:21,eolivelli,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6137153483"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/fe7f0e400828d6c84fe99b19cb632600f38417c2""}"
1824,Referenced,2022-02-25 06:59:31,eolivelli,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6137154186"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/d4d39226c61cfd1eea734faa33616e9b20779b32""}"
1824,Referenced,2022-02-25 07:00:20,eolivelli,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6137156993"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/6189cba81dd7d53f580950b37ca95b4dd19c2a13""}"
1824,Referenced,2022-02-25 07:01:30,eolivelli,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6137160951"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/565465724a0df518e26296c2f24ef2b12ee11dcc""}"
1824,CrossReferenced,2023-01-13 15:36:32,anurag-harness,fork_close,"ZOOKEEPER-4478: Suppress OWASP false positives zookeeper-jute-3.8.0-SNAPSHOT.jar: CVE-2021-29425, CVE-2021-28164, CVE-2021-34429","{""reference"": {""url"": ""https://api.github.com/repos/anurag-harness/zookeeper/issues/6"", ""is_pull_request"": true}}"
1824,Referenced,2023-01-13 15:36:33,anurag-harness,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/8221950554"", ""commit_url"": ""https://api.github.com/repos/anurag-harness/zookeeper/commits/43533c32e3f4bddf7cbf1e4dbfef91235e53cef8""}"
1824,Referenced,2023-01-13 15:51:23,anurag-harness,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/8222084055"", ""commit_url"": ""https://api.github.com/repos/anurag-harness/zookeeper/commits/04a42c70b0e2e43d0856710ee9c984a876d7c459""}"
1825,SubmitCommit,2022-02-24 10:36:25,eolivelli,fork_close,"ZOOKEEPER-4479: Tests: C client test TestOperations.cc testTimeoutCausedByWatches1 is very flaky on CI
This is a temporary patch that disables the assertion, that is slowing down a lot the CI Pull Request merge workflow","{""sha"": ""00bc99daba84b3c2e015e6a1e98b63e9d108abfc"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2022-02-24T10:35:32Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2022-02-24T10:36:25Z""}}"
1825,OpenPR,2022-02-24 10:37:05,eolivelli,fork_close,,
1825,ReviewRequested,2022-02-24 10:37:26,eolivelli,fork_close,,"{""requested_reviewer"": {""login"": ""arshadmohammad"", ""id"": 5720433, ""node_id"": ""MDQ6VXNlcjU3MjA0MzM="", ""avatar_url"": ""https://avatars.githubusercontent.com/u/5720433?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/arshadmohammad"", ""html_url"": ""https://github.com/arshadmohammad"", ""followers_url"": ""https://api.github.com/users/arshadmohammad/followers"", ""following_url"": ""https://api.github.com/users/arshadmohammad/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/arshadmohammad/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/arshadmohammad/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/arshadmohammad/subscriptions"", ""organizations_url"": ""https://api.github.com/users/arshadmohammad/orgs"", ""repos_url"": ""https://api.github.com/users/arshadmohammad/repos"", ""events_url"": ""https://api.github.com/users/arshadmohammad/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/arshadmohammad/received_events"", ""type"": ""User"", ""site_admin"": false}, ""requested_team"": null}"
1825,ReviewRequested,2022-02-24 10:37:26,eolivelli,fork_close,,"{""requested_reviewer"": {""login"": ""phunt"", ""id"": 15702, ""node_id"": ""MDQ6VXNlcjE1NzAy"", ""avatar_url"": ""https://avatars.githubusercontent.com/u/15702?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/phunt"", ""html_url"": ""https://github.com/phunt"", ""followers_url"": ""https://api.github.com/users/phunt/followers"", ""following_url"": ""https://api.github.com/users/phunt/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/phunt/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/phunt/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/phunt/subscriptions"", ""organizations_url"": ""https://api.github.com/users/phunt/orgs"", ""repos_url"": ""https://api.github.com/users/phunt/repos"", ""events_url"": ""https://api.github.com/users/phunt/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/phunt/received_events"", ""type"": ""User"", ""site_admin"": false}, ""requested_team"": null}"
1825,ReviewRequested,2022-02-24 10:37:26,eolivelli,fork_close,,"{""requested_reviewer"": {""login"": ""symat"", ""id"": 18458499, ""node_id"": ""MDQ6VXNlcjE4NDU4NDk5"", ""avatar_url"": ""https://avatars.githubusercontent.com/u/18458499?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/symat"", ""html_url"": ""https://github.com/symat"", ""followers_url"": ""https://api.github.com/users/symat/followers"", ""following_url"": ""https://api.github.com/users/symat/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/symat/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/symat/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/symat/subscriptions"", ""organizations_url"": ""https://api.github.com/users/symat/orgs"", ""repos_url"": ""https://api.github.com/users/symat/repos"", ""events_url"": ""https://api.github.com/users/symat/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/symat/received_events"", ""type"": ""User"", ""site_admin"": false}, ""requested_team"": null}"
1825,ReviewRequested,2022-02-24 10:37:26,eolivelli,fork_close,,"{""requested_reviewer"": {""login"": ""ztzg"", ""id"": 393108, ""node_id"": ""MDQ6VXNlcjM5MzEwOA=="", ""avatar_url"": ""https://avatars.githubusercontent.com/u/393108?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/ztzg"", ""html_url"": ""https://github.com/ztzg"", ""followers_url"": ""https://api.github.com/users/ztzg/followers"", ""following_url"": ""https://api.github.com/users/ztzg/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/ztzg/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/ztzg/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/ztzg/subscriptions"", ""organizations_url"": ""https://api.github.com/users/ztzg/orgs"", ""repos_url"": ""https://api.github.com/users/ztzg/repos"", ""events_url"": ""https://api.github.com/users/ztzg/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/ztzg/received_events"", ""type"": ""User"", ""site_admin"": false}, ""requested_team"": null}"
1825,ReviewRequested,2022-02-24 10:37:41,eolivelli,fork_close,,"{""requested_reviewer"": {""login"": ""anmolnar"", ""id"": 4997876, ""node_id"": ""MDQ6VXNlcjQ5OTc4NzY="", ""avatar_url"": ""https://avatars.githubusercontent.com/u/4997876?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/anmolnar"", ""html_url"": ""https://github.com/anmolnar"", ""followers_url"": ""https://api.github.com/users/anmolnar/followers"", ""following_url"": ""https://api.github.com/users/anmolnar/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/anmolnar/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/anmolnar/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/anmolnar/subscriptions"", ""organizations_url"": ""https://api.github.com/users/anmolnar/orgs"", ""repos_url"": ""https://api.github.com/users/anmolnar/repos"", ""events_url"": ""https://api.github.com/users/anmolnar/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/anmolnar/received_events"", ""type"": ""User"", ""site_admin"": false}, ""requested_team"": null}"
1825,ReviewRequested,2022-02-24 10:37:41,eolivelli,fork_close,,"{""requested_reviewer"": {""login"": ""nkalmar"", ""id"": 5468746, ""node_id"": ""MDQ6VXNlcjU0Njg3NDY="", ""avatar_url"": ""https://avatars.githubusercontent.com/u/5468746?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/nkalmar"", ""html_url"": ""https://github.com/nkalmar"", ""followers_url"": ""https://api.github.com/users/nkalmar/followers"", ""following_url"": ""https://api.github.com/users/nkalmar/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/nkalmar/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/nkalmar/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/nkalmar/subscriptions"", ""organizations_url"": ""https://api.github.com/users/nkalmar/orgs"", ""repos_url"": ""https://api.github.com/users/nkalmar/repos"", ""events_url"": ""https://api.github.com/users/nkalmar/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/nkalmar/received_events"", ""type"": ""User"", ""site_admin"": false}, ""requested_team"": null}"
1825,CrossReferenced,2022-02-24 10:44:27,eolivelli,fork_close,"ZOOKEEPER-4478: Suppress OWASP false positives zookeeper-jute-3.8.0-SNAPSHOT.jar: CVE-2021-29425, CVE-2021-28164, CVE-2021-34429","{""reference"": {""url"": ""https://api.github.com/repos/apache/zookeeper/issues/1824"", ""is_pull_request"": true}}"
1825,ReviewApproved,2022-02-24 11:09:14,ztzg,fork_close,"Fine with me.

I will look into ZOOKEEPER-4479 ASAP, but I don't think this should block anything.","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1825#pullrequestreview-892295471""}"
1825,CrossReferenced,2022-02-25 16:43:51,tisonkun,fork_close,ZOOKEEPER-4480: Introduce end to end compatibility tests,"{""reference"": {""url"": ""https://api.github.com/repos/apache/zookeeper/issues/1826"", ""is_pull_request"": true}}"
1825,ClosePR,2022-03-01 16:17:34,eolivelli,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6163236895"", ""commit_url"": null}"
1826,SubmitCommit,2022-02-24 13:56:13,tisonkun,fork_close,"e2e tests

Signed-off-by: tison <wander4096@gmail.com>","{""sha"": ""acc358d798c564f0e2d0376502cdb9f19a1a34f0"", ""author"": {""name"": ""tison"", ""email"": ""wander4096@gmail.com"", ""date"": ""2022-02-24T13:56:13Z""}, ""committer"": {""name"": ""tison"", ""email"": ""wander4096@gmail.com"", ""date"": ""2022-02-24T13:56:13Z""}}"
1826,SubmitCommit,2022-02-24 14:20:18,tisonkun,fork_close,"compatibility

Signed-off-by: tison <wander4096@gmail.com>","{""sha"": ""dbba30de89468d9c75446ca934bb13e602ecc37c"", ""author"": {""name"": ""tison"", ""email"": ""wander4096@gmail.com"", ""date"": ""2022-02-24T14:20:18Z""}, ""committer"": {""name"": ""tison"", ""email"": ""wander4096@gmail.com"", ""date"": ""2022-02-24T14:20:18Z""}}"
1826,SubmitCommit,2022-02-24 14:23:16,tisonkun,fork_close,"extend zk versions

Signed-off-by: tison <wander4096@gmail.com>","{""sha"": ""b18c8407003a43c27f9c9689c4ed3cc77abe93f5"", ""author"": {""name"": ""tison"", ""email"": ""wander4096@gmail.com"", ""date"": ""2022-02-24T14:23:16Z""}, ""committer"": {""name"": ""tison"", ""email"": ""wander4096@gmail.com"", ""date"": ""2022-02-24T14:23:16Z""}}"
1826,OpenPR,2022-02-24 14:25:43,tisonkun,fork_close,,
1826,ReviewComment,2022-02-24 14:30:39,tisonkun,fork_close,,"{""author_association"": ""MEMBER"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1826#pullrequestreview-892518562""}"
1826,ReviewRejected,2022-02-24 15:18:36,eolivelli,fork_close,"This is a good start.
What about moving move code to some bash (or python, whichever you prefer) script?
This way a user can run the compatibility test locally","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1826#pullrequestreview-892590416""}"
1826,Revise,2022-02-25 02:10:00,tisonkun,fork_close,"factor out test script

Signed-off-by: tison <wander4096@gmail.com>","{""sha"": ""e123ffe428cff4c01224343c7a9e01f7854e137e"", ""author"": {""name"": ""tison"", ""email"": ""wander4096@gmail.com"", ""date"": ""2022-02-25T02:10:00Z""}, ""committer"": {""name"": ""tison"", ""email"": ""wander4096@gmail.com"", ""date"": ""2022-02-25T02:10:00Z""}}"
1826,Revise,2022-02-25 02:16:59,tisonkun,fork_close,"fix conditions

Signed-off-by: tison <wander4096@gmail.com>","{""sha"": ""06236658ed282918b85edee80307e2a239ccc38d"", ""author"": {""name"": ""tison"", ""email"": ""wander4096@gmail.com"", ""date"": ""2022-02-25T02:16:59Z""}, ""committer"": {""name"": ""tison"", ""email"": ""wander4096@gmail.com"", ""date"": ""2022-02-25T02:16:59Z""}}"
1826,IssueComment,2022-02-25 02:20:43,tisonkun,fork_close,@eolivelli updated.,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1050452622"", ""author_association"": ""MEMBER""}"
1826,ReviewComment,2022-02-25 02:32:33,sonatype-lift[bot],fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1826#pullrequestreview-893209981""}"
1826,ReviewComment,2022-02-25 02:32:34,sonatype-lift[bot],fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1826#pullrequestreview-893209996""}"
1826,IssueComment,2022-02-25 02:39:21,tisonkun,fork_close,"I don't know why build-cppunit-tests failed, obviously I don't touch any files about it :)","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1050461863"", ""author_association"": ""MEMBER""}"
1826,IssueComment,2022-02-25 16:43:51,tisonkun,fork_close,"I think the CI failure is about:

* https://github.com/apache/zookeeper/pull/1827
* https://github.com/apache/zookeeper/pull/1825

@eolivelli you can give this another look now.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1051015112"", ""author_association"": ""MEMBER""}"
1826,ReviewApproved,2022-02-25 16:58:51,eolivelli,fork_close,"Lgtm 

Looking for a second reviewer 

Great work","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1826#pullrequestreview-893937898""}"
1826,IssueComment,2022-02-26 00:51:52,tisonkun,fork_close,"Thanks for your review!

cc @maoling @anmolnar @hanm could you take a look at this PR?","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1051404735"", ""author_association"": ""MEMBER""}"
1826,ReviewApproved,2022-02-28 08:05:47,symat,fork_close,"Wow, nice indeed!
Very useful! (Would be nice to add more tests later, incl. SSL/Kerberos.)","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1826#pullrequestreview-894755283""}"
1826,IssueComment,2022-02-28 15:26:06,tisonkun,fork_close,@symat Thanks for your review! May you or @eolivelli help on merging this PR? I'm going to prepare a patch achieving the original proposal on connect request codec.,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1054369998"", ""author_association"": ""MEMBER""}"
1826,IssueComment,2022-02-28 15:28:35,symat,fork_close,"sure, I'm merging it now.
Master branch is enough? Or should I cherry-pick?","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1054372551"", ""author_association"": ""CONTRIBUTOR""}"
1826,IssueComment,2022-02-28 15:31:04,eolivelli,fork_close,"Master is enough.
We aren't going to commit possible breaking changes to release branches","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1054375299"", ""author_association"": ""CONTRIBUTOR""}"
1826,IssueComment,2022-02-28 15:31:53,tisonkun,fork_close,"@symat I think master is enough. This change is enhancement and normally we pick bugfix only. Also I don't need it for any previous releases but for polishing the codebase.

If we grow more it cases and find them benefits releasing branches, we can pick to them later.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1054376142"", ""author_association"": ""MEMBER""}"
1826,ClosePR,2022-02-28 15:32:32,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6155541387"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/609afd1281ace4d29aabfb48628aa9eead56c4bf""}"
1826,Referenced,2022-09-09 18:12:52,rahulrane50,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7358456987"", ""commit_url"": ""https://api.github.com/repos/rahulrane50/zookeeper/commits/0df5cc3e1799e8a52b9b213b309fcb9e4cddc579""}"
1826,CrossReferenced,2022-09-09 18:15:51,rahulrane50,fork_close,ZOOKEEPER-4480: Introduce end to end compatibility tests,"{""reference"": {""url"": ""https://api.github.com/repos/linkedin/zookeeper/issues/106"", ""is_pull_request"": true}}"
1826,CrossReferenced,2023-01-13 15:51:25,anurag-harness,fork_close,ZOOKEEPER-4480: Introduce end to end compatibility tests,"{""reference"": {""url"": ""https://api.github.com/repos/anurag-harness/zookeeper/issues/7"", ""is_pull_request"": true}}"
1826,Referenced,2023-01-13 15:51:26,anurag-harness,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/8222084353"", ""commit_url"": ""https://api.github.com/repos/anurag-harness/zookeeper/commits/b1c84d668269a930892c7d3c3ddaf2cbb6cec623""}"
1826,Referenced,2023-01-13 16:05:57,anurag-harness,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/8222212273"", ""commit_url"": ""https://api.github.com/repos/anurag-harness/zookeeper/commits/c39bcc273ea6767b52255e6be53b87b416a554b6""}"
1827,SubmitCommit,2022-02-24 18:02:12,ztzg,fork_close,ZOOKEEPER-4479: C client test mocks: Allow passing a reference recv/send time,"{""sha"": ""5e976a4c3e17f0765619e1ff33e4ede4c542234a"", ""author"": {""name"": ""Damien Diederen"", ""email"": ""ddiederen@apache.org"", ""date"": ""2022-02-24T17:54:05Z""}, ""committer"": {""name"": ""Damien Diederen"", ""email"": ""ddiederen@apache.org"", ""date"": ""2022-02-24T18:02:12Z""}}"
1827,SubmitCommit,2022-02-24 18:02:32,ztzg,fork_close,"ZOOKEEPER-4479: C client TestOperations: Specify last send to avoid jitter

Without this, the actual result depends on the time elapsed between
the initialization of the time mock and the call to forceConnected.","{""sha"": ""445416647192d00f2c14fd096cd23088ee5471aa"", ""author"": {""name"": ""Damien Diederen"", ""email"": ""ddiederen@apache.org"", ""date"": ""2022-02-24T17:55:09Z""}, ""committer"": {""name"": ""Damien Diederen"", ""email"": ""ddiederen@apache.org"", ""date"": ""2022-02-24T18:02:32Z""}}"
1827,OpenPR,2022-02-24 18:10:12,ztzg,fork_close,,
1827,ReviewRequested,2022-02-24 18:10:26,ztzg,fork_close,,"{""requested_reviewer"": {""login"": ""eolivelli"", ""id"": 9469110, ""node_id"": ""MDQ6VXNlcjk0NjkxMTA="", ""avatar_url"": ""https://avatars.githubusercontent.com/u/9469110?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/eolivelli"", ""html_url"": ""https://github.com/eolivelli"", ""followers_url"": ""https://api.github.com/users/eolivelli/followers"", ""following_url"": ""https://api.github.com/users/eolivelli/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/eolivelli/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/eolivelli/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/eolivelli/subscriptions"", ""organizations_url"": ""https://api.github.com/users/eolivelli/orgs"", ""repos_url"": ""https://api.github.com/users/eolivelli/repos"", ""events_url"": ""https://api.github.com/users/eolivelli/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/eolivelli/received_events"", ""type"": ""User"", ""site_admin"": false}, ""requested_team"": null}"
1827,ReviewRequested,2022-02-24 18:10:31,ztzg,fork_close,,"{""requested_reviewer"": {""login"": ""symat"", ""id"": 18458499, ""node_id"": ""MDQ6VXNlcjE4NDU4NDk5"", ""avatar_url"": ""https://avatars.githubusercontent.com/u/18458499?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/symat"", ""html_url"": ""https://github.com/symat"", ""followers_url"": ""https://api.github.com/users/symat/followers"", ""following_url"": ""https://api.github.com/users/symat/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/symat/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/symat/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/symat/subscriptions"", ""organizations_url"": ""https://api.github.com/users/symat/orgs"", ""repos_url"": ""https://api.github.com/users/symat/repos"", ""events_url"": ""https://api.github.com/users/symat/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/symat/received_events"", ""type"": ""User"", ""site_admin"": false}, ""requested_team"": null}"
1827,CrossReferenced,2022-02-25 16:43:51,tisonkun,fork_close,ZOOKEEPER-4480: Introduce end to end compatibility tests,"{""reference"": {""url"": ""https://api.github.com/repos/apache/zookeeper/issues/1826"", ""is_pull_request"": true}}"
1827,ReviewApproved,2022-03-01 16:13:15,eolivelli,fork_close,great!,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1827#pullrequestreview-896517778""}"
1827,ClosePR,2022-03-01 16:14:00,eolivelli,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6163211454"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/640b6dd65fd302ada1ac46c9b8c32f17dadb0d32""}"
1827,Referenced,2022-03-01 16:14:06,eolivelli,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6163212078"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/d47e3f40c0de6253e981a655d6e7faa21d204737""}"
1827,Referenced,2022-03-11 13:59:22,eolivelli,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6225046528"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/1e9e00d3dc2c0c4ad4a92536ad63848f48e06b53""}"
1827,Referenced,2022-09-26 19:09:08,rahulrane50,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7461724194"", ""commit_url"": ""https://api.github.com/repos/rahulrane50/zookeeper/commits/c537cd682c85725a268363e713ccbe950c9baf1d""}"
1827,CrossReferenced,2022-09-26 19:10:29,rahulrane50,fork_close,ZOOKEEPER-4461: Use logback in zookeeper-contrib project,"{""reference"": {""url"": ""https://api.github.com/repos/linkedin/zookeeper/issues/108"", ""is_pull_request"": true}}"
1827,CrossReferenced,2022-10-31 21:05:39,anuragmadnawat1,fork_close,ZOOKEEPER-4479: C tests: Avoid some jitter which results in flaky tests,"{""reference"": {""url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/issues/14"", ""is_pull_request"": true}}"
1827,Referenced,2022-10-31 21:05:40,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7708117541"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/6045621ab9509598739bcf2674877c0fd69aa858""}"
1827,Referenced,2022-10-31 21:20:46,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7708209081"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/cb00f166aa0b7a3b616de265691f8e7187666f34""}"
1827,Referenced,2022-10-31 22:03:25,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7708441764"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/4bb63cfae0b53512427635eda3b9a9ad94e8d94b""}"
1827,Referenced,2022-10-31 22:04:08,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7708445394"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/cffd51df481e673e89a45967616d5e2fc1bc5ae9""}"
1827,CrossReferenced,2022-10-31 22:04:08,anuragmadnawat1,fork_close,ZOOKEEPER-4479: C tests: Avoid some jitter which results in flaky tests,"{""reference"": {""url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/issues/16"", ""is_pull_request"": true}}"
1827,Referenced,2022-10-31 22:33:12,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7708596084"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/be40038cea039a506e19835c812c62af2db22a0f""}"
1827,Referenced,2022-11-01 15:51:37,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7714724339"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/571758a9efef26cf15c6387d9489af0eb596b2b4""}"
1827,Referenced,2022-11-01 15:53:01,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7714735960"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/fc4c0023043e1dfb13015bf5914a7856c26c4038""}"
1827,CrossReferenced,2022-11-01 15:53:01,anuragmadnawat1,fork_close,ZOOKEEPER-4479: C tests: Avoid some jitter which results in flaky tests,"{""reference"": {""url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/issues/26"", ""is_pull_request"": true}}"
1827,CrossReferenced,2022-11-01 15:58:28,anuragmadnawat1,fork_close,ZOOKEEPER-4479: C tests: Avoid some jitter which results in flaky tests,"{""reference"": {""url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/issues/27"", ""is_pull_request"": true}}"
1827,Referenced,2022-11-01 15:58:29,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7714783196"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/db41173d15e15011a8a3aa23ad4b70c6c86cb876""}"
1827,CrossReferenced,2022-11-01 16:01:50,anuragmadnawat1,fork_close,ZOOKEEPER-4479: C tests: Avoid some jitter which results in flaky tests,"{""reference"": {""url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/issues/28"", ""is_pull_request"": true}}"
1827,Referenced,2022-11-01 16:01:50,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7714810425"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/38bd83d328d84e1c57936b24085f0e9d6c564a9a""}"
1827,Referenced,2022-11-01 16:15:02,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7714940497"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/166d0eefaefb33be8a2daa03115e8ca356b1cf3e""}"
1827,Referenced,2022-11-01 17:21:04,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7715523247"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/d6bdcae9cab2dd9e3046b9b6ecf80de7f7dec2f9""}"
1827,CrossReferenced,2022-11-01 17:21:04,anuragmadnawat1,fork_close,ZOOKEEPER-4479: C tests: Avoid some jitter which results in flaky tests,"{""reference"": {""url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/issues/34"", ""is_pull_request"": true}}"
1827,CrossReferenced,2022-11-01 17:24:42,anuragmadnawat1,fork_close,ZOOKEEPER-4479: C tests: Avoid some jitter which results in flaky tests,"{""reference"": {""url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/issues/35"", ""is_pull_request"": true}}"
1827,Referenced,2022-11-01 17:24:44,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7715550545"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/1b552319f3f6ed0ba578a49442c297b08523e0ce""}"
1827,CrossReferenced,2022-11-01 17:59:04,anuragmadnawat1,fork_close,ZOOKEEPER-4479: C tests: Avoid some jitter which results in flaky tests,"{""reference"": {""url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/issues/36"", ""is_pull_request"": true}}"
1827,Referenced,2022-11-01 17:59:12,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7715829282"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/605fdaeb567455014a78c884b145304e0e05339b""}"
1827,CrossReferenced,2022-11-01 18:11:27,anuragmadnawat1,fork_close,ZOOKEEPER-4479: C tests: Avoid some jitter which results in flaky tests,"{""reference"": {""url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/issues/38"", ""is_pull_request"": true}}"
1827,Referenced,2022-11-01 18:11:28,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7715936102"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/0ec92097b727f98856f13885748670b85439352d""}"
1827,CrossReferenced,2022-11-01 19:01:27,anuragmadnawat1,fork_close,ZOOKEEPER-4479: C tests: Avoid some jitter which results in flaky tests,"{""reference"": {""url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/issues/40"", ""is_pull_request"": true}}"
1827,Referenced,2022-11-01 19:01:28,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7716323631"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/1cd93c90eb123abafd2419d68472507c24abb32a""}"
1827,Referenced,2022-11-01 19:04:50,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7716348160"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/f88adfbd62b9f8f991f67c7c3994fa94d3760c2b""}"
1827,CrossReferenced,2022-11-01 19:04:50,anuragmadnawat1,fork_close,ZOOKEEPER-4479: C tests: Avoid some jitter which results in flaky tests,"{""reference"": {""url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/issues/41"", ""is_pull_request"": true}}"
1827,Referenced,2022-11-01 20:13:08,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7716841124"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/b1e70ab78629f23504ff1528554b381d234824ba""}"
1827,CrossReferenced,2022-11-01 20:13:08,anuragmadnawat1,fork_close,ZOOKEEPER-4479: C tests: Avoid some jitter which results in flaky tests,"{""reference"": {""url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/issues/42"", ""is_pull_request"": true}}"
1827,Referenced,2022-11-01 20:31:37,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7716969513"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/05c9743ac4fb53bc17e70b161c6cc9bd3b153330""}"
1827,CrossReferenced,2023-01-13 16:08:30,anurag-harness,fork_close,ZOOKEEPER-4479: C tests: Avoid some jitter which results in flaky tests,"{""reference"": {""url"": ""https://api.github.com/repos/anurag-harness/zookeeper/issues/9"", ""is_pull_request"": true}}"
1827,Referenced,2023-01-13 16:08:31,anurag-harness,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/8222234551"", ""commit_url"": ""https://api.github.com/repos/anurag-harness/zookeeper/commits/c55898ace5594c45ba80db52013215421507f1a6""}"
1827,Referenced,2023-01-13 16:22:51,anurag-harness,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/8222374065"", ""commit_url"": ""https://api.github.com/repos/anurag-harness/zookeeper/commits/040253e6f575635fd89835b431ceab645ca898a4""}"
1828,SubmitCommit,2022-02-25 17:15:01,Mate Szalay-Beko,fork_close,"ZOOKEEPER-4477: Single Kerberos ticket renewal failure can prevent all future renewals since Java 9

This bug is similar to the one fixed in https://issues.apache.org/jira/browse/KAFKA-12730.

Our Kerberos ticket refresh thread performs re-login by logging out and then logging in again. If
login fails, we retry after some sleep. Every reLogin() operation performs loginContext.logout()
and loginContext.login(). If login fails, we end up with two consecutive logouts. This used to
work in older Java versions, but from Java 9 onwards, this results in a NullPointerException due
to https://bugs.openjdk.java.net/browse/JDK-8173069. We should check if logout is required before
attempting logout.

I fixed the issue and added a new unit test to test some ticket renewal scenarios. I managed to
reproduce the problem in KerberosTicketRenewalTest.shouldRecoverIfKerberosNotAvailableForSomeTime()
which (before the fix) failed with Java13 but succeeded with Java8.","{""sha"": ""c5180a342810cb474d02cb7217527ff17d376916"", ""author"": {""name"": ""Mate Szalay-Beko"", ""email"": ""symat@apache.org"", ""date"": ""2022-02-25T17:04:25Z""}, ""committer"": {""name"": ""Mate Szalay-Beko"", ""email"": ""symat@apache.org"", ""date"": ""2022-02-25T17:15:01Z""}}"
1828,OpenPR,2022-02-25 17:17:26,symat,fork_close,,
1828,IssueComment,2022-02-25 17:19:24,symat,fork_close,"I plan to cherry-pick this to all active branches. (expecting that we will need some minor change on branch-3.5, due to the different JUnit version)","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1051042297"", ""author_association"": ""CONTRIBUTOR""}"
1828,ReviewRejected,2022-02-25 17:34:36,eolivelli,fork_close,"Overall lgtm

I left one question about test clean up","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1828#pullrequestreview-893973695""}"
1828,Revise,2022-02-25 17:43:17,Mate Szalay-Beko,fork_close,small fixes,"{""sha"": ""4375ab7839547bf96d50bb44131cf601b87acdf2"", ""author"": {""name"": ""Mate Szalay-Beko"", ""email"": ""symat@apache.org"", ""date"": ""2022-02-25T17:43:17Z""}, ""committer"": {""name"": ""Mate Szalay-Beko"", ""email"": ""symat@apache.org"", ""date"": ""2022-02-25T17:43:17Z""}}"
1828,ReviewComment,2022-02-25 17:51:32,eolivelli,fork_close,,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1828#pullrequestreview-893990706""}"
1828,Revise,2022-02-25 17:56:53,Mate Szalay-Beko,fork_close,clear jaas config system property,"{""sha"": ""bd7a3c5aa359fc9f074415aa6462cf053017c90e"", ""author"": {""name"": ""Mate Szalay-Beko"", ""email"": ""symat@apache.org"", ""date"": ""2022-02-25T17:56:53Z""}, ""committer"": {""name"": ""Mate Szalay-Beko"", ""email"": ""symat@apache.org"", ""date"": ""2022-02-25T17:56:53Z""}}"
1828,ReviewApproved,2022-02-25 19:09:58,eolivelli,fork_close,"Lgtm
Mergeable as soon as CI passes","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1828#pullrequestreview-894061595""}"
1828,IssueComment,2022-02-26 22:16:03,symat,fork_close,hmm... one of my KerberosTicketRenewalTest failed on java11. (I tested locally on java8 and java13) I'll have to dig into the problem.,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1052698713"", ""author_association"": ""CONTRIBUTOR""}"
1828,IssueComment,2022-02-26 22:35:48,symat,fork_close,"interesting... it constantly passed for me with some older java 11 versions, but it is flaky on the java 11.0.14 we use in CI. The fix itself should be harmless, I think we have some timing issue. (in this particular test I stop and restart KDC to trigger failed ticket renewal, while using 2sec ticket lifetime - I think KDC can not start quick enough to make the second renewal pass) I'll try to make the test more robust. ","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1052722864"", ""author_association"": ""CONTRIBUTOR""}"
1828,Revise,2022-02-26 22:53:37,Mate Szalay-Beko,fork_close,fix flakiness in KerberosTicketRenewalTest,"{""sha"": ""da8aebcbe1929eaa8dfd02300507fa7136047dd4"", ""author"": {""name"": ""Mate Szalay-Beko"", ""email"": ""symat@apache.org"", ""date"": ""2022-02-26T22:53:37Z""}, ""committer"": {""name"": ""Mate Szalay-Beko"", ""email"": ""symat@apache.org"", ""date"": ""2022-02-26T22:53:37Z""}}"
1828,IssueComment,2022-02-26 22:54:00,symat,fork_close,"I increased a timeout, now the 5 sec ticket lifetime should hopefully give plenty of time to restart the KDC. Also I made my renewal assertion more clever, I think this was the actual issue behind the failures (now I assert that the renewal not only started but actually succeeded). This way the test run for me now 115 times without any error. Previously it failed once about each 3-4 execution on my laptop. I hope this will be robust enough for the CI.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1052744746"", ""author_association"": ""CONTRIBUTOR""}"
1828,Revise,2022-02-26 23:02:34,Mate Szalay-Beko,fork_close,fix checkstyle,"{""sha"": ""d807f53fb98a0aa233859572f0d2397cbf6ba203"", ""author"": {""name"": ""Mate Szalay-Beko"", ""email"": ""symat@apache.org"", ""date"": ""2022-02-26T23:02:34Z""}, ""committer"": {""name"": ""Mate Szalay-Beko"", ""email"": ""symat@apache.org"", ""date"": ""2022-02-26T23:02:34Z""}}"
1828,Revise,2022-02-28 09:23:16,Mate Szalay-Beko,fork_close,some extra logging for the test,"{""sha"": ""7cc914c5c1a0c4781debf5e40eb40c460ad29849"", ""author"": {""name"": ""Mate Szalay-Beko"", ""email"": ""symat@apache.org"", ""date"": ""2022-02-28T09:23:03Z""}, ""committer"": {""name"": ""Mate Szalay-Beko"", ""email"": ""symat@apache.org"", ""date"": ""2022-02-28T09:23:16Z""}}"
1828,IssueComment,2022-02-28 11:56:53,symat,fork_close,only unrelated C client test fail,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1054182166"", ""author_association"": ""CONTRIBUTOR""}"
1828,IssueComment,2022-02-28 12:59:33,eolivelli,fork_close,I have restarted the job,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1054231577"", ""author_association"": ""CONTRIBUTOR""}"
1828,IssueComment,2022-02-28 14:31:26,symat,fork_close,"now c++ tests passing, but some Java tests failes (none of them SASL related):

```
[ERROR] Failures: 
[ERROR]   RequestThrottlerTest.testGlobalOutstandingRequestThrottlingWithRequestThrottlerDisabled:338 expected: <3> but was: <4>
[ERROR]   RequestThrottlerTest.testLargeRequestThrottling:297 expected: <2> but was: <1>
[ERROR]   Zab1_0Test.testNormalFollowerRunWithDiff:706->testFollowerConversation:445 expected: <4294967298> but was: <0>
[INFO] 
[ERROR] Tests run: 2979, Failures: 3, Errors: 0, Skipped: 4
```

I don't know if we should wait for a CI run where both C++ and Java tests succeed.  Our CI is very flaky nowadays :(","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1054316417"", ""author_association"": ""CONTRIBUTOR""}"
1828,IssueComment,2022-03-01 10:43:53,symat,fork_close,yeee! (I restarted again a few hours before and now we just had a fully green run),"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1055290047"", ""author_association"": ""CONTRIBUTOR""}"
1828,IssueComment,2022-03-01 13:23:47,symat,fork_close,"@eolivelli , can I merge this change? I don't think the flaky CI failures were related this case (after commit da8aebc which was actually fixing the flakiness in the new tests I added)","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1055439439"", ""author_association"": ""CONTRIBUTOR""}"
1828,IssueComment,2022-03-01 13:24:39,eolivelli,fork_close,"CI passed.
I am merging this patch.
should we merge this to branch-3.7 as well ?","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1055440194"", ""author_association"": ""CONTRIBUTOR""}"
1828,IssueComment,2022-03-01 13:28:24,symat,fork_close,"thanks! I think we should merge this to all active branches (this is not a new feature, but a bugfix which can potentially affect any ZooKeeper version running on Java9+). I already created a separate PR (https://github.com/apache/zookeeper/pull/1830) for branch-3.5 (same changes, but using junit4).","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1055443605"", ""author_association"": ""CONTRIBUTOR""}"
1828,Referenced,2022-03-01 13:30:39,eolivelli,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6162066657"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/cf30b3b8a340efd81c651e4a08503108a7fd107d""}"
1828,ClosePR,2022-03-01 13:30:39,eolivelli,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6162066695"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/a5b6c38edd74b263638817f7b65d057c91d5a888""}"
1828,Referenced,2022-03-01 13:30:50,eolivelli,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6162067736"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/d9c1338df1196ae515a692f895bae85dacdb3ac5""}"
1828,IssueCommentSupplement,2022-03-01 13:31:47,eolivelli,fork_close,"committed to master, branch-3.8 and branch-3.7.

branch-3.6 is still on junit4 and the patch does not apply","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1055446491"", ""author_association"": ""CONTRIBUTOR""}"
1828,CrossReferenced,2022-03-01 15:20:21,symat,fork_close,ZOOKEEPER-4477: Single Kerberos ticket renewal failure can prevent all future renewals since Java 9,"{""reference"": {""url"": ""https://api.github.com/repos/apache/zookeeper/issues/1833"", ""is_pull_request"": true}}"
1828,Referenced,2023-01-13 16:05:59,anurag-harness,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/8222212588"", ""commit_url"": ""https://api.github.com/repos/anurag-harness/zookeeper/commits/3f3b968ac2121af1441faa8449baa1fe1963238e""}"
1828,CrossReferenced,2023-01-13 16:05:59,anurag-harness,fork_close,ZOOKEEPER-4477: Single Kerberos ticket renewal failure can prevent all future renewals since Java 9,"{""reference"": {""url"": ""https://api.github.com/repos/anurag-harness/zookeeper/issues/8"", ""is_pull_request"": true}}"
1828,Referenced,2023-01-13 16:08:27,anurag-harness,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/8222234070"", ""commit_url"": ""https://api.github.com/repos/anurag-harness/zookeeper/commits/eaf64d8140a8ca0468421fc9834e0d500837206b""}"
1829,SubmitCommit,2022-02-28 09:41:36,eolivelli,fork_close,ZOOKEEPER-4482 Fix commons-io and commons-cli LICENSE files,"{""sha"": ""a9ceec9a15709974fb56c151733414dcf835cf01"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2022-02-28T09:41:36Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2022-02-28T09:41:36Z""}}"
1829,OpenPR,2022-02-28 09:42:07,eolivelli,fork_close,,
1829,ReviewApproved,2022-02-28 10:44:35,symat,fork_close,"LGTM, thanks","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1829#pullrequestreview-894919750""}"
1829,ReviewApproved,2022-03-04 08:04:32,maoling,fork_close,,"{""author_association"": ""MEMBER"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1829#pullrequestreview-899911768""}"
1829,IssueComment,2022-03-04 08:05:08,maoling,fork_close,"If no other concerns, I'll merge it at this weekend(03-05).","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1058928945"", ""author_association"": ""MEMBER""}"
1829,ClosePR,2022-03-08 02:35:49,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6199303961"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/aa1d22d92dc26a587f9d55562c34ed4751e1d1bc""}"
1829,IssueCommentSupplement,2022-04-07 18:37:53,arshadmohammad,fork_close,"@maoling 
any reason why this is merged only to master. 
Seems it is fully applicable to branch-3.8 and partially applicable to branch-3.7 and branch-3.6(commons-cli licence is missing)
Also, in jira target fixed versions are 3.8.1,3.7.1, 3.6.4","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1092079429"", ""author_association"": ""CONTRIBUTOR""}"
1829,IssueCommentSupplement,2022-04-09 18:00:03,arshadmohammad,fork_close,"@eolivelli can you please raise one MR for branch-3.8, and one MR for branch-3.7 and branch-3.6","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1094096678"", ""author_association"": ""CONTRIBUTOR""}"
1829,DeleteBranch,2022-04-09 19:12:32,eolivelli,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6402317955"", ""commit_url"": null}"
1829,IssueCommentSupplement,2022-04-09 19:12:50,eolivelli,fork_close,"@arshadmohammad I will do it on Monday.
","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1094109450"", ""author_association"": ""CONTRIBUTOR""}"
1829,IssueCommentSupplement,2022-04-09 21:26:48,arshadmohammad,fork_close,"It is ok
","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1094126772"", ""author_association"": ""CONTRIBUTOR""}"
1829,Referenced,2022-04-14 07:35:53,eolivelli,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6432461593"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/c8058c0551418289ec3c357124285e3e496b7822""}"
1829,CrossReferenced,2022-10-31 22:47:16,anuragmadnawat1,fork_close,1829,"{""reference"": {""url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/issues/18"", ""is_pull_request"": true}}"
1829,Referenced,2022-10-31 22:47:18,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7708657892"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/00ee05166eb1a71d5d909e52ea2fb67f9760e84c""}"
1829,Referenced,2022-10-31 23:01:41,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7708717107"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/3441ae2cd37c1462c93fe546a97d4e082003c371""}"
1829,CrossReferenced,2022-11-01 16:31:18,anuragmadnawat1,fork_close,1829,"{""reference"": {""url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/issues/30"", ""is_pull_request"": true}}"
1829,Referenced,2022-11-01 16:31:21,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7715097666"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/0d4b6373739e1637c27bbc9c8d2a923c6aca289d""}"
1829,Referenced,2022-11-01 16:46:18,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7715220301"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/74685597b6d7b337094253d04ecec25eadd12cd4""}"
1829,CrossReferenced,2022-11-01 20:50:15,anuragmadnawat1,fork_close,1829,"{""reference"": {""url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/issues/44"", ""is_pull_request"": true}}"
1829,Referenced,2022-11-01 20:50:16,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7717089685"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/41a3ee3dcaa8506f200afa16bcecf20f749bee93""}"
1829,Referenced,2022-11-01 21:13:50,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7717258555"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/0290ecee6e69bf1ab304ed31d89625d0a50b4ea0""}"
1829,CrossReferenced,2023-01-13 16:37:26,anurag-harness,fork_close,1829,"{""reference"": {""url"": ""https://api.github.com/repos/anurag-harness/zookeeper/issues/11"", ""is_pull_request"": true}}"
1829,Referenced,2023-01-13 16:37:27,anurag-harness,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/8222582103"", ""commit_url"": ""https://api.github.com/repos/anurag-harness/zookeeper/commits/b4d92114bc59f633a74db7dca0d97c4181cfe2a4""}"
1829,Referenced,2023-01-13 16:51:59,anurag-harness,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/8222695915"", ""commit_url"": ""https://api.github.com/repos/anurag-harness/zookeeper/commits/03a0a365b897d4bdda5ad7698072476d2b7d7ae1""}"
1831,SubmitCommit,2022-02-28 14:18:26,deko2369,fork_close,Updated programmer documentation for generating jute files,"{""sha"": ""76ffe1c56c377bdd2e715dcdc32205aa76dbc571"", ""author"": {""name"": ""deko2369"", ""email"": ""keinissy@gmail.com"", ""date"": ""2022-02-28T13:58:28Z""}, ""committer"": {""name"": ""deko2369"", ""email"": ""keinissy@gmail.com"", ""date"": ""2022-02-28T14:18:26Z""}}"
1831,OpenPR,2022-02-28 14:40:38,deko2369,fork_close,,
1831,ReviewApproved,2022-03-08 08:13:13,maoling,fork_close,+1,"{""author_association"": ""MEMBER"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1831#pullrequestreview-902674993""}"
1831,IssueComment,2022-03-18 06:10:43,maoling,fork_close,"If no other concerns, I'll merge it at this weekend(03-20).","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1072063220"", ""author_association"": ""MEMBER""}"
1831,ClosePR,2022-03-21 05:59:33,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6272916780"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/7c864336d221d7f76f18f62ab84c3e98f0a77104""}"
1831,IssueCommentSupplement,2022-03-21 05:59:48,maoling,fork_close,"@deko2369 
Thanks for your contribution.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1073509068"", ""author_association"": ""MEMBER""}"
1831,DeleteBranch,2022-03-23 04:37:27,deko2369,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6288438809"", ""commit_url"": null}"
1831,Referenced,2022-10-31 23:16:30,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7708775206"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/4a32912b317171193da746d10f77d1f71ab6b348""}"
1831,CrossReferenced,2022-10-31 23:16:30,anuragmadnawat1,fork_close,Updated programmer docs for generating jute files,"{""reference"": {""url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/issues/20"", ""is_pull_request"": true}}"
1831,Referenced,2022-10-31 23:31:16,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7708833927"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/cbf849c598467b4773292d4145a7e748313d2147""}"
1831,CrossReferenced,2022-11-01 16:59:57,anuragmadnawat1,fork_close,Updated programmer docs for generating jute files,"{""reference"": {""url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/issues/32"", ""is_pull_request"": true}}"
1831,Referenced,2022-11-01 16:59:57,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7715353704"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/d48f0ebcfcc4afd41e6e4489de16b8daa313ac76""}"
1831,Referenced,2022-11-01 17:16:08,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7715481853"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/6e9e80b8508fc46e7dfbbb5a909588746de4bc90""}"
1831,CrossReferenced,2022-11-01 21:39:01,anuragmadnawat1,fork_close,Updated programmer docs for generating jute files,"{""reference"": {""url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/issues/46"", ""is_pull_request"": true}}"
1831,Referenced,2022-11-01 21:39:04,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7717398917"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/6c51ae6af42c23f14a61bf7b9ac71e005c1002ef""}"
1831,Referenced,2022-11-01 22:02:32,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7717527016"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/2330c25e4e4eadb1d9933a771591a94634e09774""}"
1831,CrossReferenced,2023-01-13 16:53:10,anurag-harness,fork_close,Updated programmer docs for generating jute files,"{""reference"": {""url"": ""https://api.github.com/repos/anurag-harness/zookeeper/issues/13"", ""is_pull_request"": true}}"
1831,Referenced,2023-01-13 16:53:11,anurag-harness,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/8222706031"", ""commit_url"": ""https://api.github.com/repos/anurag-harness/zookeeper/commits/165fd0185e818e5a5e2827075b3a47f57687e77c""}"
1831,Referenced,2023-01-13 17:07:42,anurag-harness,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/8222830756"", ""commit_url"": ""https://api.github.com/repos/anurag-harness/zookeeper/commits/2b832ef89a77c41210d288120eb95ce553b82ade""}"
1832,OpenPR,2022-03-01 03:34:45,tisonkun,fork_close,,
1832,ReviewComment,2022-03-01 03:37:56,tisonkun,fork_close,,"{""author_association"": ""MEMBER"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1832#pullrequestreview-895824684""}"
1832,Revise,2022-03-01 04:28:14,tisonkun,fork_close,"ZOOKEEPER-XXXX: Merge readOnly field into Connect{Request|Response}

Signed-off-by: tison <wander4096@gmail.com>","{""sha"": ""e570f48e63f497492b004abe09e07d1576ca0599"", ""author"": {""name"": ""tison"", ""email"": ""wander4096@gmail.com"", ""date"": ""2022-03-01T04:28:14Z""}, ""committer"": {""name"": ""tison"", ""email"": ""wander4096@gmail.com"", ""date"": ""2022-03-01T04:28:14Z""}}"
1832,HeadRefForcePushed,2022-03-01 04:28:25,tisonkun,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6159211852"", ""commit_url"": null}"
1832,CrossReferenced,2022-03-13 03:16:12,tisonkun,fork_close,ZOOKEEPER-4492: Merge readOnly field into ConnectRequest and Response,"{""reference"": {""url"": ""https://api.github.com/repos/apache/zookeeper/issues/1837"", ""is_pull_request"": true}}"
1832,ClosePR,2022-03-13 03:16:36,tisonkun,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6230584850"", ""commit_url"": null}"
1832,Referenced,2022-06-27 06:20:17,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6882287463"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/de7c5869d372e46af43979134d0e30b49d2319b1""}"
1832,Referenced,2022-11-02 01:06:13,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7718398335"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/b154a55b5a7e435eb94154f0bab029c168d67d50""}"
1832,CrossReferenced,2022-11-02 01:06:13,anuragmadnawat1,fork_close,ZOOKEEPER-4492: Merge readOnly field into ConnectRequest and Response,"{""reference"": {""url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/issues/71"", ""is_pull_request"": true}}"
1832,Referenced,2022-11-02 01:24:42,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7718475589"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/5d87d7498020a483c9015d39929e03bb64e6d2b2""}"
1832,Referenced,2023-01-13 20:26:18,anurag-harness,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/8224172625"", ""commit_url"": ""https://api.github.com/repos/anurag-harness/zookeeper/commits/e331111d7d1d1697eba16b6803434c6d37812b56""}"
1832,CrossReferenced,2023-01-13 20:26:18,anurag-harness,fork_close,ZOOKEEPER-4492: Merge readOnly field into ConnectRequest and Response,"{""reference"": {""url"": ""https://api.github.com/repos/anurag-harness/zookeeper/issues/38"", ""is_pull_request"": true}}"
1833,SubmitCommit,2022-03-01 15:04:25,Mate Szalay-Beko,fork_close,"ZOOKEEPER-4477: Single Kerberos ticket renewal failure can prevent all future renewals since Java 9

This is the ZOOKEEPER-4477 patch for branch-3.5. Similar to the same fix on newer branches
but using junit 4 in the tests (the junit upgrade happened in ZooKeeper 3.6).

This bug is similar to the one fixed in https://issues.apache.org/jira/browse/KAFKA-12730.

Our Kerberos ticket refresh thread performs re-login by logging out and then logging in again. If
login fails, we retry after some sleep. Every reLogin() operation performs loginContext.logout()
and loginContext.login(). If login fails, we end up with two consecutive logouts. This used to
work in older Java versions, but from Java 9 onwards, this results in a NullPointerException due
to https://bugs.openjdk.java.net/browse/JDK-8173069. We should check if logout is required before
attempting logout.

I fixed the issue and added a new unit test to test some ticket renewal scenarios. I managed to
reproduce the problem in KerberosTicketRenewalTest.shouldRecoverIfKerberosNotAvailableForSomeTime()
which (before the fix) failed with Java13 but succeeded with Java8.

Author: Mate Szalay-Beko <mszalay@cloudera.com>

Reviewers: Enrico Olivelli <eolivelli@apache.org>

Closes #1830 from symat/ZOOKEEPER-4477-branch-3.5

(cherry picked from commit 73ea6aaffc7a29a31df9007244f96d8d67fef953)
Signed-off-by: Mate Szalay-Beko <symat@apache.org>","{""sha"": ""14e6e1fa10f91972cb0aebf04692bcf51be59f08"", ""author"": {""name"": ""Mate Szalay-Beko"", ""email"": ""mszalay@cloudera.com"", ""date"": ""2022-03-01T14:14:52Z""}, ""committer"": {""name"": ""Mate Szalay-Beko"", ""email"": ""symat@apache.org"", ""date"": ""2022-03-01T15:04:25Z""}}"
1833,OpenPR,2022-03-01 15:05:48,symat,fork_close,,
1833,IssueComment,2022-03-01 15:20:21,symat,fork_close,This is similar to https://github.com/apache/zookeeper/pull/1828 and https://github.com/apache/zookeeper/pull/1830 just on top of branch-3.6. I mainly submitted this as a separate PR to trigger a CI run.,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1055556674"", ""author_association"": ""CONTRIBUTOR""}"
1833,ReviewApproved,2022-03-01 15:39:28,eolivelli,fork_close,+1,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1833#pullrequestreview-896469926""}"
1833,IssueComment,2022-03-01 15:39:47,eolivelli,fork_close,merging,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1055575588"", ""author_association"": ""CONTRIBUTOR""}"
1833,Referenced,2022-03-01 15:40:49,eolivelli,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6162972105"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/de872cda72c3d8760d2e06613cf38f222573f6a9""}"
1833,ClosePR,2022-03-01 15:41:11,eolivelli,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6162974760"", ""commit_url"": null}"
1833,IssueCommentSupplement,2022-03-01 15:41:16,eolivelli,fork_close,committed,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1055576908"", ""author_association"": ""CONTRIBUTOR""}"
1833,IssueCommentSupplement,2022-03-01 15:47:00,symat,fork_close,thank you!!,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1055582132"", ""author_association"": ""CONTRIBUTOR""}"
1834,SubmitCommit,2022-03-02 11:07:32,anmolnar,fork_merge,Update release page with Release strategy section,"{""sha"": ""146bbae4a70a1ba8f9f5374f10f80d2d1b3ff903"", ""author"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2022-03-02T11:04:41Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2022-03-02T11:07:32Z""}}"
1834,OpenPR,2022-03-02 11:13:17,anmolnar,fork_merge,,
1834,ReviewRequested,2022-03-02 11:54:47,anmolnar,fork_merge,,"{""requested_reviewer"": {""login"": ""nkalmar"", ""id"": 5468746, ""node_id"": ""MDQ6VXNlcjU0Njg3NDY="", ""avatar_url"": ""https://avatars.githubusercontent.com/u/5468746?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/nkalmar"", ""html_url"": ""https://github.com/nkalmar"", ""followers_url"": ""https://api.github.com/users/nkalmar/followers"", ""following_url"": ""https://api.github.com/users/nkalmar/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/nkalmar/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/nkalmar/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/nkalmar/subscriptions"", ""organizations_url"": ""https://api.github.com/users/nkalmar/orgs"", ""repos_url"": ""https://api.github.com/users/nkalmar/repos"", ""events_url"": ""https://api.github.com/users/nkalmar/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/nkalmar/received_events"", ""type"": ""User"", ""site_admin"": false}, ""requested_team"": null}"
1834,ReviewRequested,2022-03-02 11:54:47,anmolnar,fork_merge,,"{""requested_reviewer"": {""login"": ""eolivelli"", ""id"": 9469110, ""node_id"": ""MDQ6VXNlcjk0NjkxMTA="", ""avatar_url"": ""https://avatars.githubusercontent.com/u/9469110?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/eolivelli"", ""html_url"": ""https://github.com/eolivelli"", ""followers_url"": ""https://api.github.com/users/eolivelli/followers"", ""following_url"": ""https://api.github.com/users/eolivelli/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/eolivelli/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/eolivelli/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/eolivelli/subscriptions"", ""organizations_url"": ""https://api.github.com/users/eolivelli/orgs"", ""repos_url"": ""https://api.github.com/users/eolivelli/repos"", ""events_url"": ""https://api.github.com/users/eolivelli/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/eolivelli/received_events"", ""type"": ""User"", ""site_admin"": false}, ""requested_team"": null}"
1834,ReviewRequested,2022-03-02 11:54:47,anmolnar,fork_merge,,"{""requested_reviewer"": {""login"": ""phunt"", ""id"": 15702, ""node_id"": ""MDQ6VXNlcjE1NzAy"", ""avatar_url"": ""https://avatars.githubusercontent.com/u/15702?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/phunt"", ""html_url"": ""https://github.com/phunt"", ""followers_url"": ""https://api.github.com/users/phunt/followers"", ""following_url"": ""https://api.github.com/users/phunt/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/phunt/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/phunt/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/phunt/subscriptions"", ""organizations_url"": ""https://api.github.com/users/phunt/orgs"", ""repos_url"": ""https://api.github.com/users/phunt/repos"", ""events_url"": ""https://api.github.com/users/phunt/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/phunt/received_events"", ""type"": ""User"", ""site_admin"": false}, ""requested_team"": null}"
1834,ReviewRequested,2022-03-02 11:54:47,anmolnar,fork_merge,,"{""requested_reviewer"": {""login"": ""symat"", ""id"": 18458499, ""node_id"": ""MDQ6VXNlcjE4NDU4NDk5"", ""avatar_url"": ""https://avatars.githubusercontent.com/u/18458499?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/symat"", ""html_url"": ""https://github.com/symat"", ""followers_url"": ""https://api.github.com/users/symat/followers"", ""following_url"": ""https://api.github.com/users/symat/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/symat/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/symat/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/symat/subscriptions"", ""organizations_url"": ""https://api.github.com/users/symat/orgs"", ""repos_url"": ""https://api.github.com/users/symat/repos"", ""events_url"": ""https://api.github.com/users/symat/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/symat/received_events"", ""type"": ""User"", ""site_admin"": false}, ""requested_team"": null}"
1834,ReviewRequested,2022-03-02 11:55:15,anmolnar,fork_merge,,"{""requested_reviewer"": {""login"": ""cnauroth"", ""id"": 227407, ""node_id"": ""MDQ6VXNlcjIyNzQwNw=="", ""avatar_url"": ""https://avatars.githubusercontent.com/u/227407?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/cnauroth"", ""html_url"": ""https://github.com/cnauroth"", ""followers_url"": ""https://api.github.com/users/cnauroth/followers"", ""following_url"": ""https://api.github.com/users/cnauroth/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/cnauroth/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/cnauroth/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/cnauroth/subscriptions"", ""organizations_url"": ""https://api.github.com/users/cnauroth/orgs"", ""repos_url"": ""https://api.github.com/users/cnauroth/repos"", ""events_url"": ""https://api.github.com/users/cnauroth/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/cnauroth/received_events"", ""type"": ""User"", ""site_admin"": false}, ""requested_team"": null}"
1834,ReviewComment,2022-03-02 12:19:15,symat,fork_merge,"Looks good, I added a single comment.","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1834#pullrequestreview-897493653""}"
1834,IssueComment,2022-03-02 12:20:02,symat,fork_merge,finally a PR where CI doesn't complain :D,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1056867238"", ""author_association"": ""CONTRIBUTOR""}"
1834,Revise,2022-03-02 13:37:18,anmolnar,fork_merge,Added EoL date,"{""sha"": ""80dd1378b65715cf7a0c31634d8f39bc3f3dcac5"", ""author"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2022-03-02T13:37:18Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2022-03-02T13:37:18Z""}}"
1834,ReviewRequested,2022-03-02 14:16:17,anmolnar,fork_merge,,"{""requested_reviewer"": {""login"": ""symat"", ""id"": 18458499, ""node_id"": ""MDQ6VXNlcjE4NDU4NDk5"", ""avatar_url"": ""https://avatars.githubusercontent.com/u/18458499?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/symat"", ""html_url"": ""https://github.com/symat"", ""followers_url"": ""https://api.github.com/users/symat/followers"", ""following_url"": ""https://api.github.com/users/symat/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/symat/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/symat/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/symat/subscriptions"", ""organizations_url"": ""https://api.github.com/users/symat/orgs"", ""repos_url"": ""https://api.github.com/users/symat/repos"", ""events_url"": ""https://api.github.com/users/symat/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/symat/received_events"", ""type"": ""User"", ""site_admin"": false}, ""requested_team"": null}"
1834,ReviewApproved,2022-03-02 15:12:47,ctubbsii,fork_merge,,"{""author_association"": ""MEMBER"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1834#pullrequestreview-897716401""}"
1834,ReviewApproved,2022-03-02 16:25:27,symat,fork_merge,thanks!,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1834#pullrequestreview-897827002""}"
1834,MergePR,2022-03-03 11:02:35,anmolnar,fork_merge,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6177274373"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/84363d6a3847757f4fc6a757f2e43bd83356a3a9""}"
1835,OpenPR,2022-03-11 15:51:39,horvathdora,fork_close,,
1835,IssueComment,2022-03-18 09:51:06,maoling,fork_close,"I run `sh tools/sonar/code-coverage.sh` and find the webpage: `zookeeper/zookeeper-server/target/clover/dashboard.html.` Looks good.

> and then uploads it to SonarQube if the necessary parameters were given.

@horvathdora  Could you please add more details about how to use this PR to benefit from `SonarQube`? ","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1072248282"", ""author_association"": ""MEMBER""}"
1835,IssueComment,2022-03-23 15:11:24,horvathdora,fork_close,"@maoling I have added a couple of examples on how to use the script and publish the results to SonarQube. 
I hope this is what you meant.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1076477555"", ""author_association"": ""CONTRIBUTOR""}"
1835,ReviewApproved,2022-03-24 12:19:56,nkalmar,fork_close,LGTM!,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1835#pullrequestreview-920179192""}"
1835,ReviewRejected,2022-03-30 09:17:11,symat,fork_close,"nice, thanks! :) as far as I understood, we already had some code coverage support, but this is better now and the script you wrote is very helpful. (I tested it without sonar)

I left some minor comments, please take a look. ","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1835#pullrequestreview-925771620""}"
1835,Revise,2022-03-30 16:51:43,Dora Horvath,fork_close,ZOOKEEPER-4490 - Publish Clover results to SonarQube,"{""sha"": ""868dc7879c993bbedf8b17cd828b4a595dd6bca0"", ""author"": {""name"": ""Dora Horvath"", ""email"": ""dora.horvath@cloudera.com"", ""date"": ""2022-03-11T15:36:59Z""}, ""committer"": {""name"": ""Dora Horvath"", ""email"": ""dora.horvath@cloudera.com"", ""date"": ""2022-03-30T16:51:43Z""}}"
1835,Revise,2022-03-30 17:20:55,Dora Horvath,fork_close,ZOOKEEPER-4490: Code review changes,"{""sha"": ""f2115c18bff5b812aab2571c04d19a046052f422"", ""author"": {""name"": ""Dora Horvath"", ""email"": ""dora.horvath@cloudera.com"", ""date"": ""2022-03-30T17:20:55Z""}, ""committer"": {""name"": ""Dora Horvath"", ""email"": ""dora.horvath@cloudera.com"", ""date"": ""2022-03-30T17:20:55Z""}}"
1835,HeadRefForcePushed,2022-03-30 20:06:41,horvathdora,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6337970743"", ""commit_url"": null}"
1835,ReviewApproved,2022-03-31 12:14:13,symat,fork_close,"Looks good, thanks for the quick responses!
I'll merge this tomorrow, unless @maoling has further questions.
(also I would like to see a green CI build, so I re-triggered som jobs. But if it won't be green, I don't consider it to be a blocker for merging, as your changes should not be related to these flaky test failures)","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1835#pullrequestreview-927465025""}"
1835,IssueComment,2022-04-01 07:10:17,symat,fork_close,"all our flaky unit tests are so frustrating... 
anyway, I merge this PR now to master, thanks @horvathdora for your contribution! ","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1085517060"", ""author_association"": ""CONTRIBUTOR""}"
1835,ClosePR,2022-04-01 07:25:51,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6350050937"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/2173c92a2b054e2fa55fd69d0d9ea892b7cc7e66""}"
1835,RenameTitle,2022-04-01 07:28:39,symat,fork_close,,"{""rename"": {""from"": ""ZOOKEEPER-4490 - Publish Clover results to SonarQube"", ""to"": ""ZOOKEEPER-4490: Publish Clover results to SonarQube""}, ""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6350067645""}"
1835,CrossReferenced,2022-11-01 00:31:18,anuragmadnawat1,fork_close,ZOOKEEPER-4490: Publish Clover results to SonarQube,"{""reference"": {""url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/issues/25"", ""is_pull_request"": true}}"
1835,Referenced,2022-11-01 00:31:19,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7709060812"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/539b72a8858cd0b77c077131d0c67e032e3e2b81""}"
1835,Referenced,2022-11-01 22:31:31,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7717686289"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/0ba26eabb239f51c25411a606cbb727aaab32f2b""}"
1835,CrossReferenced,2022-11-01 22:31:31,anuragmadnawat1,fork_close,ZOOKEEPER-4490: Publish Clover results to SonarQube,"{""reference"": {""url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/issues/51"", ""is_pull_request"": true}}"
1835,Referenced,2022-11-01 22:46:39,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7717759659"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/85399af71b97d2ea41c3f60c7717a955af680668""}"
1835,CrossReferenced,2023-01-13 17:43:26,anurag-harness,fork_close,ZOOKEEPER-4490: Publish Clover results to SonarQube,"{""reference"": {""url"": ""https://api.github.com/repos/anurag-harness/zookeeper/issues/18"", ""is_pull_request"": true}}"
1835,Referenced,2023-01-13 17:43:27,anurag-harness,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/8223120090"", ""commit_url"": ""https://api.github.com/repos/anurag-harness/zookeeper/commits/48e315a64924c550bf7d0456a62cb66efd244be0""}"
1835,Referenced,2023-01-13 17:57:57,anurag-harness,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/8223211498"", ""commit_url"": ""https://api.github.com/repos/anurag-harness/zookeeper/commits/1e90ede2c8ac8f0d49452d3c97023c078ea85a79""}"
1837,SubmitCommit,2022-03-13 01:45:38,tisonkun,fork_close,"introduce Protocol

Signed-off-by: tison <wander4096@gmail.com>","{""sha"": ""a5098818cbd4bdb7bb93c09dc0b4ffb021be5507"", ""author"": {""name"": ""tison"", ""email"": ""wander4096@gmail.com"", ""date"": ""2022-03-13T01:45:38Z""}, ""committer"": {""name"": ""tison"", ""email"": ""wander4096@gmail.com"", ""date"": ""2022-03-13T01:45:38Z""}}"
1837,SubmitCommit,2022-03-13 01:46:28,tisonkun,fork_close,"buffer read exact length, serialize is naturally compatible

Signed-off-by: tison <wander4096@gmail.com>","{""sha"": ""d21810cea52ac9dae0fa9f1a7b8167c3c6a7d0fe"", ""author"": {""name"": ""tison"", ""email"": ""wander4096@gmail.com"", ""date"": ""2022-03-13T01:46:28Z""}, ""committer"": {""name"": ""tison"", ""email"": ""wander4096@gmail.com"", ""date"": ""2022-03-13T01:46:28Z""}}"
1837,SubmitCommit,2022-03-13 01:58:35,tisonkun,fork_close,"introduce ProtocolManager

Signed-off-by: tison <wander4096@gmail.com>","{""sha"": ""505316c4b2c40c2941499cb3669caedd44447afa"", ""author"": {""name"": ""tison"", ""email"": ""wander4096@gmail.com"", ""date"": ""2022-03-13T01:58:35Z""}, ""committer"": {""name"": ""tison"", ""email"": ""wander4096@gmail.com"", ""date"": ""2022-03-13T01:58:35Z""}}"
1837,SubmitCommit,2022-03-13 02:17:04,tisonkun,fork_close,"adapt protocol

Signed-off-by: tison <wander4096@gmail.com>","{""sha"": ""664be7f8e577972274940afc4b1d75974ab7413e"", ""author"": {""name"": ""tison"", ""email"": ""wander4096@gmail.com"", ""date"": ""2022-03-13T02:17:04Z""}, ""committer"": {""name"": ""tison"", ""email"": ""wander4096@gmail.com"", ""date"": ""2022-03-13T02:17:04Z""}}"
1837,SubmitCommit,2022-03-13 02:35:44,tisonkun,fork_close,"buffer can be consumed once

Signed-off-by: tison <wander4096@gmail.com>","{""sha"": ""5b7a6982f77302462aecc31c7316a3ff6c9892d8"", ""author"": {""name"": ""tison"", ""email"": ""wander4096@gmail.com"", ""date"": ""2022-03-13T02:35:44Z""}, ""committer"": {""name"": ""tison"", ""email"": ""wander4096@gmail.com"", ""date"": ""2022-03-13T02:35:44Z""}}"
1837,SubmitCommit,2022-03-13 02:55:05,tisonkun,fork_close,"add doc

Signed-off-by: tison <wander4096@gmail.com>","{""sha"": ""df53201b0d52982c5ea266604a339d8c991791a8"", ""author"": {""name"": ""tison"", ""email"": ""wander4096@gmail.com"", ""date"": ""2022-03-13T02:55:05Z""}, ""committer"": {""name"": ""tison"", ""email"": ""wander4096@gmail.com"", ""date"": ""2022-03-13T02:55:05Z""}}"
1837,OpenPR,2022-03-13 03:16:12,tisonkun,fork_close,,
1837,Revise,2022-03-13 04:18:32,tisonkun,fork_close,"use dummy object instead of mokito mock

Signed-off-by: tison <wander4096@gmail.com>","{""sha"": ""d638819060dd15a77251112b40cc0c19b3aa338c"", ""author"": {""name"": ""tison"", ""email"": ""wander4096@gmail.com"", ""date"": ""2022-03-13T04:18:32Z""}, ""committer"": {""name"": ""tison"", ""email"": ""wander4096@gmail.com"", ""date"": ""2022-03-13T04:18:32Z""}}"
1837,Revise,2022-03-13 04:26:16,tisonkun,fork_close,"fix checkstyle

Signed-off-by: tison <wander4096@gmail.com>","{""sha"": ""78db8942419dd8c4464be03fc9be527e6acf0780"", ""author"": {""name"": ""tison"", ""email"": ""wander4096@gmail.com"", ""date"": ""2022-03-13T04:26:16Z""}, ""committer"": {""name"": ""tison"", ""email"": ""wander4096@gmail.com"", ""date"": ""2022-03-13T04:26:16Z""}}"
1837,Revise,2022-03-13 06:06:56,tisonkun,fork_close,"use dummy object instead of mokito mock

Signed-off-by: tison <wander4096@gmail.com>","{""sha"": ""645596c801e30937672c3ace7be15956425e791c"", ""author"": {""name"": ""tison"", ""email"": ""wander4096@gmail.com"", ""date"": ""2022-03-13T06:06:56Z""}, ""committer"": {""name"": ""tison"", ""email"": ""wander4096@gmail.com"", ""date"": ""2022-03-13T06:06:56Z""}}"
1837,ReviewComment,2022-03-13 12:35:19,eolivelli,fork_close,"I gave a first look.
I have to spend more time tomorrow on this.

At first glance it looks good, but I still haven't understood why the new server will be compatible with old clients.
I have got why the new client will be compatible with old servers ","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1837#pullrequestreview-908132816""}"
1837,IssueComment,2022-03-13 12:55:07,tisonkun,fork_close,"> why the new server will be compatible with old clients

An old client sends connect request without readonly field, and the new server read that payload with an exception fail to read readonly field, so it switch to zk 3.3 protocol.

An old client receives connect response with readonly field from the new server, which is consumed from the wire by the leading length field, and the client doesn't parse it actually, which does no harm.

@eolivelli is there any other communication round you find subtle to understand?","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1066095370"", ""author_association"": ""MEMBER""}"
1837,ReviewApproved,2022-03-13 16:23:46,eolivelli,fork_close,"Lgtm

End to end tests are passing.

We need more eyes on this patch

@lvfangmin @hanm @anmolnar @symat @fpj ","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1837#pullrequestreview-908159991""}"
1837,IssueComment,2022-03-13 16:24:03,eolivelli,fork_close,Please log a JiRA and update the commit message,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1066135437"", ""author_association"": ""CONTRIBUTOR""}"
1837,RenameTitle,2022-03-14 01:20:33,tisonkun,fork_close,,"{""rename"": {""from"": ""ZOOKEEPER-XXXX: Merge readOnly field into ConnectRequest and Response"", ""to"": ""ZOOKEEPER-4492: Merge readOnly field into ConnectRequest and Response""}, ""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6231973648""}"
1837,IssueComment,2022-03-14 01:21:18,tisonkun,fork_close,"@eolivelli logged as ZOOKEEPER-4492. For ""commit message"", I've updated the PR title. Shall I squash all commits into ""ZOOKEEPER-4492: ..."" also?","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1066241810"", ""author_association"": ""MEMBER""}"
1837,Revise,2022-03-22 13:44:40,tisonkun,fork_close,Merge branch 'master' into protocol,"{""sha"": ""a895d8d44403014772dd57c2742431f29a1d0e47"", ""author"": {""name"": ""tison"", ""email"": ""wander4096@gmail.com"", ""date"": ""2022-03-22T13:44:40Z""}, ""committer"": {""name"": ""tison"", ""email"": ""wander4096@gmail.com"", ""date"": ""2022-03-22T13:44:40Z""}}"
1837,CrossReferenced,2022-03-28 02:52:38,tisonkun,fork_close,ZOOKEEPER-4494: Fix error message format,"{""reference"": {""url"": ""https://api.github.com/repos/apache/zookeeper/issues/1838"", ""is_pull_request"": true}}"
1837,Revise,2022-06-05 08:04:28,tisonkun,fork_close,Merge branch 'master' into protocol,"{""sha"": ""8f4d4c523ea2ef6da52382b58cebb748c83ef8ee"", ""author"": {""name"": ""tison"", ""email"": ""wander4096@gmail.com"", ""date"": ""2022-06-05T08:04:28Z""}, ""committer"": {""name"": ""tison"", ""email"": ""wander4096@gmail.com"", ""date"": ""2022-06-05T08:04:28Z""}}"
1837,Revise,2022-06-05 08:32:28,tisonkun,fork_close,"simplify protocol manager logic

Signed-off-by: tison <wander4096@gmail.com>","{""sha"": ""ffcec099ba8d99d5cc04ca6b3ba3ad8608ba396a"", ""author"": {""name"": ""tison"", ""email"": ""wander4096@gmail.com"", ""date"": ""2022-06-05T08:32:28Z""}, ""committer"": {""name"": ""tison"", ""email"": ""wander4096@gmail.com"", ""date"": ""2022-06-05T08:32:28Z""}}"
1837,Revise,2022-06-05 08:37:10,tisonkun,fork_close,"fix checkstyle

Signed-off-by: tison <wander4096@gmail.com>","{""sha"": ""658c629f2b4676f34d6572532be79f2269eb29e3"", ""author"": {""name"": ""tison"", ""email"": ""wander4096@gmail.com"", ""date"": ""2022-06-05T08:37:10Z""}, ""committer"": {""name"": ""tison"", ""email"": ""wander4096@gmail.com"", ""date"": ""2022-06-05T08:37:10Z""}}"
1837,Revise,2022-06-05 08:44:00,tisonkun,fork_close,"retrigger ci

Signed-off-by: tison <wander4096@gmail.com>","{""sha"": ""269d3ad3e6c6c819f12ce93aeed4b947320ea1ce"", ""author"": {""name"": ""tison"", ""email"": ""wander4096@gmail.com"", ""date"": ""2022-06-05T08:44:00Z""}, ""committer"": {""name"": ""tison"", ""email"": ""wander4096@gmail.com"", ""date"": ""2022-06-05T08:44:00Z""}}"
1837,IssueComment,2022-06-05 08:51:23,tisonkun,fork_close,"It seems that travis CI failed on s390x arch due to its own env issues:

```
Error: JAVA_HOME is not defined correctly.
  We cannot execute /usr/lib/jvm/java-11-amazon-corretto/bin/java
The command ""mvn clean apache-rat:check verify -DskipTests spotbugs:check checkstyle:check -Pfull-build"" exited with 1.
cache.2
store build cache
```

@symat @anmolnar @ztzg could you take a look at this PR?","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1146767158"", ""author_association"": ""MEMBER""}"
1837,Revise,2022-06-06 22:52:48,tisonkun,fork_close,"retrigger ci

Signed-off-by: tison <wander4096@gmail.com>","{""sha"": ""1b853028dae6b6bc5b737b6ca434334ce75196f0"", ""author"": {""name"": ""tison"", ""email"": ""wander4096@gmail.com"", ""date"": ""2022-06-06T22:52:48Z""}, ""committer"": {""name"": ""tison"", ""email"": ""wander4096@gmail.com"", ""date"": ""2022-06-06T22:52:48Z""}}"
1837,Revise,2022-06-26 14:08:45,tisonkun,fork_close,"retrigger flasky tests

Signed-off-by: tison <wander4096@gmail.com>","{""sha"": ""58c0767c6961475748a79caa8f2dbd273add8527"", ""author"": {""name"": ""tison"", ""email"": ""wander4096@gmail.com"", ""date"": ""2022-06-26T14:08:45Z""}, ""committer"": {""name"": ""tison"", ""email"": ""wander4096@gmail.com"", ""date"": ""2022-06-26T14:08:45Z""}}"
1837,Revise,2022-06-26 15:36:40,tisonkun,fork_close,"retrigger flasky tests

Signed-off-by: tison <wander4096@gmail.com>","{""sha"": ""6bcc27aa89701b2658ff49054b17484f88065153"", ""author"": {""name"": ""tison"", ""email"": ""wander4096@gmail.com"", ""date"": ""2022-06-26T15:36:40Z""}, ""committer"": {""name"": ""tison"", ""email"": ""wander4096@gmail.com"", ""date"": ""2022-06-26T15:36:40Z""}}"
1837,ReviewApproved,2022-06-27 06:16:03,symat,fork_close,"LGTM, sorry for the late review","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1837#pullrequestreview-1019656089""}"
1837,IssueComment,2022-06-27 06:16:49,symat,fork_close,merging it,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1166919773"", ""author_association"": ""CONTRIBUTOR""}"
1837,ClosePR,2022-06-27 06:20:17,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6882287516"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/de7c5869d372e46af43979134d0e30b49d2319b1""}"
1837,IssueCommentSupplement,2022-06-27 06:20:58,symat,fork_close,"merged to master, thank you @tisonkun for the contribution!","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1166923645"", ""author_association"": ""CONTRIBUTOR""}"
1837,IssueCommentSupplement,2022-06-27 06:24:27,tisonkun,fork_close,@eolivelli @symat thanks for your reviews!,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1166926729"", ""author_association"": ""MEMBER""}"
1837,DeleteBranch,2022-06-27 06:24:30,tisonkun,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6882310252"", ""commit_url"": null}"
1837,CrossReferenced,2022-11-02 01:06:13,anuragmadnawat1,fork_close,ZOOKEEPER-4492: Merge readOnly field into ConnectRequest and Response,"{""reference"": {""url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/issues/71"", ""is_pull_request"": true}}"
1837,Referenced,2022-11-02 01:06:14,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7718398343"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/b154a55b5a7e435eb94154f0bab029c168d67d50""}"
1837,Referenced,2022-11-02 01:24:42,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7718475591"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/5d87d7498020a483c9015d39929e03bb64e6d2b2""}"
1837,CrossReferenced,2023-01-13 20:26:18,anurag-harness,fork_close,ZOOKEEPER-4492: Merge readOnly field into ConnectRequest and Response,"{""reference"": {""url"": ""https://api.github.com/repos/anurag-harness/zookeeper/issues/38"", ""is_pull_request"": true}}"
1837,Referenced,2023-01-13 20:26:18,anurag-harness,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/8224172629"", ""commit_url"": ""https://api.github.com/repos/anurag-harness/zookeeper/commits/e331111d7d1d1697eba16b6803434c6d37812b56""}"
1838,SubmitCommit,2022-03-14 03:05:10,tisonkun,fork_close,ZOOKEEPER-4494: Fix error message format,"{""sha"": ""b8511485f910bfba72a8d48d18f580f2e0bc3ea7"", ""author"": {""name"": ""tison"", ""email"": ""wander4096@gmail.com"", ""date"": ""2022-03-14T03:05:10Z""}, ""committer"": {""name"": ""GitHub"", ""email"": ""noreply@github.com"", ""date"": ""2022-03-14T03:05:10Z""}}"
1838,OpenPR,2022-03-14 03:06:28,tisonkun,fork_close,,
1838,ReviewApproved,2022-03-18 09:36:36,maoling,fork_close,+1,"{""author_association"": ""MEMBER"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1838#pullrequestreview-914132393""}"
1838,IssueComment,2022-03-21 06:01:02,maoling,fork_close,"If no other concerns, I'll merge it at this weekend(03-26)","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1073509516"", ""author_association"": ""MEMBER""}"
1838,ClosePR,2022-03-28 02:34:24,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6314860632"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/a160981e37d2907717284ec9f6eab5e17e8aecfa""}"
1838,IssueCommentSupplement,2022-03-28 02:35:44,maoling,fork_close,"@tisonkun 
Thanks for your contribution.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1080119209"", ""author_association"": ""MEMBER""}"
1838,DeleteBranch,2022-03-28 02:52:00,tisonkun,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6314904500"", ""commit_url"": null}"
1838,IssueCommentSupplement,2022-03-28 02:52:38,tisonkun,fork_close,@maoling you're welcome. I'll appreciate it if you can give a review on #1837 :),"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1080125224"", ""author_association"": ""MEMBER""}"
1838,Referenced,2022-10-31 23:31:17,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7708834024"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/d5615aa15db70e56159affd7fde15a577dfbc492""}"
1838,CrossReferenced,2022-10-31 23:31:17,anuragmadnawat1,fork_close,ZOOKEEPER-4494: Fix error message format,"{""reference"": {""url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/issues/21"", ""is_pull_request"": true}}"
1838,Referenced,2022-10-31 23:45:18,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7708883160"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/362b1780c5ae8aa56a1813449e139e9b571b1ab7""}"
1838,CrossReferenced,2022-11-01 17:16:03,anuragmadnawat1,fork_close,ZOOKEEPER-4494: Fix error message format,"{""reference"": {""url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/issues/33"", ""is_pull_request"": true}}"
1838,Referenced,2022-11-01 17:16:08,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7715481769"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/b3a61dfa275f4bb24a81004f155c9348e0efd61f""}"
1838,Referenced,2022-11-01 22:02:35,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7717527335"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/60285f5848edc8713dba0a7105e3df24ee7d8f66""}"
1838,CrossReferenced,2022-11-01 22:02:35,anuragmadnawat1,fork_close,ZOOKEEPER-4494: Fix error message format,"{""reference"": {""url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/issues/47"", ""is_pull_request"": true}}"
1838,Referenced,2022-11-01 22:06:00,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7717549035"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/68fa288cb760e148f2471bd98118861cf4f508b2""}"
1838,Referenced,2023-01-13 17:07:44,anurag-harness,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/8222831119"", ""commit_url"": ""https://api.github.com/repos/anurag-harness/zookeeper/commits/91c46dd273d69f40569c2ce64137ea140db131ac""}"
1838,CrossReferenced,2023-01-13 17:07:45,anurag-harness,fork_close,ZOOKEEPER-4494: Fix error message format,"{""reference"": {""url"": ""https://api.github.com/repos/anurag-harness/zookeeper/issues/14"", ""is_pull_request"": true}}"
1838,Referenced,2023-01-13 17:18:29,anurag-harness,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/8222924201"", ""commit_url"": ""https://api.github.com/repos/anurag-harness/zookeeper/commits/7788656661831fc585ae093ba3bf5c3f488c54e9""}"
1839,SubmitCommit,2022-03-17 22:25:44,MathewManu,fork_close,ZOOKEEPER-3806: dynamic reloading for client trust and key store,"{""sha"": ""5b3a160275ba4473572744c6f95d8b3d290a4f14"", ""author"": {""name"": ""mathewmanu"", ""email"": ""manmathew@cs.stonybrook.edu"", ""date"": ""2022-03-17T22:25:44Z""}, ""committer"": {""name"": ""mathewmanu"", ""email"": ""manmathew@cs.stonybrook.edu"", ""date"": ""2022-03-17T22:25:44Z""}}"
1839,OpenPR,2022-03-17 23:05:59,mathew-manu,fork_close,,
1839,IssueComment,2022-03-21 03:45:30,mathew-manu,fork_close,"2 workflows awaiting approval (First-time contributor)
Can someone approve the workflows? ","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1073456118"", ""author_association"": ""CONTRIBUTOR""}"
1839,IssueComment,2022-05-04 16:01:03,mathew-manu,fork_close,"@symat Could you pls review this PR? 
If certificates are updated on running clusters, server presented certificates to the clients are not refreshed automatically and requires process restarts. I think it's valuable to have this merged. 
","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1117529373"", ""author_association"": ""CONTRIBUTOR""}"
1839,IssueComment,2022-05-04 18:50:48,li4wang,fork_close,Agreed. This is a great feature to have. ,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1117688120"", ""author_association"": ""CONTRIBUTOR""}"
1839,ReviewApproved,2022-05-04 19:37:14,eolivelli,fork_close,"+1

Nice work","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1839#pullrequestreview-962415410""}"
1839,ReviewRejected,2022-05-05 06:00:23,symat,fork_close,"thank you for the contribution!
this is a very nice feature, I like the test too!!

Can you please add documentation for this new configuration near to the other ssl configs on our admin page? https://github.com/apache/zookeeper/blob/master/zookeeper-docs/src/main/resources/markdown/zookeeperAdmin.md

using ""new in 3.5.9""","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1839#pullrequestreview-962886138""}"
1839,Revise,2022-05-06 00:24:38,mathew-manu,fork_close,Merge branch 'apache:master' into ZOOKEEPER-3806,"{""sha"": ""fa7ffd09ed5d9f661e31aac2e7ee614190534d4e"", ""author"": {""name"": ""Manu Mathew"", ""email"": ""101424654+mathew-manu@users.noreply.github.com"", ""date"": ""2022-05-06T00:24:38Z""}, ""committer"": {""name"": ""GitHub"", ""email"": ""noreply@github.com"", ""date"": ""2022-05-06T00:24:38Z""}}"
1839,Revise,2022-05-06 04:03:36,mathew-manu,fork_close,Added documentation for certificate reload config properties,"{""sha"": ""7e7eb241f902027280ed94b74fb016d17fd15b8f"", ""author"": {""name"": ""Manu Mathew"", ""email"": ""manu.mathew@netapp.com"", ""date"": ""2022-05-06T04:03:36Z""}, ""committer"": {""name"": ""Manu Mathew"", ""email"": ""manu.mathew@netapp.com"", ""date"": ""2022-05-06T04:03:36Z""}}"
1839,IssueComment,2022-05-06 04:07:19,mathew-manu,fork_close,"> thank you for the contribution! this is a very nice feature, I like the test too!!
> 
> Can you please add documentation for this new configuration near to the other ssl configs on our admin page? https://github.com/apache/zookeeper/blob/master/zookeeper-docs/src/main/resources/markdown/zookeeperAdmin.md
> 
> using ""new in 3.5.9""

@symat Updated the documentation with the new configuration. ","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1119242088"", ""author_association"": ""CONTRIBUTOR""}"
1839,ReviewRejected,2022-05-06 06:30:32,symat,fork_close,,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1839#pullrequestreview-964225367""}"
1839,Revise,2022-05-06 13:25:36,mathew-manu,fork_close,Update release zookeeerAdmin.md with release version,"{""sha"": ""a23f6137a328e4c75788d7dec856421d3038b824"", ""author"": {""name"": ""Manu Mathew"", ""email"": ""manu.mathew@netapp.com"", ""date"": ""2022-05-06T13:25:36Z""}, ""committer"": {""name"": ""Manu Mathew"", ""email"": ""manu.mathew@netapp.com"", ""date"": ""2022-05-06T13:25:36Z""}}"
1839,ReviewComment,2022-05-06 13:42:21,sonatype-lift[bot],fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1839#pullrequestreview-964674811""}"
1839,ReviewApproved,2022-05-06 17:52:25,symat,fork_close,thanks!! merging it now to master,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1839#pullrequestreview-964973857""}"
1839,ClosePR,2022-05-06 17:53:24,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6565237481"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/724864487457d6f2eb7c331ef338936e1375072b""}"
1839,DeleteBranch,2022-05-06 21:32:29,mathew-manu,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6566377228"", ""commit_url"": null}"
1839,IssueCommentSupplement,2022-05-19 23:57:48,li4wang,fork_close,"@eolivelli @symat can we get this merged into 3.7 and 3.8 too? We are on 3.7 and it would be great if this can be supported in 3.7.  Do we need to open a new JIRA? Please let me know if anything I can help. Thanks.

","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1132308967"", ""author_association"": ""CONTRIBUTOR""}"
1839,IssueCommentSupplement,2022-05-20 06:46:09,symat,fork_close,"Hello @li4wang ! 
Normally we merge new features (like this one) only to master and we cherry-pick only the security and bug fixes to older branches. However, I see this commit to be valuable for the community and it doesn't change the default behavior. Also, I don't know when 3.9.0 will happen... so I'm open to have it backported to branch-3.8 and branch-3.7. @eolivelli what do you think?

If we would do that, then I think no new Jira is necessary, but we would need two new github PRs targeting branch-3.7 and branch-3.8. Also we would need a small PR on master, fixing the documentation about the version numbers (since when this feature is available... like ""New in 3.7.2, 3.8.1, 3.9.0"")

Just for your info: it is perfectly normal and legal (many of us actually do this) to build your own ZooKeeper version, based on a branch you are familiar with / tested before, adding only a few commits from later branches. Then use this in production. Building ZooKeeper is quite simple (use jdk8 and a relatively recent maven, then simply `mvn clean install -DskipTests`)","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1132534559"", ""author_association"": ""CONTRIBUTOR""}"
1839,IssueCommentSupplement,2022-05-20 12:25:38,eolivelli,fork_close,"I am +1 to port this to 3.8 and to 3.7.


> Just for your info: it is perfectly normal and legal (many of us actually do this) to build your own ZooKeeper version, based on a branch you are familiar with / tested before, adding only a few commits from later branches. Then use this in production. Building ZooKeeper is quite simple (use jdk8 and a relatively recent maven, then simply mvn clean install -DskipTests)
This is ""legal"" but I must add that:
- if you do this then you are not guaranteed that the project (PMC) verified the goodness of the release, so you should really know what are you doing (sometimes patches break the code and add side effects, that are fixed before releases while the community validates and blesses the release candidate).
- if you go down this path, then ensure that all the tests are passing, especially using the JDK and OS that you are going to use in production


Every Apache product is meant to be consumed from the Source code, but ONLY using the Source Tarballs that have been approved with a formal and official VOTE.
","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1132842089"", ""author_association"": ""CONTRIBUTOR""}"
1839,IssueCommentSupplement,2022-05-23 16:43:41,li4wang,fork_close,That's great! Thanks @symat and @eolivelli. I will open a JIRA and create PRs for 3.7 and 3.8.,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1134903308"", ""author_association"": ""CONTRIBUTOR""}"
1839,IssueCommentSupplement,2022-05-23 16:51:43,li4wang,fork_close,"https://issues.apache.org/jira/browse/ZOOKEEPER-4545 (for 3.7)
https://issues.apache.org/jira/browse/ZOOKEEPER-4546 (for 3.8)","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1134914248"", ""author_association"": ""CONTRIBUTOR""}"
1839,Referenced,2022-05-23 23:43:01,li4wang,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6664761120"", ""commit_url"": ""https://api.github.com/repos/li4wang/zookeeper/commits/b57004ef0dcf74314dcd9f6df6b83655a03e5066""}"
1839,Referenced,2022-05-23 23:50:32,li4wang,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6664781565"", ""commit_url"": ""https://api.github.com/repos/li4wang/zookeeper/commits/3fe9630ed38d470e86f3745818247d0fa9d1c66b""}"
1839,CrossReferenced,2022-05-23 23:50:41,li4wang,fork_close,ZOOKEEPER-4545 Backport auto reloading client key/trust store to 3.7,"{""reference"": {""url"": ""https://api.github.com/repos/apache/zookeeper/issues/1884"", ""is_pull_request"": true}}"
1839,Referenced,2022-05-24 00:32:38,li4wang,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6664906507"", ""commit_url"": ""https://api.github.com/repos/li4wang/zookeeper/commits/5ce6f7fa19144e5871535f6366be8b6030f162d9""}"
1839,Referenced,2022-05-24 00:32:38,li4wang,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6664906504"", ""commit_url"": ""https://api.github.com/repos/li4wang/zookeeper/commits/3339312f0553e115062801eb28b8a052c29925de""}"
1839,Referenced,2022-05-24 00:36:35,li4wang,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6664917560"", ""commit_url"": ""https://api.github.com/repos/li4wang/zookeeper/commits/7d05e153e260edc035e91aa3a1c4450a613b8909""}"
1839,Referenced,2022-05-24 00:56:53,li4wang,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6664978380"", ""commit_url"": ""https://api.github.com/repos/li4wang/zookeeper/commits/ca5cb61c744d2ade88357a177be1d0f343f8f87f""}"
1839,Referenced,2022-05-24 01:07:53,li4wang,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6665015880"", ""commit_url"": ""https://api.github.com/repos/li4wang/zookeeper/commits/246a04af823057850ff80a835512541e0c519b27""}"
1839,Referenced,2022-05-24 01:07:54,li4wang,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6665015882"", ""commit_url"": ""https://api.github.com/repos/li4wang/zookeeper/commits/a80346f221f24a8fd78ddc722e34a9cb2f06b4f5""}"
1839,Referenced,2022-05-24 01:13:33,li4wang,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6665033611"", ""commit_url"": ""https://api.github.com/repos/li4wang/zookeeper/commits/16eeb833e683c43d1075ce40dacc0f52f4dec0f8""}"
1839,CrossReferenced,2022-05-24 01:14:14,li4wang,fork_close,ZOOKEEPER-4546: Backport auto reloading client key/trust store to 3.8,"{""reference"": {""url"": ""https://api.github.com/repos/apache/zookeeper/issues/1885"", ""is_pull_request"": true}}"
1839,Referenced,2022-05-24 01:32:02,li4wang,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6665093099"", ""commit_url"": ""https://api.github.com/repos/li4wang/zookeeper/commits/dc32c77896c26f3e14a9501a3e210e9efc0fe925""}"
1839,Referenced,2022-05-24 01:33:12,li4wang,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6665096639"", ""commit_url"": ""https://api.github.com/repos/li4wang/zookeeper/commits/30d5fd862a7bf58198c6e60c37925da7d0f09439""}"
1839,Referenced,2022-05-24 17:09:31,li4wang,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6670940297"", ""commit_url"": ""https://api.github.com/repos/li4wang/zookeeper/commits/990604c974b2b7a71c94160235e162bc1b1b4702""}"
1839,Referenced,2022-06-16 06:58:07,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6818508201"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/cf31b74b3b61b4aa521b162431017a90296de7cc""}"
1839,CrossReferenced,2022-11-02 00:09:47,anuragmadnawat1,fork_close,ZOOKEEPER-3806: TLS - dynamic loading for client trust/key store,"{""reference"": {""url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/issues/61"", ""is_pull_request"": true}}"
1839,Referenced,2022-11-02 00:09:48,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7718152634"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/ec7adf2f91e8e9ff724b9612a773c741183e4210""}"
1839,Referenced,2022-11-02 00:19:56,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7718196814"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/d8789c06433ad31339973d7e2f0e6a755063650b""}"
1839,CrossReferenced,2023-01-13 19:22:37,anurag-harness,fork_close,ZOOKEEPER-3806: TLS - dynamic loading for client trust/key store,"{""reference"": {""url"": ""https://api.github.com/repos/anurag-harness/zookeeper/issues/28"", ""is_pull_request"": true}}"
1839,Referenced,2023-01-13 19:22:38,anurag-harness,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/8223756864"", ""commit_url"": ""https://api.github.com/repos/anurag-harness/zookeeper/commits/79abe56cdaccb89da38b726a7b6aef87545a5d9d""}"
1839,Referenced,2023-01-13 19:37:14,anurag-harness,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/8223864886"", ""commit_url"": ""https://api.github.com/repos/anurag-harness/zookeeper/commits/6173bedd73095748466c82785dc3535c78469886""}"
1841,SubmitCommit,2022-03-28 19:06:15,Samir Ranjan,fork_close,added some random comment in license file,"{""sha"": ""fee9bf6c45fb2e6f765b5ab85acd9eee167c9b7f"", ""author"": {""name"": ""Samir Ranjan"", ""email"": ""samirranjan@Samirs-MacBook-Pro.local"", ""date"": ""2022-03-28T19:06:15Z""}, ""committer"": {""name"": ""Samir Ranjan"", ""email"": ""samirranjan@Samirs-MacBook-Pro.local"", ""date"": ""2022-03-28T19:06:15Z""}}"
1841,OpenPR,2022-03-28 19:21:27,samirranjan,fork_close,,
1841,ClosePR,2022-03-28 19:22:19,samirranjan,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6321137018"", ""commit_url"": null}"
1841,IssueCommentSupplement,2022-03-28 19:22:28,samirranjan,fork_close,closing it,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1081046941"", ""author_association"": ""NONE""}"
1842,SubmitCommit,2022-03-29 12:54:03,edwin092,fork_close,CVE-2020-36518: Upgrade jackson databind to 2.13.2.1,"{""sha"": ""e7de401e0b31617c3a72264f0cb9cf6d6ede5a1c"", ""author"": {""name"": ""Edwin Hobor"", ""email"": ""edwinhobor@gmail.com"", ""date"": ""2022-03-29T12:54:03Z""}, ""committer"": {""name"": ""Edwin Hobor"", ""email"": ""edwinhobor@gmail.com"", ""date"": ""2022-03-29T12:54:03Z""}}"
1842,OpenPR,2022-03-29 12:55:17,edwin092,fork_close,,
1842,ReviewApproved,2022-03-29 13:13:41,eolivelli,fork_close,"LGTM

we will port this to branch-3.6,3.7 and 3.8

thank you very much","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1842#pullrequestreview-924597581""}"
1842,ReviewRequested,2022-03-29 13:16:48,eolivelli,fork_close,,"{""requested_reviewer"": {""login"": ""maoling"", ""id"": 11016631, ""node_id"": ""MDQ6VXNlcjExMDE2NjMx"", ""avatar_url"": ""https://avatars.githubusercontent.com/u/11016631?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/maoling"", ""html_url"": ""https://github.com/maoling"", ""followers_url"": ""https://api.github.com/users/maoling/followers"", ""following_url"": ""https://api.github.com/users/maoling/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/maoling/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/maoling/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/maoling/subscriptions"", ""organizations_url"": ""https://api.github.com/users/maoling/orgs"", ""repos_url"": ""https://api.github.com/users/maoling/repos"", ""events_url"": ""https://api.github.com/users/maoling/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/maoling/received_events"", ""type"": ""User"", ""site_admin"": false}, ""requested_team"": null}"
1842,ReviewRequested,2022-03-29 13:16:48,eolivelli,fork_close,,"{""requested_reviewer"": {""login"": ""phunt"", ""id"": 15702, ""node_id"": ""MDQ6VXNlcjE1NzAy"", ""avatar_url"": ""https://avatars.githubusercontent.com/u/15702?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/phunt"", ""html_url"": ""https://github.com/phunt"", ""followers_url"": ""https://api.github.com/users/phunt/followers"", ""following_url"": ""https://api.github.com/users/phunt/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/phunt/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/phunt/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/phunt/subscriptions"", ""organizations_url"": ""https://api.github.com/users/phunt/orgs"", ""repos_url"": ""https://api.github.com/users/phunt/repos"", ""events_url"": ""https://api.github.com/users/phunt/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/phunt/received_events"", ""type"": ""User"", ""site_admin"": false}, ""requested_team"": null}"
1842,ReviewRequested,2022-03-29 13:16:48,eolivelli,fork_close,,"{""requested_reviewer"": {""login"": ""symat"", ""id"": 18458499, ""node_id"": ""MDQ6VXNlcjE4NDU4NDk5"", ""avatar_url"": ""https://avatars.githubusercontent.com/u/18458499?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/symat"", ""html_url"": ""https://github.com/symat"", ""followers_url"": ""https://api.github.com/users/symat/followers"", ""following_url"": ""https://api.github.com/users/symat/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/symat/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/symat/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/symat/subscriptions"", ""organizations_url"": ""https://api.github.com/users/symat/orgs"", ""repos_url"": ""https://api.github.com/users/symat/repos"", ""events_url"": ""https://api.github.com/users/symat/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/symat/received_events"", ""type"": ""User"", ""site_admin"": false}, ""requested_team"": null}"
1842,ReviewApproved,2022-03-30 05:56:47,maoling,fork_close,,"{""author_association"": ""MEMBER"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1842#pullrequestreview-925557123""}"
1842,IssueComment,2022-03-30 05:59:23,maoling,fork_close,"- If no other concerns, I'll merge it at this weekend(04-03).
- This PR can apply to branch 3.7 and 3.8 well except branch-3.6, please create another PR @edwin092 ","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1082652848"", ""author_association"": ""MEMBER""}"
1842,IssueComment,2022-03-30 06:33:35,edwin092,fork_close,"> * If no other concerns, I'll merge it at this weekend(04-03).
> * This PR can apply to branch 3.7 and 3.8 well except branch-3.6, please create another PR @edwin092

Sure thing! I'll raise the 2 PRs.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1082679344"", ""author_association"": ""CONTRIBUTOR""}"
1842,IssueComment,2022-03-30 10:26:41,eolivelli,fork_close,"> If no other concerns, I'll merge it at this weekend(04-03).

There are already 2 binding +1s, so you can merge it now","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1082907740"", ""author_association"": ""CONTRIBUTOR""}"
1842,ReviewApproved,2022-03-30 10:56:13,arshadmohammad,fork_close,LGTM +1,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1842#pullrequestreview-925925574""}"
1842,IssueComment,2022-03-30 18:53:59,arshadmohammad,fork_close,jackson-databind-2.13.2.2 is released but I don't see any manful change in this release compared to 2.13.2.1 . we can go ahead with jackson-databind-2.13.2.1 release itself.,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1083503735"", ""author_association"": ""CONTRIBUTOR""}"
1842,ClosePR,2022-03-30 18:56:46,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6337552835"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/78bbb123cfcbdd8da9d118f08b49d1d00c43f53d""}"
1842,Referenced,2022-03-30 18:57:23,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6337556254"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/0db19ed33ab31cc1fa20486dfd77719b867423e5""}"
1842,Referenced,2022-03-30 18:57:49,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6337558815"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/9054c4b574946eae2b92b75c362da1df5cf586f2""}"
1842,IssueCommentSupplement,2022-03-30 19:02:13,arshadmohammad,fork_close,"Merged to master, branch-3.8 and branch-3.7. @edwin092 please raise PR on branch-3.6","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1083513393"", ""author_association"": ""CONTRIBUTOR""}"
1842,CrossReferenced,2022-03-30 19:03:32,arshadmohammad,fork_close,ZOOKEEPER-4505: [3.8] CVE-2020-36518 - Upgrade jackson databind to 2.13.2.1,"{""reference"": {""url"": ""https://api.github.com/repos/apache/zookeeper/issues/1845"", ""is_pull_request"": true}}"
1842,CrossReferenced,2022-03-30 19:03:56,arshadmohammad,fork_close,ZOOKEEPER-4505: [3.7] CVE-2020-36518 - Upgrade jackson databind to 2.13.2.1,"{""reference"": {""url"": ""https://api.github.com/repos/apache/zookeeper/issues/1844"", ""is_pull_request"": true}}"
1842,Referenced,2022-11-01 00:16:24,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7709002995"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/802fbc91a80279b30ef4fd04a192a19d1d115dcd""}"
1842,CrossReferenced,2022-11-01 00:16:24,anuragmadnawat1,fork_close,ZOOKEEPER-4505: CVE-2020-36518 - Upgrade jackson databind to 2.13.2.1,"{""reference"": {""url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/issues/24"", ""is_pull_request"": true}}"
1842,Referenced,2022-11-01 00:31:16,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7709060678"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/cf2d23d1e354feec4019c88f91610ab0faff1fd4""}"
1842,CrossReferenced,2022-11-01 22:14:39,anuragmadnawat1,fork_close,ZOOKEEPER-4505: CVE-2020-36518 - Upgrade jackson databind to 2.13.2.1,"{""reference"": {""url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/issues/50"", ""is_pull_request"": true}}"
1842,Referenced,2022-11-01 22:14:40,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7717601035"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/f78798fb4cf12a770c16a5919ad44fac67ba1b4e""}"
1842,Referenced,2022-11-01 22:31:29,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7717686127"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/f62c9e6a07905ddfe739a99180149a47fe94bd17""}"
1842,Referenced,2023-01-13 17:28:13,anurag-harness,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/8223003461"", ""commit_url"": ""https://api.github.com/repos/anurag-harness/zookeeper/commits/659f17ccf1502c6b55bc33291d8a5fb372c96868""}"
1842,CrossReferenced,2023-01-13 17:28:13,anurag-harness,fork_close,ZOOKEEPER-4505: CVE-2020-36518 - Upgrade jackson databind to 2.13.2.1,"{""reference"": {""url"": ""https://api.github.com/repos/anurag-harness/zookeeper/issues/17"", ""is_pull_request"": true}}"
1842,Referenced,2023-01-13 17:43:24,anurag-harness,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/8223119795"", ""commit_url"": ""https://api.github.com/repos/anurag-harness/zookeeper/commits/0eb5f4dce8bd572d2d69bd3bc617aec42c8d983b""}"
1843,SubmitCommit,2022-03-29 16:56:25,arshadmohammad,fork_close,ZOOKEEPER-4504: ZKUtil#deleteRecursive causing deadlock in HDFS HA functionality,"{""sha"": ""008b2bd4a5b7dc3c66953728f0d3e647a7d22b6f"", ""author"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2022-03-29T16:56:25Z""}, ""committer"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2022-03-29T16:56:25Z""}}"
1843,OpenPR,2022-03-29 16:57:39,arshadmohammad,fork_close,,
1843,ReviewRequested,2022-04-05 19:20:30,arshadmohammad,fork_close,,"{""requested_reviewer"": {""login"": ""symat"", ""id"": 18458499, ""node_id"": ""MDQ6VXNlcjE4NDU4NDk5"", ""avatar_url"": ""https://avatars.githubusercontent.com/u/18458499?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/symat"", ""html_url"": ""https://github.com/symat"", ""followers_url"": ""https://api.github.com/users/symat/followers"", ""following_url"": ""https://api.github.com/users/symat/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/symat/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/symat/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/symat/subscriptions"", ""organizations_url"": ""https://api.github.com/users/symat/orgs"", ""repos_url"": ""https://api.github.com/users/symat/repos"", ""events_url"": ""https://api.github.com/users/symat/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/symat/received_events"", ""type"": ""User"", ""site_admin"": false}, ""requested_team"": null}"
1843,ReviewRequested,2022-04-05 19:20:30,arshadmohammad,fork_close,,"{""requested_reviewer"": {""login"": ""eolivelli"", ""id"": 9469110, ""node_id"": ""MDQ6VXNlcjk0NjkxMTA="", ""avatar_url"": ""https://avatars.githubusercontent.com/u/9469110?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/eolivelli"", ""html_url"": ""https://github.com/eolivelli"", ""followers_url"": ""https://api.github.com/users/eolivelli/followers"", ""following_url"": ""https://api.github.com/users/eolivelli/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/eolivelli/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/eolivelli/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/eolivelli/subscriptions"", ""organizations_url"": ""https://api.github.com/users/eolivelli/orgs"", ""repos_url"": ""https://api.github.com/users/eolivelli/repos"", ""events_url"": ""https://api.github.com/users/eolivelli/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/eolivelli/received_events"", ""type"": ""User"", ""site_admin"": false}, ""requested_team"": null}"
1843,IssueComment,2022-04-05 19:42:08,eolivelli,fork_close,Do we have test cases that cover the two modes? Batch = 0 and batch > 0?,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1089246829"", ""author_association"": ""CONTRIBUTOR""}"
1843,Revise,2022-04-06 05:28:39,arshadmohammad,fork_close,Added test case to verify ZKUtil.deleteRecursive() in sync and async mode,"{""sha"": ""e7b33116c3fa1500d5ba577c3762e4e177ce7cad"", ""author"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2022-04-06T05:28:39Z""}, ""committer"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2022-04-06T05:28:39Z""}}"
1843,ReviewApproved,2022-04-06 06:06:14,symat,fork_close,"LGTM

nit: it would be nice to give more hints about this behaviour (based on the batchSize) in the javadoc of the deleteRecursive() function.","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1843#pullrequestreview-932867711""}"
1843,Revise,2022-04-06 06:51:18,arshadmohammad,fork_close,"Added javadoc for ZKUtil#deleteRecursive(zk, pathRoot, batchSize) API","{""sha"": ""851bb1ee9994878ff510f4a34d03cb3c9c8e36c3"", ""author"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2022-04-06T06:51:18Z""}, ""committer"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2022-04-06T06:51:18Z""}}"
1843,ReviewApproved,2022-04-06 07:03:54,eolivelli,fork_close,LGTM,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1843#pullrequestreview-932933603""}"
1843,IssueComment,2022-04-06 07:04:22,eolivelli,fork_close,"we should cherry-pick this to all the active branches (3.6, 3.7, 3.8)","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1089897760"", ""author_association"": ""CONTRIBUTOR""}"
1843,ClosePR,2022-04-06 07:57:31,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6377750126"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/54cb5c39a445c63967ec7c3a46724fe87908440b""}"
1843,Referenced,2022-04-06 07:57:59,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6377753867"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/cefc224c16a47c3f1507d10224a48cecf724efd0""}"
1843,Referenced,2022-04-06 08:17:29,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6377934000"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/168b6215157d2511567b81ec1651c663230914cd""}"
1843,Referenced,2022-04-06 08:29:09,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6378045806"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/745bf47cb1b1440280df568c3fcc580b4107e9b3""}"
1843,IssueCommentSupplement,2022-04-06 08:31:34,arshadmohammad,fork_close,"Thanks @eolivelli, @symat for the reviews. Merged to master, branch-3.8, branch-3.7 and branch-3.6","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1089994744"", ""author_association"": ""CONTRIBUTOR""}"
1843,CrossReferenced,2022-11-01 22:50:09,anuragmadnawat1,fork_close,ZOOKEEPER-4504: ZKUtil#deleteRecursive causing deadlock in HDFS HA functionality,"{""reference"": {""url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/issues/53"", ""is_pull_request"": true}}"
1843,Referenced,2022-11-01 22:50:10,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7717780439"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/068e9a435287f135c3b4ca6dd407ee5535561fbe""}"
1843,Referenced,2022-11-01 22:53:34,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7717804307"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/81bf0ea7e10a4478469e54def713495505591999""}"
1843,Referenced,2023-01-13 18:01:22,anurag-harness,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/8223233604"", ""commit_url"": ""https://api.github.com/repos/anurag-harness/zookeeper/commits/04b55649d38c5b91650e8bcb70c84923eb622031""}"
1843,CrossReferenced,2023-01-13 18:01:22,anurag-harness,fork_close,ZOOKEEPER-4504: ZKUtil#deleteRecursive causing deadlock in HDFS HA functionality,"{""reference"": {""url"": ""https://api.github.com/repos/anurag-harness/zookeeper/issues/20"", ""is_pull_request"": true}}"
1843,Referenced,2023-01-13 18:03:30,anurag-harness,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/8223248841"", ""commit_url"": ""https://api.github.com/repos/anurag-harness/zookeeper/commits/c120bc655a44679f860d568503802ca960cae2dc""}"
1844,SubmitCommit,2022-03-30 06:35:25,edwin092,fork_close,CVE-2020-36518: Upgrade jackson databind to 2.13.2.1,"{""sha"": ""ebac007be1e8a97fdc97759baccc4f14f017ef2b"", ""author"": {""name"": ""Edwin Hobor"", ""email"": ""edwin.hobor@microfocus.com"", ""date"": ""2022-03-30T06:35:25Z""}, ""committer"": {""name"": ""Edwin Hobor"", ""email"": ""edwin.hobor@microfocus.com"", ""date"": ""2022-03-30T06:35:25Z""}}"
1844,OpenPR,2022-03-30 06:36:48,edwin092,fork_close,,
1844,IssueCommentSupplement,2022-03-30 19:03:56,arshadmohammad,fork_close,(https://github.com/apache/zookeeper/pull/1842) was merged to branch-3.7 also,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1083515315"", ""author_association"": ""CONTRIBUTOR""}"
1844,ClosePR,2022-03-30 19:03:56,arshadmohammad,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6337599297"", ""commit_url"": null}"
1845,SubmitCommit,2022-03-30 06:38:46,edwin092,fork_close,CVE-2020-36518: Upgrade jackson databind to 2.13.2.1,"{""sha"": ""606a2068848c7834e13bf385dd598b3ae641f864"", ""author"": {""name"": ""Edwin Hobor"", ""email"": ""edwinhobor@gmail.com"", ""date"": ""2022-03-30T06:38:46Z""}, ""committer"": {""name"": ""Edwin Hobor"", ""email"": ""edwinhobor@gmail.com"", ""date"": ""2022-03-30T06:38:46Z""}}"
1845,OpenPR,2022-03-30 06:39:43,edwin092,fork_close,,
1845,IssueCommentSupplement,2022-03-30 19:03:32,arshadmohammad,fork_close,(https://github.com/apache/zookeeper/pull/1842) was merged to branch-3.8 also,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1083514888"", ""author_association"": ""CONTRIBUTOR""}"
1845,ClosePR,2022-03-30 19:03:33,arshadmohammad,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6337596296"", ""commit_url"": null}"
1846,SubmitCommit,2022-03-31 06:23:49,edwin092,fork_close,CVE-2020-36518: Upgrade jackson databind to 2.13.2.1,"{""sha"": ""19f9246a36d25652353436cccabd0f99979f5c46"", ""author"": {""name"": ""Edwin Hobor"", ""email"": ""edwinhobor@gmail.com"", ""date"": ""2022-03-31T06:23:49Z""}, ""committer"": {""name"": ""Edwin Hobor"", ""email"": ""edwinhobor@gmail.com"", ""date"": ""2022-03-31T06:23:49Z""}}"
1846,OpenPR,2022-03-31 06:24:55,edwin092,fork_close,,
1846,ReviewApproved,2022-03-31 18:14:43,arshadmohammad,fork_close,LGTM +1,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1846#pullrequestreview-927999845""}"
1846,Referenced,2022-03-31 18:23:36,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6346219618"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/32b0f34cd1e8f01dd2793fad6dfb5eae01b62ae0""}"
1846,ClosePR,2022-03-31 18:29:56,arshadmohammad,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6346260001"", ""commit_url"": null}"
1850,SubmitCommit,2022-04-05 06:42:58,swallez,fork_close,"ZOOKEEPER-3652: Synchronize ClientCnxn outgoing queue flush on a stable internal value

When packets are added to ClientCnxn's outgoing packet queue we ensure there's no conflict with an ongoing flush of that queue because of connection loss.

Synchronization used to be on the state field's value. This value is both not stable (its value changes over time), possibly causing improper synchronization, and global, which can cause contention in applications that run several ZooKeeper clients.

We now synchronize on outgoingQueue which is both local to a ClientCnxn's instance and stable.

Author: Sylvain Wallez <sylvain@bluxte.net>

Reviewers: maoling <maoling@apache.org>, Mohammad Arshad <arshad@apache.org>

Closes #1257 from swallez/ZOOKEEPER-3652 and squashes the following commits:

82e2cad2c [Sylvain Wallez] Instruct SpotBugs that we know what we're doing when synchronizing on outgoingQueue
b0bc03d6f [Sylvain Wallez] ZOOKEEPER-3652: Synchronize ClientCnxn outgoing queue flush on a stable internal value

(cherry picked from commit 91e0520133b82acb87ab60962fce5eae992d87e8)","{""sha"": ""e925265e08f07f4bc810b3f38a5df137e5d9f749"", ""author"": {""name"": ""Sylvain Wallez"", ""email"": ""sylvain@bluxte.net"", ""date"": ""2022-03-30T18:24:55Z""}, ""committer"": {""name"": ""Mate Szalay-Beko"", ""email"": ""symat@apache.org"", ""date"": ""2022-04-05T06:42:58Z""}}"
1850,OpenPR,2022-04-05 06:44:02,symat,fork_close,,
1850,IssueComment,2022-04-06 05:55:32,symat,fork_close,"hello @arshadmohammad  and @maoling !
you already reviewed this fix on newer branches. Can you also review this one? (we were facing thread leak issues in NiFI with ZooKeeper client 3.5.5 and we think this commit might cause the problem. I want this fix to be released in the next 3.5 version.)","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1089851366"", ""author_association"": ""CONTRIBUTOR""}"
1850,ReviewComment,2022-04-06 06:03:27,arshadmohammad,fork_close,,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1850#pullrequestreview-932865782""}"
1850,IssueComment,2022-04-06 06:04:49,arshadmohammad,fork_close,Changes look good to me but there are many formatting related change. Please revert all formatting changes,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1089856365"", ""author_association"": ""CONTRIBUTOR""}"
1850,IssueComment,2022-04-06 06:07:27,symat,fork_close,"true, sorry (blaming it on IntelliJ :) ) - will fix it soon","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1089858016"", ""author_association"": ""CONTRIBUTOR""}"
1850,Revise,2022-04-06 06:17:02,Mate Szalay-Beko,fork_close,remove formatting changes,"{""sha"": ""5cd29db5f0f320a4f4d14ae18140be438273f1c8"", ""author"": {""name"": ""Mate Szalay-Beko"", ""email"": ""symat@apache.org"", ""date"": ""2022-04-06T06:14:37Z""}, ""committer"": {""name"": ""Mate Szalay-Beko"", ""email"": ""symat@apache.org"", ""date"": ""2022-04-06T06:17:02Z""}}"
1850,HeadRefForcePushed,2022-04-06 06:17:10,symat,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6377000954"", ""commit_url"": null}"
1850,ReviewApproved,2022-04-06 07:41:37,arshadmohammad,fork_close,LGTM +1,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1850#pullrequestreview-932993993""}"
1850,Referenced,2022-04-06 07:52:15,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6377712717"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/2610a19695b4598bded1611e086b29a96151dad2""}"
1850,IssueCommentSupplement,2022-04-06 07:53:04,arshadmohammad,fork_close,merged. Thanks @symat  for raising the PR,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1089948669"", ""author_association"": ""CONTRIBUTOR""}"
1850,ClosePR,2022-04-06 07:53:04,arshadmohammad,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6377718094"", ""commit_url"": null}"
1850,IssueCommentSupplement,2022-04-06 10:44:24,symat,fork_close,thanks for the quick review - merge!,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1090124423"", ""author_association"": ""CONTRIBUTOR""}"
1850,DeleteBranch,2022-04-06 10:44:42,symat,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6379031811"", ""commit_url"": null}"
1851,OpenPR,2022-04-05 08:56:21,kezhuw,fork_close,,
1851,Revise,2022-04-05 08:59:57,kezhuw,fork_close,"ZOOKEEPER-4308: Fix flaky test EagerACLFilterTest

There are several problems in this test:
* It uses `ParameterizedTest` which run tests in single jvm. But
  `ZooKeeperServer.enableEagerACLCheck` is `static` and loaded from env
  variable.
* It uses `assertNotSame` which assert on object reference equiality.
* It asserts on `zkLeader.getLastLoggedZxid()` while client connect to
  `connectedServer`. There is no happen-before between
  `zkLeader.getLastLoggedZxid()` and successful response from other
  server. The commit and response are routed to different servers and
  performed asynchronous in each server.","{""sha"": ""0c1a4bfcab051a4485f836b1da6de1b92bb30972"", ""author"": {""name"": ""Kezhu Wang"", ""email"": ""kezhuw@gmail.com"", ""date"": ""2022-04-05T07:57:17Z""}, ""committer"": {""name"": ""Kezhu Wang"", ""email"": ""kezhuw@gmail.com"", ""date"": ""2022-04-05T08:59:57Z""}}"
1851,HeadRefForcePushed,2022-04-05 09:00:08,kezhuw,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6369364032"", ""commit_url"": null}"
1851,ReviewApproved,2022-04-12 02:48:29,maoling,fork_close,+1. Great work,"{""author_association"": ""MEMBER"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1851#pullrequestreview-938814115""}"
1851,IssueComment,2022-04-12 03:04:35,maoling,fork_close,"One approach to reproduce this flaky test is: try to inject a little latency when the leader applies the write request:
 org.apache.zookeeper.server.ZooKeeperServer#processTxnInDB
```
		} else {
            try {
                if (this instanceof LeaderZooKeeperServer && hdr.getType() == OpCode.create2) {
                    Thread.sleep(2);
                }
            } catch (InterruptedException e) {
                e.printStackTrace();
            }
            return getZKDatabase().processTxn(hdr, txn, digest);
        }
```
","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1095894752"", ""author_association"": ""MEMBER""}"
1851,IssueComment,2022-05-24 03:02:19,maoling,fork_close,@eolivelli  @symat  PTAL,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1135348274"", ""author_association"": ""MEMBER""}"
1851,ReviewApproved,2022-05-24 08:21:23,symat,fork_close,"Looks great!
our CI needs many improvement like this one, thank you!!","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1851#pullrequestreview-982794298""}"
1851,CrossReferenced,2022-06-22 11:00:33,kezhuw,fork_close,ZOOKEEPER-4511: Fix flaky test FileTxnSnapLogMetricsTest.testFileTxnSnapLogMetrics,"{""reference"": {""url"": ""https://api.github.com/repos/apache/zookeeper/issues/1852"", ""is_pull_request"": true}}"
1851,IssueComment,2022-06-23 16:30:30,symat,fork_close,"we haven't merge this yet? sorry...
I can merge this tomorrow","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1164627604"", ""author_association"": ""CONTRIBUTOR""}"
1851,ClosePR,2022-06-24 13:31:27,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6874299887"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/794790c9f6cbacf158493867f3058a6de748b54e""}"
1851,Referenced,2022-06-24 13:32:04,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6874303978"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/c5c46df23877922c05c2e77de730c5bb969faef6""}"
1851,Referenced,2022-06-24 13:32:24,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6874306236"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/a1f7ffeb9211b715477f3a6aedb7c7c90def401b""}"
1851,IssueCommentSupplement,2022-06-24 13:36:53,symat,fork_close,"Thank you @kezhuw for the contribution!
I merged this to master, branch-3.8 and branch-3.7.
On branch-3.6 it wasn't a clean cherry-pick so there we will need a separate PR if we want to push.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1165583790"", ""author_association"": ""CONTRIBUTOR""}"
1851,Referenced,2022-06-29 14:43:39,kezhuw,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6903108146"", ""commit_url"": ""https://api.github.com/repos/kezhuw/zookeeper/commits/5ed23cf5615211806e60bf07f1e42a462db17e4d""}"
1851,CrossReferenced,2022-06-29 15:03:38,kezhuw,fork_close,ZOOKEEPER-4308: Fix flaky test EagerACLFilterTest,"{""reference"": {""url"": ""https://api.github.com/repos/apache/zookeeper/issues/1901"", ""is_pull_request"": true}}"
1851,Referenced,2022-09-04 08:50:39,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7318159514"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/62a7572a541c0ff4ea74b03d396b78b191a423e6""}"
1851,Referenced,2022-11-02 00:55:56,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7718350724"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/d27890def75601b74ec5c97b5e6db3aae4c6d3ea""}"
1851,CrossReferenced,2022-11-02 00:55:56,anuragmadnawat1,fork_close,ZOOKEEPER-4308: Fix flaky test EagerACLFilterTest,"{""reference"": {""url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/issues/69"", ""is_pull_request"": true}}"
1851,Referenced,2022-11-02 01:02:41,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7718385046"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/4239a40dc33c79b7aa65f2dc61b9892a50475841""}"
1851,Referenced,2023-01-13 20:12:22,anurag-harness,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/8224093769"", ""commit_url"": ""https://api.github.com/repos/anurag-harness/zookeeper/commits/74109bce0f8f4e7faf6cb006350500236a58656c""}"
1851,CrossReferenced,2023-01-13 20:12:22,anurag-harness,fork_close,ZOOKEEPER-4308: Fix flaky test EagerACLFilterTest,"{""reference"": {""url"": ""https://api.github.com/repos/anurag-harness/zookeeper/issues/36"", ""is_pull_request"": true}}"
1851,Referenced,2023-01-13 20:22:51,anurag-harness,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/8224154689"", ""commit_url"": ""https://api.github.com/repos/anurag-harness/zookeeper/commits/c7638cd88ffe4f9fc2c1fb2ffef583acc692eea9""}"
1852,OpenPR,2022-04-05 13:57:54,kezhuw,fork_close,,
1852,ReviewComment,2022-04-05 17:09:03,eolivelli,fork_close,,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1852#pullrequestreview-932244956""}"
1852,ReviewComment,2022-04-05 17:09:41,eolivelli,fork_close,,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1852#pullrequestreview-932245717""}"
1852,Revise,2022-06-20 10:44:14,kezhuw,fork_close,"ZOOKEEPER-4511: Fix flaky test FileTxnSnapLogMetricsTest.testFileTxnSnapLogMetrics

This test writes txns to trigger snapshot and expects some txns remain
in txn log. But snapshot taking is asynchronous, thus all txns could be
written to snapshot. So in restarting, it is possible that no txns to
load after snapshot restored. This will fail assertion.

This commit solves this by disable automic snapshot taking by
`SyncRequestProcessor.setSnapCount(Integer.MAX_VALUE)`.","{""sha"": ""984c0032d834c21945b8f947f7dd4976a996f8c2"", ""author"": {""name"": ""Kezhu Wang"", ""email"": ""kezhuw@gmail.com"", ""date"": ""2022-04-05T13:52:59Z""}, ""committer"": {""name"": ""Kezhu Wang"", ""email"": ""kezhuw@gmail.com"", ""date"": ""2022-06-20T10:44:14Z""}}"
1852,HeadRefForcePushed,2022-06-20 10:44:53,kezhuw,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6838390039"", ""commit_url"": null}"
1852,ReviewApproved,2022-06-20 12:28:29,eolivelli,fork_close,LGTM,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1852#pullrequestreview-1012192661""}"
1852,IssueComment,2022-06-20 12:28:48,eolivelli,fork_close,@maoling @symat @ztzg PTAL,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1160388021"", ""author_association"": ""CONTRIBUTOR""}"
1852,ReviewApproved,2022-06-20 14:20:46,symat,fork_close,"so the idea behind this test was, that we have a snapshot and also transaction logs, before restarting ZooKeeper. And this was flaky.

Now with your change (as far as I understood) we never will have a snapshot (at least not with the new data we wrote), but all the new data we write goes always only to transaction logs. Am I correct?

I think ZooKeeper (for some time, maybe since 3.5) always creates a snapshot, when you start it with empty state. So I think this is why the test actually passes now. As you already has a snapshot created by the system.

I'm not against this fix, just mentioning that you changed the whole idea behind the test (which was that we will have a new snapshot with 100 ZNodes and we will have transaction logs with 50 ZNodes, and we can assert that both metrics related to these are set after restart).

That being said, I have no idea how we could trigger a snapshot synchronously or to validate if the snapshot was indeed written. So I tend to agree with your fix. Just wanted to clarify this - at least for myself :)","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1852#pullrequestreview-1012373273""}"
1852,IssueComment,2022-06-21 10:20:36,kezhuw,fork_close,"@symat I think you are right about what the test try to express. But the original test does not assert that ""we have a snapshot""(aka. ""cnt_snapshottime""). That is why this fix pass. I think we could utilize `ZKTestCase.waitFor` to wait a snapshot and `FileSnap.close` to logs more txns after snapshot paused. I will push a fixup commit soon.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1161553240"", ""author_association"": ""CONTRIBUTOR""}"
1852,ReviewApproved,2022-06-21 11:35:42,eolivelli,fork_close,"+1
nice improvement","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1852#pullrequestreview-1013445954""}"
1852,HeadRefForcePushed,2022-06-22 02:34:13,kezhuw,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6852410614"", ""commit_url"": null}"
1852,Revise,2022-06-22 09:15:46,kezhuw,fork_close,fixup! ZOOKEEPER-4511: Fix flaky test FileTxnSnapLogMetricsTest.testFileTxnSnapLogMetrics,"{""sha"": ""a45661cf53307c479b469b97830df927a8e3051c"", ""author"": {""name"": ""Kezhu Wang"", ""email"": ""kezhuw@gmail.com"", ""date"": ""2022-06-21T10:44:13Z""}, ""committer"": {""name"": ""Kezhu Wang"", ""email"": ""kezhuw@gmail.com"", ""date"": ""2022-06-22T09:15:46Z""}}"
1852,HeadRefForcePushed,2022-06-22 09:16:15,kezhuw,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6854550799"", ""commit_url"": null}"
1852,IssueComment,2022-06-22 11:00:33,kezhuw,fork_close,Ci fails due to unrelated flaky test [ZOOKEEPER-4308](https://issues.apache.org/jira/browse/ZOOKEEPER-4308)(#1851).,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1162954259"", ""author_association"": ""CONTRIBUTOR""}"
1852,IssueComment,2022-06-23 07:13:55,symat,fork_close,"I really like your solution @kezhuw - you improved this test a lot. Thanks!

I think we are good to merge this. We should have the flaky test fixed in older branches too, if the patch applies smoothly. I'm a bit overloaded today. @eolivelli feel free to merge this. Otherwise I'll try to do it tomorrow. Thanks!!","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1164039781"", ""author_association"": ""CONTRIBUTOR""}"
1852,ClosePR,2022-06-24 13:41:58,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6874370870"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/b34e1716e8fa430690252288f2e15c38fe65f325""}"
1852,Referenced,2022-06-24 13:42:17,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6874373228"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/b8255aa34f5f2b8d3409588417f7f8aa5c95e246""}"
1852,Referenced,2022-06-24 13:42:46,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6874376765"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/0ad79e3e6f77d9099952fcc2c94b34b9cff0ddf0""}"
1852,IssueCommentSupplement,2022-06-24 13:45:37,symat,fork_close,"thanks @kezhuw for fixing this test!!
I pushed it to master, branch-3.8 and branch-3.7. The cherry-pick on branch-3.6 wasn't clean, so we will need a separate PR there, if we want to push this to branch-3.6.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1165591879"", ""author_association"": ""CONTRIBUTOR""}"
1852,Referenced,2022-06-29 14:40:20,kezhuw,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6903076303"", ""commit_url"": ""https://api.github.com/repos/kezhuw/zookeeper/commits/1870e9fa8bdb9ee56a1cdcd78a036c8de3465645""}"
1852,CrossReferenced,2022-06-29 15:01:33,kezhuw,fork_close,ZOOKEEPER-4511: Fix flaky test FileTxnSnapLogMetricsTest.testFileTxnSnapLogMetrics,"{""reference"": {""url"": ""https://api.github.com/repos/apache/zookeeper/issues/1900"", ""is_pull_request"": true}}"
1852,Referenced,2022-11-02 01:02:45,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7718385296"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/b516d4eb2a3814ed931d7615cee19e9f709a2854""}"
1852,CrossReferenced,2022-11-02 01:02:45,anuragmadnawat1,fork_close,ZOOKEEPER-4511: Fix flaky test FileTxnSnapLogMetricsTest.testFileTxnSnapLogMetrics,"{""reference"": {""url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/issues/70"", ""is_pull_request"": true}}"
1852,Referenced,2022-11-02 01:06:10,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7718398079"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/bb34dc145757f68a5afad361920776f2b279163f""}"
1852,Referenced,2023-01-13 20:22:53,anurag-harness,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/8224154863"", ""commit_url"": ""https://api.github.com/repos/anurag-harness/zookeeper/commits/5e0341ff55116c26621e2173227f818335e24998""}"
1852,CrossReferenced,2023-01-13 20:22:53,anurag-harness,fork_close,ZOOKEEPER-4511: Fix flaky test FileTxnSnapLogMetricsTest.testFileTxnSnapLogMetrics,"{""reference"": {""url"": ""https://api.github.com/repos/anurag-harness/zookeeper/issues/37"", ""is_pull_request"": true}}"
1852,Referenced,2023-01-13 20:26:14,anurag-harness,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/8224172265"", ""commit_url"": ""https://api.github.com/repos/anurag-harness/zookeeper/commits/fe05160feca2de36f8364b1e20d4e9337a6ee634""}"
1854,SubmitCommit,2022-04-07 10:16:37,arshadmohammad,fork_close,"ZOOKEEPER-4514: ClientCnxnSocketNetty throwing NPE
Moved channel object null check to sendPkt method to cover all calling scenarios","{""sha"": ""15b976347e7e78577289f15854f98e78dff41b4b"", ""author"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2022-04-07T10:16:37Z""}, ""committer"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2022-04-07T10:16:37Z""}}"
1854,OpenPR,2022-04-07 10:17:28,arshadmohammad,fork_close,,
1854,ReviewComment,2022-04-07 10:29:18,sonatype-lift[bot],fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1854#pullrequestreview-934841181""}"
1854,ReviewRequested,2022-04-07 14:27:47,arshadmohammad,fork_close,,"{""requested_reviewer"": {""login"": ""eolivelli"", ""id"": 9469110, ""node_id"": ""MDQ6VXNlcjk0NjkxMTA="", ""avatar_url"": ""https://avatars.githubusercontent.com/u/9469110?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/eolivelli"", ""html_url"": ""https://github.com/eolivelli"", ""followers_url"": ""https://api.github.com/users/eolivelli/followers"", ""following_url"": ""https://api.github.com/users/eolivelli/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/eolivelli/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/eolivelli/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/eolivelli/subscriptions"", ""organizations_url"": ""https://api.github.com/users/eolivelli/orgs"", ""repos_url"": ""https://api.github.com/users/eolivelli/repos"", ""events_url"": ""https://api.github.com/users/eolivelli/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/eolivelli/received_events"", ""type"": ""User"", ""site_admin"": false}, ""requested_team"": null}"
1854,ReviewRequested,2022-04-07 14:27:47,arshadmohammad,fork_close,,"{""requested_reviewer"": {""login"": ""symat"", ""id"": 18458499, ""node_id"": ""MDQ6VXNlcjE4NDU4NDk5"", ""avatar_url"": ""https://avatars.githubusercontent.com/u/18458499?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/symat"", ""html_url"": ""https://github.com/symat"", ""followers_url"": ""https://api.github.com/users/symat/followers"", ""following_url"": ""https://api.github.com/users/symat/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/symat/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/symat/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/symat/subscriptions"", ""organizations_url"": ""https://api.github.com/users/symat/orgs"", ""repos_url"": ""https://api.github.com/users/symat/repos"", ""events_url"": ""https://api.github.com/users/symat/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/symat/received_events"", ""type"": ""User"", ""site_admin"": false}, ""requested_team"": null}"
1854,ReviewApproved,2022-04-08 05:18:54,symat,fork_close,"LGTM, thanks!
We should push this back to all active branches (if it is an easy cherry-pick).","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1854#pullrequestreview-935914023""}"
1854,IssueComment,2022-04-08 10:52:32,arshadmohammad,fork_close,Thanks @symat for the review. I will merge it.,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1092735104"", ""author_association"": ""CONTRIBUTOR""}"
1854,ClosePR,2022-04-08 16:39:20,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6397854529"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/d5876e88d6bab3cc1cee04f996b9804ff21581cb""}"
1854,Referenced,2022-04-08 16:39:46,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6397856892"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/f28d16739a3baefcf5679f3b4343f12a49df0a19""}"
1854,Referenced,2022-04-08 16:40:18,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6397859545"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/fab889974f08be662927401716fac250904ec626""}"
1854,Referenced,2022-04-08 16:40:43,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6397861862"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/cb79fb97a8972250190cf9f4fc1937e137cadd53""}"
1854,Referenced,2022-05-17 11:31:56,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6623661142"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/d3fd534e278005f837bc921d78cbd00b56be1280""}"
1854,Referenced,2022-11-01 22:53:38,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7717804507"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/5e0efa44ee9fd825e41c633c1b7f92fd06f3dd44""}"
1854,CrossReferenced,2022-11-01 22:53:38,anuragmadnawat1,fork_close,ZOOKEEPER-4514: ClientCnxnSocketNetty throwing NPE,"{""reference"": {""url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/issues/54"", ""is_pull_request"": true}}"
1854,Referenced,2022-11-01 22:57:02,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7717819548"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/72372877a0009bbf53b837f6201343aeeaa033d6""}"
1854,Referenced,2023-01-13 18:03:33,anurag-harness,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/8223249209"", ""commit_url"": ""https://api.github.com/repos/anurag-harness/zookeeper/commits/76b48b8aaeb99128b7ff748af1f198f5405cd34d""}"
1854,CrossReferenced,2023-01-13 18:03:33,anurag-harness,fork_close,ZOOKEEPER-4514: ClientCnxnSocketNetty throwing NPE,"{""reference"": {""url"": ""https://api.github.com/repos/anurag-harness/zookeeper/issues/21"", ""is_pull_request"": true}}"
1854,Referenced,2023-01-13 18:06:22,anurag-harness,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/8223269335"", ""commit_url"": ""https://api.github.com/repos/anurag-harness/zookeeper/commits/3b5b7b2ba8592e120606be6d869d4f0e3d0d002c""}"
1855,OpenPR,2022-04-07 11:19:40,arshadmohammad,fork_close,,
1855,ReviewRequested,2022-04-07 14:28:39,arshadmohammad,fork_close,,"{""requested_reviewer"": {""login"": ""eolivelli"", ""id"": 9469110, ""node_id"": ""MDQ6VXNlcjk0NjkxMTA="", ""avatar_url"": ""https://avatars.githubusercontent.com/u/9469110?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/eolivelli"", ""html_url"": ""https://github.com/eolivelli"", ""followers_url"": ""https://api.github.com/users/eolivelli/followers"", ""following_url"": ""https://api.github.com/users/eolivelli/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/eolivelli/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/eolivelli/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/eolivelli/subscriptions"", ""organizations_url"": ""https://api.github.com/users/eolivelli/orgs"", ""repos_url"": ""https://api.github.com/users/eolivelli/repos"", ""events_url"": ""https://api.github.com/users/eolivelli/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/eolivelli/received_events"", ""type"": ""User"", ""site_admin"": false}, ""requested_team"": null}"
1855,ReviewRequested,2022-04-07 14:28:39,arshadmohammad,fork_close,,"{""requested_reviewer"": {""login"": ""symat"", ""id"": 18458499, ""node_id"": ""MDQ6VXNlcjE4NDU4NDk5"", ""avatar_url"": ""https://avatars.githubusercontent.com/u/18458499?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/symat"", ""html_url"": ""https://github.com/symat"", ""followers_url"": ""https://api.github.com/users/symat/followers"", ""following_url"": ""https://api.github.com/users/symat/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/symat/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/symat/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/symat/subscriptions"", ""organizations_url"": ""https://api.github.com/users/symat/orgs"", ""repos_url"": ""https://api.github.com/users/symat/repos"", ""events_url"": ""https://api.github.com/users/symat/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/symat/received_events"", ""type"": ""User"", ""site_admin"": false}, ""requested_team"": null}"
1855,IssueComment,2022-04-08 05:34:48,symat,fork_close," AFAIK your watcher should never be null. (Without a watcher you don't know if you are even connected to ZK or not... the successful connection and also the disconnection events reach the ZK client user through the watcher.) Previously we were throwing exception in this watcher==null case, and this was not not too bad, as most likely this is not how the caller app wanted to start the ZooKeeper client in the first place. Although NPE might not the right exception to throw :)

So my point here is: Isn't this change breaking compatibility? Shouldn't we throw at least some InvalidStateException after logging?
","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1092458477"", ""author_association"": ""CONTRIBUTOR""}"
1855,IssueComment,2022-04-08 11:29:40,eolivelli,fork_close,"I agree with Mate.
But maybe I am missing how to reproduce the problem.
We should also add a test that reproduces the problem","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1092764785"", ""author_association"": ""CONTRIBUTOR""}"
1855,HeadRefForcePushed,2022-04-09 22:54:38,arshadmohammad,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6402566576"", ""commit_url"": null}"
1855,IssueComment,2022-04-09 23:02:47,arshadmohammad,fork_close,"I checked the zk client code carefully, NPE will occur only when watcher is set null either throw ZooKeeper constructor or through register method. Now I think we should do the exactly what had been submitted in latest ZOOKEEPER-1875.patch.

Updated the PR.

","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1094138322"", ""author_association"": ""CONTRIBUTOR""}"
1855,Revise,2022-04-09 23:05:48,arshadmohammad,fork_close,ZOOKEEPER-1875: NullPointerException in ClientCnxn$EventThread.processEvent,"{""sha"": ""12f44d62e2cab3241b0eb62e1a28c864bf47f515"", ""author"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2022-04-07T11:18:08Z""}, ""committer"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2022-04-09T23:05:48Z""}}"
1855,HeadRefForcePushed,2022-04-09 23:06:00,arshadmohammad,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6402580088"", ""commit_url"": null}"
1855,ReviewApproved,2022-04-11 10:07:13,symat,fork_close,"nice, thank you!","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1855#pullrequestreview-937766168""}"
1855,ReviewRejected,2022-04-11 10:08:58,symat,fork_close,"looks some of our tests violate this rule. Can you take a look and maybe switch these to some noop watcher?

```
[INFO] Results:
[INFO] 
[ERROR] Errors: 
[ERROR]   QuorumDigestTest.testDigestMatchesDuringDiffSync:88->triggerSync:220->triggerOps:207 » IllegalArgument
[ERROR]   QuorumDigestTest.testDigestMatchesDuringSnapSync:96->triggerSync:220->triggerOps:207 » IllegalArgument
[ERROR]   QuorumDigestTest.testDigestMismatchesWhenTxnLost:173->triggerOps:207 » IllegalArgument
[ERROR]   ObserverMasterTest.testInOrderCommits:216 » IllegalArgument Invalid Watcher, s...
[ERROR]   ObserverMasterTest.testInOrderCommits:216 » IllegalArgument Invalid Watcher, s...
[INFO] 
[ERROR] Tests run: 2983, Failures: 0, Errors: 5, Skipped: 4

```","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1855#pullrequestreview-937768237""}"
1855,Revise,2022-04-11 10:47:27,arshadmohammad,fork_close,Corrected impacted test cases,"{""sha"": ""4a7d471e33ccf8a274a7b9f1f625fddcb67d85df"", ""author"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2022-04-11T10:47:27Z""}, ""committer"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2022-04-11T10:47:27Z""}}"
1855,IssueComment,2022-04-11 11:07:16,arshadmohammad,fork_close,"> looks some of our tests violate this rule. Can you take a look and maybe switch these to some noop watcher?

Corrected impacted test cases

","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1094915334"", ""author_association"": ""CONTRIBUTOR""}"
1855,ReviewRequested,2022-04-11 11:12:03,arshadmohammad,fork_close,,"{""requested_reviewer"": {""login"": ""symat"", ""id"": 18458499, ""node_id"": ""MDQ6VXNlcjE4NDU4NDk5"", ""avatar_url"": ""https://avatars.githubusercontent.com/u/18458499?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/symat"", ""html_url"": ""https://github.com/symat"", ""followers_url"": ""https://api.github.com/users/symat/followers"", ""following_url"": ""https://api.github.com/users/symat/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/symat/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/symat/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/symat/subscriptions"", ""organizations_url"": ""https://api.github.com/users/symat/orgs"", ""repos_url"": ""https://api.github.com/users/symat/repos"", ""events_url"": ""https://api.github.com/users/symat/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/symat/received_events"", ""type"": ""User"", ""site_admin"": false}, ""requested_team"": null}"
1855,ReviewApproved,2022-04-11 13:19:53,symat,fork_close,thank you!!,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1855#pullrequestreview-937992749""}"
1855,ClosePR,2022-04-16 10:08:04,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6443228697"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/86690ff40cb5c9f5782f0971db16e8fd1c3528e6""}"
1855,Referenced,2022-04-16 10:08:20,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6443228918"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/3f0810be303ee31cc458f3cb68d67fc3a8500117""}"
1855,Referenced,2022-04-16 10:08:44,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6443229266"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/9769139f991a3b458b4cd3ee11b766a45ccd34ff""}"
1855,Referenced,2022-04-16 10:32:39,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6443253965"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/df5ee998a9eae6731ed48c7feb5e1136fe964748""}"
1855,CrossReferenced,2022-11-01 23:02:14,anuragmadnawat1,fork_close,ZOOKEEPER-1875: NullPointerException in ClientCnxn$EventThread.processEvent,"{""reference"": {""url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/issues/56"", ""is_pull_request"": true}}"
1855,Referenced,2022-11-01 23:02:15,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7717842248"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/581ae1fc961aaad3cd35ed93580d43219708aea5""}"
1855,Referenced,2022-11-01 23:09:00,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7717888475"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/fbfa5576fb2cbfad97475b9f60b9e8fd79f1e2cf""}"
1855,Referenced,2023-01-13 18:15:40,anurag-harness,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/8223335830"", ""commit_url"": ""https://api.github.com/repos/anurag-harness/zookeeper/commits/03b9ac1a045a93d72e1375f299a76e43972d6d5d""}"
1855,CrossReferenced,2023-01-13 18:15:40,anurag-harness,fork_close,ZOOKEEPER-1875: NullPointerException in ClientCnxn$EventThread.processEvent,"{""reference"": {""url"": ""https://api.github.com/repos/anurag-harness/zookeeper/issues/23"", ""is_pull_request"": true}}"
1855,Referenced,2023-01-13 18:24:20,anurag-harness,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/8223391253"", ""commit_url"": ""https://api.github.com/repos/anurag-harness/zookeeper/commits/06e9c1622172593f792d81cf4ae893c9c0e571a3""}"
1856,SubmitCommit,2022-04-08 10:48:56,arshadmohammad,fork_close,"ZOOKEEPER-4515: ZK Cli quit command always logs error
1. For connection closing state scenario, changed the log level to debug
2. When JVM exiting with code 0, then logging info instead of error","{""sha"": ""31e124a2a811a4d66c2548d6ef10ab99b1e24dd9"", ""author"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2022-04-08T10:48:56Z""}, ""committer"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2022-04-08T10:48:56Z""}}"
1856,OpenPR,2022-04-08 10:50:00,arshadmohammad,fork_close,,
1856,ReviewRequested,2022-04-08 11:54:19,arshadmohammad,fork_close,,"{""requested_reviewer"": {""login"": ""symat"", ""id"": 18458499, ""node_id"": ""MDQ6VXNlcjE4NDU4NDk5"", ""avatar_url"": ""https://avatars.githubusercontent.com/u/18458499?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/symat"", ""html_url"": ""https://github.com/symat"", ""followers_url"": ""https://api.github.com/users/symat/followers"", ""following_url"": ""https://api.github.com/users/symat/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/symat/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/symat/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/symat/subscriptions"", ""organizations_url"": ""https://api.github.com/users/symat/orgs"", ""repos_url"": ""https://api.github.com/users/symat/repos"", ""events_url"": ""https://api.github.com/users/symat/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/symat/received_events"", ""type"": ""User"", ""site_admin"": false}, ""requested_team"": null}"
1856,ReviewRequested,2022-04-08 11:54:19,arshadmohammad,fork_close,,"{""requested_reviewer"": {""login"": ""eolivelli"", ""id"": 9469110, ""node_id"": ""MDQ6VXNlcjk0NjkxMTA="", ""avatar_url"": ""https://avatars.githubusercontent.com/u/9469110?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/eolivelli"", ""html_url"": ""https://github.com/eolivelli"", ""followers_url"": ""https://api.github.com/users/eolivelli/followers"", ""following_url"": ""https://api.github.com/users/eolivelli/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/eolivelli/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/eolivelli/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/eolivelli/subscriptions"", ""organizations_url"": ""https://api.github.com/users/eolivelli/orgs"", ""repos_url"": ""https://api.github.com/users/eolivelli/repos"", ""events_url"": ""https://api.github.com/users/eolivelli/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/eolivelli/received_events"", ""type"": ""User"", ""site_admin"": false}, ""requested_team"": null}"
1856,ReviewComment,2022-04-08 13:49:56,tisonkun,fork_close,Thanks for your contribution @arshadmohammad! Generally looks good. Minor comments inline.,"{""author_association"": ""MEMBER"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1856#pullrequestreview-936469306""}"
1856,Revise,2022-04-08 15:38:01,arshadmohammad,fork_close,Logging error only when exit code is non zero,"{""sha"": ""e7e248bd578d74f99add865e8569b311b7b722ba"", ""author"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2022-04-08T15:38:01Z""}, ""committer"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2022-04-08T15:38:01Z""}}"
1856,ReviewApproved,2022-04-09 01:03:53,tisonkun,fork_close,"LGTM.

cc @eolivelli @maoling ","{""author_association"": ""MEMBER"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1856#pullrequestreview-937058625""}"
1856,ReviewApproved,2022-04-09 08:41:38,eolivelli,fork_close,Very good,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1856#pullrequestreview-937103629""}"
1856,IssueComment,2022-04-09 08:42:02,eolivelli,fork_close,Please chery pick to all active branches,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1093818549"", ""author_association"": ""CONTRIBUTOR""}"
1856,ClosePR,2022-04-09 17:42:31,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6402190370"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/e5f84f46283d70b618ce00f2df51f4bfe31d9a44""}"
1856,Referenced,2022-04-09 17:42:53,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6402191990"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/e35536de1984297ddd73aeaae0e6b5c6bf4ac67a""}"
1856,Referenced,2022-04-09 17:43:17,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6402193845"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/b6331287036a764b7d1ed351a873e0ed6f1ff701""}"
1856,Referenced,2022-04-09 17:43:38,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6402195351"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/430c0276ba5ab8012b17dd3a5699b2b642b59af9""}"
1856,CrossReferenced,2022-11-01 22:57:05,anuragmadnawat1,fork_close,ZOOKEEPER-4515: ZK Cli quit command always logs error,"{""reference"": {""url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/issues/55"", ""is_pull_request"": true}}"
1856,Referenced,2022-11-01 22:57:06,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7717819771"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/c7fa0172f464895e8ec4e21bd7491907d52d45ec""}"
1856,Referenced,2022-11-01 23:02:11,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7717841257"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/06febdbd0313a225d63aded397446812eef58f3f""}"
1856,CrossReferenced,2023-01-13 18:06:25,anurag-harness,fork_close,ZOOKEEPER-4515: ZK Cli quit command always logs error,"{""reference"": {""url"": ""https://api.github.com/repos/anurag-harness/zookeeper/issues/22"", ""is_pull_request"": true}}"
1856,Referenced,2023-01-13 18:06:26,anurag-harness,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/8223269708"", ""commit_url"": ""https://api.github.com/repos/anurag-harness/zookeeper/commits/11dae71903574bd303b3f6a7c8271c20b5092509""}"
1856,Referenced,2023-01-13 18:15:38,anurag-harness,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/8223335534"", ""commit_url"": ""https://api.github.com/repos/anurag-harness/zookeeper/commits/568d3f43f50093352f2acb56cbf8c94b6e16acb3""}"
1857,SubmitCommit,2022-04-08 11:22:47,arshadmohammad,fork_close,"ZOOKEEPER-4516: checkstyle:check  is failing
1. Copied CertificatesToPlayWith.java from master branch as the checkstyle was already fixed there
2. Corrected import order in ZKUtilTest.java","{""sha"": ""ac6c18313b10c6580b1cc7c106cf0171d9898c2b"", ""author"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2022-04-08T11:22:47Z""}, ""committer"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2022-04-08T11:22:47Z""}}"
1857,OpenPR,2022-04-08 11:23:44,arshadmohammad,fork_close,,
1857,ReviewRequested,2022-04-08 11:53:15,arshadmohammad,fork_close,,"{""requested_reviewer"": {""login"": ""afine"", ""id"": 223386, ""node_id"": ""MDQ6VXNlcjIyMzM4Ng=="", ""avatar_url"": ""https://avatars.githubusercontent.com/u/223386?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/afine"", ""html_url"": ""https://github.com/afine"", ""followers_url"": ""https://api.github.com/users/afine/followers"", ""following_url"": ""https://api.github.com/users/afine/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/afine/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/afine/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/afine/subscriptions"", ""organizations_url"": ""https://api.github.com/users/afine/orgs"", ""repos_url"": ""https://api.github.com/users/afine/repos"", ""events_url"": ""https://api.github.com/users/afine/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/afine/received_events"", ""type"": ""User"", ""site_admin"": false}, ""requested_team"": null}"
1857,ReviewRequested,2022-04-08 11:53:15,arshadmohammad,fork_close,,"{""requested_reviewer"": {""login"": ""eolivelli"", ""id"": 9469110, ""node_id"": ""MDQ6VXNlcjk0NjkxMTA="", ""avatar_url"": ""https://avatars.githubusercontent.com/u/9469110?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/eolivelli"", ""html_url"": ""https://github.com/eolivelli"", ""followers_url"": ""https://api.github.com/users/eolivelli/followers"", ""following_url"": ""https://api.github.com/users/eolivelli/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/eolivelli/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/eolivelli/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/eolivelli/subscriptions"", ""organizations_url"": ""https://api.github.com/users/eolivelli/orgs"", ""repos_url"": ""https://api.github.com/users/eolivelli/repos"", ""events_url"": ""https://api.github.com/users/eolivelli/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/eolivelli/received_events"", ""type"": ""User"", ""site_admin"": false}, ""requested_team"": null}"
1857,ReviewRequested,2022-04-08 11:53:15,arshadmohammad,fork_close,,"{""requested_reviewer"": {""login"": ""symat"", ""id"": 18458499, ""node_id"": ""MDQ6VXNlcjE4NDU4NDk5"", ""avatar_url"": ""https://avatars.githubusercontent.com/u/18458499?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/symat"", ""html_url"": ""https://github.com/symat"", ""followers_url"": ""https://api.github.com/users/symat/followers"", ""following_url"": ""https://api.github.com/users/symat/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/symat/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/symat/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/symat/subscriptions"", ""organizations_url"": ""https://api.github.com/users/symat/orgs"", ""repos_url"": ""https://api.github.com/users/symat/repos"", ""events_url"": ""https://api.github.com/users/symat/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/symat/received_events"", ""type"": ""User"", ""site_admin"": false}, ""requested_team"": null}"
1857,ReviewRequestRemoved,2022-04-08 11:53:41,arshadmohammad,fork_close,,"{""requested_reviewer"": {""login"": ""afine"", ""id"": 223386, ""node_id"": ""MDQ6VXNlcjIyMzM4Ng=="", ""avatar_url"": ""https://avatars.githubusercontent.com/u/223386?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/afine"", ""html_url"": ""https://github.com/afine"", ""followers_url"": ""https://api.github.com/users/afine/followers"", ""following_url"": ""https://api.github.com/users/afine/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/afine/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/afine/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/afine/subscriptions"", ""organizations_url"": ""https://api.github.com/users/afine/orgs"", ""repos_url"": ""https://api.github.com/users/afine/repos"", ""events_url"": ""https://api.github.com/users/afine/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/afine/received_events"", ""type"": ""User"", ""site_admin"": false}, ""requested_team"": null}"
1857,ReviewApproved,2022-04-08 13:50:55,symat,fork_close,,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1857#pullrequestreview-936471992""}"
1857,Referenced,2022-04-08 16:49:47,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6397911758"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/d804b01df6863865c08d28f8141112049eedc3ce""}"
1857,IssueCommentSupplement,2022-04-08 16:52:29,arshadmohammad,fork_close,Merged,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1093084535"", ""author_association"": ""CONTRIBUTOR""}"
1857,ClosePR,2022-04-08 16:52:29,arshadmohammad,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6397925279"", ""commit_url"": null}"
1858,SubmitCommit,2022-04-08 11:51:23,arshadmohammad,fork_close,"ZOOKEEPER-4516: checkstyle:check  is failing
Corrected imports and done simple formatting","{""sha"": ""4593ea60190bb33669b8e3c428044bcad192f462"", ""author"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2022-04-08T11:51:23Z""}, ""committer"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2022-04-08T11:51:23Z""}}"
1858,OpenPR,2022-04-08 11:52:15,arshadmohammad,fork_close,,
1858,ReviewRequested,2022-04-08 11:52:21,arshadmohammad,fork_close,,"{""requested_reviewer"": {""login"": ""eolivelli"", ""id"": 9469110, ""node_id"": ""MDQ6VXNlcjk0NjkxMTA="", ""avatar_url"": ""https://avatars.githubusercontent.com/u/9469110?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/eolivelli"", ""html_url"": ""https://github.com/eolivelli"", ""followers_url"": ""https://api.github.com/users/eolivelli/followers"", ""following_url"": ""https://api.github.com/users/eolivelli/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/eolivelli/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/eolivelli/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/eolivelli/subscriptions"", ""organizations_url"": ""https://api.github.com/users/eolivelli/orgs"", ""repos_url"": ""https://api.github.com/users/eolivelli/repos"", ""events_url"": ""https://api.github.com/users/eolivelli/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/eolivelli/received_events"", ""type"": ""User"", ""site_admin"": false}, ""requested_team"": null}"
1858,ReviewRequested,2022-04-08 11:52:53,arshadmohammad,fork_close,,"{""requested_reviewer"": {""login"": ""symat"", ""id"": 18458499, ""node_id"": ""MDQ6VXNlcjE4NDU4NDk5"", ""avatar_url"": ""https://avatars.githubusercontent.com/u/18458499?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/symat"", ""html_url"": ""https://github.com/symat"", ""followers_url"": ""https://api.github.com/users/symat/followers"", ""following_url"": ""https://api.github.com/users/symat/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/symat/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/symat/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/symat/subscriptions"", ""organizations_url"": ""https://api.github.com/users/symat/orgs"", ""repos_url"": ""https://api.github.com/users/symat/repos"", ""events_url"": ""https://api.github.com/users/symat/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/symat/received_events"", ""type"": ""User"", ""site_admin"": false}, ""requested_team"": null}"
1858,ReviewApproved,2022-04-08 13:50:14,symat,fork_close,,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1858#pullrequestreview-936471088""}"
1858,Referenced,2022-04-08 16:51:12,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6397918842"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/d6a39920d81abb05cadba4540d6dcb28a5317815""}"
1858,IssueCommentSupplement,2022-04-08 16:52:19,arshadmohammad,fork_close,Merged.,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1093084431"", ""author_association"": ""CONTRIBUTOR""}"
1858,ClosePR,2022-04-08 16:52:19,arshadmohammad,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6397924418"", ""commit_url"": null}"
1860,SubmitCommit,2022-04-11 10:03:39,arshadmohammad,fork_close,"ZOOKEEPER-4510: dependency-check:check failing - reload4j-1.2.19.jar: CVE-2020-9493, CVE-2022-23307
As the CVEs are false positive, suppressed these CVEs.","{""sha"": ""d3d95659131e16f5a37bda2a6d473844dd48be37"", ""author"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2022-04-11T10:03:39Z""}, ""committer"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2022-04-11T10:03:39Z""}}"
1860,OpenPR,2022-04-11 10:04:43,arshadmohammad,fork_close,,
1860,ReviewRequested,2022-04-11 10:04:46,arshadmohammad,fork_close,,"{""requested_reviewer"": {""login"": ""eolivelli"", ""id"": 9469110, ""node_id"": ""MDQ6VXNlcjk0NjkxMTA="", ""avatar_url"": ""https://avatars.githubusercontent.com/u/9469110?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/eolivelli"", ""html_url"": ""https://github.com/eolivelli"", ""followers_url"": ""https://api.github.com/users/eolivelli/followers"", ""following_url"": ""https://api.github.com/users/eolivelli/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/eolivelli/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/eolivelli/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/eolivelli/subscriptions"", ""organizations_url"": ""https://api.github.com/users/eolivelli/orgs"", ""repos_url"": ""https://api.github.com/users/eolivelli/repos"", ""events_url"": ""https://api.github.com/users/eolivelli/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/eolivelli/received_events"", ""type"": ""User"", ""site_admin"": false}, ""requested_team"": null}"
1860,ReviewRequested,2022-04-11 10:04:55,arshadmohammad,fork_close,,"{""requested_reviewer"": {""login"": ""symat"", ""id"": 18458499, ""node_id"": ""MDQ6VXNlcjE4NDU4NDk5"", ""avatar_url"": ""https://avatars.githubusercontent.com/u/18458499?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/symat"", ""html_url"": ""https://github.com/symat"", ""followers_url"": ""https://api.github.com/users/symat/followers"", ""following_url"": ""https://api.github.com/users/symat/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/symat/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/symat/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/symat/subscriptions"", ""organizations_url"": ""https://api.github.com/users/symat/orgs"", ""repos_url"": ""https://api.github.com/users/symat/repos"", ""events_url"": ""https://api.github.com/users/symat/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/symat/received_events"", ""type"": ""User"", ""site_admin"": false}, ""requested_team"": null}"
1860,ReviewApproved,2022-04-11 18:04:07,ctubbsii,fork_close,,"{""author_association"": ""MEMBER"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1860#pullrequestreview-938400327""}"
1860,IssueComment,2022-04-12 07:38:33,arshadmohammad,fork_close,this is blocker for 3.7.1 release. Can I get more approvals on this...,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1096267291"", ""author_association"": ""CONTRIBUTOR""}"
1860,ReviewApproved,2022-04-12 14:46:41,ctubbsii,fork_close,,"{""author_association"": ""MEMBER"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1860#pullrequestreview-939678769""}"
1860,ReviewRequested,2022-04-16 10:41:15,arshadmohammad,fork_close,,"{""requested_reviewer"": {""login"": ""phunt"", ""id"": 15702, ""node_id"": ""MDQ6VXNlcjE1NzAy"", ""avatar_url"": ""https://avatars.githubusercontent.com/u/15702?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/phunt"", ""html_url"": ""https://github.com/phunt"", ""followers_url"": ""https://api.github.com/users/phunt/followers"", ""following_url"": ""https://api.github.com/users/phunt/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/phunt/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/phunt/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/phunt/subscriptions"", ""organizations_url"": ""https://api.github.com/users/phunt/orgs"", ""repos_url"": ""https://api.github.com/users/phunt/repos"", ""events_url"": ""https://api.github.com/users/phunt/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/phunt/received_events"", ""type"": ""User"", ""site_admin"": false}, ""requested_team"": null}"
1860,IssueComment,2022-04-16 10:42:08,arshadmohammad,fork_close,ping @phunt @symat @eolivelli ,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1100634869"", ""author_association"": ""CONTRIBUTOR""}"
1860,ReviewApproved,2022-05-02 12:23:50,symat,fork_close,sorry for the late review,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1860#pullrequestreview-959002563""}"
1860,IssueCommentSupplement,2022-05-04 19:06:57,arshadmohammad,fork_close,"Thanks everyone for the review. Got new way to get rid of false positive CVEs. 
Created new PR https://github.com/apache/zookeeper/pull/1872","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1117711774"", ""author_association"": ""CONTRIBUTOR""}"
1860,ClosePR,2022-05-04 19:06:57,arshadmohammad,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6551070634"", ""commit_url"": null}"
1861,SubmitCommit,2022-04-15 04:03:42,Vinay kumar Uppala,fork_close,ZOOKEEPER-4518 : remove useless log in the PrepRequestProcessor#pRequest method,"{""sha"": ""c4e9005ae2f74b09ce1213c7679907b04f11b0d1"", ""author"": {""name"": ""Vinay kumar Uppala"", ""email"": ""vinay.uppala@Vinays-MacBook-Pro.local"", ""date"": ""2022-04-15T04:03:42Z""}, ""committer"": {""name"": ""Vinay kumar Uppala"", ""email"": ""vinay.uppala@Vinays-MacBook-Pro.local"", ""date"": ""2022-04-15T04:03:42Z""}}"
1861,OpenPR,2022-04-15 04:08:50,Vinayvinayu,fork_close,,
1861,ClosePR,2022-04-15 04:15:11,Vinayvinayu,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6438589253"", ""commit_url"": null}"
1861,DeleteBranch,2022-04-15 04:16:58,Vinayvinayu,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6438594943"", ""commit_url"": null}"
1862,SubmitCommit,2022-04-15 04:29:06,Vinayvinayu,fork_close,ZOOKEEPER-4518 : remove useless log in the PrepRequestProcessor#pRequest method,"{""sha"": ""967ebb22f7f7e5d943d28881390a86caa3a2d397"", ""author"": {""name"": ""vinayvinayu"", ""email"": ""vinayvinayu@gmail.com"", ""date"": ""2022-04-15T04:29:06Z""}, ""committer"": {""name"": ""vinayvinayu"", ""email"": ""vinayvinayu@gmail.com"", ""date"": ""2022-04-15T04:29:06Z""}}"
1862,OpenPR,2022-04-15 04:30:28,Vinayvinayu,fork_close,,
1862,RenameTitle,2022-04-15 04:30:50,Vinayvinayu,fork_close,,"{""rename"": {""from"": ""ZOOKEEPER-4518 : remove useless log in the PrepRequestProcessor#pRequ\u2026"", ""to"": ""ZOOKEEPER-4518 : remove useless log in the PrepRequestProcessor#pRequest methodd""}, ""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6438626843""}"
1862,RenameTitle,2022-04-15 04:30:56,Vinayvinayu,fork_close,,"{""rename"": {""from"": ""ZOOKEEPER-4518 : remove useless log in the PrepRequestProcessor#pRequest methodd"", ""to"": ""ZOOKEEPER-4518 : remove useless log in the PrepRequestProcessor#pRequest method""}, ""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6438627118""}"
1862,ReviewRejected,2022-04-15 05:55:44,eolivelli,fork_close,"Hello
Thanks for your contribution 
We are not used to accept this kind of simple patches.

Could you please take a wider look and maybe apply this code style improvement over the whole module?","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1862#pullrequestreview-943169274""}"
1862,ClosePR,2022-06-17 09:08:19,maoling,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6827427663"", ""commit_url"": null}"
1862,ReopenPR,2022-06-17 09:08:23,maoling,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6827428046"", ""commit_url"": null}"
1862,ClosePR,2022-06-17 11:25:33,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6828241525"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/02e481cdbf1f0393d60b9f359f69b1fbe8fa84ce""}"
1862,IssueCommentSupplement,2022-06-17 11:26:22,maoling,fork_close,"@Vinayvinayu 
Thanks for your contribution.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1158777242"", ""author_association"": ""MEMBER""}"
1862,CrossReferenced,2022-11-02 00:38:50,anuragmadnawat1,fork_close,ZOOKEEPER-4518: remove useless log in the PrepRequestProcessor#pRequest method,"{""reference"": {""url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/issues/66"", ""is_pull_request"": true}}"
1862,Referenced,2022-11-02 00:38:51,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7718278225"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/0edc38e59f1acc4b80993a523376bb9ddbfc3eda""}"
1862,Referenced,2022-11-02 00:43:55,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7718298920"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/274697f3cd19978a624d027075de8f11cdf4f58e""}"
1862,CrossReferenced,2023-01-13 19:54:00,anurag-harness,fork_close,ZOOKEEPER-4518: remove useless log in the PrepRequestProcessor#pRequest method,"{""reference"": {""url"": ""https://api.github.com/repos/anurag-harness/zookeeper/issues/33"", ""is_pull_request"": true}}"
1862,Referenced,2023-01-13 19:54:04,anurag-harness,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/8223974451"", ""commit_url"": ""https://api.github.com/repos/anurag-harness/zookeeper/commits/6ed2255b9249f43c94929dc4859e0c8b0d04d70b""}"
1862,Referenced,2023-01-13 20:01:20,anurag-harness,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/8224022455"", ""commit_url"": ""https://api.github.com/repos/anurag-harness/zookeeper/commits/5ebedfc8978441ed394b2f5e6a737873fd704700""}"
1863,SubmitCommit,2022-04-18 18:26:18,HoustonPutman,fork_close,ZOOKEEPER-4519: Add closeSocket method to Testable interface,"{""sha"": ""475c9f5161bc45cd244a4d51a8d299b90de69337"", ""author"": {""name"": ""Houston Putman"", ""email"": ""houston@apache.org"", ""date"": ""2022-04-12T15:29:46Z""}, ""committer"": {""name"": ""Houston Putman"", ""email"": ""houston@apache.org"", ""date"": ""2022-04-18T18:26:18Z""}}"
1863,OpenPR,2022-04-18 18:27:26,HoustonPutman,fork_close,,
1863,ReviewApproved,2022-04-18 19:36:28,eolivelli,fork_close,Lgtm,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1863#pullrequestreview-944748341""}"
1863,Revise,2022-04-18 19:44:35,HoustonPutman,fork_close,Fix style,"{""sha"": ""1f9d814f5b3a2ee9bdca95ae785b0b2d1dfbae3f"", ""author"": {""name"": ""Houston Putman"", ""email"": ""houston@apache.org"", ""date"": ""2022-04-18T19:44:35Z""}, ""committer"": {""name"": ""Houston Putman"", ""email"": ""houston@apache.org"", ""date"": ""2022-04-18T19:44:35Z""}}"
1863,ClosePR,2022-05-09 03:55:20,maoling,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6569853070"", ""commit_url"": null}"
1863,ReopenPR,2022-05-09 03:55:23,maoling,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6569853225"", ""commit_url"": null}"
1863,ReviewApproved,2022-05-09 03:55:51,maoling,fork_close,,"{""author_association"": ""MEMBER"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1863#pullrequestreview-965568243""}"
1863,IssueComment,2022-05-09 03:56:43,maoling,fork_close,"If no other concerns, I'll merge it at this weekend(05-14)","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1120612215"", ""author_association"": ""MEMBER""}"
1863,ClosePR,2022-05-16 04:07:53,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6612792669"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/6f0052d841b268a576f49c08425b49417cb2527f""}"
1863,IssueCommentSupplement,2022-05-16 04:08:27,maoling,fork_close,"@HoustonPutman 

Thanks for your contribution.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1127193643"", ""author_association"": ""MEMBER""}"
1863,DeleteBranch,2022-06-23 15:26:29,HoustonPutman,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6867438739"", ""commit_url"": null}"
1863,IssueCommentSupplement,2022-06-23 15:27:51,HoustonPutman,fork_close,"@maoling could we possibly backport this to the 3.8.x (and possibly 3.7.x branches)? It's backwards compatible, and would be very nice to get into a Solr version sometime soon!","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1164556245"", ""author_association"": ""CONTRIBUTOR""}"
1863,Referenced,2022-11-02 00:19:57,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7718196872"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/16f47675d428bcc3157875802b4dbdb5f4d27576""}"
1863,CrossReferenced,2022-11-02 00:19:57,anuragmadnawat1,fork_close,ZOOKEEPER-4519: Add closeSocket method to Testable interface,"{""reference"": {""url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/issues/62"", ""is_pull_request"": true}}"
1863,Referenced,2022-11-02 00:23:22,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7718208628"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/d86938acb64a5a3486829e05a6511b132f8da1cc""}"
1863,CrossReferenced,2023-01-13 19:37:15,anurag-harness,fork_close,ZOOKEEPER-4519: Add closeSocket method to Testable interface,"{""reference"": {""url"": ""https://api.github.com/repos/anurag-harness/zookeeper/issues/29"", ""is_pull_request"": true}}"
1863,Referenced,2023-01-13 19:37:16,anurag-harness,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/8223865027"", ""commit_url"": ""https://api.github.com/repos/anurag-harness/zookeeper/commits/28ea5958b18714aeb254cfc31e545118337e689c""}"
1863,Referenced,2023-01-13 19:39:03,anurag-harness,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/8223877512"", ""commit_url"": ""https://api.github.com/repos/anurag-harness/zookeeper/commits/83753fc08eec643f9eb5447cb52725b9f9eca16e""}"
1868,OpenPR,2022-04-25 17:55:52,madrob,fork_close,,
1868,IssueComment,2022-05-02 21:42:51,madrob,fork_close,"I'm not able to reproduce the failure seen by the GitHub actions, can somebody help me figure out if this is caused by my changes or an existing issue?","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1115398987"", ""author_association"": ""CONTRIBUTOR""}"
1868,CrossReferenced,2022-05-30 13:02:11,madrob,fork_close,[CURATOR-535] TestServer random port selection has a race condition,"{""reference"": {""url"": ""https://api.github.com/repos/apache/curator/issues/406"", ""is_pull_request"": true}}"
1868,HeadRefForcePushed,2022-05-31 14:37:29,madrob,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6710243841"", ""commit_url"": null}"
1868,IssueComment,2022-05-31 14:38:13,madrob,fork_close,Force pushed rebase to development branch.,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1142223439"", ""author_association"": ""CONTRIBUTOR""}"
1868,Revise,2022-06-10 17:31:27,madrob,fork_close,ZOOKEEPER-4303: Allow configuring client port to 0,"{""sha"": ""83a0152025bb7471fdacb76c7f2ff87eb14f5ff2"", ""author"": {""name"": ""Mike Drob"", ""email"": ""mdrob@apple.com"", ""date"": ""2022-03-28T18:37:17Z""}, ""committer"": {""name"": ""Mike Drob"", ""email"": ""mdrob@apple.com"", ""date"": ""2022-06-10T17:31:27Z""}}"
1868,HeadRefForcePushed,2022-06-10 17:32:15,madrob,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6787703518"", ""commit_url"": null}"
1868,ReviewApproved,2022-06-21 10:03:16,kezhuw,fork_close,"Nice change. LGTM.

@eolivelli PTAL","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1868#pullrequestreview-1013250294""}"
1868,ReviewApproved,2022-06-21 10:06:34,eolivelli,fork_close,LGTM,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1868#pullrequestreview-1013323606""}"
1868,IssueComment,2022-06-21 10:07:03,eolivelli,fork_close,I have restarted CI,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1161538832"", ""author_association"": ""CONTRIBUTOR""}"
1868,IssueComment,2022-09-05 14:11:59,kezhuw,fork_close,@maoling @symat Could you please take a look at this ? It is valuable in testing/embedded environments to avoid port conflict. It is ZooKeeper's [CURATOR-535](https://issues.apache.org/jira/browse/CURATOR-535).,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1237098524"", ""author_association"": ""CONTRIBUTOR""}"
1868,ReviewApproved,2022-09-06 08:38:48,symat,fork_close,"Looks good to me!
thanks!","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1868#pullrequestreview-1097176199""}"
1868,IssueComment,2022-10-10 01:33:37,kezhuw,fork_close,@eolivelli @symat Shall we merge this ?,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1272692616"", ""author_association"": ""CONTRIBUTOR""}"
1868,IssueComment,2022-10-11 17:57:29,symat,fork_close,"sorry for the delay, I kind of forgot about this one, I can merge it :( 
@eolivelli - can I merge this or do we need an other test run here? (is there any way to re-trigger the failing pr-merge jenkins job? - I don't even remember which one is that or if it is important)","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1275070652"", ""author_association"": ""CONTRIBUTOR""}"
1868,IssueComment,2022-10-11 19:48:36,eolivelli,fork_close,"I think that we can merge it.
you could restart the job by logging into jenkins using your ASF credentials.

I believe it is useless now that we have GH actions, I already started a discussion on dev@","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1275194671"", ""author_association"": ""CONTRIBUTOR""}"
1868,IssueComment,2022-10-11 20:18:47,symat,fork_close,"yes, I agree to eliminate some of these CI jobs. I'll merge this PR now.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1275226166"", ""author_association"": ""CONTRIBUTOR""}"
1868,ClosePR,2022-10-11 20:24:05,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7566127453"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/90f813ea38a85ff2715662bad75f9bb6387fe4a6""}"
1868,IssueCommentSupplement,2022-10-11 20:26:13,symat,fork_close,"merge is done, thank you @madrob for your contribution! 
and for your patience ;) ","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1275235860"", ""author_association"": ""CONTRIBUTOR""}"
1868,Referenced,2022-11-02 03:00:57,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7718888605"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/51884934484d726798e63b49fb4e594e094bc4c9""}"
1868,CrossReferenced,2022-11-02 03:00:57,anuragmadnawat1,fork_close,ZOOKEEPER-4303: Allow configuring client port to 0,"{""reference"": {""url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/issues/80"", ""is_pull_request"": true}}"
1868,Referenced,2022-11-02 03:09:23,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7718924206"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/c3f530c0c8c2494f8bb435a964b1127157359aa5""}"
1868,IssueCommentSupplement,2023-02-05 12:52:37,kezhuw,fork_close,@eolivelli @symat Would you mind merging this to 3.7 and 3.8 ? apache/curator#421 needs this.,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1417755196"", ""author_association"": ""CONTRIBUTOR""}"
1868,CrossReferenced,2023-02-15 03:30:14,kezhuw,fork_close,CURATOR-535: Fix client port conflict due to untrustworthy random port allocation,"{""reference"": {""url"": ""https://api.github.com/repos/apache/curator/issues/421"", ""is_pull_request"": true}}"
1869,OpenPR,2022-04-28 06:08:18,AnanyaSingh2121,fork_close,,
1869,IssueComment,2022-04-28 06:20:40,Shoothzj,fork_close,"IMO, we should choose one cc @arshadmohammad 
- update tcnative version
- remove tcnative version declaration","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1111792139"", ""author_association"": ""MEMBER""}"
1869,IssueComment,2022-04-28 06:28:19,AnanyaSingh2121,fork_close,"> IMO, we should choose one cc @arshadmohammad
> 
> * update tcnative version
> * remove tcnative version declaration

yes we will be removing tcnative version as a part of separate jira and PR so that it will be cleaner to track in future.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1111797107"", ""author_association"": ""CONTRIBUTOR""}"
1869,ReviewRejected,2022-04-28 06:30:04,eolivelli,fork_close,please update license files,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1869#pullrequestreview-955921343""}"
1869,IssueComment,2022-04-28 06:40:54,AnanyaSingh2121,fork_close,"> please update license files

sure, will do","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1111805775"", ""author_association"": ""CONTRIBUTOR""}"
1869,Revise,2022-04-28 07:33:35,AnanyaSingh2121,fork_close,ZOOKEEPER-4529 : Upgrade netty to 4.1.76.Final,"{""sha"": ""539a4ca127372c5deeef065a7b7841840a40773a"", ""author"": {""name"": ""Ananya Singh"", ""email"": ""purpul90@gmail.com"", ""date"": ""2022-04-28T06:06:04Z""}, ""committer"": {""name"": ""Ananya Singh"", ""email"": ""purpul90@gmail.com"", ""date"": ""2022-04-28T07:33:35Z""}}"
1869,HeadRefForcePushed,2022-04-28 07:36:01,AnanyaSingh2121,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6512728354"", ""commit_url"": null}"
1869,ReviewRequested,2022-04-28 07:40:49,AnanyaSingh2121,fork_close,,"{""requested_reviewer"": {""login"": ""eolivelli"", ""id"": 9469110, ""node_id"": ""MDQ6VXNlcjk0NjkxMTA="", ""avatar_url"": ""https://avatars.githubusercontent.com/u/9469110?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/eolivelli"", ""html_url"": ""https://github.com/eolivelli"", ""followers_url"": ""https://api.github.com/users/eolivelli/followers"", ""following_url"": ""https://api.github.com/users/eolivelli/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/eolivelli/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/eolivelli/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/eolivelli/subscriptions"", ""organizations_url"": ""https://api.github.com/users/eolivelli/orgs"", ""repos_url"": ""https://api.github.com/users/eolivelli/repos"", ""events_url"": ""https://api.github.com/users/eolivelli/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/eolivelli/received_events"", ""type"": ""User"", ""site_admin"": false}, ""requested_team"": null}"
1869,ReviewApproved,2022-04-28 07:42:43,eolivelli,fork_close,"LGTM

thanks,
we will have to port this change to branch-3.8, branch-3.7 and branch-3.6

in case it does not apply cleanly we may ask you to send other patches

thank you very much !","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1869#pullrequestreview-955996086""}"
1869,ReviewRequested,2022-04-28 07:42:59,eolivelli,fork_close,,"{""requested_reviewer"": {""login"": ""symat"", ""id"": 18458499, ""node_id"": ""MDQ6VXNlcjE4NDU4NDk5"", ""avatar_url"": ""https://avatars.githubusercontent.com/u/18458499?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/symat"", ""html_url"": ""https://github.com/symat"", ""followers_url"": ""https://api.github.com/users/symat/followers"", ""following_url"": ""https://api.github.com/users/symat/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/symat/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/symat/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/symat/subscriptions"", ""organizations_url"": ""https://api.github.com/users/symat/orgs"", ""repos_url"": ""https://api.github.com/users/symat/repos"", ""events_url"": ""https://api.github.com/users/symat/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/symat/received_events"", ""type"": ""User"", ""site_admin"": false}, ""requested_team"": null}"
1869,ReviewRequested,2022-04-28 07:42:59,eolivelli,fork_close,,"{""requested_reviewer"": {""login"": ""anmolnar"", ""id"": 4997876, ""node_id"": ""MDQ6VXNlcjQ5OTc4NzY="", ""avatar_url"": ""https://avatars.githubusercontent.com/u/4997876?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/anmolnar"", ""html_url"": ""https://github.com/anmolnar"", ""followers_url"": ""https://api.github.com/users/anmolnar/followers"", ""following_url"": ""https://api.github.com/users/anmolnar/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/anmolnar/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/anmolnar/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/anmolnar/subscriptions"", ""organizations_url"": ""https://api.github.com/users/anmolnar/orgs"", ""repos_url"": ""https://api.github.com/users/anmolnar/repos"", ""events_url"": ""https://api.github.com/users/anmolnar/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/anmolnar/received_events"", ""type"": ""User"", ""site_admin"": false}, ""requested_team"": null}"
1869,ReviewRequested,2022-04-28 07:42:59,eolivelli,fork_close,,"{""requested_reviewer"": {""login"": ""phunt"", ""id"": 15702, ""node_id"": ""MDQ6VXNlcjE1NzAy"", ""avatar_url"": ""https://avatars.githubusercontent.com/u/15702?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/phunt"", ""html_url"": ""https://github.com/phunt"", ""followers_url"": ""https://api.github.com/users/phunt/followers"", ""following_url"": ""https://api.github.com/users/phunt/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/phunt/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/phunt/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/phunt/subscriptions"", ""organizations_url"": ""https://api.github.com/users/phunt/orgs"", ""repos_url"": ""https://api.github.com/users/phunt/repos"", ""events_url"": ""https://api.github.com/users/phunt/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/phunt/received_events"", ""type"": ""User"", ""site_admin"": false}, ""requested_team"": null}"
1869,ReviewApproved,2022-05-05 18:38:48,arshadmohammad,fork_close,LGTM +1,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1869#pullrequestreview-963800083""}"
1869,ClosePR,2022-05-05 18:51:26,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6558879073"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/aab3ff65c4daecbbf8fc3fc5369a2e456603fbb0""}"
1869,Referenced,2022-05-05 18:51:45,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6558880666"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/270359cef0f58a44cdd021df1a42ce129c039665""}"
1869,Referenced,2022-05-05 18:52:07,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6558882488"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/244640e789d7c0594788aaecc6211d18b14f9630""}"
1869,Referenced,2022-05-05 19:00:31,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6558933375"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/25488256700b76daa93aaea3d4a9d3e07d435cdd""}"
1869,IssueCommentSupplement,2022-05-05 19:06:32,arshadmohammad,fork_close,@AnanyaSingh2121 pls raise the PR to remove tc-native,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1118952122"", ""author_association"": ""CONTRIBUTOR""}"
1869,IssueCommentSupplement,2022-05-06 14:45:18,AnanyaSingh2121,fork_close,"> @AnanyaSingh2121 pls raise the PR to remove tc-native

Thanks @arshadmohammad for reviewing. Will raise PR for removing tcnative.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1119701586"", ""author_association"": ""CONTRIBUTOR""}"
1869,Referenced,2022-05-06 18:27:54,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6565434166"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/8e52cfa22dde903fb7a133fa06302784c0ec330b""}"
1869,Referenced,2022-11-01 23:39:25,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7718026438"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/854573bbd0e55142c18aec9156f169b5a17a8240""}"
1869,CrossReferenced,2022-11-01 23:39:25,anuragmadnawat1,fork_close,ZOOKEEPER-4529: Upgrade netty to 4.1.76.Final,"{""reference"": {""url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/issues/59"", ""is_pull_request"": true}}"
1869,Referenced,2022-11-01 23:54:33,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7718088410"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/ab49822cb2d752517ea405fd500c6b7d975dc0c1""}"
1869,CrossReferenced,2023-01-13 18:53:30,anurag-harness,fork_close,ZOOKEEPER-4529: Upgrade netty to 4.1.76.Final,"{""reference"": {""url"": ""https://api.github.com/repos/anurag-harness/zookeeper/issues/26"", ""is_pull_request"": true}}"
1869,Referenced,2023-01-13 18:53:38,anurag-harness,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/8223566288"", ""commit_url"": ""https://api.github.com/repos/anurag-harness/zookeeper/commits/734236ec0c8793fef1012abfbd2552dc4aa37ae7""}"
1869,Referenced,2023-01-13 19:08:15,anurag-harness,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/8223662295"", ""commit_url"": ""https://api.github.com/repos/anurag-harness/zookeeper/commits/7c4ecc694d2642345207e95d0f564c042227e15b""}"
1870,SubmitCommit,2022-04-28 17:49:11,MathewManu,fork_close,"zktreeutil: fixing multiple issues, adding ssl support.","{""sha"": ""ff5edf3c4b11d822f2eecc1838e7fd9e9bc9e034"", ""author"": {""name"": ""mathewmanu"", ""email"": ""manmathew@cs.stonybrook.edu"", ""date"": ""2022-04-28T17:49:11Z""}, ""committer"": {""name"": ""mathewmanu"", ""email"": ""manmathew@cs.stonybrook.edu"", ""date"": ""2022-04-28T17:49:11Z""}}"
1870,OpenPR,2022-04-28 18:17:49,mathew-manu,fork_close,,
1870,RenameTitle,2022-04-28 18:19:03,mathew-manu,fork_close,,"{""rename"": {""from"": ""zktreeutil: fixing multiple issues, adding ssl support."", ""to"": ""zktreeutil: fixing multiple issues, adding ssl support. (ZOOKEEPER-2108, ZOOKEEPER-3908, ZOOKEEPER-4491)""}, ""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6517336208""}"
1870,Revise,2022-05-03 03:26:54,mathew-manu,fork_close,zktreeutil: updated README.txt with usage,"{""sha"": ""9776d43456bb379825d1fd7cd1ade62a4a8ac194"", ""author"": {""name"": ""Manu Mathew"", ""email"": ""manu.mathew@netapp.com"", ""date"": ""2022-05-03T03:26:54Z""}, ""committer"": {""name"": ""Manu Mathew"", ""email"": ""manu.mathew@netapp.com"", ""date"": ""2022-05-03T03:26:54Z""}}"
1870,ReviewApproved,2022-05-03 05:05:58,eolivelli,fork_close,"Lgtm

Thanks","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1870#pullrequestreview-959950074""}"
1870,IssueComment,2022-05-03 05:07:27,eolivelli,fork_close,"Note for the future: it is better to fix one problem per patch.
Given that this project is in contrib and that the patch is still small I am okay with keeping it in the current form","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1115743768"", ""author_association"": ""CONTRIBUTOR""}"
1870,IssueComment,2022-05-03 05:07:40,eolivelli,fork_close,@ztzg @symat PTAL,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1115743852"", ""author_association"": ""CONTRIBUTOR""}"
1870,ReviewApproved,2022-05-04 11:47:39,symat,fork_close,"LGTM, thanks for the contribution
(I never even used zktreeutil yet, but looks useful and having SSL support inside is very valuable on production clusters)","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1870#pullrequestreview-961721763""}"
1870,IssueComment,2022-05-04 14:15:20,mathew-manu,fork_close,"Thanks @eolivelli @symat for the review and comments. 
How do I retry the failed jenkins job? There are two server tests failed, unrelated to the patch.
Can either of you merge the PR? I don't have the write access in the repo.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1117367181"", ""author_association"": ""CONTRIBUTOR""}"
1870,IssueComment,2022-05-04 14:43:35,symat,fork_close,"sure, I'll merge.
(I'll try to retrigger the CI, but I don't consider this to be a blocker, the unit test failures are unrelated indeed) ","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1117408735"", ""author_association"": ""CONTRIBUTOR""}"
1870,ClosePR,2022-05-04 14:49:51,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6549195999"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/eefae2b7127d055f6eb9b4565790cd57d6d39957""}"
1870,IssueCommentSupplement,2022-05-04 14:52:28,symat,fork_close,"merge is done, thanks @mathew-manu for your contribution!","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1117421849"", ""author_association"": ""CONTRIBUTOR""}"
1870,DeleteBranch,2022-05-04 18:20:59,mathew-manu,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6550770155"", ""commit_url"": null}"
1870,Referenced,2022-11-01 23:09:03,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7717888731"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/39d095fa437ec565ab5a3ed634e96958cc63cf11""}"
1870,CrossReferenced,2022-11-01 23:09:03,anuragmadnawat1,fork_close,"ZOOKEEPER-2108 ZOOKEEPER-3908 ZOOKEEPER-4491: fixing zktreeutil, adding ssl support","{""reference"": {""url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/issues/57"", ""is_pull_request"": true}}"
1870,Referenced,2022-11-01 23:24:11,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7717960785"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/bc34f7cc4fb9d0e45beca05c28681df9cb682e82""}"
1870,CrossReferenced,2023-01-13 18:24:22,anurag-harness,fork_close,"ZOOKEEPER-2108 ZOOKEEPER-3908 ZOOKEEPER-4491: fixing zktreeutil, adding ssl support","{""reference"": {""url"": ""https://api.github.com/repos/anurag-harness/zookeeper/issues/24"", ""is_pull_request"": true}}"
1870,Referenced,2023-01-13 18:24:23,anurag-harness,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/8223391513"", ""commit_url"": ""https://api.github.com/repos/anurag-harness/zookeeper/commits/31010b1aacdfd766f79a01aa48067ee5ecf64d38""}"
1870,Referenced,2023-01-13 18:38:53,anurag-harness,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/8223477066"", ""commit_url"": ""https://api.github.com/repos/anurag-harness/zookeeper/commits/ec03fb219af3238ad70437fe937574d98516c77b""}"
1872,SubmitCommit,2022-05-04 19:03:49,arshadmohammad,fork_close,"ZOOKEEPER-4510:dependency-check:check failing - reload4j-1.2.19.jar: CVE-2020-9493, CVE-2022-23307
Upgraded dependency-check-maven plugin from 6.5.3 to 7.1.0","{""sha"": ""2b0b89b8395aa56150b2f8510c875b29b9d94d30"", ""author"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2022-05-04T19:03:49Z""}, ""committer"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2022-05-04T19:03:49Z""}}"
1872,OpenPR,2022-05-04 19:04:36,arshadmohammad,fork_close,,
1872,ReviewRequested,2022-05-04 19:06:20,arshadmohammad,fork_close,,"{""requested_reviewer"": {""login"": ""symat"", ""id"": 18458499, ""node_id"": ""MDQ6VXNlcjE4NDU4NDk5"", ""avatar_url"": ""https://avatars.githubusercontent.com/u/18458499?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/symat"", ""html_url"": ""https://github.com/symat"", ""followers_url"": ""https://api.github.com/users/symat/followers"", ""following_url"": ""https://api.github.com/users/symat/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/symat/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/symat/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/symat/subscriptions"", ""organizations_url"": ""https://api.github.com/users/symat/orgs"", ""repos_url"": ""https://api.github.com/users/symat/repos"", ""events_url"": ""https://api.github.com/users/symat/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/symat/received_events"", ""type"": ""User"", ""site_admin"": false}, ""requested_team"": null}"
1872,ReviewRequestRemoved,2022-05-04 19:06:21,arshadmohammad,fork_close,,"{""requested_reviewer"": {""login"": ""symat"", ""id"": 18458499, ""node_id"": ""MDQ6VXNlcjE4NDU4NDk5"", ""avatar_url"": ""https://avatars.githubusercontent.com/u/18458499?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/symat"", ""html_url"": ""https://github.com/symat"", ""followers_url"": ""https://api.github.com/users/symat/followers"", ""following_url"": ""https://api.github.com/users/symat/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/symat/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/symat/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/symat/subscriptions"", ""organizations_url"": ""https://api.github.com/users/symat/orgs"", ""repos_url"": ""https://api.github.com/users/symat/repos"", ""events_url"": ""https://api.github.com/users/symat/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/symat/received_events"", ""type"": ""User"", ""site_admin"": false}, ""requested_team"": null}"
1872,ReviewRequested,2022-05-04 19:06:21,arshadmohammad,fork_close,,"{""requested_reviewer"": {""login"": ""eolivelli"", ""id"": 9469110, ""node_id"": ""MDQ6VXNlcjk0NjkxMTA="", ""avatar_url"": ""https://avatars.githubusercontent.com/u/9469110?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/eolivelli"", ""html_url"": ""https://github.com/eolivelli"", ""followers_url"": ""https://api.github.com/users/eolivelli/followers"", ""following_url"": ""https://api.github.com/users/eolivelli/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/eolivelli/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/eolivelli/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/eolivelli/subscriptions"", ""organizations_url"": ""https://api.github.com/users/eolivelli/orgs"", ""repos_url"": ""https://api.github.com/users/eolivelli/repos"", ""events_url"": ""https://api.github.com/users/eolivelli/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/eolivelli/received_events"", ""type"": ""User"", ""site_admin"": false}, ""requested_team"": null}"
1872,ReviewRequested,2022-05-04 19:06:23,arshadmohammad,fork_close,,"{""requested_reviewer"": {""login"": ""symat"", ""id"": 18458499, ""node_id"": ""MDQ6VXNlcjE4NDU4NDk5"", ""avatar_url"": ""https://avatars.githubusercontent.com/u/18458499?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/symat"", ""html_url"": ""https://github.com/symat"", ""followers_url"": ""https://api.github.com/users/symat/followers"", ""following_url"": ""https://api.github.com/users/symat/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/symat/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/symat/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/symat/subscriptions"", ""organizations_url"": ""https://api.github.com/users/symat/orgs"", ""repos_url"": ""https://api.github.com/users/symat/repos"", ""events_url"": ""https://api.github.com/users/symat/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/symat/received_events"", ""type"": ""User"", ""site_admin"": false}, ""requested_team"": null}"
1872,CrossReferenced,2022-05-04 19:06:57,arshadmohammad,fork_close,"ZOOKEEPER-4510: dependency-check:check failing - reload4j-1.2.19.jar: CVE-2020-9493, CVE-2022-23307","{""reference"": {""url"": ""https://api.github.com/repos/apache/zookeeper/issues/1860"", ""is_pull_request"": true}}"
1872,IssueComment,2022-05-05 03:54:45,arshadmohammad,fork_close,CI failure is not related to this PR change.,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1118138518"", ""author_association"": ""CONTRIBUTOR""}"
1872,ReviewApproved,2022-05-05 05:44:41,symat,fork_close,"LGTM, thanks","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1872#pullrequestreview-962872525""}"
1872,ReviewApproved,2022-05-05 05:45:31,Shoothzj,fork_close,,"{""author_association"": ""MEMBER"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1872#pullrequestreview-962872910""}"
1872,ReviewApproved,2022-05-05 06:23:19,eolivelli,fork_close,LGTM,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1872#pullrequestreview-962898670""}"
1872,ClosePR,2022-05-05 06:25:35,eolivelli,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6554044891"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/24073884e114c6d6a14d559dd74d219bc259792b""}"
1872,Referenced,2022-05-05 06:25:41,eolivelli,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6554045472"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/aac008475b43772af980aa9a82162d64795826a5""}"
1872,Referenced,2022-05-05 06:25:51,eolivelli,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6554046498"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/b24a9cb6db0df3740e99870874fff0291fb6f54a""}"
1872,Referenced,2022-05-05 06:26:02,eolivelli,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6554047444"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/0cb75e5d85543180baec5d4b46dd3a2d3eff51c3""}"
1872,Referenced,2022-05-05 06:27:31,eolivelli,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6554054990"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/079dba8f1a252ce3553eb633d3324f4d14c2d589""}"
1872,IssueCommentSupplement,2022-05-05 06:28:46,eolivelli,fork_close,"committed to master, branch-3.8, branch-3.7, branch-3.6 and branch-3.5

thank you","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1118217585"", ""author_association"": ""CONTRIBUTOR""}"
1872,Referenced,2022-05-06 18:27:54,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6565434162"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/cb4769b3f90bd210e31227b5d28d4797d4bfd3de""}"
1872,Referenced,2022-11-01 23:24:14,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7717960976"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/f225325a9a9bf930529f7fd9842eb1432c60c3b7""}"
1872,CrossReferenced,2022-11-01 23:24:14,anuragmadnawat1,fork_close,"ZOOKEEPER-4510: dependency-check:check failing - reload4j-1.2.19.jar: CVE-2020-9493, CVE-2022-23307","{""reference"": {""url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/issues/58"", ""is_pull_request"": true}}"
1872,Referenced,2022-11-01 23:39:22,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7718026033"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/751a1684f392a947368db488355a4ad21d768384""}"
1872,CrossReferenced,2023-01-13 18:38:54,anurag-harness,fork_close,"ZOOKEEPER-4510: dependency-check:check failing - reload4j-1.2.19.jar: CVE-2020-9493, CVE-2022-23307","{""reference"": {""url"": ""https://api.github.com/repos/anurag-harness/zookeeper/issues/25"", ""is_pull_request"": true}}"
1872,Referenced,2023-01-13 18:38:55,anurag-harness,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/8223477256"", ""commit_url"": ""https://api.github.com/repos/anurag-harness/zookeeper/commits/36ba2cd6f72c12d87effc5d830c430ad7614f406""}"
1872,Referenced,2023-01-13 18:53:39,anurag-harness,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/8223566324"", ""commit_url"": ""https://api.github.com/repos/anurag-harness/zookeeper/commits/9d4d17b94485e6f256d96cbb65489b4e6db181c1""}"
1873,OpenPR,2022-05-06 14:16:09,brahmareddybattula,fork_close,,
1873,IssueComment,2022-05-06 16:02:33,arshadmohammad,fork_close,"Pls remove following CVE suppressions also.
![image](https://user-images.githubusercontent.com/5720433/167169848-a4a62964-c0d5-4a9d-87ac-249a63bd4f8e.png)
","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1119770795"", ""author_association"": ""CONTRIBUTOR""}"
1873,Revise,2022-05-06 16:20:08,brahmareddybattula,fork_close,ZOOKEEPER-4531: Revert Netty TCNative change and removal supressions as these no more valid ZOOKEEPER-4529.,"{""sha"": ""66430ca26aaea7430d899b65b813b1efa595784a"", ""author"": {""name"": ""Brahma Reddy Battula"", ""email"": ""brahma@apache.org"", ""date"": ""2022-05-06T14:07:49Z""}, ""committer"": {""name"": ""Brahma Reddy Battula"", ""email"": ""brahma@apache.org"", ""date"": ""2022-05-06T16:20:08Z""}}"
1873,HeadRefForcePushed,2022-05-06 16:26:49,brahmareddybattula,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6564795837"", ""commit_url"": null}"
1873,IssueComment,2022-05-06 16:27:31,brahmareddybattula,fork_close,"> Pls remove following CVE suppressions also. ![image](https://user-images.githubusercontent.com/5720433/167169848-a4a62964-c0d5-4a9d-87ac-249a63bd4f8e.png)

Done.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1119791492"", ""author_association"": ""CONTRIBUTOR""}"
1873,ReviewApproved,2022-05-06 17:30:29,arshadmohammad,fork_close,LGTM +1,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1873#pullrequestreview-964952856""}"
1873,ClosePR,2022-05-06 17:43:56,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6565177704"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/5b6823aea4389aa04b0a51f0c4d376002a77af9a""}"
1873,Referenced,2022-05-06 17:44:11,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6565178695"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/3985d51eaf7795468a53238f8ff28ff6b7f1ddc1""}"
1873,Referenced,2022-05-06 17:44:55,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6565182173"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/1d04f060b535b4e14090ef65ecc50f34147c1548""}"
1873,Referenced,2022-05-06 17:45:19,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6565184114"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/c94473d2a18b718495225c3497693b58591cd209""}"
1873,Referenced,2022-05-06 18:27:54,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6565434181"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/cb12fb2fe5bfe92326902a74b300952fe033a5fa""}"
1873,CrossReferenced,2022-08-13 20:18:27,bjornjorgensen,fork_close,[SPARK-40070][BUILD] Upgrade Apache `ZooKeeper` to 3.8.0,"{""reference"": {""url"": ""https://api.github.com/repos/apache/spark/issues/37507"", ""is_pull_request"": true}}"
1873,Referenced,2022-11-01 23:54:35,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7718088545"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/a1edaee62e4bc5ba91d2a954f8daba732029f8fd""}"
1873,CrossReferenced,2022-11-01 23:54:35,anuragmadnawat1,fork_close,ZOOKEEPER-4531: Revert Netty TCNative changes Removed tcnative depdency as it is required after netty upgrade to 4.1.76 Removed tcnative CVE supressions,"{""reference"": {""url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/issues/60"", ""is_pull_request"": true}}"
1873,Referenced,2022-11-02 00:09:45,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7718152450"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/b6a00fa57df3eda8e04f0872059e4d1f197a9df9""}"
1873,CrossReferenced,2023-01-13 19:08:09,anurag-harness,fork_close,ZOOKEEPER-4531: Revert Netty TCNative changes Removed tcnative depdency as it is required after netty upgrade to 4.1.76 Removed tcnative CVE supressions,"{""reference"": {""url"": ""https://api.github.com/repos/anurag-harness/zookeeper/issues/27"", ""is_pull_request"": true}}"
1873,Referenced,2023-01-13 19:08:14,anurag-harness,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/8223662217"", ""commit_url"": ""https://api.github.com/repos/anurag-harness/zookeeper/commits/24f728af355730557717f628b2f2ad118b89dbef""}"
1873,Referenced,2023-01-13 19:22:34,anurag-harness,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/8223756492"", ""commit_url"": ""https://api.github.com/repos/anurag-harness/zookeeper/commits/d3666465bcdce4ea36a4777c74769ac255ef0f9c""}"
1876,SubmitCommit,2022-05-16 18:24:24,srdo,fork_close,"ZOOKEEPER-3781: Create snapshots on followers when snapshot.trust.empty is true

snapshot.trust.empty is an escape hatch for users upgrading from 3.4.x to later Zookeeper
versions, allowing nodes to start with a non-empty transaction log but no snapshot.

The intent is for this setting to be enabled for a short while during the upgrade,
and then disabled again, as the check it disables is a safety feature.

Prior to this PR, a node would only write a snapshot locally if it became leader,
or if it had fallen so far behind the leader that the leader sent a SNAP message instead
of a DIFF. This made the upgrade process inconvenient, as not all nodes would create
a snapshot when snapshot.trust.empty was true, meaning that the safety check could
not be flipped back on.

This PR makes follower nodes write a local snapshot when they receive NEWLEADER,
if they have no local snapshot and snapshot.trust.empty is true.

Author: Stig Rohde Døssing <stig@humio.com>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Damien Diederen <ddiederen@apache.org>

Closes #1581 from srdo/zookeeper-3781

(cherry picked from commit 1214d3bf611d153ae8c3987523da01d3d6c82686)
Signed-off-by: Damien Diederen <ddiederen@apache.org>
(cherry picked from commit 9722488872802c546d1f8a3bb0ea349e5309f806)","{""sha"": ""20a52137e06a937900f4a88b905ae7e37e5175ab"", ""author"": {""name"": ""Stig Rohde D\u00f8ssing"", ""email"": ""stig@humio.com"", ""date"": ""2021-03-06T19:38:43Z""}, ""committer"": {""name"": ""Mate Szalay-Beko"", ""email"": ""mszalay@cloudera.com"", ""date"": ""2022-05-16T18:24:24Z""}}"
1876,OpenPR,2022-05-16 18:25:50,symat,fork_close,,
1876,IssueComment,2022-05-16 19:10:57,symat,fork_close,"same commit already present on master, branch-3.7, branch-3.8 and branch-3.5.
I just pushed the PR to have a full CI run before committing to branch-3.6","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1128036989"", ""author_association"": ""CONTRIBUTOR""}"
1876,ClosePR,2022-05-16 19:11:01,symat,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6618726528"", ""commit_url"": null}"
1877,SubmitCommit,2022-05-10 23:24:51,jithin23,fork_close,ZOOKEEPER-4537: Race between SyncThread and CommitProcessor thread,"{""sha"": ""6ca2c6915a5af96e7f6698d6245776bf98bc7757"", ""author"": {""name"": ""jithin23"", ""email"": ""jithin.girish@gmail.com"", ""date"": ""2022-05-10T23:24:51Z""}, ""committer"": {""name"": ""jithin23"", ""email"": ""jithin.girish@gmail.com"", ""date"": ""2022-05-10T23:24:51Z""}}"
1877,OpenPR,2022-05-16 20:30:54,jithin23,fork_close,,
1877,IssueComment,2022-05-16 20:34:15,eolivelli,fork_close,"Good catch.
Do you have some stack traces dump to demonstrate the problem?","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1128109540"", ""author_association"": ""CONTRIBUTOR""}"
1877,ReviewApproved,2022-05-17 06:37:47,symat,fork_close,"thanks @jithin23 for your PR! Looks good. I retriggered the CI (most probably we just had some flaky tests)

@eolivelli thanks for checking! We had some discussions and a bit more background on the Jira ticket. ","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1877#pullrequestreview-974909652""}"
1877,IssueComment,2022-05-17 06:40:08,symat,fork_close,"I think this race bug was introduced by [ZOOKEEPER-2024](https://issues.apache.org/jira/browse/ZOOKEEPER-2024) in 3.6.0, it would be important to cherrypick this to branch-3.6, branch-3.7, and branch-3.8 too.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1128473595"", ""author_association"": ""CONTRIBUTOR""}"
1877,ReviewApproved,2022-05-17 06:44:02,eolivelli,fork_close,LGTM,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1877#pullrequestreview-974915652""}"
1877,IssueComment,2022-05-17 06:44:25,eolivelli,fork_close,@symat can you please merge to all the active branches (apart from 3.5) ?,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1128476660"", ""author_association"": ""CONTRIBUTOR""}"
1877,IssueComment,2022-05-17 06:46:39,symat,fork_close,"sure, I'll merge it later today. thanks for the review!","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1128478253"", ""author_association"": ""CONTRIBUTOR""}"
1877,ClosePR,2022-05-17 11:44:34,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6623743153"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/f770467d3b1a3b088208601b14dfc3f375a4dcc0""}"
1877,Referenced,2022-05-17 11:45:26,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6623749870"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/fa105c7ee16f6a1a014bdc68e1f4619ade4ac58d""}"
1877,Referenced,2022-05-17 11:45:41,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6623751496"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/3b981a6e7b7d9ab4bf10fe73f150819ae6b031c2""}"
1877,Referenced,2022-05-17 11:45:57,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6623753213"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/ba2b64a6fdf82a38a272d307a92b53e00a1bbd62""}"
1877,IssueCommentSupplement,2022-05-17 11:47:21,symat,fork_close,"merge is done, thank you @jithin23 for the contribution!","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1128769654"", ""author_association"": ""CONTRIBUTOR""}"
1877,CrossReferenced,2022-11-02 00:23:25,anuragmadnawat1,fork_close,ZOOKEEPER-4537: Race between SyncThread and CommitProcessor thread,"{""reference"": {""url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/issues/63"", ""is_pull_request"": true}}"
1877,Referenced,2022-11-02 00:23:26,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7718208873"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/59aa1d3abadbda2ac91f5f9e4512580181498b32""}"
1877,Referenced,2022-11-02 00:28:30,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7718233804"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/1d4ee9621191c23809a93b9dc4b1139fb1f31227""}"
1877,Referenced,2023-01-13 19:39:07,anurag-harness,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/8223877882"", ""commit_url"": ""https://api.github.com/repos/anurag-harness/zookeeper/commits/97bb40fb9f7e503256d924cd60dd322e26f5afe6""}"
1877,CrossReferenced,2023-01-13 19:39:07,anurag-harness,fork_close,ZOOKEEPER-4537: Race between SyncThread and CommitProcessor thread,"{""reference"": {""url"": ""https://api.github.com/repos/anurag-harness/zookeeper/issues/30"", ""is_pull_request"": true}}"
1877,Referenced,2023-01-13 19:47:39,anurag-harness,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/8223931623"", ""commit_url"": ""https://api.github.com/repos/anurag-harness/zookeeper/commits/62f1f0703bec7278919f7fc1725f0b31c42023b7""}"
1878,SubmitCommit,2022-05-17 12:33:19,Mate Szalay-Beko,fork_close,"ZOOKEEPER-4543 update dependencies before release 3.5.10

due to CVE problems, I updated:
- netty
- jetty
- jackson

I also renamed (or added missing) license files and updated notice files.","{""sha"": ""e1d66c914f268f3c84bf3864cf95c6863e3dc1db"", ""author"": {""name"": ""Mate Szalay-Beko"", ""email"": ""symat@apache.com"", ""date"": ""2022-05-17T12:33:19Z""}, ""committer"": {""name"": ""Mate Szalay-Beko"", ""email"": ""symat@apache.com"", ""date"": ""2022-05-17T12:33:19Z""}}"
1878,OpenPR,2022-05-17 12:35:46,symat,fork_close,,
1878,IssueComment,2022-05-17 12:37:57,symat,fork_close,"with these changes, the commands `mvn clean package -DskipTests dependency-check:check` and `mvn apache-rat:check -Pfull-build` succeed now on branch 3.5.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1128817044"", ""author_association"": ""CONTRIBUTOR""}"
1878,IssueComment,2022-05-17 12:38:35,symat,fork_close,"@eolivelli @anmolnar can you take a look?
(this is necessary for release 3.5.10)","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1128817675"", ""author_association"": ""CONTRIBUTOR""}"
1878,ReviewApproved,2022-05-17 12:45:21,eolivelli,fork_close,"LGTM

nice work","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1878#pullrequestreview-975401177""}"
1878,IssueComment,2022-05-17 12:53:28,Shoothzj,fork_close,"@symat @eolivelli I think this PR https://github.com/apache/zookeeper/pull/1866 can be merged to master, it's created 23 days ago.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1128832126"", ""author_association"": ""MEMBER""}"
1878,Referenced,2022-05-17 16:55:08,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6626163206"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/c73797e15204f6f30ce861e19c9c6cea9ca52e95""}"
1878,ClosePR,2022-07-11 07:19:39,symat,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6967096532"", ""commit_url"": null}"
1884,OpenPR,2022-05-23 23:50:41,li4wang,fork_close,,
1884,IssueComment,2022-05-23 23:57:16,li4wang,fork_close,@eolivelli @symat  would you mind taking a look at the PR? Thanks.,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1135252891"", ""author_association"": ""CONTRIBUTOR""}"
1884,RenameTitle,2022-05-24 00:01:18,li4wang,fork_close,,"{""rename"": {""from"": ""ZOOKEEPER-3806: TLS - dynamic loading for client trust/key store"", ""to"": ""ZOOKEEPER-4545 Backport auto reloading client key/trust store to 3.7""}, ""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6664809832""}"
1884,HeadRefForcePushed,2022-05-24 00:36:35,li4wang,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6664917575"", ""commit_url"": null}"
1884,HeadRefForcePushed,2022-05-24 00:56:53,li4wang,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6664978404"", ""commit_url"": null}"
1884,Revise,2022-05-24 01:31:28,mathew-manu,fork_close,"ZOOKEEPER-4545: Backport auto reloading client key/trust store to 3.7

This is cherry-pick from #1839. This PR is the same as the #1839 on the master branch, only changing the documentation about the version numbers.

Signed-off-by: Li Wang <li4wang@gmail.com>","{""sha"": ""dc32c77896c26f3e14a9501a3e210e9efc0fe925"", ""author"": {""name"": ""Manu Mathew"", ""email"": ""manu.mathew@netapp.com"", ""date"": ""2022-05-06T17:52:40Z""}, ""committer"": {""name"": ""liwang"", ""email"": ""liwang@apple.com"", ""date"": ""2022-05-24T01:31:28Z""}}"
1884,HeadRefForcePushed,2022-05-24 01:32:02,li4wang,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6665093116"", ""commit_url"": null}"
1884,IssueComment,2022-05-24 08:12:26,symat,fork_close,"Looks OK, waiting for CI to finish","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1135551504"", ""author_association"": ""CONTRIBUTOR""}"
1884,ReviewApproved,2022-05-24 13:57:03,symat,fork_close,,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1884#pullrequestreview-983280555""}"
1884,IssueComment,2022-05-24 17:11:43,li4wang,fork_close,thanks @symat !,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1136207550"", ""author_association"": ""CONTRIBUTOR""}"
1884,IssueComment,2022-05-31 18:57:07,li4wang,fork_close,Need one more approval for getting it merged. @eolivelli would you mind reviewing it? Thanks.,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1142532776"", ""author_association"": ""CONTRIBUTOR""}"
1884,IssueComment,2022-06-09 02:29:59,li4wang,fork_close,"can @eolivelli or anyone help approving the back-port PR? It would be greatly appreciated if it can be merged, so we don't need to manually rebooting the 3.7 clusters in production.  Thanks a lot!","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1150602388"", ""author_association"": ""CONTRIBUTOR""}"
1884,IssueComment,2022-06-16 00:03:50,li4wang,fork_close,@symat do you know if any other committer is available and can help with approving the PR? Thanks.,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1157086763"", ""author_association"": ""CONTRIBUTOR""}"
1884,ReviewApproved,2022-06-16 06:55:21,eolivelli,fork_close,LGTM,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1884#pullrequestreview-1008578883""}"
1884,IssueComment,2022-06-16 06:56:03,symat,fork_close,thanks! I'm merging it now to branch-3.7,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1157302913"", ""author_association"": ""CONTRIBUTOR""}"
1884,Referenced,2022-06-16 06:58:07,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6818508205"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/cf31b74b3b61b4aa521b162431017a90296de7cc""}"
1884,IssueComment,2022-06-16 06:59:58,symat,fork_close,"thank you @li4wang for the contribution!
this will be part of release 3.7.2.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1157306032"", ""author_association"": ""CONTRIBUTOR""}"
1884,IssueComment,2022-06-16 16:51:40,li4wang,fork_close,thanks a lot for getting this in @symat and @eolivelli !,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1157910262"", ""author_association"": ""CONTRIBUTOR""}"
1884,ClosePR,2022-06-23 06:25:30,symat,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6863354382"", ""commit_url"": null}"
1886,SubmitCommit,2022-05-24 01:26:17,liwang,fork_close,"ZOOKEEPER-4547: Change the documentation of client.certReload version numbers

Author: Li Wang <li4wang@gmail.com>","{""sha"": ""0ad1a1aed322d79b395e0f14b9485b001ca81d28"", ""author"": {""name"": ""liwang"", ""email"": ""liwang@apple.com"", ""date"": ""2022-05-24T01:26:17Z""}, ""committer"": {""name"": ""liwang"", ""email"": ""liwang@apple.com"", ""date"": ""2022-05-24T01:26:17Z""}}"
1886,OpenPR,2022-05-24 01:27:53,li4wang,fork_close,,
1886,IssueComment,2022-05-24 01:35:06,li4wang,fork_close,@eolivelli @symat would you mind taking a look at the PR? Thanks.,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1135304633"", ""author_association"": ""CONTRIBUTOR""}"
1886,ReviewApproved,2022-05-24 08:09:17,symat,fork_close,"LGTM, thanks!","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1886#pullrequestreview-982777035""}"
1886,IssueComment,2022-05-24 08:24:15,symat,fork_close,"I saw a single (most probably unrelated test failure) in the ""continuous-integration/jenkins/pr-merge"" job
```
FollowerResyncConcurrencyTest.testFollowerWatcherResync:679 Unable to connect to server
```
I retriggered.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1135563312"", ""author_association"": ""CONTRIBUTOR""}"
1886,ReviewApproved,2022-05-24 13:56:15,symat,fork_close,,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1886#pullrequestreview-983279089""}"
1886,IssueComment,2022-05-24 17:12:03,li4wang,fork_close,thanks @symat ,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1136208141"", ""author_association"": ""CONTRIBUTOR""}"
1886,IssueComment,2022-05-31 20:20:53,li4wang,fork_close,"Hi @eolivelli, can you help getting this reviewed and merged when you get a chance? Thanks.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1142603789"", ""author_association"": ""CONTRIBUTOR""}"
1886,ClosePR,2022-09-04 07:33:58,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7318084326"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/9b6ec9060604347fc996fe69dc33a21222fbd0c4""}"
1886,IssueCommentSupplement,2022-09-04 07:35:04,maoling,fork_close,@li4wang  Thanks for your contribution.,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1236279504"", ""author_association"": ""MEMBER""}"
1886,Referenced,2022-11-02 02:21:58,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7718724067"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/0252aa32eeb0992ade1c708d70a36a2948dcc20d""}"
1886,CrossReferenced,2022-11-02 02:21:58,anuragmadnawat1,fork_close,ZOOKEEPER-4547: Change the documentation of client.certReload numbers,"{""reference"": {""url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/issues/76"", ""is_pull_request"": true}}"
1886,Referenced,2022-11-02 02:23:42,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7718732467"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/9471c5b0e1f4a8e61f327d2bada2d5a8cb35b9f0""}"
1887,OpenPR,2022-05-24 13:52:16,kezhuw,fork_close,,
1887,IssueComment,2022-05-24 14:15:36,kezhuw,fork_close,"This fixes failed ci after #1821 merged(https://github.com/apache/zookeeper/commit/c05ca0ee0deedd50d0ef32e3e01ad7f691d27009) https://github.com/apache/zookeeper/runs/6568872986?check_suite_focus=true

P.S. Place `Thread.sleep(200)` after `submittedRequests.take()` in
`RequestThrottler#run` will fail these assertions also before #1821, but for different reason due to changes in #1821.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1135987024"", ""author_association"": ""CONTRIBUTOR""}"
1887,CrossReferenced,2022-05-24 14:21:53,kezhuw,fork_close,ZOOKEEPER-4327: Fix flaky RequestThrottlerTest.testLargeRequestThrottling,"{""reference"": {""url"": ""https://api.github.com/repos/apache/zookeeper/issues/1821"", ""is_pull_request"": true}}"
1887,IssueComment,2022-05-24 14:24:41,kezhuw,fork_close,@maoling @eolivelli @symat PTAL,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1135997737"", ""author_association"": ""CONTRIBUTOR""}"
1887,ReviewApproved,2022-05-24 14:52:12,symat,fork_close,"LGTM, thank you!","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1887#pullrequestreview-983385323""}"
1887,Revise,2022-06-28 12:43:05,kezhuw,fork_close,"ZOOKEEPER-4327: Fix flaky RequestThrottlerTest

This PR tries to fix several test failures in `RequestThrottlerTest`.

First, `RequestThrottlerTest#testDropStaleRequests`.

Place `Thread.sleep(200)` after `submittedRequests.take()` in
`RequestThrottler#run` will fail two assertions:
1. `assertEquals(2L, (long) metrics.get(""prep_processor_request_queued""))`
2. `assertEquals(1L, (long) metrics.get(""request_throttle_wait_count""))`

This happens due to `setStale` chould happen before throttle handling.

This commit solves this by introducing an interception point
`RequestThrottler.throttleSleep` to build happen-before relations:
1. `throttling.countDown` happens before `setStale`, this ensures that
   unthrottled request are processed as usual.
2. `setStale` happens before `throttled.await`, this defends
   `RequestThrottler.throttleSleep` against spurious wakeup.

Second, `RequestThrottlerTest#testRequestThrottler`.

* `RequestThrottlerTest.testRequestThrottler:197 expected: <2> but was: <1>`

  `ZooKeeperServer#submitRequest` and `PrepRequestProcessor#processRequest` run
  in different threads, thus there is no guarantee on metric `prep_processor_request_queued`
  after `submitted.await(5, TimeUnit.SECONDS)`. Place `Thread.sleep(200)` before `zks.submitRequestNow(request)`
  in `RequestThrottler#run` will incur this failure.
* `RequestThrottlerTest.testRequestThrottler:206 expected: <5> but was: <4>`

  `entered.await(STALL_TIME, TimeUnit.MILLISECONDS)` could return `false` due to almost same
  timeout as `RequestThrottler#throttleSleep`. Place `Thread.sleep(500)` around `throttleSleep`
  will increase failure possibility.

Third, `RequestThrottlerTest#testGlobalOutstandingRequestThrottlingWithRequestThrottlerDisabled`.

* `RequestThrottlerTest.testGlobalOutstandingRequestThrottlingWithRequestThrottlerDisabled:340 expected: <3> but was: <4>`

  `ZooKeeperServer#shouldThrottle` depends on consistent sum of `getInflight` and `getInProcess`. But it is no true.
  Place `Thread.sleep(200)` before `zks.submitRequestNow(request)` in `RequestThrottler#run` could reproduce this.

Sees also #1739, #1821.","{""sha"": ""7936aecd8b033b2eb3fc1be92a0efff8e3d82bde"", ""author"": {""name"": ""Kezhu Wang"", ""email"": ""kezhuw@gmail.com"", ""date"": ""2022-05-24T13:11:14Z""}, ""committer"": {""name"": ""Kezhu Wang"", ""email"": ""kezhuw@gmail.com"", ""date"": ""2022-06-28T12:43:05Z""}}"
1887,HeadRefForcePushed,2022-06-28 12:48:59,kezhuw,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6893705450"", ""commit_url"": null}"
1887,RenameTitle,2022-06-28 12:52:05,kezhuw,fork_close,,"{""rename"": {""from"": ""ZOOKEEPER-4327: Fix flaky RequestThrottler#testDropStaleRequests"", ""to"": ""ZOOKEEPER-4327: Fix flaky RequestThrottlerTest""}, ""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6893730847""}"
1887,IssueComment,2022-06-28 12:58:54,kezhuw,fork_close,"I overlooked test failures unrelated to `testLargeRequestThrottling` in #1821. I try to fix all remaining test failures in `RequestThrottlerTest` in this pr. All of these failures could be reproduced by placing `Thread.sleep(200)` at some places.

@eolivelli @maoling @symat Could you please take a look ?","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1168690058"", ""author_association"": ""CONTRIBUTOR""}"
1887,ClosePR,2022-09-24 09:51:00,maoling,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7451753985"", ""commit_url"": null}"
1887,ReopenPR,2022-09-24 09:51:03,maoling,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7451754130"", ""commit_url"": null}"
1887,ClosePR,2022-09-25 08:21:55,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7453102570"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/bc1b231c9e32667b2978c86a6a64833470973dbd""}"
1887,Referenced,2022-09-25 08:23:54,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7453104304"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/0d382fb39b64d92fd4326b1fc00eb3455c58a533""}"
1887,Referenced,2022-09-25 08:25:39,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7453105779"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/f0381e95f0432f42258d96a3d68152d59dd6651d""}"
1887,IssueCommentSupplement,2022-09-25 08:32:33,maoling,fork_close,"- @kezhuw  Great work. Sorry for our late.Thanks for your contribution.
- Commit to the following branches:
[master ](https://github.com/apache/zookeeper/tree/master)
[branch-3.8](https://github.com/apache/zookeeper/tree/branch-3.8)
[branch-3.7](https://github.com/apache/zookeeper/tree/branch-3.7)
, except [branch-3.6](https://github.com/apache/zookeeper/tree/branch-3.6)
","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1257147184"", ""author_association"": ""MEMBER""}"
1887,IssueCommentSupplement,2022-10-10 03:17:19,kezhuw,fork_close,@maoling @symat Thank you for merging and reviewing.,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1272737030"", ""author_association"": ""CONTRIBUTOR""}"
1887,Referenced,2022-11-02 02:23:46,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7718732759"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/ab9cf86f2b320023b81da0362f9177809308d2a4""}"
1887,CrossReferenced,2022-11-02 02:23:46,anuragmadnawat1,fork_close,ZOOKEEPER-4327: Fix flaky RequestThrottlerTest,"{""reference"": {""url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/issues/77"", ""is_pull_request"": true}}"
1887,Referenced,2022-11-02 02:30:31,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7718761983"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/77c80ddcb8eb894adfdf66cbefe512c4012db35e""}"
1889,SubmitCommit,2022-05-31 11:45:19,eolivelli,fork_close,ZOOKEEPER-4551: Do not log spammy stacktrace when a client closes its connection,"{""sha"": ""e4c835b3cb7b2032fe4fd7764eeaa61dd964b9b4"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2022-05-31T11:45:19Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2022-05-31T11:45:19Z""}}"
1889,OpenPR,2022-05-31 11:46:09,eolivelli,fork_close,,
1889,ReviewRequested,2022-05-31 11:51:56,eolivelli,fork_close,,"{""requested_reviewer"": {""login"": ""symat"", ""id"": 18458499, ""node_id"": ""MDQ6VXNlcjE4NDU4NDk5"", ""avatar_url"": ""https://avatars.githubusercontent.com/u/18458499?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/symat"", ""html_url"": ""https://github.com/symat"", ""followers_url"": ""https://api.github.com/users/symat/followers"", ""following_url"": ""https://api.github.com/users/symat/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/symat/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/symat/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/symat/subscriptions"", ""organizations_url"": ""https://api.github.com/users/symat/orgs"", ""repos_url"": ""https://api.github.com/users/symat/repos"", ""events_url"": ""https://api.github.com/users/symat/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/symat/received_events"", ""type"": ""User"", ""site_admin"": false}, ""requested_team"": null}"
1889,ReviewRequested,2022-05-31 11:51:56,eolivelli,fork_close,,"{""requested_reviewer"": {""login"": ""ztzg"", ""id"": 393108, ""node_id"": ""MDQ6VXNlcjM5MzEwOA=="", ""avatar_url"": ""https://avatars.githubusercontent.com/u/393108?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/ztzg"", ""html_url"": ""https://github.com/ztzg"", ""followers_url"": ""https://api.github.com/users/ztzg/followers"", ""following_url"": ""https://api.github.com/users/ztzg/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/ztzg/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/ztzg/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/ztzg/subscriptions"", ""organizations_url"": ""https://api.github.com/users/ztzg/orgs"", ""repos_url"": ""https://api.github.com/users/ztzg/repos"", ""events_url"": ""https://api.github.com/users/ztzg/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/ztzg/received_events"", ""type"": ""User"", ""site_admin"": false}, ""requested_team"": null}"
1889,ReviewRequested,2022-05-31 11:51:56,eolivelli,fork_close,,"{""requested_reviewer"": {""login"": ""maoling"", ""id"": 11016631, ""node_id"": ""MDQ6VXNlcjExMDE2NjMx"", ""avatar_url"": ""https://avatars.githubusercontent.com/u/11016631?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/maoling"", ""html_url"": ""https://github.com/maoling"", ""followers_url"": ""https://api.github.com/users/maoling/followers"", ""following_url"": ""https://api.github.com/users/maoling/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/maoling/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/maoling/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/maoling/subscriptions"", ""organizations_url"": ""https://api.github.com/users/maoling/orgs"", ""repos_url"": ""https://api.github.com/users/maoling/repos"", ""events_url"": ""https://api.github.com/users/maoling/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/maoling/received_events"", ""type"": ""User"", ""site_admin"": false}, ""requested_team"": null}"
1889,ReviewApproved,2022-05-31 16:32:03,symat,fork_close,"LGTM

I see that `handleFailedRead` is also called from `readPayload()`.
Do you think we should also change the logging with an extra try-catch in line 354?
https://github.com/apache/zookeeper/blob/e4c835b3cb7b2032fe4fd7764eeaa61dd964b9b4/zookeeper-server/src/main/java/org/apache/zookeeper/server/NIOServerCnxn.java#L353-L355","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1889#pullrequestreview-990777851""}"
1889,IssueComment,2022-06-01 06:33:59,eolivelli,fork_close,"@symat such an error in readPayload() is a symptom that something is going bad (like client OutOfMemory?).
This is why I changed only this point.
does it make sense ?","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1143173035"", ""author_association"": ""CONTRIBUTOR""}"
1889,IssueComment,2022-06-01 07:24:04,symat,fork_close,"I see... sure!
can I merge this?
which branches should we targeting here? (this is not a bugfix, but not a risky patch and might be valuable in earlier active branches too)","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1143211915"", ""author_association"": ""CONTRIBUTOR""}"
1889,IssueComment,2022-06-01 09:19:57,eolivelli,fork_close,"please go ahead and merge, I would commit this to master, 3.8 and 3.7, probably also to 3.6","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1143349483"", ""author_association"": ""CONTRIBUTOR""}"
1889,IssueComment,2022-06-01 09:20:03,eolivelli,fork_close,thanks,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1143349589"", ""author_association"": ""CONTRIBUTOR""}"
1889,ClosePR,2022-06-01 15:34:37,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6720305173"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/7a515fee0124eea389c599995915927e49cf4c57""}"
1889,Referenced,2022-06-01 15:35:00,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6720308824"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/a0cd35869708a219adc1515ca8d4ab7eb7f82a46""}"
1889,Referenced,2022-06-01 15:35:24,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6720312473"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/71cb76033a0c105a83f2c54c5ef09936b11a8e52""}"
1889,Referenced,2022-06-01 15:35:46,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6720315595"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/c97cf3f5bd8e136dc0fe268467f5793136199c68""}"
1889,IssueCommentSupplement,2022-06-01 15:37:24,symat,fork_close,"I merged this back until (including) branch-3.6.
thanks!","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1143768079"", ""author_association"": ""CONTRIBUTOR""}"
1889,Referenced,2022-06-29 04:39:27,abhilash1in,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6899071031"", ""commit_url"": ""https://api.github.com/repos/abhilash1in/li-zookeeper/commits/37d9ac03667eddeaefac2de7408a78d561186cf6""}"
1889,Referenced,2022-06-29 04:54:09,abhilash1in,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6899118303"", ""commit_url"": ""https://api.github.com/repos/abhilash1in/li-zookeeper/commits/b033d33996bf8dc508e628649ee6527b75257a0c""}"
1889,Referenced,2022-11-02 00:32:02,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7718250171"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/9066815e71f8433d94b73cb1a7263ce4aebe30f6""}"
1889,CrossReferenced,2022-11-02 00:32:02,anuragmadnawat1,fork_close,ZOOKEEPER-4551: Do not log spammy stacktrace when a client closes its connection,"{""reference"": {""url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/issues/65"", ""is_pull_request"": true}}"
1889,Referenced,2022-11-02 00:38:50,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7718278096"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/bc8fb4497cc9d03bf9e9753612c659ac89ec7104""}"
1889,CrossReferenced,2023-01-13 19:49:44,anurag-harness,fork_close,ZOOKEEPER-4551: Do not log spammy stacktrace when a client closes its connection,"{""reference"": {""url"": ""https://api.github.com/repos/anurag-harness/zookeeper/issues/32"", ""is_pull_request"": true}}"
1889,Referenced,2023-01-13 19:49:45,anurag-harness,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/8223944340"", ""commit_url"": ""https://api.github.com/repos/anurag-harness/zookeeper/commits/13e8a319052d6d4e07002b97346aceebde73142e""}"
1889,Referenced,2023-01-13 19:53:57,anurag-harness,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/8223973514"", ""commit_url"": ""https://api.github.com/repos/anurag-harness/zookeeper/commits/c41628539475fddef124b6fab631de24c329173d""}"
1899,SubmitCommit,2022-06-29 14:11:57,kezhuw,fork_close,"ZOOKEEPER-4565: Refine chroot strip to accommodate /zookeeper/ subtree

```java
if (serverPath.length() > chrootPath.length()) {
    event.setPath(serverPath.substring(chrootPath.length()));
}
```

Currently, chroot strip code listed above could result in illegal path
(aka. path not start with ""/""). This will disconnect zookeeper client
due to `StringIndexOutOfBoundsException` from `PathParentIterator.next`
in event handling.","{""sha"": ""a37633bf6f20790fde3004ead6731131b3f5ec0c"", ""author"": {""name"": ""Kezhu Wang"", ""email"": ""kezhuw@gmail.com"", ""date"": ""2022-06-29T13:36:04Z""}, ""committer"": {""name"": ""Kezhu Wang"", ""email"": ""kezhuw@gmail.com"", ""date"": ""2022-06-29T14:11:57Z""}}"
1899,OpenPR,2022-06-29 14:15:42,kezhuw,fork_close,,
1899,IssueComment,2022-06-30 05:15:12,kezhuw,fork_close,"One shortcoming of this fix and current design(aka. `ClientCnxn.chroot`) is that it does not work well with chroot `/zookeeper`.
* If we strip `chroot` first, then watcher from `getConfig` will get `/config` while it should be `/zookeeper/config`.
* If we match `/zookeeper/` first, then watcher from `getData` will get `/zookeeper/config` while it should be `/config`.

Basically, I think it is a design flaw in client side(aka. `ZooKeeper`, `ClientCnxn` and `Watcher`). It might be better to store and strip `chroot` in `Watcher` and let `ClientCnxn` pass through server path directly to `Watcher`. But this requires major refactor, I guess it might not be worth.

PS. I made similar mistake(in outcoming's perspective) in [zookeeper-client-rust](https://github.com/kezhuw/zookeeper-client-rust/pull/5/files). But the fix to that project should cover above situations as strip is done [inside `Watcher`](https://github.com/kezhuw/zookeeper-client-rust/blob/f89b5bcbc03bb2d78c6afb36c5beccc8416badd0/src/client/watcher.rs#L50).","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1170773182"", ""author_association"": ""CONTRIBUTOR""}"
1899,IssueComment,2022-07-19 08:36:02,symat,fork_close,"Thanks @kezhuw , I like your fix!
I think we should make sure we don't break e.g. curator. We had some automated tests for that AFAIR... @eolivelli , what do you think?

> One shortcoming of this fix and current design(aka. ClientCnxn.chroot) is that it does not work well with chroot /zookeeper.

it is true... although I wouldn't consider this a very big issue. This is a special case which can be handled if needed. Doing the larger refactor would definitely break backward compatibility.

","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1188763956"", ""author_association"": ""CONTRIBUTOR""}"
1899,IssueComment,2022-07-19 10:38:32,kezhuw,fork_close,"I found this in reproducing [CURATOR-593](https://issues.apache.org/jira/browse/CURATOR-593) and [CURATOR-611](https://issues.apache.org/jira/browse/CURATOR-611). Curator [EnsembleTracker](https://github.com/apache/curator/blob/master/curator-framework/src/main/java/org/apache/curator/framework/imps/EnsembleTracker.java) uses [getConfig](https://github.com/apache/curator/blob/master/curator-framework/src/main/java/org/apache/curator/framework/imps/EnsembleTracker.java#L157) to track zookeeper ensemble changes. It [ignores](https://github.com/apache/curator/blob/master/curator-framework/src/main/java/org/apache/curator/framework/imps/EnsembleTracker.java#L113) illegal path event from buggy stripping. But after ZooKeeper [3.6.3](https://github.com/apache/zookeeper/blob/release-3.6.3/zookeeper-server/src/main/java/org/apache/zookeeper/ZooKeeper.java#L627), the illegal path causes exception inside ZooKeeper client and hence disconnection. CURATOR-593/CURATOR-611 are blocked by this as `getConfig` watcher will not receive event from chroot client.

> This is a special case which can be handled if needed. Doing the larger refactor would definitely break backward compatibility.

I agree. I think we can intercept `getConfig` watcher to pass ""/zookeeper/config"" to original watcher. This is a breaking change to old behavior though probably not by design. I guess it might be an opportunity to define and document semantics of `getConfig` watcher.

Anyway, semantics of `getConfig` watcher could be a separate issue. And this pr should not break anything.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1188893150"", ""author_association"": ""CONTRIBUTOR""}"
1899,IssueComment,2022-07-19 12:09:16,symat,fork_close,"> I found this in reproducing [CURATOR-593](https://issues.apache.org/jira/browse/CURATOR-593) and [CURATOR-611](https://issues.apache.org/jira/browse/CURATOR-611).

I see! thanks for the context!

> Anyway, semantics of getConfig watcher could be a separate issue. And this pr should not break anything.

agree... I'll try and find a second reviewer.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1188972846"", ""author_association"": ""CONTRIBUTOR""}"
1899,ReviewApproved,2022-07-19 12:09:31,symat,fork_close,,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1899#pullrequestreview-1043316204""}"
1899,ReviewApproved,2022-07-19 12:21:10,eolivelli,fork_close,LGTM,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1899#pullrequestreview-1043336579""}"
1899,ReviewComment,2022-07-19 12:21:22,eolivelli,fork_close,,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1899#pullrequestreview-1043337072""}"
1899,IssueComment,2022-07-26 07:37:01,symat,fork_close,"I'm merging this to master, thanks for the contribution @kezhuw  and for the review @eolivelli !","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1195118748"", ""author_association"": ""CONTRIBUTOR""}"
1899,ClosePR,2022-07-26 07:40:09,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7062421310"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/2cd0c23454071faf0a16c58edb2414591ae5c5c3""}"
1899,IssueCommentSupplement,2022-07-26 13:12:17,kezhuw,fork_close,"I guess we should backport this to all maintaining branches (aka. 3.6, 3.7 and 3.8) otherwise clients will get unexpected disconnected due to `getConfig` in chroot `ZooKeeper`. @symat @eolivelli ","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1195466388"", ""author_association"": ""CONTRIBUTOR""}"
1899,IssueCommentSupplement,2022-07-29 14:39:29,symat,fork_close,"yes, I think it make sense. I'll try and cherry-pick this to the active branches.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1199420221"", ""author_association"": ""CONTRIBUTOR""}"
1899,Referenced,2022-07-29 14:41:52,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7090011874"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/a38b92c82ca95ca57247b294808785310f990f1d""}"
1899,Referenced,2022-07-29 14:42:47,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7090019515"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/e9d74a096e0a604527a12615e8aaab3d0f95363f""}"
1899,IssueCommentSupplement,2022-07-29 14:47:02,symat,fork_close,"I pushed to branch-3.8 and branch-3.7.

On branch-3.6 the cherry-pick failed as we have some conflict there. I'm not sure how important this fix is, but if you think its worth the time, then please submit a new PR against branch-3.6.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1199439278"", ""author_association"": ""CONTRIBUTOR""}"
1899,Referenced,2022-11-02 02:13:00,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7718678079"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/3295530b8e33ebffa708f3d22d44bc5e92e79cf1""}"
1899,CrossReferenced,2022-11-02 02:13:00,anuragmadnawat1,fork_close,ZOOKEEPER-4565: Refine chroot strip to accommodate /zookeeper/ subtree,"{""reference"": {""url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/issues/74"", ""is_pull_request"": true}}"
1899,Referenced,2022-11-02 02:14:45,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7718684912"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/1cdb4e6ba2ffde83bc3f8a6397b1099c1676fd96""}"
1899,Referenced,2022-11-02 02:15:10,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7718686371"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/b31b96f8153597b4b6db64ecb59e85ef15338eec""}"
1899,CrossReferenced,2022-11-02 02:15:10,anuragmadnawat1,fork_close,ZOOKEEPER-4565: Refine chroot strip to accommodate /zookeeper/ subtree,"{""reference"": {""url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/issues/75"", ""is_pull_request"": true}}"
1899,Referenced,2022-11-02 02:21:55,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7718723822"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/f86686d68fad4493fb4c293dc369b4d777b6756c""}"
1901,SubmitCommit,2022-06-29 14:41:23,kezhuw,fork_close,"ZOOKEEPER-4308: Fix flaky test EagerACLFilterTest

There are several problems in this test:
* It uses `ParameterizedTest` which run tests in single jvm. But
  `ZooKeeperServer.enableEagerACLCheck` is `static` and loaded from env
  variable.
* It uses `assertNotSame` which assert on object reference equiality.
* It asserts on `zkLeader.getLastLoggedZxid()` while client connect to
  `connectedServer`. There is no happen-before between
  `zkLeader.getLastLoggedZxid()` and successful response from other
  server. The commit and response are routed to different servers and
  performed asynchronous in each server.

Author: Kezhu Wang <kezhuw@gmail.com>

Reviewers: maoling <maoling199210191@sina.com>, Mate Szalay-Beko <symat@apache.org>

Closes #1851 from kezhuw/ZOOKEEPER-4308-EagerACLFilterTest

(cherry picked from commit 794790c9f6cbacf158493867f3058a6de748b54e)","{""sha"": ""5ed23cf5615211806e60bf07f1e42a462db17e4d"", ""author"": {""name"": ""Kezhu Wang"", ""email"": ""kezhuw@gmail.com"", ""date"": ""2022-06-24T13:30:51Z""}, ""committer"": {""name"": ""Kezhu Wang"", ""email"": ""kezhuw@gmail.com"", ""date"": ""2022-06-29T14:41:23Z""}}"
1901,OpenPR,2022-06-29 15:03:38,kezhuw,fork_close,,
1901,IssueComment,2022-06-29 15:05:43,kezhuw,fork_close,@maoling @symat This is backport of #1851 to branch 3.6. Automatic cherry-pick fails due to junit changes.,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1170098105"", ""author_association"": ""CONTRIBUTOR""}"
1901,ReviewApproved,2022-07-11 07:25:32,symat,fork_close,,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1901#pullrequestreview-1033902525""}"
1901,Referenced,2022-09-04 08:50:39,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7318159515"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/62a7572a541c0ff4ea74b03d396b78b191a423e6""}"
1901,IssueCommentSupplement,2022-09-04 08:55:01,maoling,fork_close,"@kezhuw 
Thanks for your contribution. Now we have this fix at all branches.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1236292021"", ""author_association"": ""MEMBER""}"
1901,ClosePR,2022-09-04 08:55:01,maoling,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7318163823"", ""commit_url"": null}"
1902,SubmitCommit,2022-06-30 08:48:18,BukrosSzabolcs,fork_close,"ZOOKEEPER-4566: Create tool for recursive snapshot analysis

add a tool to recursively collect and display child count and data
stored in sub-trees","{""sha"": ""999be08b90933f6ef182533a1816052413db2132"", ""author"": {""name"": ""Szabolcs Bukros"", ""email"": ""szabolcs@cloudera.com"", ""date"": ""2022-06-30T08:48:18Z""}, ""committer"": {""name"": ""Szabolcs Bukros"", ""email"": ""szabolcs@cloudera.com"", ""date"": ""2022-06-30T08:48:18Z""}}"
1902,OpenPR,2022-06-30 08:51:11,BukrosSzabolcs,fork_close,,
1902,ReviewComment,2022-06-30 09:03:53,sonatype-lift[bot],fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1902#pullrequestreview-1024525778""}"
1902,ReviewComment,2022-06-30 09:03:55,sonatype-lift[bot],fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1902#pullrequestreview-1024525816""}"
1902,ReviewComment,2022-06-30 09:03:56,sonatype-lift[bot],fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1902#pullrequestreview-1024525855""}"
1902,ReviewComment,2022-06-30 09:03:58,sonatype-lift[bot],fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1902#pullrequestreview-1024525879""}"
1902,ReviewComment,2022-06-30 09:03:59,sonatype-lift[bot],fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1902#pullrequestreview-1024525910""}"
1902,ReviewComment,2022-06-30 09:04:01,sonatype-lift[bot],fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1902#pullrequestreview-1024525957""}"
1902,ReviewComment,2022-06-30 09:04:02,sonatype-lift[bot],fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1902#pullrequestreview-1024525984""}"
1902,ReviewRejected,2022-06-30 09:35:03,symat,fork_close,"nice tool, thanks for sharing!! A few minor comments:

- we already have some documentation about these zookeeper tools: https://zookeeper.apache.org/doc/r3.8.0/zookeeperTools.html
could you add a description of the new tool here? You can find the source file for this here: https://github.com/apache/zookeeper/blob/master/zookeeper-docs/src/main/resources/markdown/zookeeperTools.md
- please check the automated sonatype-lift comments. Some of them might make sense (and add ""@sonatype-lift ignore"" to the rest)
- NIT: I'm not sure about the name of the tool... I don't know what would be the best, but maybe something like: 'SnapsotRecursiveSubTreeSize' ? maybe a bit too long... What do you think? (I'm OK if you think it is good as it is)
- NIT: what about also printing the number of the children ZNodes? It can also be an improvement for the future...
","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1902#pullrequestreview-1024565014""}"
1902,Revise,2022-07-01 11:58:14,BukrosSzabolcs,fork_close,"ZOOKEEPER-4566: Create tool for recursive snapshot analysis

name change and some cleanup","{""sha"": ""615e8e0e80c8bf5be796a403d29f3555876a91af"", ""author"": {""name"": ""Szabolcs Bukros"", ""email"": ""szabolcs@cloudera.com"", ""date"": ""2022-07-01T11:58:14Z""}, ""committer"": {""name"": ""Szabolcs Bukros"", ""email"": ""szabolcs@cloudera.com"", ""date"": ""2022-07-01T11:58:14Z""}}"
1902,ReviewComment,2022-07-01 12:12:37,sonatype-lift[bot],fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1902#pullrequestreview-1026136833""}"
1902,ReviewComment,2022-07-01 12:12:38,sonatype-lift[bot],fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1902#pullrequestreview-1026136852""}"
1902,ReviewComment,2022-07-01 12:12:41,sonatype-lift[bot],fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1902#pullrequestreview-1026136882""}"
1902,ReviewComment,2022-07-01 12:12:42,sonatype-lift[bot],fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1902#pullrequestreview-1026136909""}"
1902,ReviewComment,2022-07-01 12:12:44,sonatype-lift[bot],fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1902#pullrequestreview-1026136932""}"
1902,ReviewComment,2022-07-01 12:12:45,sonatype-lift[bot],fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1902#pullrequestreview-1026136956""}"
1902,ReviewRejected,2022-07-11 07:18:43,symat,fork_close,"thank you @BukrosSzabolcs for updating the PR!
Generally it looks great now.

Please fix the spotbugs error reported by the CI, and then I think we are good:
```
[ERROR] Boxing/unboxing to parse a primitive org.apache.zookeeper.server.SnapshotRecursiveSummary.main(String[]) [org.apache.zookeeper.server.SnapshotRecursiveSummary] At SnapshotRecursiveSummary.java:[line 57] DM_BOXED_PRIMITIVE_FOR_PARSING
```

(p.s. you can run checkstyle / spotbugs locally: `mvn verify spotbugs:check checkstyle:check -DskipTests`)","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1902#pullrequestreview-1033895278""}"
1902,Revise,2022-07-11 12:53:01,BukrosSzabolcs,fork_close,"ZOOKEEPER-4566: Create tool for recursive snapshot analysis

spotbug fixes","{""sha"": ""53a231c397182ea1f6a6fb27221d135879e76f36"", ""author"": {""name"": ""Szabolcs Bukros"", ""email"": ""szabolcs@cloudera.com"", ""date"": ""2022-07-11T12:53:01Z""}, ""committer"": {""name"": ""Szabolcs Bukros"", ""email"": ""szabolcs@cloudera.com"", ""date"": ""2022-07-11T12:53:01Z""}}"
1902,IssueComment,2022-07-12 07:25:32,BukrosSzabolcs,fork_close,@symat I have fixed the spotbug issues. The test failure looks unrelated. Should we re-run it?,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1181412284"", ""author_association"": ""CONTRIBUTOR""}"
1902,IssueComment,2022-07-12 09:23:25,symat,fork_close,">  @symat I have fixed the spotbug issues. The test failure looks unrelated. Should we re-run it?

I don't think we need to re-run. Seems to be a flaky test (and totally unrelated).

@eolivelli , @anmolnar - can you take a look? This is a handy tool Szabolcs created to identify ""heavy ZK users"" in snapshots.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1181530846"", ""author_association"": ""CONTRIBUTOR""}"
1902,ReviewApproved,2022-07-12 09:23:40,symat,fork_close,,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1902#pullrequestreview-1035492379""}"
1902,ReviewApproved,2022-07-12 10:56:28,anmolnar,fork_close,"lgtm.
Please try to fix sonatype issues.","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1902#pullrequestreview-1035599840""}"
1902,Revise,2022-07-12 13:56:49,BukrosSzabolcs,fork_close,"ZOOKEEPER-4566: Create tool for recursive snapshot analysis

requested sonatype fixes","{""sha"": ""838ce0241d410d8bbc40ff9d5968635c7d8a2f0a"", ""author"": {""name"": ""Szabolcs Bukros"", ""email"": ""szabolcs@cloudera.com"", ""date"": ""2022-07-12T13:56:49Z""}, ""committer"": {""name"": ""Szabolcs Bukros"", ""email"": ""szabolcs@cloudera.com"", ""date"": ""2022-07-12T13:56:49Z""}}"
1902,IssueComment,2022-07-13 11:01:41,symat,fork_close,I'm merging it now to master. Thanks @BukrosSzabolcs for the contribution!!,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1183079964"", ""author_association"": ""CONTRIBUTOR""}"
1902,ClosePR,2022-07-13 11:09:30,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6985044245"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/05b215994f5e145c2758c4089828b57ba471b329""}"
1902,Referenced,2022-11-02 01:33:15,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7718509299"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/6cb11d3b20418c674748d52ecc3bfecaa742debd""}"
1902,CrossReferenced,2022-11-02 01:33:15,anuragmadnawat1,fork_close,ZOOKEEPER-4566: Create tool for recursive snapshot analysis,"{""reference"": {""url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/issues/73"", ""is_pull_request"": true}}"
1903,SubmitCommit,2022-07-09 04:08:35,tisonkun,fork_close,"processConnectRequest doesn't take bytebuffer

Signed-off-by: tison <wander4096@gmail.com>","{""sha"": ""8efa9daf67afb3da018719f38c23d9a4a1b07a2f"", ""author"": {""name"": ""tison"", ""email"": ""wander4096@gmail.com"", ""date"": ""2022-07-09T04:08:35Z""}, ""committer"": {""name"": ""tison"", ""email"": ""wander4096@gmail.com"", ""date"": ""2022-07-09T04:08:35Z""}}"
1903,SubmitCommit,2022-07-09 04:10:44,tisonkun,fork_close,"fix boolean logic

Signed-off-by: tison <wander4096@gmail.com>","{""sha"": ""743600f834e1e62b2e0849aad2c33655073084e7"", ""author"": {""name"": ""tison"", ""email"": ""wander4096@gmail.com"", ""date"": ""2022-07-09T04:10:44Z""}, ""committer"": {""name"": ""tison"", ""email"": ""wander4096@gmail.com"", ""date"": ""2022-07-09T04:10:44Z""}}"
1903,OpenPR,2022-07-09 04:27:34,tisonkun,fork_close,,
1903,ReviewComment,2022-07-09 04:42:16,sonatype-lift[bot],fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1903#pullrequestreview-1033479177""}"
1903,ReviewComment,2022-07-09 04:42:18,sonatype-lift[bot],fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1903#pullrequestreview-1033479179""}"
1903,ReviewComment,2022-07-09 04:42:19,sonatype-lift[bot],fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1903#pullrequestreview-1033479180""}"
1903,ReviewComment,2022-07-09 04:42:20,sonatype-lift[bot],fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1903#pullrequestreview-1033479182""}"
1903,CrossReferenced,2022-07-09 05:13:11,tisonkun,fork_close,ZOOKEEPER-4573: Encapsulate request bytebuffer in Request ,"{""reference"": {""url"": ""https://api.github.com/repos/apache/zookeeper/issues/1904"", ""is_pull_request"": true}}"
1903,IssueComment,2022-07-09 05:32:08,tisonkun,fork_close,I think what @sonatype-lift report should be handled in another pass. They are not introduced by this patch.,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1179483363"", ""author_association"": ""MEMBER""}"
1903,ReviewApproved,2022-07-11 07:05:20,symat,fork_close,LGTM,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1903#pullrequestreview-1033881972""}"
1903,ClosePR,2022-07-12 11:03:45,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6976637582"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/a7e4dea7abccff018d123d54dd5d3ccc1544484e""}"
1903,DeleteBranch,2022-07-12 11:06:25,tisonkun,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6976654319"", ""commit_url"": null}"
1903,Referenced,2022-11-02 01:24:45,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7718475763"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/7d90507203de288c6aa657c4b22f93f2940ce94b""}"
1903,CrossReferenced,2022-11-02 01:24:45,anuragmadnawat1,fork_close,ZOOKEEPER-4573: Encapsulate request bytebuffer in Request,"{""reference"": {""url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/issues/72"", ""is_pull_request"": true}}"
1903,Referenced,2022-11-02 01:33:13,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7718509229"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/14651ed906b0a15c3b2f864f4608d23957e5bf96""}"
1904,SubmitCommit,2022-07-09 04:08:35,tisonkun,fork_close,"processConnectRequest doesn't take bytebuffer

Signed-off-by: tison <wander4096@gmail.com>","{""sha"": ""8efa9daf67afb3da018719f38c23d9a4a1b07a2f"", ""author"": {""name"": ""tison"", ""email"": ""wander4096@gmail.com"", ""date"": ""2022-07-09T04:08:35Z""}, ""committer"": {""name"": ""tison"", ""email"": ""wander4096@gmail.com"", ""date"": ""2022-07-09T04:08:35Z""}}"
1904,SubmitCommit,2022-07-09 04:10:44,tisonkun,fork_close,"fix boolean logic

Signed-off-by: tison <wander4096@gmail.com>","{""sha"": ""743600f834e1e62b2e0849aad2c33655073084e7"", ""author"": {""name"": ""tison"", ""email"": ""wander4096@gmail.com"", ""date"": ""2022-07-09T04:10:44Z""}, ""committer"": {""name"": ""tison"", ""email"": ""wander4096@gmail.com"", ""date"": ""2022-07-09T04:10:44Z""}}"
1904,OpenPR,2022-07-09 05:13:11,tisonkun,fork_close,,
1904,ReviewComment,2022-07-09 05:27:45,sonatype-lift[bot],fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1904#pullrequestreview-1033481967""}"
1904,ReviewComment,2022-07-09 05:27:46,sonatype-lift[bot],fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1904#pullrequestreview-1033481968""}"
1904,ReviewComment,2022-07-09 05:27:48,sonatype-lift[bot],fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1904#pullrequestreview-1033481971""}"
1904,ReviewComment,2022-07-09 05:27:49,sonatype-lift[bot],fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1904#pullrequestreview-1033481974""}"
1904,Revise,2022-07-09 05:31:01,tisonkun,fork_close,"ZOOKEEPER-4573: Encapsulate request bytebuffer in Request

Signed-off-by: tison <wander4096@gmail.com>","{""sha"": ""42ae7ca129563950193c1dd65db70b57c3d71617"", ""author"": {""name"": ""tison"", ""email"": ""wander4096@gmail.com"", ""date"": ""2022-07-09T05:11:54Z""}, ""committer"": {""name"": ""tison"", ""email"": ""wander4096@gmail.com"", ""date"": ""2022-07-09T05:31:01Z""}}"
1904,HeadRefForcePushed,2022-07-09 05:31:10,tisonkun,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6963456484"", ""commit_url"": null}"
1904,ReviewComment,2022-07-09 05:39:10,tisonkun,fork_close,,"{""author_association"": ""MEMBER"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1904#pullrequestreview-1033482632""}"
1904,Revise,2022-07-09 05:40:09,tisonkun,fork_close,"fix checkstyle

Signed-off-by: tison <wander4096@gmail.com>","{""sha"": ""022c17430e0645e890c14fda22738389411175b5"", ""author"": {""name"": ""tison"", ""email"": ""wander4096@gmail.com"", ""date"": ""2022-07-09T05:40:09Z""}, ""committer"": {""name"": ""tison"", ""email"": ""wander4096@gmail.com"", ""date"": ""2022-07-09T05:40:09Z""}}"
1904,Revise,2022-07-09 10:06:56,tisonkun,fork_close,"retrigger ci

Signed-off-by: tison <wander4096@gmail.com>","{""sha"": ""749430b20512b2e8c2a0f8d0457582f11f527d5a"", ""author"": {""name"": ""tison"", ""email"": ""wander4096@gmail.com"", ""date"": ""2022-07-09T10:06:56Z""}, ""committer"": {""name"": ""tison"", ""email"": ""wander4096@gmail.com"", ""date"": ""2022-07-09T10:06:56Z""}}"
1904,ReviewApproved,2022-07-12 10:40:58,anmolnar,fork_close,+1 lgtm. Very nice refactoring.,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1904#pullrequestreview-1035589622""}"
1904,ReviewApproved,2022-07-12 10:47:52,symat,fork_close,"LGTM
I already reviewed #1903 too. AFAIU this PR contains the code from #1903 and @anmolnar approved this one, I think we are good to merge both. @tisonkun can you merge these?","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1904#pullrequestreview-1035597280""}"
1904,IssueComment,2022-07-12 10:52:40,tisonkun,fork_close,"@symat I agree we can merge this patch and close #1903 , later review two related JIRA tickets.

I changed the description of this patch to close #1903 and you can help merge this. I'm not a committer of ZK and thus don't have the privilege to perform the action though :)","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1181612439"", ""author_association"": ""MEMBER""}"
1904,IssueComment,2022-07-12 11:01:50,symat,fork_close,"> I changed the description of this patch to close https://github.com/apache/zookeeper/pull/1903 and you can help merge this. I'm not a committer of ZK and thus don't have the privilege to perform the action though :)

sorry, my bad :)
I'll close 1903 and merge this one now.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1181620812"", ""author_association"": ""CONTRIBUTOR""}"
1904,ClosePR,2022-07-12 11:03:46,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6976637639"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/a7e4dea7abccff018d123d54dd5d3ccc1544484e""}"
1904,DeleteBranch,2022-07-12 11:06:43,tisonkun,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6976656286"", ""commit_url"": null}"
1904,IssueCommentSupplement,2022-07-12 11:06:48,tisonkun,fork_close,Thank you!,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1181625219"", ""author_association"": ""MEMBER""}"
1904,DeleteBranch,2022-07-12 11:12:51,tisonkun,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/6976695655"", ""commit_url"": null}"
1904,Referenced,2022-11-02 01:24:45,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7718475767"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/7d90507203de288c6aa657c4b22f93f2940ce94b""}"
1904,CrossReferenced,2022-11-02 01:24:45,anuragmadnawat1,fork_close,ZOOKEEPER-4573: Encapsulate request bytebuffer in Request,"{""reference"": {""url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/issues/72"", ""is_pull_request"": true}}"
1904,Referenced,2022-11-02 01:33:13,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7718509230"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/14651ed906b0a15c3b2f864f4608d23957e5bf96""}"
1905,SubmitCommit,2022-07-17 08:02:43,tisonkun,fork_close,"cleanup a bit code

Signed-off-by: tison <wander4096@gmail.com>","{""sha"": ""e719875820730936b675699fefa385b515a3a685"", ""author"": {""name"": ""tison"", ""email"": ""wander4096@gmail.com"", ""date"": ""2022-07-17T08:02:43Z""}, ""committer"": {""name"": ""tison"", ""email"": ""wander4096@gmail.com"", ""date"": ""2022-07-17T08:02:43Z""}}"
1905,SubmitCommit,2022-07-17 08:45:46,tisonkun,fork_close,"tidy Request constructor

Signed-off-by: tison <wander4096@gmail.com>","{""sha"": ""6fc15a710a272146b7b96660ad3dfd0375158e80"", ""author"": {""name"": ""tison"", ""email"": ""wander4096@gmail.com"", ""date"": ""2022-07-17T08:45:46Z""}, ""committer"": {""name"": ""tison"", ""email"": ""wander4096@gmail.com"", ""date"": ""2022-07-17T08:45:46Z""}}"
1905,SubmitCommit,2022-07-17 08:48:42,tisonkun,fork_close,"Revert ""tidy Request constructor""

This reverts commit 6fc15a710a272146b7b96660ad3dfd0375158e80.","{""sha"": ""19e45b66378435e451e7f1ced3a099ac03bbeb08"", ""author"": {""name"": ""tison"", ""email"": ""wander4096@gmail.com"", ""date"": ""2022-07-17T08:48:42Z""}, ""committer"": {""name"": ""tison"", ""email"": ""wander4096@gmail.com"", ""date"": ""2022-07-17T08:48:42Z""}}"
1905,SubmitCommit,2022-07-17 09:15:59,tisonkun,fork_close,"introduce RequestRecord

Signed-off-by: tison <wander4096@gmail.com>","{""sha"": ""1bd079f927b90ea8ce761c18e72e0051b131022f"", ""author"": {""name"": ""tison"", ""email"": ""wander4096@gmail.com"", ""date"": ""2022-07-17T09:15:59Z""}, ""committer"": {""name"": ""tison"", ""email"": ""wander4096@gmail.com"", ""date"": ""2022-07-17T09:15:59Z""}}"
1905,SubmitCommit,2022-07-17 09:59:21,tisonkun,fork_close,"wire existing logic

Signed-off-by: tison <wander4096@gmail.com>","{""sha"": ""bf5e292e1ab8a5e45a011a304347721a0753db7a"", ""author"": {""name"": ""tison"", ""email"": ""wander4096@gmail.com"", ""date"": ""2022-07-17T09:59:21Z""}, ""committer"": {""name"": ""tison"", ""email"": ""wander4096@gmail.com"", ""date"": ""2022-07-17T09:59:21Z""}}"
1905,OpenPR,2022-07-17 10:01:47,tisonkun,fork_close,,
1905,Revise,2022-07-17 10:02:34,tisonkun,fork_close,"checkstyle

Signed-off-by: tison <wander4096@gmail.com>","{""sha"": ""8abaf4554fc0adb5ac5be901faf35df99fbed203"", ""author"": {""name"": ""tison"", ""email"": ""wander4096@gmail.com"", ""date"": ""2022-07-17T10:02:34Z""}, ""committer"": {""name"": ""tison"", ""email"": ""wander4096@gmail.com"", ""date"": ""2022-07-17T10:02:34Z""}}"
1905,IssueComment,2022-07-17 10:03:55,tisonkun,fork_close,Verifying that we're in a good state. Will push further refactor logics.,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1186466108"", ""author_association"": ""MEMBER""}"
1905,Revise,2022-07-17 10:06:42,tisonkun,fork_close,"checkstyle

Signed-off-by: tison <wander4096@gmail.com>","{""sha"": ""2485156b527cce1e9b3cd83ca20b877f9cfde1b0"", ""author"": {""name"": ""tison"", ""email"": ""wander4096@gmail.com"", ""date"": ""2022-07-17T10:06:42Z""}, ""committer"": {""name"": ""tison"", ""email"": ""wander4096@gmail.com"", ""date"": ""2022-07-17T10:06:42Z""}}"
1905,Revise,2022-07-18 05:27:28,tisonkun,fork_close,"encapsulate more bytes manipulations

Signed-off-by: tison <wander4096@gmail.com>","{""sha"": ""4f725e01ddb014a93a2ed9741758a29f22d18ff6"", ""author"": {""name"": ""tison"", ""email"": ""wander4096@gmail.com"", ""date"": ""2022-07-18T05:27:28Z""}, ""committer"": {""name"": ""tison"", ""email"": ""wander4096@gmail.com"", ""date"": ""2022-07-18T05:27:28Z""}}"
1905,Revise,2022-07-18 05:50:07,tisonkun,fork_close,"checkstyle

Signed-off-by: tison <wander4096@gmail.com>","{""sha"": ""426ffdc5b23cc229d695e2ce74ab326efebdc985"", ""author"": {""name"": ""tison"", ""email"": ""wander4096@gmail.com"", ""date"": ""2022-07-18T05:50:07Z""}, ""committer"": {""name"": ""tison"", ""email"": ""wander4096@gmail.com"", ""date"": ""2022-07-18T05:50:07Z""}}"
1905,Revise,2022-07-18 05:57:15,tisonkun,fork_close,"move function to member method

Signed-off-by: tison <wander4096@gmail.com>","{""sha"": ""63f867db9b895778583347601117ae6c8a4bf341"", ""author"": {""name"": ""tison"", ""email"": ""wander4096@gmail.com"", ""date"": ""2022-07-18T05:57:15Z""}, ""committer"": {""name"": ""tison"", ""email"": ""wander4096@gmail.com"", ""date"": ""2022-07-18T05:57:15Z""}}"
1905,Revise,2022-07-18 06:00:37,tisonkun,fork_close,"keep deserialize parameter only to pRequest2Txn

Signed-off-by: tison <wander4096@gmail.com>","{""sha"": ""233b9abd6d821625c09b159b7f936725a1387dfa"", ""author"": {""name"": ""tison"", ""email"": ""wander4096@gmail.com"", ""date"": ""2022-07-18T06:00:37Z""}, ""committer"": {""name"": ""tison"", ""email"": ""wander4096@gmail.com"", ""date"": ""2022-07-18T06:00:37Z""}}"
1905,Revise,2022-07-18 06:09:53,tisonkun,fork_close,"always deserialize before process

Signed-off-by: tison <wander4096@gmail.com>","{""sha"": ""98aea1d2c95abd958a4d7ac7d8bb826f4714efb2"", ""author"": {""name"": ""tison"", ""email"": ""wander4096@gmail.com"", ""date"": ""2022-07-18T06:09:53Z""}, ""committer"": {""name"": ""tison"", ""email"": ""wander4096@gmail.com"", ""date"": ""2022-07-18T06:09:53Z""}}"
1905,Revise,2022-07-18 06:20:58,tisonkun,fork_close,"properly handle deserialization error

Signed-off-by: tison <wander4096@gmail.com>","{""sha"": ""d772af8bcecc5479d9388d521e8791d615431fd1"", ""author"": {""name"": ""tison"", ""email"": ""wander4096@gmail.com"", ""date"": ""2022-07-18T06:19:30Z""}, ""committer"": {""name"": ""tison"", ""email"": ""wander4096@gmail.com"", ""date"": ""2022-07-18T06:20:58Z""}}"
1905,Revise,2022-07-18 06:37:02,tisonkun,fork_close,"suppress false positive spotbug report

Signed-off-by: tison <wander4096@gmail.com>","{""sha"": ""b48af8d1d166f261fa708caa598873c3101d1bbb"", ""author"": {""name"": ""tison"", ""email"": ""wander4096@gmail.com"", ""date"": ""2022-07-18T06:37:02Z""}, ""committer"": {""name"": ""tison"", ""email"": ""wander4096@gmail.com"", ""date"": ""2022-07-18T06:37:02Z""}}"
1905,ReviewComment,2022-07-18 06:37:30,sonatype-lift[bot],fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1905#pullrequestreview-1041331773""}"
1905,ReviewComment,2022-07-18 06:37:31,sonatype-lift[bot],fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1905#pullrequestreview-1041331790""}"
1905,ReviewComment,2022-07-18 06:37:35,sonatype-lift[bot],fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1905#pullrequestreview-1041331835""}"
1905,Revise,2022-07-18 07:20:39,tisonkun,fork_close,"fix test. deleteContainer only generated on the server side and the change is OK

Signed-off-by: tison <wander4096@gmail.com>","{""sha"": ""6c6ec30c17120f7be18427cb5049c38fc6bd2cf5"", ""author"": {""name"": ""tison"", ""email"": ""wander4096@gmail.com"", ""date"": ""2022-07-18T07:20:39Z""}, ""committer"": {""name"": ""tison"", ""email"": ""wander4096@gmail.com"", ""date"": ""2022-07-18T07:20:39Z""}}"
1905,ReviewComment,2022-07-18 07:33:04,sonatype-lift[bot],fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1905#pullrequestreview-1041381966""}"
1905,ReviewComment,2022-07-18 07:33:30,tisonkun,fork_close,,"{""author_association"": ""MEMBER"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1905#pullrequestreview-1041382413""}"
1905,Revise,2022-07-18 07:44:40,tisonkun,fork_close,"fix compatibility

Signed-off-by: tison <wander4096@gmail.com>","{""sha"": ""a3ca9c41cbfc50ad08473c62ca3bfb2070de9269"", ""author"": {""name"": ""tison"", ""email"": ""wander4096@gmail.com"", ""date"": ""2022-07-18T07:44:40Z""}, ""committer"": {""name"": ""tison"", ""email"": ""wander4096@gmail.com"", ""date"": ""2022-07-18T07:44:40Z""}}"
1905,Revise,2022-07-19 15:47:57,tisonkun,fork_close,"retrigger CI

Signed-off-by: tison <wander4096@gmail.com>","{""sha"": ""18c5b2589ace055bd81b3c7c94a478fe6507e5d2"", ""author"": {""name"": ""tison"", ""email"": ""wander4096@gmail.com"", ""date"": ""2022-07-19T15:47:57Z""}, ""committer"": {""name"": ""tison"", ""email"": ""wander4096@gmail.com"", ""date"": ""2022-07-19T15:47:57Z""}}"
1905,RenameTitle,2022-07-20 01:27:58,tisonkun,fork_close,,"{""rename"": {""from"": ""WIP - ZooKeeperServer#processPacket take record instead of bytes"", ""to"": ""ZOOKEEPER-4575: ZooKeeperServer#processPacket take record instead of bytes""}, ""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7025216068""}"
1905,IssueComment,2022-07-20 01:28:25,tisonkun,fork_close,cc @eolivelli @symat @anmolnar ,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1189705028"", ""author_association"": ""MEMBER""}"
1905,ReviewRejected,2022-08-24 14:29:27,eolivelli,fork_close,,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1905#pullrequestreview-1083918509""}"
1905,Revise,2022-09-03 10:30:52,tisonkun,fork_close,Merge branch 'master' into request-supplier,"{""sha"": ""dd3463c8dbe6a67767f1cfa628b1c5ef2cf1ccd2"", ""author"": {""name"": ""tison"", ""email"": ""wander4096@gmail.com"", ""date"": ""2022-09-03T10:30:52Z""}, ""committer"": {""name"": ""tison"", ""email"": ""wander4096@gmail.com"", ""date"": ""2022-09-03T10:30:52Z""}}"
1905,Revise,2022-09-03 10:37:36,tisonkun,fork_close,"replace reflection with supplier

Signed-off-by: tison <wander4096@gmail.com>","{""sha"": ""03b16e330ddd4c0bee2d8b1591ca74b2a35748af"", ""author"": {""name"": ""tison"", ""email"": ""wander4096@gmail.com"", ""date"": ""2022-09-03T10:37:36Z""}, ""committer"": {""name"": ""tison"", ""email"": ""wander4096@gmail.com"", ""date"": ""2022-09-03T10:37:36Z""}}"
1905,ReviewRequested,2022-09-03 10:55:38,tisonkun,fork_close,,"{""requested_reviewer"": {""login"": ""eolivelli"", ""id"": 9469110, ""node_id"": ""MDQ6VXNlcjk0NjkxMTA="", ""avatar_url"": ""https://avatars.githubusercontent.com/u/9469110?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/eolivelli"", ""html_url"": ""https://github.com/eolivelli"", ""followers_url"": ""https://api.github.com/users/eolivelli/followers"", ""following_url"": ""https://api.github.com/users/eolivelli/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/eolivelli/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/eolivelli/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/eolivelli/subscriptions"", ""organizations_url"": ""https://api.github.com/users/eolivelli/orgs"", ""repos_url"": ""https://api.github.com/users/eolivelli/repos"", ""events_url"": ""https://api.github.com/users/eolivelli/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/eolivelli/received_events"", ""type"": ""User"", ""site_admin"": false}, ""requested_team"": null}"
1905,IssueComment,2022-09-03 12:37:52,tisonkun,fork_close,"CI failed. Although I don't think it's related. Will retry later.

```
$ java -Xmx32m -version
openjdk version ""11.0.16.1"" 2022-08-12 LTS
OpenJDK Runtime Environment (build 11.0.16.1+1-LTS)
OpenJDK 64-Bit Server VM (build 11.0.16.1+1-LTS, mixed mode)
$ javac -J-Xmx32m -version
javac 11.0.16.1
install
12.82s$ if [ ""${TRAVIS_CPU_ARCH}"" == ""arm64"" ]; then sudo apt-get install maven; fi
0.08s$ mvn clean apache-rat:check verify -DskipTests spotbugs:check checkstyle:check -Pfull-build
Error: JAVA_HOME is not defined correctly.
  We cannot execute /usr/lib/jvm/bellsoft-java11-arm64/bin/java
The command ""mvn clean apache-rat:check verify -DskipTests spotbugs:check checkstyle:check -Pfull-build"" exited with 1.
```","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1236111353"", ""author_association"": ""MEMBER""}"
1905,Revise,2022-09-06 08:56:33,tisonkun,fork_close,"trigger ci

Signed-off-by: tison <wander4096@gmail.com>","{""sha"": ""0eb5d5e1172d0aed9a493ef3a910fdda31a9fcf2"", ""author"": {""name"": ""tison"", ""email"": ""wander4096@gmail.com"", ""date"": ""2022-09-06T08:56:33Z""}, ""committer"": {""name"": ""tison"", ""email"": ""wander4096@gmail.com"", ""date"": ""2022-09-06T08:56:33Z""}}"
1905,IssueComment,2022-09-14 01:58:17,tisonkun,fork_close,ping @eolivelli @symat @anmolnar @maoling ,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1246133473"", ""author_association"": ""MEMBER""}"
1905,ReviewRejected,2022-09-27 09:56:18,symat,fork_close,"Thanks @tisonkun for the PR and sorry for the (very) late response. I went through the change, looks good to me. I like the new abstraction. 

Should we fear of any performance degradation? I think it is unlikely, but I haven't spent enough time on the PR to be sure and want to hear your opinion.","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1905#pullrequestreview-1121670071""}"
1905,IssueComment,2022-09-27 09:59:53,symat,fork_close,I tried to re-trigger CI. Seems to be some JAVA_HOME setup issue on the CI server?,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1259271962"", ""author_association"": ""CONTRIBUTOR""}"
1905,ReviewApproved,2022-09-29 13:13:13,eolivelli,fork_close,Great work. @tisonkun  !,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1905#pullrequestreview-1125273985""}"
1905,IssueComment,2022-10-02 10:47:00,tisonkun,fork_close,"> Should we fear of any performance degradation? I think it is unlikely, but I haven't spent enough time on the PR to be sure and want to hear your opinion.

@symat I don't have to completed performance coverage on this change. From the code change perspective:

1. `RequestRecord` (`ByteBufferRequestRecord`) is a semantically identical refactoring over current codebase.
2. About changing about the deserialization part during `PrepProcessor`, see https://github.com/apache/zookeeper/pull/1905#discussion_r962137523.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1264611113"", ""author_association"": ""MEMBER""}"
1905,ReviewApproved,2022-10-03 06:54:24,symat,fork_close,"Thanks, looks good to me","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1905#pullrequestreview-1127867397""}"
1905,IssueComment,2022-10-03 06:58:57,symat,fork_close,"Not related to this PR necessarily, but it would be nice to come up with some simple reproducible perf test later. Especially because this is part of a larger refactoring and in the end we should see if we have any degradation with Jute and also to compare Jute with any other protocol we choose later.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1265013563"", ""author_association"": ""CONTRIBUTOR""}"
1905,IssueComment,2022-10-03 07:00:32,symat,fork_close,CI still fails with the same java environment problem. I wonder if it affects also other PRs. Could maybe a rebase help here?,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1265014741"", ""author_association"": ""CONTRIBUTOR""}"
1905,IssueComment,2022-10-04 06:27:11,tisonkun,fork_close,@symat Thanks for your follow-up. I'm merging the lastest master.,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1266454787"", ""author_association"": ""MEMBER""}"
1905,Revise,2022-10-04 06:27:34,tisonkun,fork_close,Merge branch 'master' into request-supplier,"{""sha"": ""4cc0467b4dd03420937beb4861b531e4e34d700a"", ""author"": {""name"": ""tison"", ""email"": ""wander4096@gmail.com"", ""date"": ""2022-10-04T06:27:34Z""}, ""committer"": {""name"": ""tison"", ""email"": ""wander4096@gmail.com"", ""date"": ""2022-10-04T06:27:34Z""}}"
1905,ReviewComment,2022-10-04 06:38:59,sonatype-lift[bot],fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1905#pullrequestreview-1129366979""}"
1905,IssueComment,2022-10-04 06:39:02,sonatype-lift[bot],fork_close,:warning: **52 God Classes** were detected by Lift in this project. [Visit the Lift web console](https://lift.sonatype.com/results/github.com/apache/zookeeper/01GEGTVXP855YRJPBYZE6FX2D1?tab=technical-debt&utm_source=github.com&utm_campaign=lift-comment&utm_content=apache\%20zookeeper) for more details.,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1266467475"", ""author_association"": ""NONE""}"
1905,IssueComment,2022-10-05 01:10:42,tisonkun,fork_close,"@symat unfortunately, it seems no help :(","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1267789104"", ""author_association"": ""MEMBER""}"
1905,IssueComment,2022-10-05 01:14:29,tisonkun,fork_close,Let me try to update the travis config file...,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1267791450"", ""author_association"": ""MEMBER""}"
1905,Revise,2022-10-05 01:20:02,tisonkun,fork_close,"tidy travis config

Signed-off-by: tison <wander4096@gmail.com>","{""sha"": ""a1c85fbc3f27d90703042b5fd89a6a5d4c4b9b3a"", ""author"": {""name"": ""tison"", ""email"": ""wander4096@gmail.com"", ""date"": ""2022-10-05T01:20:02Z""}, ""committer"": {""name"": ""tison"", ""email"": ""wander4096@gmail.com"", ""date"": ""2022-10-05T01:20:02Z""}}"
1905,Revise,2022-10-05 03:17:30,tisonkun,fork_close,"try export JAVA_HOME on arm64

Signed-off-by: tison <wander4096@gmail.com>","{""sha"": ""2defeb569eaea2851c1a3894b5bcbc473339ffdb"", ""author"": {""name"": ""tison"", ""email"": ""wander4096@gmail.com"", ""date"": ""2022-10-05T03:17:30Z""}, ""committer"": {""name"": ""tison"", ""email"": ""wander4096@gmail.com"", ""date"": ""2022-10-05T03:17:30Z""}}"
1905,Revise,2022-10-05 05:30:03,tisonkun,fork_close,"try fix yaml multiple lines

Signed-off-by: tison <wander4096@gmail.com>","{""sha"": ""21d2391c869b7a473cf56e26c8c4ca42416abab3"", ""author"": {""name"": ""tison"", ""email"": ""wander4096@gmail.com"", ""date"": ""2022-10-05T05:30:03Z""}, ""committer"": {""name"": ""tison"", ""email"": ""wander4096@gmail.com"", ""date"": ""2022-10-05T05:30:03Z""}}"
1905,IssueComment,2022-10-05 05:40:52,tisonkun,fork_close,"@symat Fixed now. Please help with merging :)

cc @eolivelli ","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1267967697"", ""author_association"": ""MEMBER""}"
1905,IssueComment,2022-10-05 07:17:28,symat,fork_close,"cool, thanks @tisonkun !
@eolivelli - do you think it is OK if I go ahead and merge this? Having travis fix mixed up with the refactoring might not be nice, but on the other hand we won't cherry pick this one to other branches anyway.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1268045253"", ""author_association"": ""CONTRIBUTOR""}"
1905,IssueComment,2022-10-05 11:39:08,eolivelli,fork_close,+1 to merge,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1268319975"", ""author_association"": ""CONTRIBUTOR""}"
1905,ClosePR,2022-10-05 15:56:30,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7526507634"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/3daefac37e8a7b456542c91adea541a938df1214""}"
1905,IssueCommentSupplement,2022-10-05 15:58:04,symat,fork_close,merged to the master branch. Thank you @tisonkun for your contribution!,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1268626039"", ""author_association"": ""CONTRIBUTOR""}"
1905,DeleteBranch,2022-10-05 16:07:30,tisonkun,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7526587919"", ""commit_url"": null}"
1905,IssueCommentSupplement,2022-10-05 16:07:35,tisonkun,fork_close,Thank you!,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1268636785"", ""author_association"": ""MEMBER""}"
1905,CrossReferenced,2022-11-02 02:45:45,anuragmadnawat1,fork_close,ZOOKEEPER-4575: ZooKeeperServer#processPacket take record instead of bytes,"{""reference"": {""url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/issues/79"", ""is_pull_request"": true}}"
1905,Referenced,2022-11-02 02:45:46,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7718824485"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/872d19e47c716c66ec99d25c5c7f65a75823c30a""}"
1905,Referenced,2022-11-02 03:00:56,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7718888531"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/0b96ba9876e4d46c0d043d9b368e6ce239c7dae4""}"
1911,SubmitCommit,2022-07-31 15:02:12,AnanyaSingh2121,fork_merge,ZOOKEEPER-4602 : Upgrade reload4j due to XXE vulnerability,"{""sha"": ""d8a8676d257bad60dcf813f598f01076295b5f5c"", ""author"": {""name"": ""Ananya Singh"", ""email"": ""purpul90@gmail.com"", ""date"": ""2022-07-31T15:00:10Z""}, ""committer"": {""name"": ""Ananya Singh"", ""email"": ""purpul90@gmail.com"", ""date"": ""2022-07-31T15:02:12Z""}}"
1911,OpenPR,2022-07-31 15:04:42,AnanyaSingh2121,fork_merge,,
1911,ReviewApproved,2022-08-01 17:53:20,ctubbsii,fork_merge,,"{""author_association"": ""MEMBER"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1911#pullrequestreview-1057658544""}"
1911,IssueComment,2022-08-08 10:17:48,brahmareddybattula,fork_merge,lgtm (non-binding).  Can you please update for branch-3.7 also.,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1207934349"", ""author_association"": ""CONTRIBUTOR""}"
1911,IssueComment,2022-08-14 05:30:02,AnanyaSingh2121,fork_merge,updated for branch-3.7 also : https://github.com/apache/zookeeper/pull/1914,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1214288989"", ""author_association"": ""CONTRIBUTOR""}"
1911,ReviewApproved,2022-08-15 16:02:01,anmolnar,fork_merge,"lgtm.

Has it been upgraded on the master branch yet?","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1911#pullrequestreview-1072881516""}"
1911,IssueComment,2022-08-15 16:05:51,anmolnar,fork_merge,"> lgtm.
> 
> Has it been upgraded on the master branch yet?

No, because we use `logback` on master/3.8. Sorry ignore my comment.
Though you don't need to create pull requests for every single branch. The patch is trivial, it should be easily backported by the merge script.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1215248606"", ""author_association"": ""CONTRIBUTOR""}"
1911,IssueComment,2022-09-02 11:15:43,maoling,fork_merge,"If no other concerns, I'll merge it at this weekend(09-03).","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1235374558"", ""author_association"": ""MEMBER""}"
1911,ReviewApproved,2022-09-02 14:19:32,eolivelli,fork_merge,,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1911#pullrequestreview-1094952065""}"
1911,MergePR,2022-09-02 14:19:41,eolivelli,fork_merge,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7313667934"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/f1beda5fedba4269db0720ae5bbbf45db087110d""}"
1911,IssueCommentSupplement,2022-09-02 14:24:11,eolivelli,fork_merge,"@AnanyaSingh2121 can you please send the same patch for master branch and branch-3.8 ?

I didn't see that the patch targeted branch-3.6
we must apply this fix to all active branches","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1235567868"", ""author_association"": ""CONTRIBUTOR""}"
1911,IssueCommentSupplement,2022-09-02 14:25:36,eolivelli,fork_merge,"Sorry, I missed @anmolnar 's comment. Since 3.8 we are already good as we are on logback","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1235569439"", ""author_association"": ""CONTRIBUTOR""}"
1913,SubmitCommit,2022-08-03 02:12:59,nagikami,fork_close,"ZOOKEEPER-4605: When deciding whether to send more notifications, no check is made that all queues are empty","{""sha"": ""96aace0a42b740dba90d68b8ce988205d0d33237"", ""author"": {""name"": ""nagikami"", ""email"": ""jiuhaokami@gmail.com"", ""date"": ""2022-08-03T02:12:59Z""}, ""committer"": {""name"": ""nagikami"", ""email"": ""jiuhaokami@gmail.com"", ""date"": ""2022-08-03T02:12:59Z""}}"
1913,OpenPR,2022-08-03 02:36:54,nagikami,fork_close,,
1913,ClosePR,2022-08-03 06:00:03,nagikami,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7115556487"", ""commit_url"": null}"
1913,DeleteBranch,2022-08-03 06:00:58,nagikami,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7115560474"", ""commit_url"": null}"
1914,SubmitCommit,2022-08-09 14:20:21,AnanyaSingh2121,fork_merge,ZOOKEEPER-4602 : Upgrade reload4j due to XXE vulnerability,"{""sha"": ""d47348abee0fb481ee9f839844664c3a04acaf05"", ""author"": {""name"": ""Ananya Singh"", ""email"": ""purpul90@gmail.com"", ""date"": ""2022-07-31T15:00:10Z""}, ""committer"": {""name"": ""Ananya Singh"", ""email"": ""purpul90@gmail.com"", ""date"": ""2022-08-09T14:20:21Z""}}"
1914,OpenPR,2022-08-09 14:23:16,AnanyaSingh2121,fork_merge,,
1914,CrossReferenced,2022-08-14 05:30:02,AnanyaSingh2121,fork_merge,ZOOKEEPER-4602 : Upgrade reload4j due to XXE vulnerability,"{""reference"": {""url"": ""https://api.github.com/repos/apache/zookeeper/issues/1911"", ""is_pull_request"": true}}"
1914,ReviewApproved,2022-09-02 14:20:25,eolivelli,fork_merge,LGTM,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1914#pullrequestreview-1094953291""}"
1914,MergePR,2022-09-02 14:26:36,eolivelli,fork_merge,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7313719887"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/8d2244255d8315bfa77227c519a1d73050291940""}"
1920,SubmitCommit,2021-01-17 20:23:00,lanicc,fork_close,"ZOOKEEPER-4058: Update checkstyle to the latest version 8.39

1.update checkstyle to latest version 8.39
See [https://checkstyle.sourceforge.io/config_javadoc.html](https://checkstyle.sourceforge.io/config_javadoc.html)

- JavadocMethod: remove properties `allowMissingJavadoc,allowMissingThrowsTags,allowThrowsTagsForSubclasses,allowUndeclaredRTE`

- LineLength: change it's parent to Checker

2.update XML dtd: `checkstyle-strict.xml, checkstyle-simple.xml, checkstyleSuppressions.xml`

3.fix code style:
- `QuorumPeer.java, PemReader.java`.  Operators like + and ? appear at newlines rather than at the end of the previous line.
- license of `TestApacheCuratorCompatibility.java`. Checkstyle JavadocParagraph:`<p>` tag should be placed immediately before the first word.

Author: lan <1728209643@qq.com>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Damien Diederen <ddiederen@apache.org>

Closes #1579 from lanicc/ZOOKEEPER-4058

(cherry picked from commit e8dc2b3210b001094b6179e0deacdb2cebded31f)
Signed-off-by: Damien Diederen <ddiederen@apache.org>","{""sha"": ""e74460ace03f3913ef854abe3a85afbd44af24a6"", ""author"": {""name"": ""lan"", ""email"": ""1728209643@qq.com"", ""date"": ""2021-01-17T20:20:43Z""}, ""committer"": {""name"": ""Damien Diederen"", ""email"": ""ddiederen@apache.org"", ""date"": ""2021-01-17T20:23:00Z""}}"
1920,SubmitCommit,2021-01-19 08:08:46,maoling,fork_close,"ZOOKEEPER-3301: Enforce the quota limit

- Thanks for the original work from ZOOKEEPER-1383, ZOOKEEPER-2593, ZOOKEEPER-451, especially the work from ZOOKEEPER-1383 contributed by [Thawan Kooburat](https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thawan)(I also sign off his name in the commit message) which also implemented the very valuable throughput quota.In the further, we will also do this.
- `zookeeper.enforeQuota`. When enabled and the client exceeds the total bytes or children count hard quota under a znode, the server will reject the request and reply the client a `QuotaExceededException` by force. The default value is: false.
- the checkQuota involves the `create()` and `setData()` api, not including the `delete()`.
- When users set the quota which's less than the existing stats, we give a thoughtful warning info.
- the following code in the StatsTrack has a bad augmentability:

  >             if (split.length != 2) {
  >                 throw new IllegalArgumentException(""invalid string "" + stats);
  >             }

   we do a trick to solve it for the expansibility, but we will get a little strange quota info(`Output quota for /c2 count=-1,bytes=-1=;byteHardLimit=-1;countHardLimit=5`) when using `listquota`. some UTs has covered it.
- the logic about `checkQuota` should be put in the `PrepRequestProcessor`, other than `DataTree`.
  we will get the following two negative effects if putting `checkQuota` in the `DataTree`:
  - 1. When the write request has exceeded the quota, the corresponding transaction log will load into disk successfully.It's not good, although it has any data inconsistency issue, because when the server restart, so long as the transaction logs are applied in the same order, the exceeded nodes will not be applied into the state machine.
  - 2. the client will be blocking and waiting for the response, because when throwing `QuotaExceededException` in the the `DataTree`, the` rc.stat` will be `null` and `BinaryOutputArchive#writeRecord` will throw `NPE`.
  - 3. Overall, the pre-check about the write request should be done in the `PrepRequestProcessor`(at least before `SyncRequestProcessor`)(Look at an example from `checkACL()`)
- more detail in the [ZOOKEEPER-3301](https://issues.apache.org/jira/browse/ZOOKEEPER-3301).
- [Added in 2020-02-25] use `RateLogger` to replace `LOG` to avoid quota exceed logs flooding the disk
- A `TODO` improvement is: only users have admin permission can write to `/zookeeper/quota`(just like `/zookeeper/config`) to avoid some users' misoperation

Author: maoling <maoling199210191@sina.com>

Reviewers: Mate Szalay-Beko <symat@apache.org>, Damien Diederen <ddiederen@apache.org>, Enrico Olivelli <eolivelli@apache.org>, Michael Han <hanm@apache.org>

Closes #934 from maoling/ZOOKEEPER-3301

(cherry picked from commit 190a227aa9d4655ebfe6ba9f5c2da426da8c5d98)
Signed-off-by: Damien Diederen <ddiederen@apache.org>","{""sha"": ""695bb473a3f7585abef06353b8575ec732241a09"", ""author"": {""name"": ""maoling"", ""email"": ""maoling199210191@sina.com"", ""date"": ""2021-01-19T08:05:37Z""}, ""committer"": {""name"": ""Damien Diederen"", ""email"": ""ddiederen@apache.org"", ""date"": ""2021-01-19T08:08:46Z""}}"
1920,SubmitCommit,2021-01-19 11:43:53,ztzg,fork_close,"ZooKeeper 3.7.0: Release notes

References:

  https://issues.apache.org/jira/projects/ZOOKEEPER/versions/12346617

  https://issues.apache.org/jira/secure/ReleaseNote.jspa?projectId=12310801&version=12346617","{""sha"": ""ac5506e25c062718e568efa8aabfba43dbc96f9e"", ""author"": {""name"": ""Damien Diederen"", ""email"": ""dd@crosstwine.com"", ""date"": ""2021-01-14T18:53:52Z""}, ""committer"": {""name"": ""Damien Diederen"", ""email"": ""dd@crosstwine.com"", ""date"": ""2021-01-19T11:43:53Z""}}"
1920,SubmitCommit,2021-01-19 11:45:09,ztzg,fork_close,Prepared 3.7.1-SNAPSHOT,"{""sha"": ""0bf638e751183bd6bd4f472a6bc82d4fa459995b"", ""author"": {""name"": ""Damien Diederen"", ""email"": ""ddiederen@apache.org"", ""date"": ""2021-01-19T09:38:11Z""}, ""committer"": {""name"": ""Damien Diederen"", ""email"": ""dd@crosstwine.com"", ""date"": ""2021-01-19T11:45:09Z""}}"
1920,SubmitCommit,2021-01-24 18:12:30,ztzg,fork_close,"ZOOKEEPER-4191: Work around missing executable bits in source release tarball

symat noticed that the source tarball for 3.7.0rc0 is missing executable bits.

ztzg noticed that this can be worked around by reinstating the ""old"" version of the maven-assembly-plugin, which had been aligned in ZOOKEEPER-3833.

This patch implements the work around, and also applies cleanly on top of `branch-3.7.0` and `branch-3.7`.

Also discussed on dev:

  https://mail-archives.apache.org/mod_mbox/zookeeper-dev/202101.mbox/%3C875z3n9w75.fsf%40crosstwine.com%3E

Original report:

  https://mail-archives.apache.org/mod_mbox/zookeeper-dev/202101.mbox/%3cCAAMoRKLMf7tLosgqyiwYfFxXq-Zmiz=0oTGDijX5M=MHDF_JCgmail.gmail.com%3e

Author: Damien Diederen <dd@crosstwine.com>

Reviewers: Enrico Olivelli <eolivelli@apache.org>

Closes #1586 from ztzg/ZOOKEEPER-4191-missing-x-bits-source-tarball

(cherry picked from commit e7d67da8d49ab0bb19ff1c2a5e5ce02f23596402)
Signed-off-by: Damien Diederen <ddiederen@apache.org>","{""sha"": ""5920c46252d15722a8ac6cee7b69c4056a358a7e"", ""author"": {""name"": ""Damien Diederen"", ""email"": ""dd@crosstwine.com"", ""date"": ""2021-01-24T18:11:25Z""}, ""committer"": {""name"": ""Damien Diederen"", ""email"": ""ddiederen@apache.org"", ""date"": ""2021-01-24T18:12:30Z""}}"
1920,SubmitCommit,2021-01-24 18:18:43,brentwritescode,fork_close,"ZOOKEEPER-3943: Zookeeper Inspector throwing NullPointerExceptions and not displaying properly

ISSUE
---
See https://issues.apache.org/jira/browse/ZOOKEEPER-3943 for details on the issue.

There are two main things being addressed in this PR:

1. The Maven build for ZooInspector seems to generate an invalid JAR file that is missing graphical resources that cause the application to be non-functional (UI does not render properly, NullPointerExceptions occur constantly, etc.).

2. The current Maven build instructions and run scripts for ZooInspector involve building, moving JAR files around, using relative entries on the CLASSPATH and running the scripts from the correct directory in order to use the `zooInspector.sh`/`zooInspector.cmd` launch scripts.

FIXES
---
For number 1, the fix is to add the `src/main/resources/*` directories to the JAR artifact built by Maven.

For number 2, I've proposed changing the Maven build to use the [Maven Assembly Plugin](http://maven.apache.org/plugins/maven-assembly-plugin/) to build a single ""fat jar"" for ZooInspector that contains all of its dependencies.  The result is that building and running the tool is easier and more straightforward (in my opinion):

```
git clone https://github.com/apache/zookeeper.git
cd zookeeper
mvn install -DskipTests
cd zookeeper-contrib/zookeeper-contrib-zooinspector
mvn install
./zooInspector.sh
```

And based on the ""fat jar"" style of build and updates to the run scripts, the `zooInspector.sh` and `zooInspector.cmd` commands now successfully execute from any directory (once the project is built) as opposed to requiring you to be in the same directory as the scripts.

My hope is that these changes allow people like myself who are mainly interested in using ZooInspector to easily clone the repository, build and run the tool without any issues.  I spent a chunk of time getting this all working for myself and I hope I can save others some trouble.

TESTING
---
I've tested cloning, building and running ZooInspector on Windows 10, Mac OS X Mojave (10.14.6) and Ubuntu Linux 18.04 using the steps above (on Java 8).

I ran `mvn verify spotbugs:check checkstyle:check -Pfull-build -Dsurefire-forkcount=4` in the root directory (per https://cwiki.apache.org/confluence/display/ZOOKEEPER/HowToContribute#HowToContribute-FinalChecksonPullRequest) and got these results:

```
[INFO]
[ERROR] Tests run: 2881, Failures: 4, Errors: 4, Skipped: 4
[INFO]
[INFO] ------------------------------------------------------------------------
[INFO] Reactor Summary for Apache ZooKeeper 3.7.0-SNAPSHOT:
[INFO]
[INFO] Apache ZooKeeper ................................... SUCCESS [  7.731 s]
[INFO] Apache ZooKeeper - Documentation ................... SUCCESS [  3.223 s]
[INFO] Apache ZooKeeper - Jute ............................ SUCCESS [ 32.705 s]
[INFO] Apache ZooKeeper - Server .......................... FAILURE [30:28 min]
[INFO] Apache ZooKeeper - Metrics Providers ............... SKIPPED
[INFO] Apache ZooKeeper - Prometheus.io Metrics Provider .. SKIPPED
[INFO] Apache ZooKeeper - Client .......................... SKIPPED
[INFO] Apache ZooKeeper - Client - C ...................... SKIPPED
[INFO] Apache ZooKeeper - Recipes ......................... SKIPPED
[INFO] Apache ZooKeeper - Recipes - Election .............. SKIPPED
[INFO] Apache ZooKeeper - Recipes - Lock .................. SKIPPED
[INFO] Apache ZooKeeper - Recipes - Queue ................. SKIPPED
[INFO] Apache ZooKeeper - Assembly ........................ SKIPPED
[INFO] Apache ZooKeeper - Compatibility Tests ............. SKIPPED
[INFO] Apache ZooKeeper - Compatibility Tests - Curator ... SKIPPED
[INFO] Apache ZooKeeper - Tests ........................... SKIPPED
[INFO] Apache ZooKeeper - Contrib ......................... SKIPPED
[INFO] Apache ZooKeeper - Contrib - Fatjar ................ SKIPPED
[INFO] Apache ZooKeeper - Contrib - Loggraph .............. SKIPPED
[INFO] Apache ZooKeeper - Contrib - Rest .................. SKIPPED
[INFO] Apache ZooKeeper - Contrib - ZooInspector .......... SKIPPED
[INFO] ------------------------------------------------------------------------
[INFO] BUILD FAILURE
[INFO] ------------------------------------------------------------------------
[INFO] Total time:  31:12 min
[INFO] Finished at: 2020-12-05T01:08:27Z
[INFO] ------------------------------------------------------------------------
```
Since all of my proposed changes are in the `zookeeper-contrib` subtree, I'm assuming this doesn't have anything to do with my changes.  Running the same command in the `zookeeper-contrib` directory seems to pass for those tests:

```
[INFO] ------------------------------------------------------------------------
[INFO] Reactor Summary for Apache ZooKeeper - Contrib 3.7.0-SNAPSHOT:
[INFO]
[INFO] Apache ZooKeeper - Contrib ......................... SUCCESS [  8.590 s]
[INFO] Apache ZooKeeper - Contrib - Fatjar ................ SUCCESS [ 13.636 s]
[INFO] Apache ZooKeeper - Contrib - Loggraph .............. SUCCESS [ 20.515 s]
[INFO] Apache ZooKeeper - Contrib - Rest .................. SUCCESS [ 13.394 s]
[INFO] Apache ZooKeeper - Contrib - ZooInspector .......... SUCCESS [ 17.056 s]
[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time:  01:14 min
[INFO] Finished at: 2020-12-05T01:13:22Z
[INFO] ------------------------------------------------------------------------
```

Author: brentwritescode <brentwritescode@gmail.com>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Damien Diederen <ddiederen@apache.org>

Closes #1551 from brentwritescode/master

(cherry picked from commit 62e29cc5abe1cd5b668160ae0b3287a927fc429b)
Signed-off-by: Damien Diederen <ddiederen@apache.org>","{""sha"": ""30d0eeef929baa73983e19dae3a51b02a88c8b36"", ""author"": {""name"": ""brentwritescode"", ""email"": ""brentwritescode@gmail.com"", ""date"": ""2021-01-24T18:17:12Z""}, ""committer"": {""name"": ""Damien Diederen"", ""email"": ""ddiederen@apache.org"", ""date"": ""2021-01-24T18:18:43Z""}}"
1920,SubmitCommit,2021-01-24 18:24:49,maoling,fork_close,"ZOOKEEPER-4188: add a doc about whoami CLI

Author: maoling <maoling199210191@sina.com>

Reviewers: Damien Diederen <ddiederen@apache.org>

Closes #1585 from maoling/ZOOKEEPER-4188

(cherry picked from commit a4d7586f397290b7265b4f52ec64af5ee6fe0778)
Signed-off-by: Damien Diederen <ddiederen@apache.org>","{""sha"": ""be1e5bac76251b9603092be0f5dcfe13e1fe7510"", ""author"": {""name"": ""maoling"", ""email"": ""maoling199210191@sina.com"", ""date"": ""2021-01-24T18:24:03Z""}, ""committer"": {""name"": ""Damien Diederen"", ""email"": ""ddiederen@apache.org"", ""date"": ""2021-01-24T18:24:49Z""}}"
1920,SubmitCommit,2021-01-24 19:58:13,ztzg,fork_close,ZooKeeper 3.7.0: Release notes,"{""sha"": ""4988ac8ad256db3ce1393754f0f749971e918844"", ""author"": {""name"": ""Damien Diederen"", ""email"": ""dd@crosstwine.com"", ""date"": ""2021-01-24T18:36:12Z""}, ""committer"": {""name"": ""Damien Diederen"", ""email"": ""ddiederen@apache.org"", ""date"": ""2021-01-24T19:58:13Z""}}"
1920,SubmitCommit,2021-02-04 08:17:06,brentwritescode,fork_close,"ZOOKEEPER-4050: Zookeeper Inspector reports ""List of default node viewers is empty"" when not specifically run from the zookeeper-contrib/zookeeper-contrib-zooinspector directory

ISSUE
---
See https://issues.apache.org/jira/browse/ZOOKEEPER-4050 for details on the issue.

This is a follow-on PR to issues identified in https://github.com/apache/zookeeper/pull/1551.  While that PR fixed some launch issues, currently ZooInspector still needs to be run from the root ZooInspector directory because it expects the `defaultConnectionSettings.cfg` and `defaultNodeViewers.cfg` to exist on the filesystem in a specific location.  The previous PR ensured that these files are now bundled into the fat jar built by Maven, so this new PR makes the checks for these files fall back to checking the classpath (i.e. checking inside the jar) for these files if they can't be found on the filesystem first.  This means that the `zooInspector.sh` and `zooInspector.cmd` scripts can now be run from anywhere once the project is built.

TESTING
---
I've tested cloning, building and running ZooInspector on Mac OS Catalina (10.15.7) on Java 8 with these fixes and invoking `zooInspector.sh` from different directories to ensure it runs properly and doesn't display the aforementioned error.

I ran `mvn verify spotbugs:check checkstyle:check -Pfull-build -Dsurefire-forkcount=4` in the `zookeeper-contrib/zookeeper-contrib-zooinspector` directory (per https://cwiki.apache.org/confluence/display/ZOOKEEPER/HowToContribute#HowToContribute-FinalChecksonPullRequest) and got these results:

```
[INFO] You have 0 Checkstyle violations.
[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time:  15.037 s
[INFO] Finished at: 2021-02-01T20:30:04-08:00
[INFO] ------------------------------------------------------------------------
```

Since all of my proposed changes are in the `zookeeper-contrib` subtree (and specifically only in `zookeeper-contrib-zooinspector`, I did not run the wider unit tests for the Zookeeper project as a whole.

Author: brentwritescode <brentwritescode@gmail.com>
Author: Brent Nash <brent.nash@crowdstrike.com>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Damien Diederen <ddiederen@apache.org>

Closes #1589 from brentwritescode/ZOOKEEPER-4050

(cherry picked from commit 245ff759b0e9fe0a1815e03433306ac805bf5e95)
Signed-off-by: Damien Diederen <ddiederen@apache.org>","{""sha"": ""6535f39db5ebd94e50e0089142e626fe3024fdfa"", ""author"": {""name"": ""brentwritescode"", ""email"": ""brentwritescode@gmail.com"", ""date"": ""2021-02-04T08:15:37Z""}, ""committer"": {""name"": ""Damien Diederen"", ""email"": ""ddiederen@apache.org"", ""date"": ""2021-02-04T08:17:06Z""}}"
1920,SubmitCommit,2021-02-09 15:31:17,anmolnar,fork_close,"ZOOKEEPER-4207: Remove extra checkout from Jenkinsfile

I believe we don't need to add the git checkout to the ""Steps"" section. I cannot see it neither in owasp nor the PR jenkinsfiles. Also I see that master branch gets also checked out during our normal builds, so I hope this will fix it.

Target branches: master, branch-3.7, branch-3.6, branch-3.5

Author: Andor Molnar <andor@apache.org>

Reviewers: Enrico Olivelli <eolivelli@apache.org>

Closes #1600 from anmolnar/ZOOKEEPER-4207

(cherry picked from commit 8c68933226595b839ba3694dacd39cd2b2a21878)
Signed-off-by: Enrico Olivelli <eolivelli@datastax.com>","{""sha"": ""0a9d54edc79873e67bf81a57ab4759c2739edfce"", ""author"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2021-02-09T15:30:54Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@datastax.com"", ""date"": ""2021-02-09T15:31:17Z""}}"
1920,SubmitCommit,2021-02-17 17:14:24,ctubbsii,fork_close,"ZOOKEEPER-3987: Reduce fork count for tests to 1

Increase test stability by avoiding test failures due to port
collisions by preventing tests from running concurrently in
the GitHub Actions CI builds.

Author: Christopher Tubbs <ctubbsii@apache.org>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Damien Diederen <ddiederen@apache.org>

Closes #1606 from ctubbsii/reduce-forkCount

(cherry picked from commit c26f96c089f20902a39cb0088e68a5b58e35c024)
Signed-off-by: Damien Diederen <ddiederen@apache.org>","{""sha"": ""351deb81d79172a26ddf180777147584f3142a11"", ""author"": {""name"": ""Christopher Tubbs"", ""email"": ""ctubbsii@apache.org"", ""date"": ""2021-02-17T17:12:11Z""}, ""committer"": {""name"": ""Damien Diederen"", ""email"": ""ddiederen@apache.org"", ""date"": ""2021-02-17T17:14:24Z""}}"
1920,SubmitCommit,2021-02-17 17:25:22,frederiko,fork_close,"ZOOKEEPER-4209: Update Netty to 4.1.59.Final

Update Netty to 4.1.59.Final on to address the vulnerability described at https://snyk.io/vuln/SNYK-JAVA-IONETTY-1020439

Author: Frederiko Costa <frederiko@gmail.com>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Damien Diederen <ddiederen@apache.org>

Closes #1605 from frederiko/netty-4.1.59-update

(cherry picked from commit 884fc38db166617e03d03f793ef917febcc131be)
Signed-off-by: Damien Diederen <ddiederen@apache.org>","{""sha"": ""517cb46328b2f0855edda808d687dad77244bc5f"", ""author"": {""name"": ""Frederiko Costa"", ""email"": ""frederiko@gmail.com"", ""date"": ""2021-02-17T17:22:40Z""}, ""committer"": {""name"": ""Damien Diederen"", ""email"": ""ddiederen@apache.org"", ""date"": ""2021-02-17T17:25:22Z""}}"
1920,SubmitCommit,2021-02-26 09:38:24,Mathieu Marie,fork_close,"ZOOKEEPER-4221: Improve the error message when message goes above jute.maxbufer size

Author: Mathieu Marie <mmarie@salesforce.com>

Reviewers: Damien Diederen <dd@crosstwine.com>, Mate Szalay-Beko <symat@apache.org>

Closes #1614 from mariemat/ZOOKEEPER-4221

(cherry picked from commit 94d0c4d8558e1b201665bb9dffd33dacbc7ca945)
Signed-off-by: Mate Szalay-Beko <symat@apache.org>","{""sha"": ""81d26db1b4d2a4e3d97df9bfe43911eb6e18bfe0"", ""author"": {""name"": ""Mathieu Marie"", ""email"": ""mmarie@salesforce.com"", ""date"": ""2021-02-26T09:35:02Z""}, ""committer"": {""name"": ""Mate Szalay-Beko"", ""email"": ""symat@apache.org"", ""date"": ""2021-02-26T09:38:24Z""}}"
1920,SubmitCommit,2021-03-01 07:39:47,ztzg,fork_close,"ZOOKEEPER-4219: Quota checks break setData in multi transactions

Without this patch, a multi() transaction such as the one implemented
in ZooKeeperQuotaTest.testMultiCreateThenSetDataShouldWork fails with
MarshallingError when 'enforceQuota' is enabled.

This happens whenever the node has an associated quota, whether it was
exceeded or not.

This is due to the server encountering null while trying to access a
database node by path--whereas that node only exists as a ChangeRecord
in the server's 'outstandingChanges' list:

    java.lang.NullPointerException
        at org.apache.zookeeper.server.ZooKeeperServer.checkQuota(ZooKeeperServer.java:2048)
        at org.apache.zookeeper.server.PrepRequestProcessor.pRequest2Txn(PrepRequestProcessor.java:397)

The patch adds an additional 'lastData' parameter to the quota
checking function, and passes the data from the ChangeRecord during
'setData' operations.

Author: Damien Diederen <dd@crosstwine.com>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Mate Szalay-Beko <symat@apache.org>, Norbert Kalmar <nkalmar@apache.org>

Closes #1611 from ztzg/ZOOKEEPER-4219-quota-multi-setdata

(cherry picked from commit eb1569e4fbb55d12fa6211fbd997aa592fcb01af)
Signed-off-by: Norbert Kalmar <nkalmar@apache.org>","{""sha"": ""fd8b6fcdca52285a04b2f60c019d868e1cb30d68"", ""author"": {""name"": ""Damien Diederen"", ""email"": ""dd@crosstwine.com"", ""date"": ""2021-03-01T07:36:33Z""}, ""committer"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@apache.org"", ""date"": ""2021-03-01T07:39:47Z""}}"
1920,SubmitCommit,2021-03-02 06:09:05,arshadmohammad,fork_close,"ZOOKEEPER-3877: JMX Bean RemotePeerBean should enclose IPV6 host in square bracket same as LocalPeerBean

…quare bracket same as LocalPeerBean

Author: Mohammad Arshad <arshad@apache.org>

Reviewers: Enrico Olivelli <eolivelli@apache.org>

Closes #1493 from arshadmohammad/ZOOKEEPER-3877-master

(cherry picked from commit 425ee189dcf952fd7a2a38df375ec245dcdfbfc6)
Signed-off-by: Mohammad Arshad <arshad@apache.org>","{""sha"": ""f49aeef86d0cc6a909b2125e7ac03e1ecec61ee0"", ""author"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2021-03-02T06:07:47Z""}, ""committer"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2021-03-02T06:09:05Z""}}"
1920,SubmitCommit,2021-03-06 19:42:29,srdo,fork_close,"ZOOKEEPER-3781: Create snapshots on followers when snapshot.trust.empty is true

snapshot.trust.empty is an escape hatch for users upgrading from 3.4.x to later Zookeeper
versions, allowing nodes to start with a non-empty transaction log but no snapshot.

The intent is for this setting to be enabled for a short while during the upgrade,
and then disabled again, as the check it disables is a safety feature.

Prior to this PR, a node would only write a snapshot locally if it became leader,
or if it had fallen so far behind the leader that the leader sent a SNAP message instead
of a DIFF. This made the upgrade process inconvenient, as not all nodes would create
a snapshot when snapshot.trust.empty was true, meaning that the safety check could
not be flipped back on.

This PR makes follower nodes write a local snapshot when they receive NEWLEADER,
if they have no local snapshot and snapshot.trust.empty is true.

Author: Stig Rohde Døssing <stig@humio.com>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Damien Diederen <ddiederen@apache.org>

Closes #1581 from srdo/zookeeper-3781

(cherry picked from commit 1214d3bf611d153ae8c3987523da01d3d6c82686)
Signed-off-by: Damien Diederen <ddiederen@apache.org>","{""sha"": ""679cc2b1015db6a0b41cf9223c826a4b565387e9"", ""author"": {""name"": ""Stig Rohde D\u00f8ssing"", ""email"": ""stig@humio.com"", ""date"": ""2021-03-06T19:38:43Z""}, ""committer"": {""name"": ""Damien Diederen"", ""email"": ""ddiederen@apache.org"", ""date"": ""2021-03-06T19:42:29Z""}}"
1920,SubmitCommit,2021-03-06 19:46:58,ztzg,fork_close,"ZOOKEEPER-4200: Widen latency window in WatcherCleanerTest

`WatcherCleanerTest` performs latency checks which fail when outside of a 20+Xms window.  Before this patch, X was 5ms—whereas 30+ms is frequently seen on an i5 Mac Mini running macOS Catalina.

This ""dumb"" patch just widens the window to 20ms, which makes it ""work on my machine,"" but could obviously still fail in a loaded environment or VM.

Author: Damien Diederen <dd@crosstwine.com>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Mate Szalay-Beko <symat@apache.org>

Closes #1592 from ztzg/ZOOKEEPER-4200-widen-latency-window","{""sha"": ""5d47a4ea40e4989841738178952025320cd1c30d"", ""author"": {""name"": ""Damien Diederen"", ""email"": ""dd@crosstwine.com"", ""date"": ""2021-02-17T19:18:55Z""}, ""committer"": {""name"": ""Damien Diederen"", ""email"": ""dd@crosstwine.com"", ""date"": ""2021-03-06T19:46:58Z""}}"
1920,SubmitCommit,2021-03-06 19:46:58,ztzg,fork_close,"ZOOKEEPER-4201: C client: Disable SASL deprecation warnings on macOS

This patch works around the numerous deprecation notices added to the CyrusSASL library on macOS.  It is a direct ""port"" of the solution to MESOS-3030, which hit exactly the same problem:

https://issues.apache.org/jira/browse/MESOS-3030

https://reviews.apache.org/r/39230/diff/3/

The PR also includes a fix for the the `clockid_t` compilation issue mentioned in the ticket description, but the test suite as a whole remains broken on macOS as its linker does not support the `--wrap` option.

Author: Damien Diederen <dd@crosstwine.com>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Mate Szalay-Beko <symat@apache.org>

Closes #1593 from ztzg/ZOOKEEPER-4201-catalina-c-client-fixes","{""sha"": ""d28153b38799c4516681da7941c50fb94f99935e"", ""author"": {""name"": ""Damien Diederen"", ""email"": ""dd@crosstwine.com"", ""date"": ""2021-02-17T19:20:38Z""}, ""committer"": {""name"": ""Damien Diederen"", ""email"": ""dd@crosstwine.com"", ""date"": ""2021-03-06T19:46:58Z""}}"
1920,SubmitCommit,2021-03-06 19:46:58,ztzg,fork_close,"ZOOKEEPER-4199: Avoid thread leak in QuorumRequestPipelineTest

`QuorumRequestPipelineTest` hosts parameterized tests which explicitly call `QuorumBase.setUp(boolean)`.

This patch overrides the argument-less `QuorumBase.setUp()` with an empty body, as the former is annotated `BeforeEach`-otherwise causing the runtime to start a fresh 5-ensemble before each test.

Without the override, one such extraneous ensemble is created and immediately leaked for each combination of test method + parameters.

The test consequently requires 4000+ simultaneous threads to complete, and while Linux happily handles that load, macOS Catalina's per-process limit of 2048 threads effectively causes the JVM to ""crash"" or lock up.

The solution is copied verbatim from another parameterized subclass of `QuorumBase`, `EagerACLFilterTest`.

Author: Damien Diederen <dd@crosstwine.com>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Mate Szalay-Beko <symat@apache.org>

Closes #1591 from ztzg/ZOOKEEPER-4199-thread-leak-qrp-test","{""sha"": ""658a700c14f304319ad06462310b00ecbc89f392"", ""author"": {""name"": ""Damien Diederen"", ""email"": ""dd@crosstwine.com"", ""date"": ""2021-02-18T08:40:55Z""}, ""committer"": {""name"": ""Damien Diederen"", ""email"": ""dd@crosstwine.com"", ""date"": ""2021-03-06T19:46:58Z""}}"
1920,SubmitCommit,2021-03-06 20:53:54,Mate Szalay-Beko,fork_close,"ZOOKEEPER-4220: Potential redundant connection attempts during leader election

We have a logic in the server code, that would try to connect to an other quorum member, based
on its server ID. We identify the address assigned to this ID first based on the last committed
quorum configuration. If the connection attempt fails (or the server is not known in the
committed configuration) then we try to find the address based on the last proposed quorum
configuration. But we should do the second connection attempt, only if the address in the
last proposed configuration differs from the address in the last committed configuration.
Otherwise we would just retry to connect to the same address that failed just right before.

In the current code we have a bug, because we compare the address object references (use ""!="")
instead of comparing the objects themselves (using ""not equals""). In certain edge cases (e.g.
when the last proposed and last committed addresses are the same, but the address is unreachable)
this bug can lead to unnecessary retry of connection attempts. The normal behaviour would be to
mark this connection attempt to be failed and wait for e.g. the next election round or wait for
the other server to come online and initiate a connection to us.

Author: Mate Szalay-Beko <symat@apache.org>

Reviewers: Andor Molnar <anmolnar@apache.org>, Damien Diederen <ddiederen@apache.org>

Closes #1615 from symat/ZOOKEEPER-4220

(cherry picked from commit 6022e03177b21606575152ac323205af3fbbe9d8)
Signed-off-by: Damien Diederen <ddiederen@apache.org>","{""sha"": ""ba94493c63005b4f7c7efc0aa9c35a2b39c00305"", ""author"": {""name"": ""Mate Szalay-Beko"", ""email"": ""symat@apache.org"", ""date"": ""2021-03-06T20:52:24Z""}, ""committer"": {""name"": ""Damien Diederen"", ""email"": ""ddiederen@apache.org"", ""date"": ""2021-03-06T20:53:54Z""}}"
1920,SubmitCommit,2021-03-06 21:10:37,ztzg,fork_close,ZooKeeper 3.7.0: Release notes,"{""sha"": ""4b8d10e77db0dbda7082f4b3f46678b3acd4d51b"", ""author"": {""name"": ""Damien Diederen"", ""email"": ""dd@crosstwine.com"", ""date"": ""2021-03-06T20:18:30Z""}, ""committer"": {""name"": ""Damien Diederen"", ""email"": ""dd@crosstwine.com"", ""date"": ""2021-03-06T21:10:37Z""}}"
1920,SubmitCommit,2021-03-09 17:17:26,ztzg,fork_close,"ZOOKEEPER-4232: InvalidSnapshotTest corrupts its own test data

`InvalidSnapshotTest.testSnapshot` starts an instance of
`ZooKeeperServer` on the version-controlled `resources/data/invalidsnap`
directory, which, as a side-effect, \""fixes\"" the following
snapshot—which was broken on purpose (see ZOOKEEPER-367):

`zookeeper-server/src/test/resources/data/invalidsnap/version-2/snapshot.83f`

This status quo creates a number of problems:

1.  It makes the test ineffective after the first run;
2.  The file shows as modified in version control tools, which can be
    annoying;
3.  The \""fixed\"" snapshot can end up being committed by mistake,
    invalidating the test.

(\#3 is not theoretical; that \""fixed\"" snapshot frequently shows up in
pull requests, and was recently merged into `master`.)

Author: Damien Diederen <dd@crosstwine.com>

Reviewers: Mohammad Arshad <arshad@apache.org>

Closes #1627 from ztzg/ZOOKEEPER-4232-invalid-snapshot-is-invalid-x-3.7 and squashes the following commits:

c18a895fa [Damien Diederen] ZOOKEEPER-4232: Ensure that ZOOKEEPER-367 test data fails to parse
42a5a0b6d [Damien Diederen] ZOOKEEPER-4232: Run InvalidSnapshotTest on a copy of test data","{""sha"": ""4a19dd12ed50bca4ae17f1fa0ce01c551d9d4915"", ""author"": {""name"": ""Damien Diederen"", ""email"": ""dd@crosstwine.com"", ""date"": ""2021-03-09T17:17:26Z""}, ""committer"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2021-03-09T17:17:26Z""}}"
1920,SubmitCommit,2021-03-10 05:23:04,ztzg,fork_close,"ZOOKEEPER-4233: dependency-check:check failing - Jetty 9.4.35.v20201120 - CVE-2020-27223

The OWASP checker reports that the version of Jetty currently
referenced by this branch is vulnerable to a CVE:

    [ERROR] Failed to execute goal org.owasp:dependency-check-maven:5.3.0:check (default-cli) on project zookeeper:
    [ERROR]
    [ERROR] One or more dependencies were identified with vulnerabilities that have a CVSS score greater than or equal to '0.0':
    [ERROR]
    [ERROR] jetty-server-9.4.35.v20201120.jar: CVE-2020-27223
    [ERROR] jetty-http-9.4.35.v20201120.jar: CVE-2020-27223

https://nvd.nist.gov/vuln/detail/CVE-2020-27223 describes it as:

> In Eclipse Jetty 9.4.6.v20170531 to 9.4.36.v20210114 (inclusive),
> 10.0.0, and 11.0.0 when Jetty handles a request containing multiple
> Accept headers with a large number of ""quality"" (i.e. q) parameters,
> the server may enter a denial of service (DoS) state due to high CPU
> usage processing those quality values, resulting in minutes of CPU
> time exhausted processing those quality values.

This changeset bumps Jetty to 9.4.38.v20210224, which is the latest
as of the commit date.

Author: Damien Diederen <dd@crosstwine.com>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Mohammad Arshad <arshad@apache.org>

Closes #1623 from ztzg/ZOOKEEPER-4023-jetty-CVE-2020-27223 and squashes the following commits:

7cb65fbf1 [Damien Diederen] zookeeper-server: Distribution tarball does not include jetty-client
59cffa16d [Damien Diederen] ZOOKEEPER-4233: dependency-check:check failing - Jetty 9.4.35.v20201120 - CVE-2020-27223

(cherry picked from commit 2f98b8feb297ca0b44f6686870078f2ce8d3d303)
Signed-off-by: Mohammad Arshad <arshad@apache.org>","{""sha"": ""85e926510085e55605255010245b7669513c906f"", ""author"": {""name"": ""Damien Diederen"", ""email"": ""dd@crosstwine.com"", ""date"": ""2021-03-10T05:21:38Z""}, ""committer"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2021-03-10T05:23:04Z""}}"
1920,SubmitCommit,2021-03-11 05:07:52,MuktiKrishnan,fork_close,"ZOOKEEPER-4230: Use dynamic temp folder instead of static temp folder in RestMain

Author: Mukti <muktikrishnan94@gmail.com>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Mohammad Arshad <arshad@apache.org>

Closes #1633 from MuktiKrishnan/ZOOKEEPER-4230-master

(cherry picked from commit 04471b2e117a0cbe08c42b0482f0adca93494e7c)
Signed-off-by: Mohammad Arshad <arshad@apache.org>","{""sha"": ""9afa065cf55d9b93351efe8c988ba850cb4cc246"", ""author"": {""name"": ""Mukti Krishnan"", ""email"": ""muktikrishnan94@gmail.com"", ""date"": ""2021-03-11T05:06:48Z""}, ""committer"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2021-03-11T05:07:52Z""}}"
1920,SubmitCommit,2021-03-11 18:36:05,MuktiKrishnan,fork_close,"ZOOKEEPER-1871: Add an option to zkCli to wait for connection before executing commands

-waitforconnection option will make zk client wait for -timeout time to connect to zk server.  timeout time is 30ms by default but can be specified explicitly for a session using -timeout option in command line.

Author: Mukti <muktikrishnan94@gmail.com>

Reviewers: maoling <maoling@apache.org>, Mohammad Arshad <arshad@apache.org>

Closes #1626 from MuktiKrishnan/ZOOKEEPER-1871-master and squashes the following commits:

2947514b2 [Mukti] ZOOKEEPER-1871: Removed statement which was re-creating zookeeper admin in ZooKeeperMain.java and added documentation for waitforconnection in zookeeperCLI.md and
c475d46ff [Mukti] ZOOKEEPER-1871: Add an option to zkCli to wailt for connection before executing commands

(cherry picked from commit 2e400114fdee9a870170749f6573d4499e1a850f)
Signed-off-by: Mohammad Arshad <arshad@apache.org>","{""sha"": ""834fb00b91472a59c3c266a8a7fbedab662bba38"", ""author"": {""name"": ""Mukti Krishnan"", ""email"": ""muktikrishnan94@gmail.com"", ""date"": ""2021-03-11T18:35:07Z""}, ""committer"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2021-03-11T18:36:05Z""}}"
1920,SubmitCommit,2021-03-17 07:22:57,arshadmohammad,fork_close,"ZOOKEEPER-4227: X509AuthFailureTest is failing consistently

Author: Mohammad Arshad <arshad@apache.org>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Damien Diederen <ddiederen@apache.org>

Closes #1635 from arshadmohammad/ZOOKEEPER-4227-branch-3.7","{""sha"": ""c5f2381dc3af678e122b42ad40f47f539f593ff1"", ""author"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2021-03-17T07:22:57Z""}, ""committer"": {""name"": ""Damien Diederen"", ""email"": ""ddiederen@apache.org"", ""date"": ""2021-03-17T07:22:57Z""}}"
1920,SubmitCommit,2021-03-17 07:27:37,abhilash1in,fork_close,"ZOOKEEPER-4231: Add documentation about snapshot compression.

This PR adds documentation about ZooKeeper's snapshot compression feature (see [ZOOKEEPER-3179](https://issues.apache.org/jira/browse/ZOOKEEPER-3179)) to `branch-3.7`.

Author: Abhilash Kishore <abkishore@linkedin.com>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Mohammad Arshad <arshad@apache.org>, Damien Diederen <ddiederen@apache.org>

Closes #1642 from abhilash1in/ZOOKEEPER-4231-branch-3.7","{""sha"": ""9022c513c7ba55b2cecc1f6a1011c309979e721d"", ""author"": {""name"": ""Abhilash Kishore"", ""email"": ""abkishore@linkedin.com"", ""date"": ""2021-03-17T07:27:37Z""}, ""committer"": {""name"": ""Damien Diederen"", ""email"": ""ddiederen@apache.org"", ""date"": ""2021-03-17T07:27:37Z""}}"
1920,SubmitCommit,2021-03-17 08:33:09,Amichai Rothman,fork_close,"ZOOKEEPER-4205: Change X509AuthFailureTest to use dynamically assigned free port

…d free port

Author: Amichai Rothman <amichai@apache.org>

Reviewers: Damien Diederen <dd@crosstwine.com>,Andor Molnar <andor@apache.org>,Christopher Tubbs <ctubbsii@apache.org>,Mohammad Arshad <arshad@apache.org>

Closes #1599 from amichair/ZOOKEEPER-4205

(cherry picked from commit c74658d398cdc1d207aa296cb6e20de00faec03e)
Signed-off-by: Mohammad Arshad <arshad@apache.org>","{""sha"": ""785d7fec6fffae4a68675c2cc9d2af9b07c57627"", ""author"": {""name"": ""Amichai Rothman"", ""email"": ""amichai@apache.org"", ""date"": ""2021-03-17T08:32:13Z""}, ""committer"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2021-03-17T08:33:09Z""}}"
1920,SubmitCommit,2021-03-17 09:31:45,ztzg,fork_close,ZooKeeper 3.7.0: Release notes,"{""sha"": ""14817b98c2f8e98017e44978a65d2e6bb59c3814"", ""author"": {""name"": ""Damien Diederen"", ""email"": ""dd@crosstwine.com"", ""date"": ""2021-03-17T09:12:59Z""}, ""committer"": {""name"": ""Damien Diederen"", ""email"": ""dd@crosstwine.com"", ""date"": ""2021-03-17T09:31:45Z""}}"
1920,SubmitCommit,2021-03-25 09:52:07,nkalmar,fork_close,"ZOOKEEPER-4259: Allow AdminServer to force https

Initial commit to allow adminServer to only serve HTTPS requests
Questions:
-Is this fine that I stayed with portunification, or should we have a seperate secure port?

Author: Norbert Kalmar <nkalmar@apache.org>

Reviewers: Mate Szalay-Beko <symat@apache.org>, Enrico Olivelli <eolivelli@apache.org>

Closes #1652 from nkalmar/ZOOKEEPER-2512

(cherry picked from commit 0b6862e3aadbb8980a09a673c08c438ae5da2e81)
Signed-off-by: Damien Diederen <ddiederen@apache.org>","{""sha"": ""3a084f2f20dc771455c4825f4fbf4ff1f641793a"", ""author"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@apache.org"", ""date"": ""2021-03-25T09:48:24Z""}, ""committer"": {""name"": ""Damien Diederen"", ""email"": ""ddiederen@apache.org"", ""date"": ""2021-03-25T09:52:07Z""}}"
1920,SubmitCommit,2021-03-25 10:21:50,arshadmohammad,fork_close,"ZOOKEEPER-4251: Flaky test: org.apache.zookeeper.test.WatcherTest

Moved ReconfigTest in test suites in the last to avoid the ReconfigTest test impacts on other test classes

Author: Mohammad Arshad <arshad@apache.org>

Reviewers: Enrico Olivelli <eolivelli@apache.org>

Closes #1649 from arshadmohammad/ZOOKEEPER-4251-master

(cherry picked from commit 461aada6b015078b9a14f787dd1f526488490df9)
Signed-off-by: Damien Diederen <ddiederen@apache.org>","{""sha"": ""3d7f374c89f1bb0959e3a3b2f2b66818aa704d32"", ""author"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2021-03-25T10:21:31Z""}, ""committer"": {""name"": ""Damien Diederen"", ""email"": ""ddiederen@apache.org"", ""date"": ""2021-03-25T10:21:50Z""}}"
1920,SubmitCommit,2021-03-27 17:11:41,arshadmohammad,fork_close,"ZOOKEEPER-3887: In SSL-only server zkServer.sh status command should use secureClientPortAddress instead of clientPortAddress

Author: Mohammad Arshad <arshad@apache.org>

Reviewers: Mate Szalay-Beko <symat@apache.org>

Closes #1654 from arshadmohammad/ZOOKEEPER-3887-master

(cherry picked from commit 51be692523b65afc21cfb0edaa4a5e60ab996aa2)
Signed-off-by: Mohammad Arshad <arshad@apache.org>","{""sha"": ""862d846d25a4a53e46e576b9d69f3a2f4c144761"", ""author"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2021-03-27T17:11:02Z""}, ""committer"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2021-03-27T17:11:41Z""}}"
1920,SubmitCommit,2021-03-27 17:23:27,arshadmohammad,fork_close,"ZOOKEEPER-3128: Get CLI Command displays Authentication error for Authorization error

Handled the scenario missed in ZOOKEEPER-3891

Author: Mohammad Arshad <arshad@apache.org>

Reviewers: Damien Diederen <dd@crosstwine.com>

Closes #1634 from arshadmohammad/ZOOKEEPER-3128-master

(cherry picked from commit de726d0a824582e482d4a725210fcd6051cb3bd0)
Signed-off-by: Mohammad Arshad <arshad@apache.org>","{""sha"": ""dfa262bfa9dd04ea5017fa29bd68f19800a07d32"", ""author"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2021-03-27T17:23:02Z""}, ""committer"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2021-03-27T17:23:27Z""}}"
1920,SubmitCommit,2021-03-27 18:02:11,brentwritescode,fork_close,"ZOOKEEPER-4194: ZooInspector throws NullPointerExceptions to console when node data is null
This is a very minor fix to a NullPointerException present in the ZooInspector utility which prevents a NullPointerException getting thrown when ZooInspector inspects an empty node.

Author: brentwritescode <brentwritescode@gmail.com>

Reviewers: Damien Diederen <dd@crosstwine.com>, Mohammad Arshad <arshad@apache.org>

Closes #1601 from brentwritescode/ZOOKEEPER-4194

(cherry picked from commit 4edbbea5566925390b32702a97c17f7a76e32de5)
Signed-off-by: Mohammad Arshad <arshad@apache.org>","{""sha"": ""166a01045d9e3abbe8a0fd2310f05b17f61d8b3e"", ""author"": {""name"": ""brentwritescode"", ""email"": ""brentwritescode@gmail.com"", ""date"": ""2021-03-27T18:00:11Z""}, ""committer"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2021-03-27T18:02:11Z""}}"
1920,SubmitCommit,2021-03-28 04:36:11,ayushmantri,fork_close,"ZOOKEEPER-4257: learner.asyncSending, learner.closeSocketAsync and leader.closeSocketAsync should be configurable in zoo.cfg

Properties learner.asyncSending , learner.closeSocketAsync  and leader.closeSocketAsync  made configurable in zoo.cfg

Author: Ayush Mantri <aayushmantri@gmail.com>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Mohammad Arshad <arshad@apache.org>

Closes #1645 from ayushmantri/ZK-4257 and squashes the following commits:

8ff5523c3 [Ayush Mantri] ZOOKEEPER-4257: learner.asyncSending and learner.closeSocketAsync should be configurable in zoo.cfg                 property name change done in backward compatible way
592931232 [Ayush Mantri] ZOOKEEPER-4257: learner.asyncSending and learner.closeSocketAsync should be configurable in zoo.cfg

(cherry picked from commit acbfb2d78996cbaa29b9dc764d4cb3463193dc45)
Signed-off-by: Mohammad Arshad <arshad@apache.org>","{""sha"": ""e2f31086965f0d9d13898bbc72c57f378b438edf"", ""author"": {""name"": ""Ayush Mantri"", ""email"": ""aayushmantri@gmail.com"", ""date"": ""2021-03-28T04:35:40Z""}, ""committer"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2021-03-28T04:36:11Z""}}"
1920,SubmitCommit,2021-03-30 11:27:10,arshadmohammad,fork_close,"ZOOKEEPER-4270: Flaky test: QuorumPeerMainTest#testLeaderOutOfView

The test case is expecting node3 to be leader but node2 sometimes becomes leader. This happens because leader election completes between node1 and node2 which is valid.
Changed the expectations when node2 is leader otherwise kept the same expectations

Author: Mohammad Arshad <arshad@apache.org>

Reviewers: Enrico Olivelli <eolivelli@apache.org>

Closes #1666 from arshadmohammad/ZOOKEEPER-4270-master

(cherry picked from commit 3961bcc7d6eabfe0723c9dab653d9bb83da7f8f8)
Signed-off-by: Mohammad Arshad <arshad@apache.org>","{""sha"": ""c517b04f90b76596da59fcc61b8d18cfc312260a"", ""author"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2021-03-30T11:26:40Z""}, ""committer"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2021-03-30T11:27:10Z""}}"
1920,SubmitCommit,2021-03-31 13:34:47,ayushmantri,fork_close,"ZOOKEEPER-4272: Upgrade Netty library to > 4.1.60 due to security vulnerability CVE-2021-21295

Upgraded Netty library to 4.1.60

Author: Ayush Mantri <aayushmantri@gmail.com>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Mohammad Arshad <arshad@apache.org>

Closes #1669 from ayushmantri/ZOOKEEPER-4272

(cherry picked from commit 9213f7353b1e6ce4d0fdbc1dca963ace1fd32cec)
Signed-off-by: Mohammad Arshad <arshad@apache.org>","{""sha"": ""97d0ad0a0cd87847878af87b21259be0098a3124"", ""author"": {""name"": ""Ayush Mantri"", ""email"": ""aayushmantri@gmail.com"", ""date"": ""2021-03-31T13:34:23Z""}, ""committer"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2021-03-31T13:34:47Z""}}"
1920,SubmitCommit,2021-03-31 21:23:20,arshadmohammad,fork_close,"ZOOKEEPER-4269: acceptedEpoch.tmp rename failure will cause server startup error

Using accepted epoch from acceptedEpoch.tmp if it is available

Author: Mohammad Arshad <arshad@apache.org>

Reviewers: Enrico Olivelli <eolivelli@apache.org>,Damien Diederen <dd@crosstwine.com>

Closes #1664 from arshadmohammad/ZOOKEEPER-4269-master and squashes the following commits:

d8ae084c1 [Mohammad Arshad] Handled review comments
a2cc9a5b6 [Mohammad Arshad] Added test cases
b56837e55 [Mohammad Arshad] ZOOKEEPER-4269: acceptedEpoch.tmp rename failure will cause server startup error Using accepted epoch from acceptedEpoch.tmp if it is available

(cherry picked from commit cdddda4c55acf29d4e0b2bc8f3de7b5c676e8ffc)
Signed-off-by: Mohammad Arshad <arshad@apache.org>","{""sha"": ""e892430a2c72188193300e44be9e0724caee41e9"", ""author"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2021-03-31T21:22:49Z""}, ""committer"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2021-03-31T21:23:20Z""}}"
1920,SubmitCommit,2021-04-03 11:43:44,arshadmohammad,fork_close,"ZOOKEEPER-4266: Correct ZooKeeper version in documentation header

Changed version from 3.6 to 3.7

Author: Mohammad Arshad <arshad@apache.org>

Reviewers: maoling <maoling@apache.org>, Damien Diederen <ddiederen@apache.org>

Closes #1660 from arshadmohammad/ZOOKEEPER-4266-branch-3.7","{""sha"": ""3b44589f3fb41678eb3cb09ac7fd382131373bfc"", ""author"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2021-04-03T11:43:44Z""}, ""committer"": {""name"": ""Damien Diederen"", ""email"": ""ddiederen@apache.org"", ""date"": ""2021-04-03T11:43:44Z""}}"
1920,SubmitCommit,2021-04-07 17:40:37,nkalmar,fork_close,"ZOOKEEPER-4277: update jetty to 9.4.39 due to CVE-2021-28165

Author: Norbert Kalmar <nkalmar@apache.org>

Reviewers: Mohammad Arshad <arshad@apache.org>

Closes #1675 from nkalmar/master

(cherry picked from commit b08b6bb2ea7259face0df881dcbc9f5061a35d1e)
Signed-off-by: Mohammad Arshad <arshad@apache.org>","{""sha"": ""6192e0aee32a1c234047f149f22d1382417f2220"", ""author"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@apache.org"", ""date"": ""2021-04-07T17:40:01Z""}, ""committer"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2021-04-07T17:40:37Z""}}"
1920,SubmitCommit,2021-04-08 14:19:32,ayushmantri,fork_close,"ZOOKEEPER-4278: dependency-check:check failing - netty-transport-4.1.60.Final CVE-2021-21409

Upgraded Netty library to 4.1.63.Final

Author: Ayush Mantri <aayushmantri@gmail.com>

Reviewers: Mohammad Arshad <arshad@apache.org>

Closes #1678 from ayushmantri/ZOOKEEPER-4278

(cherry picked from commit 925b5b28a0aa9e7749da9672de92eab5b95578f0)
Signed-off-by: Mohammad Arshad <arshad@apache.org>","{""sha"": ""9612e2a2c2823c655808c490aa37749a2dbca4a8"", ""author"": {""name"": ""Ayush Mantri"", ""email"": ""aayushmantri@gmail.com"", ""date"": ""2021-04-08T14:19:08Z""}, ""committer"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2021-04-08T14:19:32Z""}}"
1920,SubmitCommit,2021-04-14 16:52:48,Mate Szalay-Beko,fork_close,"ZOOKEEPER-4247: NPE while processing message from restarted quorum member

When a ZooKeeper server realizes that an other quorum peer was shut down (e.g. during a rolling upgrade or
rolling restart), the ServerCnxn.zkServer variable is set to null by QuorumPear.close(). This is why in the code
we usually check the zkServer variable before using it. But this check was missing in one place thus causing
NPE in NettyServerCnx.receiveMessage:

```
2021-02-08T12:42:08.229+0000 [myid:] - ERROR
[nioEventLoopGroup-4-1:NettyServerCnxnFactory$CnxnChannelHandler329]- Unexpected exception in receive
 java.lang.NullPointerException: null ~[zookeeper-3.6.2.jar:3.6.2]
 at org.apache.zookeeper.server.NettyServerCnxn.receiveMessage(NettyServerCnxn.java:518)
 at org.apache.zookeeper.server.NettyServerCnxn.processMessage(NettyServerCnxn.java:368)
 at org.apache.zookeeper.server.NettyServerCnxnFactory
        $CnxnChannelHandler.channelRead(NettyServerCnxnFactory.java:326)
...
```

In this commit we add the necessary check and (after throwing an IOException) we will basically ignore the
processing of the received message when the remote ZooKeeper server is already down.

Author: Mate Szalay-Beko <symat@apache.org>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Mohammad Arshad <arshad@apache.org>

Closes #1681 from symat/ZOOKEEPER-4247 and squashes the following commits:

7b140177d [Mate Szalay-Beko] ZOOKEEPER-4247: address PR comments
b99ee986b [Mate Szalay-Beko] ZOOKEEPER-4247: address PR comments
3c8478a40 [Mate Szalay-Beko] ZOOKEEPER-4247: fix NPE happens while processing messages during quorum member restart

(cherry picked from commit ea75e1f63572fc72fb8520ba8c793523047acb49)
Signed-off-by: Mohammad Arshad <arshad@apache.org>","{""sha"": ""7c37cd9c89c92811da96e378c1b6ff81796b172d"", ""author"": {""name"": ""Mate Szalay-Beko"", ""email"": ""symat@apache.org"", ""date"": ""2021-04-14T16:52:09Z""}, ""committer"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2021-04-14T16:52:48Z""}}"
1920,SubmitCommit,2021-04-19 06:49:50,rvaleti,fork_close,"ZOOKEEPER-4275: Prevent unnecessary client connection retry caused by slow SASL login

Slowness in sasl login or subject.doAs() causes zk client to falsely assume that the server did not respond, closes connection and goes to unnecessary retries.

Raising the PR for master - approved for 3.5 branch already.

Author: Ravi Kishore Valeti <v.ravikishore@gmail.com>

Reviewers: Mate Szalay-Beko <symat@apache.org>, Norbert Kalmar <nkalmar@apache.org>, Mohammad Arshad <arshad@apache.org>

Closes #1685 from rvaleti/ZOOKEEPER-4275_master

(cherry picked from commit c583a6e79654359b5daad5093d1730e370d3b75b)","{""sha"": ""0d60bd2d97bad43678341fbd9de0e644dade5465"", ""author"": {""name"": ""Ravi Kishore Valeti"", ""email"": ""v.ravikishore@gmail.com"", ""date"": ""2021-04-19T06:46:15Z""}, ""committer"": {""name"": ""Mate Szalay-Beko"", ""email"": ""symat@apache.org"", ""date"": ""2021-04-19T06:49:50Z""}}"
1920,SubmitCommit,2021-04-21 08:07:46,huizhilu,fork_close,"ZOOKEEPER-4281: Allow packet of max packet length to be deserialized

### Problem
Resolves https://issues.apache.org/jira/browse/ZOOKEEPER-4281

There are sanity checks for packet size when deserializing a packet. One place has the inclusion: len >= packetLen.  It rejects to deserialize the bytes that are exactly sized jute.maxbuffer. It's confusing. This check should use "">"" so the maxbuffer length packet can still be deserialized, like the other checks.
```
if (len < 0 || len >= packetLen) {
    throw new IOException(""Packet len "" + len + "" is out of range!"");
}
```

### Solution
Change: `len >= packetLen`   ->  `len > packetLen`
```
if (len < 0 || len > packetLen) {
```

Author: Huizhi Lu <5187721+pkuwm@users.noreply.github.com>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Mohammad Arshad <arshad@apache.org>, Michael Han <hanm@apache.org>

Closes #1683 from pkuwm/maxPacketLength

(cherry picked from commit 1590a424cb7a8768b0ae01f2957856b1834dd68d)
Signed-off-by: Enrico Olivelli <eolivelli@datastax.com>","{""sha"": ""1a4cf4d6735f497ee127b9e0783e019e84888d0e"", ""author"": {""name"": ""Huizhi Lu"", ""email"": ""5187721+pkuwm@users.noreply.github.com"", ""date"": ""2021-04-21T08:07:24Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@datastax.com"", ""date"": ""2021-04-21T08:07:46Z""}}"
1920,SubmitCommit,2021-05-20 09:29:39,hanm,fork_close,"ZOOKEEPER-3970: Enable ZooKeeperServerController to expire session.

This is a follow up of ZOOKEEPER-3948. Here we enable ZooKeeperServerController to be able to expire a global or local session. This is very useful in our experience in integration testing when we want a controlled session expiration mechanism. This is done by having session tracker exposing both global and local session stats, so a zookeeper server can expire the sessions in the controller.

Author: Michael Han <hanm@apache.org>

Reviewers: Damien Diederen <ddiederen@apache.org>

Closes #1505 from hanm/ZOOKEEPER-3970

(cherry picked from commit e41dc7dbb0541745afdc768bf757e29c938a9ab8)
Signed-off-by: Damien Diederen <ddiederen@apache.org>","{""sha"": ""b227c4d0b95948c2a372f7b91a24f399d8748cd7"", ""author"": {""name"": ""Michael Han"", ""email"": ""hanm@apache.org"", ""date"": ""2021-05-20T09:27:40Z""}, ""committer"": {""name"": ""Damien Diederen"", ""email"": ""ddiederen@apache.org"", ""date"": ""2021-05-20T09:29:39Z""}}"
1920,SubmitCommit,2021-06-13 18:56:15,eolivelli,fork_close,"ZOOKEEPER-4312: ZooKeeperServerEmbedded: enhance server start/stop for testability

see https://issues.apache.org/jira/browse/ZOOKEEPER-4312

ZooKeeperServerEmbedded works well for running ZooKeeper but it lacks support for a few little features in order to use it for tests.

I saw these problems while working on the port of Curator Testing Server to ZooKeeperServerEmbedded.

There is no wait to wait for the server to be up-and-running
When you ""close()"" the server, it does not wait for the ports to be closed
There is no wait to have the ConnectString for the server

Author: Enrico Olivelli <eolivelli@apache.org>

Reviewers: Damien Diederen <ddiederen@apache.org>

Closes #1710 from eolivelli/impl/embedded-2

(cherry picked from commit 5e6e15ac40cfd2cadac3e718e494a3c13b934b8d)
Signed-off-by: Damien Diederen <ddiederen@apache.org>","{""sha"": ""18dedf6345b3e34d7dab9dcbdb4db2b37a3495b1"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2021-06-13T18:53:47Z""}, ""committer"": {""name"": ""Damien Diederen"", ""email"": ""ddiederen@apache.org"", ""date"": ""2021-06-13T18:56:15Z""}}"
1920,SubmitCommit,2021-06-14 09:46:09,franz1981,fork_close,"ZOOKEEPER-4309: QuorumCnxManager's ListenerHandler thread leak

https://issues.apache.org/jira/browse/ZOOKEEPER-4309

Author: franz1981 <nigro.fra@gmail.com>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Michael Han <hanm@apache.org>, Damien Diederen <ddiederen@apache.org>

Closes #1705 from franz1981/ZOOKEEPER-4309

(cherry picked from commit 78550453204e89a13aee87d86b6d94c458c9dd63)
Signed-off-by: Enrico Olivelli <eolivelli@apache.org>","{""sha"": ""7048d3a583eff4fff88d5071f5427a2ad36c1acf"", ""author"": {""name"": ""franz1981"", ""email"": ""nigro.fra@gmail.com"", ""date"": ""2021-06-14T09:45:58Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2021-06-14T09:46:09Z""}}"
1920,SubmitCommit,2021-06-30 07:10:05,liwang,fork_close,"ZOOKEEPER-4284: Add metrics for observer sync time

Motivation

- With enabling the feature of followers hosting observers, we would need a metric to measure the observer sync time just like what we have for the follower sync time.

Changes

- Added the ""observer_sync_time"" metrics
- Added unit test on the metrics

Author: liwang <liwang@apple.com>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Michael Han <hanm@apache.org>, Damien Diederen <ddiederen@apache.org>

Closes #1691 from li4wang/ZOOKEEPER-4284

(cherry picked from commit 2d3065606a444c0b711c1809ce296db2ba56cb0c)
Signed-off-by: Damien Diederen <ddiederen@apache.org>","{""sha"": ""203de65823bb12420fd0a030705f632e7ae5d814"", ""author"": {""name"": ""liwang"", ""email"": ""liwang@apple.com"", ""date"": ""2021-06-30T06:53:49Z""}, ""committer"": {""name"": ""Damien Diederen"", ""email"": ""ddiederen@apache.org"", ""date"": ""2021-06-30T07:10:05Z""}}"
1920,SubmitCommit,2021-06-30 07:10:09,liwang,fork_close,"ZOOKEEPER-4318: Only report the follower sync time metrics if sync is completed

Motivation

- Currently we report the follower sync time regardless whether sync is completed.  This will give us some noisy data such as 0 sync time in cases where sync immediately failed.

Change

- Only report the sync time if the sync is completed.

Author: liwang <liwang@apple.com>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Michael Han <hanm@apache.org>, Damien Diederen <ddiederen@apache.org>

Closes #1712 from li4wang/ZOOKEEPER-4318

(cherry picked from commit 70f70d821c2c5225edeb54a8af0bd1911a51fc89)
Signed-off-by: Damien Diederen <ddiederen@apache.org>","{""sha"": ""fb86553cd45ec43b58cdb2dd5d56e4f59854ab29"", ""author"": {""name"": ""liwang"", ""email"": ""liwang@apple.com"", ""date"": ""2021-06-30T06:59:22Z""}, ""committer"": {""name"": ""Damien Diederen"", ""email"": ""ddiederen@apache.org"", ""date"": ""2021-06-30T07:10:09Z""}}"
1920,SubmitCommit,2021-07-28 13:16:30,eolivelli,fork_close,"ZOOKEEPER-4333: QuorumSSLTest - testOCSP fails on JDK17

https://issues.apache.org/jira/browse/ZOOKEEPER-4333

in JDK17 the OCSP request is sent in the URI and not inside the POST BODY

Author: Enrico Olivelli <eolivelli@apache.org>
Author: Enrico Olivelli <eolivelli@gmail.com>

Reviewers: Damien Diederen <ddiederen@apache.org>

Closes #1724 from eolivelli/fix/jdk17

(cherry picked from commit e7de1cf04925b7e1d06f9add83d90760e5a7a241)
Signed-off-by: Damien Diederen <ddiederen@apache.org>","{""sha"": ""2f68294f9ea5859c84a470b8f737f4651aae3e98"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2021-07-28T13:15:22Z""}, ""committer"": {""name"": ""Damien Diederen"", ""email"": ""ddiederen@apache.org"", ""date"": ""2021-07-28T13:16:30Z""}}"
1920,SubmitCommit,2021-07-28 13:31:08,Amichai Rothman,fork_close,"ZOOKEEPER-4204: Remove unnecessary creation of thousands of thread in…

…stances to prevent RequestPathMetricsCollectorTest.testMultiThreadPerf occasional failures

Author: Amichai Rothman <amichai@apache.org>

Reviewers: Michael Han <hanm@apache.org>, Damien Diederen <ddiederen@apache.org>

Closes #1598 from amichair/ZOOKEEPER-4204

(cherry picked from commit 7a368b4b196af02190e6e57f18f56598ee32a626)
Signed-off-by: Damien Diederen <ddiederen@apache.org>","{""sha"": ""ddecda522df8d39407cd5782dbe7778221cb8bd1"", ""author"": {""name"": ""Amichai Rothman"", ""email"": ""amichai@apache.org"", ""date"": ""2021-07-28T13:30:39Z""}, ""committer"": {""name"": ""Damien Diederen"", ""email"": ""ddiederen@apache.org"", ""date"": ""2021-07-28T13:31:08Z""}}"
1920,SubmitCommit,2021-08-03 09:38:54,"Wu, Xiaokai (Marvin)",fork_close,"ZOOKEEPER-4331: add headers back in osgi artifact

Following up https://github.com/apache/zookeeper/pull/1722, I'm applying the change on master instead of 3.5.x as advised.

As an alternative to https://github.com/apache/zookeeper/pull/1726, this change employs bundle plugin to build another artifact of classifier ""osgi"".

The advantage would be bundle plugin remains employed to maintain the topology of versioned packages, and the original artifact without classifier is left untouched.

The disadvantage would be we've one more artifact delivered in this project.

```
$ ls zookeeper-server/target/ | grep jar$
zookeeper-3.5.9.jar
zookeeper-3.5.9-javadoc.jar
zookeeper-3.5.9-osgi.jar
zookeeper-3.5.9-sources.jar
zookeeper-3.5.9-tests.jar
```

Author: Wu, Xiaokai (Marvin) <marvinwu@ea.com>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Norbert Kalmar <nkalmar@apache.org>

Closes #1727 from bigmarvin/ZOOKEEPER-4331/add-new-osgi-artifact

(cherry picked from commit 9a5da5f9a023e53bf339748b5b7b17278ae36475)
Signed-off-by: Norbert Kalmar <nkalmar@apache.org>","{""sha"": ""726bc55c9575b57375274565f355524a12f839bd"", ""author"": {""name"": ""Wu, Xiaokai (Marvin)"", ""email"": ""marvinwu@ea.com"", ""date"": ""2021-08-03T09:37:43Z""}, ""committer"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@apache.org"", ""date"": ""2021-08-03T09:38:54Z""}}"
1920,SubmitCommit,2021-08-11 15:11:16,cuibo01,fork_close,"ZOOKEEPER-4345: Avoid NoSunchMethodException caused by shaded zookeeper jar

Author: Bo <cuibo0108@163.com>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Mohammad Arshad <arshad@apache.org>

Closes #1736 from cuibo01/zookeeper-4345 and squashes the following commits:

3965f2e8d [Bo] [ZOOKEEPER-4345]Avoid NoSunchMethodException caused by shaded
970972971 [Bo] [ZOOKEEPER-4345]Avoid NoSunchMethodException caused by shaded

(cherry picked from commit 5f6ec6cc7fd303702dca31edd2317b33c6e66bd1)
Signed-off-by: Mohammad Arshad <arshad@apache.org>","{""sha"": ""434c54d7501f9cbb15126561d3ca3d16aeace076"", ""author"": {""name"": ""Bo Cui"", ""email"": ""cuibo0108@163.com"", ""date"": ""2021-08-11T15:10:33Z""}, ""committer"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2021-08-11T15:11:16Z""}}"
1920,SubmitCommit,2021-08-25 12:14:30,ztzg,fork_close,"ZOOKEEPER-4342: Fix: Robustify C client against errors during SASL negotiation

Before this, the client was ignoring the error field of the response header, and only considering SASL-level errors.

This commit makes it consider `hdr.err`.  It also zeroes the `res` data structure, to avoid a crash in `deallocate` if `deserialize` is skipped, and sets `input_buffer` to `NULL` to avoid a double-free.

(I looked into adding a non-regression test, but doing so requires adding quite a bit of infrastructure to the mocks so that the SASL library can be correctly initialized.  Punting for now.)

Author: Damien Diederen <ddiederen@apache.org>

Reviewers: Enrico Olivelli<eolivelli@apache.org>

Closes #1733 from ztzg/ZOOKEEPER-4342-robustify-c-client-sasl-errors

(cherry picked from commit 06467dc8c20e6c7357c19904f6214bb406262ba2)
Signed-off-by: Enrico Olivelli <eolivelli@apache.org>","{""sha"": ""fbb740f0a8833bf864833e15d1872d5ee30a21da"", ""author"": {""name"": ""Damien Diederen"", ""email"": ""ddiederen@apache.org"", ""date"": ""2021-08-25T12:14:22Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2021-08-25T12:14:30Z""}}"
1920,SubmitCommit,2021-08-27 08:49:30,ztzg,fork_close,"ZOOKEEPER-4327: RequestThrottlerTest: Flakiness remediations

  * `testGlobalOutstandingRequestThrottlingWithRequestThrottlerDisabled`: Only resume after looking at metrics

    Resuming the pipeline before looking at the metrics triggers a race between the test and other server threads, causing us to sometimes observe a larger `prep_processor_request_queued` than expected.

    The corresponding failures look like this:

        RequestThrottlerTest.testGlobalOutstandingRequestThrottlingWithRequestThrottlerDisabled:340 expected: <3> but was: <7>

    The metric we look at is updated at the front of the pipeline, before the portion blocked by `resumeProcess`; we don't have to wait for the latter to observe the effect of the global outstanding limit.

  * `testLargeRequestThrottling`: Allow more time for request ingestion

    The 5s timeout used before this patch was sometimes not sufficient for the server to process the five requests of interest. The corresponding failures look like this:

        RequestThrottlerTest.testLargeRequestThrottling:297 expected: <2> but was: <0>

    or this:

        RequestThrottlerTest.testLargeRequestThrottling:299 expected: <5> but was: <4>

    We can use a higher timeout value as the `await` normally quickly terminates with the countdown reaching zero (as opposed to timing out); the increase in duration is only paid on loaded (and slow) executors.

Author: Damien Diederen <ddiederen@apache.org>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Norbert Kalmar <nkalmar@apache.org>

Closes #1739 from ztzg/ZOOKEEPER-4327-flaky-request-throttler-test

(cherry picked from commit 1f5e4fe258707f9b82448a5f97c931c392d011ca)
Signed-off-by: Norbert Kalmar <nkalmar@apache.org>","{""sha"": ""34917819b38377723fcc875ec52b1e09f2a1ec62"", ""author"": {""name"": ""Damien Diederen"", ""email"": ""ddiederen@apache.org"", ""date"": ""2021-08-27T08:48:40Z""}, ""committer"": {""name"": ""Norbert Kalmar"", ""email"": ""nkalmar@apache.org"", ""date"": ""2021-08-27T08:49:30Z""}}"
1920,SubmitCommit,2021-09-01 08:44:58,NihalJain,fork_close,"ZOOKEEPER-4355: ZK documentation side bar and welcome page are out of sync

* Added missing links to header.html
* Added a short description for hierarchical quorums section

Author: Nihal Jain <nihaljain.cs@gmail.com>

Reviewers: maoling <maoling@apache.org>, Damien Diederen <ddiederen@apache.org>

Closes #1740 from NihalJain/ZOOKEEPER-4355

(cherry picked from commit 24808051c78f06af22014cb8055e3f7f8fe08065)
Signed-off-by: Damien Diederen <ddiederen@apache.org>","{""sha"": ""9ab9b795040899edaa37ef4962c0482cd732fc8b"", ""author"": {""name"": ""Nihal Jain"", ""email"": ""nihaljain.cs@gmail.com"", ""date"": ""2021-09-01T08:44:03Z""}, ""committer"": {""name"": ""Damien Diederen"", ""email"": ""ddiederen@apache.org"", ""date"": ""2021-09-01T08:44:58Z""}}"
1920,SubmitCommit,2021-09-01 08:47:48,NihalJain,fork_close,"ZOOKEEPER-4356: Code blocks do not render correctly in ZK docs site

* Configure to use FENCED_CODE_BLOCKS.
* Note: TABLES is the default setting. See https://github.com/walokra/markdown-page-generator-plugin for details on default `pegdownExtensions` setting

Author: Nihal Jain <nihaljain.cs@gmail.com>

Reviewers: maoling <maoling@apache.org>, Damien Diederen <ddiederen@apache.org>

Closes #1741 from NihalJain/ZOOKEEPER-4356

(cherry picked from commit 2797116b33a505c8b36b396216c26afd7f7ba28c)
Signed-off-by: Damien Diederen <ddiederen@apache.org>","{""sha"": ""e920633e69389e99770ec07e3cc99577e6eec7e6"", ""author"": {""name"": ""Nihal Jain"", ""email"": ""nihaljain.cs@gmail.com"", ""date"": ""2021-09-01T08:47:18Z""}, ""committer"": {""name"": ""Damien Diederen"", ""email"": ""ddiederen@apache.org"", ""date"": ""2021-09-01T08:47:48Z""}}"
1920,SubmitCommit,2021-09-01 16:51:02,ztzg,fork_close,"ZOOKEEPER-4337: Bump jetty to 9.4.43.v20210629 (avoids CVE-2021-34429)

Version 9.4.43.v20210629 is the latest available in the 9.4 series at the time of this commit.  Its release notes explicitly declare ""This release resolves CVE-2021-34429"":

  https://github.com/eclipse/jetty.project/releases/tag/jetty-9.4.43.v20210629

Author: Damien Diederen <ddiederen@apache.org>

Reviewers: Norbert Kalmar <nkalmar@apache.org>, Enrico Olivelli <eolivelli@apache.org>

Closes #1734 from ztzg/ZOOKEEPER-4337-owasp-failures

(cherry picked from commit 561231f8bfe910e63dbd8c281cb25033a0e7d7a5)
Signed-off-by: Damien Diederen <ddiederen@apache.org>","{""sha"": ""84166e18906d6e611b64d8128fefddc14d86da14"", ""author"": {""name"": ""Damien Diederen"", ""email"": ""ddiederen@apache.org"", ""date"": ""2021-09-01T16:50:38Z""}, ""committer"": {""name"": ""Damien Diederen"", ""email"": ""ddiederen@apache.org"", ""date"": ""2021-09-01T16:51:02Z""}}"
1920,SubmitCommit,2021-09-02 16:49:03,nicoloboschi,fork_close,"ZOOKEEPER-4360: Avoid NPE during gauge execution if the leader is not set on FOLLOWER node

On a follower node, we had this error
```
ago 20, 2021 1:46:28 PM org.apache.catalina.core.StandardWrapperValve invoke
GRAVE: Servlet.service() for servlet [metrics] in context with path [/metrics] threw exception
java.lang.NullPointerException: Cannot invoke ""org.apache.zookeeper.server.quorum.Leader.getProposalStats()"" because the return value of ""org.apache.zookeeper.server.quorum.LeaderZooKeeperServer.getLeader()"" is null
        at org.apache.zookeeper.server.quorum.LeaderZooKeeperServer.lambda$registerMetrics$5(LeaderZooKeeperServer.java:122)
        at magnews.zookeeper.ZooKeeperMetricsProviderAdapter$MetricsContextImpl.lambda$registerGauge$0(ZooKeeperMetricsProviderAdapter.java:91)
```

Unfortunately, I'm not able to reproduce this error deterministically

I've added the null check on leader variable, this will cause the gauge return value to be not registered (on `DefaultMetricsProvider`) and considered as zero on prometheus

Not sure if tests were needed even if the fix is so simple, I can them if requested from reviewers

Author: Nicolò Boschi <boschi1997@gmail.com>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Damien Diederen <ddiederen@apache.org>

Closes #1743 from nicoloboschi/fix/npe-metrics

(cherry picked from commit 4f515673464e540fa8555b7a3ac85c5d1abe41fb)
Signed-off-by: Damien Diederen <ddiederen@apache.org>","{""sha"": ""0eb1a54fd36bcbb3a14f69f846d28f49ba032536"", ""author"": {""name"": ""Nicol\u00f2 Boschi"", ""email"": ""boschi1997@gmail.com"", ""date"": ""2021-09-02T16:44:43Z""}, ""committer"": {""name"": ""Damien Diederen"", ""email"": ""ddiederen@apache.org"", ""date"": ""2021-09-02T16:49:03Z""}}"
1920,SubmitCommit,2021-09-22 15:22:42,ruanwenjun,fork_close,"ZOOKEEPER-4380: Avoid NPE in RateLogger#rateLimitLog

Author: ruanwenjun <wenjun@apache.org>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Damien Diederen <ddiederen@apache.org>

Closes #1758 from ruanwenjun/dev_wenjun_patch-fixNPEInRateLogger

(cherry picked from commit c0b19e0c5c2bbf1fb24e154466b6cc0fa6b5e74a)
Signed-off-by: Damien Diederen <ddiederen@apache.org>","{""sha"": ""75093668ef1201905a7001c4d50e9f9d86ed092f"", ""author"": {""name"": ""ruanwenjun"", ""email"": ""wenjun@apache.org"", ""date"": ""2021-09-22T15:22:12Z""}, ""committer"": {""name"": ""Damien Diederen"", ""email"": ""ddiederen@apache.org"", ""date"": ""2021-09-22T15:22:42Z""}}"
1920,SubmitCommit,2021-09-25 11:41:43,cpoerschke,fork_close,"ZOOKEEPER-4384: [R] Fix 'sever' typo in ClientCnxn.

Hello. Not yet created a JIRA issue for this small logging change, but happy to open one if that is preferred.

Stumbled across this in the ZK logs; also checked via `git grep -in ""sever[^a-z]""` that this is the only place with the typo.

Author: Christine Poerschke <cpoerschke@bloomberg.net>

Reviewers: maoling <maoling@apache.org>

Closes #1761 from cpoerschke/patch-1

(cherry picked from commit 531bddd5b43d2f0b3afbe0051642830c47030652)
Signed-off-by: maoling <maoling@apache.org>","{""sha"": ""a15f0b2248d0eb0e4520fdb32e5fa64a2611906d"", ""author"": {""name"": ""Christine Poerschke"", ""email"": ""cpoerschke@bloomberg.net"", ""date"": ""2021-09-25T11:40:59Z""}, ""committer"": {""name"": ""maoling"", ""email"": ""maoling@apache.org"", ""date"": ""2021-09-25T11:41:43Z""}}"
1920,SubmitCommit,2021-09-27 15:48:45,Rushabh Shah,fork_close,"ZOOKEEPER-4367: Zookeeper#Login thread leak in case of Sasl AuthFailed.

https://issues.apache.org/jira/browse/ZOOKEEPER-4367

Things changed in this PR:
1. Moving `zooKeeperSaslClient` from `ClientCnxn` to `SendThread` since only SendThread is creating and accessing `zooKeeperSaslClient`
2. Moved closing of `zooKeeperSaslClient` from `ClientCnxn#disconnect` method to `SendThread#run` method. This will make sure that we will close zooKeeperSaslClient (and in turn close Login object) even if `ClientCnxn#disconnect` is not called which happens when we encounter AuthFailed Exceptions. Also it looks clean that whenever SendThread is terminating we clean up all the class variable.
3. Setting login to null when `ZooKeeperSaslClient#shutdown` is called. This helps me testing whether zooKeeperSaslClient object is shutdown and in turn Login object is shutdown.

Author: Rushabh Shah <rushabh.shah@rushabh-ltmflld.internal.salesforce.com>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Damien Diederen <ddiederen@apache.org>

Closes #1755 from shahrs87/ZOOKEEPER-4367

(cherry picked from commit d6b50ad739a49226e97ff28d68be605e1fa36fe5)
Signed-off-by: Enrico Olivelli <eolivelli@apache.org>","{""sha"": ""e2f1ab165b2c1ed052ebb0fddac08bbd08bd1da5"", ""author"": {""name"": ""Rushabh Shah"", ""email"": ""rushabh.shah@rushabh-ltmflld.internal.salesforce.com"", ""date"": ""2021-09-27T15:48:29Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2021-09-27T15:48:45Z""}}"
1920,SubmitCommit,2021-10-06 06:42:06,eolivelli,fork_close,"ZOOKEEPER-4382: Update Maven Bundle Plugin to 5.1.1 - build on JDK18

More context here
https://issues.apache.org/jira/browse/ZOOKEEPER-4382

Author: Enrico Olivelli <eolivelli@apache.org>

Reviewers: Damien Diederen <ddiederen@apache.org>

Closes #1760 from eolivelli/fix/update-maven-bundle-plugin

(cherry picked from commit 156e682e3d4bb27338418602c1c3c530da6ff7bd)
Signed-off-by: Damien Diederen <ddiederen@apache.org>","{""sha"": ""7d96fa79474683a871f505b5518e1ee157b98522"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2021-10-06T06:41:29Z""}, ""committer"": {""name"": ""Damien Diederen"", ""email"": ""ddiederen@apache.org"", ""date"": ""2021-10-06T06:42:06Z""}}"
1920,SubmitCommit,2021-10-17 07:08:36,maoling,fork_close,"ZOOKEEPER-4377: KeeperException.create has NullPointerException when low version client requests the high version server

- When low version client accessed the high version server which has some new added error code, the client will get a NPE:
```
 java.lang.NullPointerException
at org.apache.zookeeper.KeeperException.create(KeeperException.java:94)
at org.apache.zookeeper.KeeperException.create(KeeperException.java:54)
at org.apache.zookeeper.ZooKeeper.create(ZooKeeper.java:1538)
```
- How to reproduce this issue？For example:
```
the client version we using is 3.6.0, and server version we using is 3.7.0 which has a new added error code QUOTAEXCEEDED(-125),
we set quota at server side and use the client to create znodes which exceeds the quota,
the client will get a NPE
```
- Apply this patch, we will get the following:
```
 java.lang.IllegalArgumentException: The current client version cannot lookup this code:-125
 at org.apache.zookeeper.KeeperException$Code.get(KeeperException.java:449)
 at org.apache.zookeeper.ZooKeeper.create(ZooKeeper.java:1347)
```
- we should backport this PR to all branches, making the client has upward compatibility
- more details in the [ZOOKEEPER-4377](https://issues.apache.org/jira/browse/ZOOKEEPER-4377)

Author: maoling <maoling@apache.org>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, ruanwenjun <wenjun@apache.org>

Closes #1764 from maoling/ZOOKEEPER-4377

(cherry picked from commit 9f355f5a57f35d3760f8e669696622135c457938)
Signed-off-by: maoling <maoling@apache.org>","{""sha"": ""86c12634d22bbfee8cf9f5434c49eebe3ffa84c0"", ""author"": {""name"": ""maoling"", ""email"": ""maoling@apache.org"", ""date"": ""2021-10-17T07:07:58Z""}, ""committer"": {""name"": ""maoling"", ""email"": ""maoling@apache.org"", ""date"": ""2021-10-17T07:08:36Z""}}"
1920,SubmitCommit,2021-11-13 07:22:39,lanicc,fork_close,"ZOOKEEPER-4362: ZKDatabase.txnCount should not log non transactional requests

ZKDatabase.txnCount logged non transactional requests

    public boolean append(Request si) throws IOException {
        txnCount.incrementAndGet();
        return this.snapLog.append(si);
    }
snaplog.append may return false, but txnCount increased

maybe it would be better

    public boolean append(Request si) throws IOException {
        if (this.snapLog.append(si)) {
            txnCount.incrementAndGet();
            return true;
        }
        return false;
    }

Author: lanicc <lanettiesso@gmail.com>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, maoling <maoling@apache.org>

Closes #1744 from lanicc/ZOOKEEPER-4362 and squashes the following commits:

4b08e05ff [lanicc] ZOOKEEPER-4366: fix typo
4e1ad8d2c [lanicc] ZOOKEEPER-4366: Add test case for ZkDatabase txnCount
40b86bcad [lanicc] ZOOKEEPER-4362: ZKDatabase.txnCount should not log non transactional requests

(cherry picked from commit eb63dd9757e7234515e81799d82cc0af4a0ae7f9)
Signed-off-by: maoling <maoling@apache.org>","{""sha"": ""713a65620d89eb9667d68104acffabe71221c2a9"", ""author"": {""name"": ""lanicc"", ""email"": ""lanettiesso@gmail.com"", ""date"": ""2021-11-13T07:15:01Z""}, ""committer"": {""name"": ""maoling"", ""email"": ""maoling@apache.org"", ""date"": ""2021-11-13T07:22:39Z""}}"
1920,SubmitCommit,2021-11-27 06:52:55,frederiko,fork_close,"ZOOKEEPER-4414: Update Netty to 4.1.70.Final

This PR updates Netty to 4.1.70 Final on master. This addresses the following CVEs:
* CVE-2021-37136
* Netty codec/src/main/java/io/netty/handler/codec/compression/Lz4FrameEncoder.java Lz4FrameEncoder::finishEncode() Function Buffer Overflow
* CVE-2021-37137

Author: Frederiko Costa <frederiko.costa@workday.com>

Reviewers: maoling <maoling@apache.org>

Closes #1775 from frederiko/netty-4.1.70.Final

(cherry picked from commit 01f935cdebd582211e6d4eef9f81da4228412911)
Signed-off-by: maoling <maoling@apache.org>","{""sha"": ""1d79ab4b16593f426b258f4c364fc59dee693b04"", ""author"": {""name"": ""Frederiko Costa"", ""email"": ""frederiko.costa@workday.com"", ""date"": ""2021-11-27T06:50:35Z""}, ""committer"": {""name"": ""maoling"", ""email"": ""maoling@apache.org"", ""date"": ""2021-11-27T06:52:55Z""}}"
1920,SubmitCommit,2022-01-22 06:27:41,frederiko,fork_close,"ZOOKEEPER-4429: Update jackson-databind to 2.13.1

This PR updates jackson-databind to 2.13.1 to address a raised vulnerability that could possible DoS attack certain versions of Jackson. Please refer to GH issue #3328 for further info. On top of that, it also fixes now deprecated PropertyNamingStrategy class initialization issue #2715.

Author: Frederiko Costa <frederiko@gmail.com>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Shoothzj <shoothzj@gmail.com>, maoling <maoling@apache.org>

Closes #1788 from frederiko/ZOOKEEPER-4414_jackson_databind_update","{""sha"": ""13b09990ecd42de9565512b0047f5ebb46868986"", ""author"": {""name"": ""Frederiko Costa"", ""email"": ""frederiko@gmail.com"", ""date"": ""2022-01-22T06:27:41Z""}, ""committer"": {""name"": ""maoling"", ""email"": ""maoling@apache.org"", ""date"": ""2022-01-22T06:27:41Z""}}"
1920,SubmitCommit,2022-01-25 12:49:20,eolivelli,fork_close,"ZOOKEEPER-3988: rg.apache.zookeeper.server.NettyServerCnxn.receiveMessage throws NullPointerException

Modifications:
- prevent the NPE, the code that throws NPE is only to record some metrics for non TLS requests

Related to:
- apache/pulsar#11070
- https://github.com/pravega/zookeeper-operator/issues/393

Author: Enrico Olivelli <eolivelli@apache.org>

Reviewers: Nicolo² Boschi <boschi1997@gmail.com>, Andor Molnar <andor@apache.org>, Mate Szalay-Beko <symat@apache.org>

Closes #1798 from eolivelli/fix/ZOOKEEPER-3988-npe

(cherry picked from commit 957f8fc0afbeca638f13f6fb739e49a921da2b9d)
Signed-off-by: Mate Szalay-Beko <symat@apache.org>","{""sha"": ""56f807f909f2b7799ced0fcdd4c1073c9a1acc0d"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2022-01-25T12:48:34Z""}, ""committer"": {""name"": ""Mate Szalay-Beko"", ""email"": ""symat@apache.org"", ""date"": ""2022-01-25T12:49:20Z""}}"
1920,SubmitCommit,2022-01-27 10:13:29,eolivelli,fork_close,"ZOOKEEPER-4453: NettyServerCnxnFactory: allow to configure the early TLS connection drop feature

- add new flag netty.server.earlyDropSecureConnectionHandshakes to turn on/off ZOOKEEPER-3682
- disable ZOOKEEPER-3682 by default
- add docs
- add tests for this patch and for ZOOKEEPER-3682

see https://issues.apache.org/jira/browse/ZOOKEEPER-4453 for more context

Author: Enrico Olivelli <eolivelli@apache.org>

Reviewers: Mate Szalay-Beko <symat@apache.org>

Closes #1800 from eolivelli/fix/ZOOKEEPER-4453-b","{""sha"": ""ec0ade3053fd56113df0f4cab9f1996d83152ff7"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2022-01-27T10:09:46Z""}, ""committer"": {""name"": ""Mate Szalay-Beko"", ""email"": ""symat@apache.org"", ""date"": ""2022-01-27T10:13:29Z""}}"
1920,SubmitCommit,2022-01-27 14:34:52,eolivelli,fork_close,"ZOOKEEPER-4454: Upgrade Netty to 4.1.73

Author: Enrico Olivelli <eolivelli@apache.org>

Reviewers: symat@apache.org, cnauroth@apache.org

Closes #1801 from eolivelli/fix/netty-4.1.72

(cherry picked from commit d45d5df963cc3f7641d6dec2920bb22cfe8d0a76)
Signed-off-by: Andor Molnar <andor@apache.org>","{""sha"": ""510088be1bdd154e84f365fcf87a57ed7e493edb"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2022-01-27T14:34:36Z""}, ""committer"": {""name"": ""Andor Molnar"", ""email"": ""andor@apache.org"", ""date"": ""2022-01-27T14:34:52Z""}}"
1920,SubmitCommit,2022-01-31 16:19:23,eolivelli,fork_close,"ZOOKEEPER-4462: Update Netty tcnative to 2.0.48

Author: Enrico Olivelli <eolivelli@apache.org>

Reviewers: Mate Szalay-Beko <symat@apache.org>

Closes #1810 from eolivelli/ZOOKEEPER-4462","{""sha"": ""d4bcb4206011458468c60e51a10f6784055a31a0"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2022-01-31T16:16:43Z""}, ""committer"": {""name"": ""Mate Szalay-Beko"", ""email"": ""symat@apache.org"", ""date"": ""2022-01-31T16:19:23Z""}}"
1920,SubmitCommit,2022-02-04 07:01:11,eolivelli,fork_close,"ZOOKEEPER-4315: Include reference to third party files in the source NOTICE.txt file

More context here: https://issues.apache.org/jira/browse/ZOOKEEPER-4315

Author: Enrico Olivelli <eolivelli@apache.org>

Reviewers: Mate Szalay-Beko <symat@apache.org>

Closes #1812 from eolivelli/ZOOKEEPER-4315-notice

(cherry picked from commit ebcf18e52fa095773429348ce495d59c896f4a26)
Signed-off-by: Enrico Olivelli <eolivelli@apache.org>","{""sha"": ""965571e43ee9f40ac445dfe4d46c9b5d91aff7d2"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2022-02-04T07:00:53Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2022-02-04T07:01:11Z""}}"
1920,SubmitCommit,2022-02-11 13:56:40,Mate Szalay-Beko,fork_close,"ZOOKEEPER-4468: Update documentation about BCFKS keystore/truststore format

The BCFKS keystore/truststore format support was backported to branch 3.5, I updated the documentation.

Author: Mate Szalay-Beko <mszalay@cloudera.com>

Reviewers: Norbert Kalmar <nkalmar@apache.org>, Andor Molnar <andor@apache.org>

Closes #1816 from symat/ZOOKEEPER-4468-doc-update

(cherry picked from commit 0b0dfe521f374bb473aebc858bdde8fc4c491f7a)
Signed-off-by: Mate Szalay-Beko <symat@apache.org>","{""sha"": ""c1f2025abd87db5b44982e15fbc1b79e12ec47a9"", ""author"": {""name"": ""Mate Szalay-Beko"", ""email"": ""symat@apache.org"", ""date"": ""2022-02-11T13:53:30Z""}, ""committer"": {""name"": ""Mate Szalay-Beko"", ""email"": ""symat@apache.org"", ""date"": ""2022-02-11T13:56:40Z""}}"
1920,SubmitCommit,2022-02-14 07:55:42,eolivelli,fork_close,"ZOOKEEPER-4469: Suppress OWASP false positives related to Netty TCNative

More context here:
https://issues.apache.org/jira/browse/ZOOKEEPER-4469

I am also updating the OWASP dependency check

Author: Enrico Olivelli <eolivelli@apache.org>

Reviewers: Norbert Kalmar <nkalmar@apache.org>, Mate Szalay-Beko <symat@apache.org>

Closes #1817 from eolivelli/ZOOKEEPER-4469

(cherry picked from commit 428e6f92132e19390c81e19f67d5380451acdbe4)
Signed-off-by: Mate Szalay-Beko <symat@apache.org>","{""sha"": ""e19807d9c721b9135f245a40f3130edf3035b501"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2022-02-14T07:50:43Z""}, ""committer"": {""name"": ""Mate Szalay-Beko"", ""email"": ""symat@apache.org"", ""date"": ""2022-02-14T07:55:42Z""}}"
1920,SubmitCommit,2022-02-25 07:00:09,eolivelli,fork_close,"ZOOKEEPER-4478: Suppress OWASP false positives zookeeper-jute-3.8.0-SNAPSHOT.jar: CVE-2021-29425, CVE-2021-28164, CVE-2021-34429

Author: Enrico Olivelli <eolivelli@apache.org>

Reviewers: Mate Szalay-Beko <symat@apache.org>

Closes #1824 from eolivelli/ZOOKEEPER-4478-owasp

(cherry picked from commit 3004c909b78b3056985c8e39925e14bde3baa430)
Signed-off-by: Enrico Olivelli <eolivelli@apache.org>","{""sha"": ""6189cba81dd7d53f580950b37ca95b4dd19c2a13"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2022-02-25T06:59:07Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2022-02-25T07:00:09Z""}}"
1920,SubmitCommit,2022-03-01 13:30:44,Mate Szalay-Beko,fork_close,"ZOOKEEPER-4477: Single Kerberos ticket renewal failure can prevent all future renewals since Java 9

This bug is similar to the one fixed in https://issues.apache.org/jira/browse/KAFKA-12730.

Our Kerberos ticket refresh thread performs re-login by logging out and then logging in again. If
login fails, we retry after some sleep. Every reLogin() operation performs loginContext.logout()
and loginContext.login(). If login fails, we end up with two consecutive logouts. This used to
work in older Java versions, but from Java 9 onwards, this results in a NullPointerException due
to https://bugs.openjdk.java.net/browse/JDK-8173069. We should check if logout is required before
attempting logout.

I fixed the issue and added a new unit test to test some ticket renewal scenarios. I managed to
reproduce the problem in KerberosTicketRenewalTest.shouldRecoverIfKerberosNotAvailableForSomeTime()
which (before the fix) failed with Java13 but succeeded with Java8.

Author: Mate Szalay-Beko <symat@apache.org>

Reviewers: Enrico Olivelli <eolivelli@apache.org>

Closes #1828 from symat/ZOOKEEPER-4477-master

(cherry picked from commit a5b6c38edd74b263638817f7b65d057c91d5a888)
Signed-off-by: Enrico Olivelli <eolivelli@apache.org>","{""sha"": ""d9c1338df1196ae515a692f895bae85dacdb3ac5"", ""author"": {""name"": ""Mate Szalay-Beko"", ""email"": ""symat@apache.org"", ""date"": ""2022-03-01T13:30:23Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2022-03-01T13:30:44Z""}}"
1920,SubmitCommit,2022-03-11 13:59:00,ztzg,fork_close,"ZOOKEEPER-4479: C tests: Avoid some jitter which results in flaky tests

With these commits, the various tests in `TestOperations.cc` set the `last_sent` and `last_recv` fields of the ""force-connected"" ZooKeeper handle to deterministic values (which match the initial value of the time mock).

When that value is not specified, these fields get set to the ""real"" time at the end of the  `forceConnected` function, which can be sufficiently different from the value held in the mock for some of the tests to fail.

Author: Damien Diederen <ddiederen@apache.org>

Reviewers: Enrico Olivelli <eolivelli@apache.org>

Closes #1827 from ztzg/ZOOKEEPER-4479-flaky-c-test-operations

(cherry picked from commit 640b6dd65fd302ada1ac46c9b8c32f17dadb0d32)","{""sha"": ""1e9e00d3dc2c0c4ad4a92536ad63848f48e06b53"", ""author"": {""name"": ""Damien Diederen"", ""email"": ""ddiederen@apache.org"", ""date"": ""2022-03-01T16:13:50Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2022-03-11T13:59:00Z""}}"
1920,SubmitCommit,2022-03-26 17:39:42,eolivelli,fork_close,"ZOOKEEPER-4455: Move to https://reload4j.qos.ch/ (remove log4j1)

- Drop Apache Log4j1
- Replace with https://reload4j.qos.ch/, that is 100% compatible (same package names, it is actually a fork)
- Remove logging implementation dependency from zookeeper server module (that is also used by clients)

Client applications that upgrade to 3.6.4 or 3.7.1 won't have surprises regarding Maven exclusions, they were used to exclude log4j1, this is no more needed, but even if they forget to drop that exclusion it will be harmless, and they will never find reload4j as transitive dependency

Author: Enrico Olivelli <eolivelli@apache.org>

Reviewers: Mate Szalay-Beko <symat@apache.org>, Christopher Tubbs <ctubbsii@apache.org>, Tamas Penzes <tamaas@cloudera.com>, Mohammad Arshad <arshad@apache.org>

Closes #1802 from eolivelli/impl/reload4j and squashes the following commits:

54415368f [Enrico Olivelli] update reload4j to 1.2.19
f80c08948 [Enrico Olivelli] Move to slf4j-reload4j
0399bffe7 [Enrico Olivelli] Update SLF4J
0e99b8070 [Enrico Olivelli] add slf4j-log4j12 to the tarball
3d8ce939a [Enrico Olivelli] move slf4j impl to test scope
4be74c4f5 [Enrico Olivelli] Do not report reload4j as transitive dependency for dependant projects
9c6a12823 [Enrico Olivelli] add LICENSE stuff
3bbcd95d3 [Enrico Olivelli] Fix contrib rest
b27844f31 [Enrico Olivelli] fix build
f26533599 [Enrico Olivelli] fix loggraph
dbf29df20 [Enrico Olivelli] fix fatjar
37a55cc0f [Enrico Olivelli] fix contrib
e78792951 [Enrico Olivelli] ZOOKEEPER-4455: Move to https://reload4j.qos.ch/ (remove log4j1)","{""sha"": ""efe333e7f8c1894d3c985cefcf1bf24d857c1b4e"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2022-03-26T17:39:42Z""}, ""committer"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2022-03-26T17:39:42Z""}}"
1920,SubmitCommit,2022-03-30 18:29:17,swallez,fork_close,"ZOOKEEPER-3652: Synchronize ClientCnxn outgoing queue flush on a stable internal value

When packets are added to ClientCnxn's outgoing packet queue we ensure there's no conflict with an ongoing flush of that queue because of connection loss.

Synchronization used to be on the state field's value. This value is both not stable (its value changes over time), possibly causing improper synchronization, and global, which can cause contention in applications that run several ZooKeeper clients.

We now synchronize on outgoingQueue which is both local to a ClientCnxn's instance and stable.

Author: Sylvain Wallez <sylvain@bluxte.net>

Reviewers: maoling <maoling@apache.org>, Mohammad Arshad <arshad@apache.org>

Closes #1257 from swallez/ZOOKEEPER-3652 and squashes the following commits:

82e2cad2c [Sylvain Wallez] Instruct SpotBugs that we know what we're doing when synchronizing on outgoingQueue
b0bc03d6f [Sylvain Wallez] ZOOKEEPER-3652: Synchronize ClientCnxn outgoing queue flush on a stable internal value

(cherry picked from commit 91e0520133b82acb87ab60962fce5eae992d87e8)
Signed-off-by: Mohammad Arshad <arshad@apache.org>","{""sha"": ""2e9f4d74f50582457a1d6391b967da43d10b77c3"", ""author"": {""name"": ""Sylvain Wallez"", ""email"": ""sylvain@bluxte.net"", ""date"": ""2022-03-30T18:24:55Z""}, ""committer"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2022-03-30T18:29:17Z""}}"
1920,SubmitCommit,2022-03-30 18:58:28,edwin092,fork_close,"ZOOKEEPER-4505: CVE-2020-36518 - Upgrade jackson databind to 2.13.2.1

CVE-2020-36518 vulnerability affects jackson-databind in Zookeeper (see https://github.com/advisories/GHSA-57j2-w4cx-62h2).

Upgrading to jackson-databind version 2.13.2.1 should address this issue.

Author: Edwin Hobor <edwinhobor@gmail.com>

Reviewers: maoling <maoling@apache.org>,Enrico Olivelli <eolivelli@apache.org>, Mohammad Arshad <arshad@apache.org>

Closes #1842 from edwin092/edwin/ZOOKEEPER-4505

(cherry picked from commit 78bbb123cfcbdd8da9d118f08b49d1d00c43f53d)
Signed-off-by: Mohammad Arshad <arshad@apache.org>","{""sha"": ""9054c4b574946eae2b92b75c362da1df5cf586f2"", ""author"": {""name"": ""Edwin Hobor"", ""email"": ""edwinhobor@gmail.com"", ""date"": ""2022-03-30T18:57:23Z""}, ""committer"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2022-03-30T18:58:28Z""}}"
1920,SubmitCommit,2022-04-06 08:15:17,arshadmohammad,fork_close,"ZOOKEEPER-4504: ZKUtil#deleteRecursive causing deadlock in HDFS HA functionality

Make ZKUtil#deleteRecursive API fully compatible with older versions

Author: Mohammad Arshad <arshad@apache.org>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Mate Szalay-Beko <symat@apache.org>

Closes #1843 from arshadmohammad/ZOOKEEPER-4504-DeleteRecursive and squashes the following commits:

851bb1ee9 [Mohammad Arshad] Added javadoc for ZKUtil#deleteRecursive(zk, pathRoot, batchSize) API
e7b33116c [Mohammad Arshad] Added test case to verify ZKUtil.deleteRecursive() in sync and async mode
008b2bd4a [Mohammad Arshad] ZOOKEEPER-4504: ZKUtil#deleteRecursive causing deadlock in HDFS HA functionality

(cherry picked from commit 54cb5c39a445c63967ec7c3a46724fe87908440b)
Signed-off-by: Mohammad Arshad <arshad@apache.org>","{""sha"": ""168b6215157d2511567b81ec1651c663230914cd"", ""author"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2022-04-06T07:57:16Z""}, ""committer"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2022-04-06T08:15:17Z""}}"
1920,SubmitCommit,2022-04-08 16:40:07,arshadmohammad,fork_close,"ZOOKEEPER-4514: ClientCnxnSocketNetty throwing NPE

Moved channel object null check to sendPkt method to cover all calling scenarios

Author: Mohammad Arshad <arshad@apache.org>

Reviewers: Mate Szalay-Beko <symat@apache.org>

Closes #1854 from arshadmohammad/ZOOKEEPER-4514-npe

(cherry picked from commit d5876e88d6bab3cc1cee04f996b9804ff21581cb)
Signed-off-by: Mohammad Arshad <arshad@apache.org>","{""sha"": ""fab889974f08be662927401716fac250904ec626"", ""author"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2022-04-08T16:38:55Z""}, ""committer"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2022-04-08T16:40:07Z""}}"
1920,SubmitCommit,2022-04-08 16:49:33,arshadmohammad,fork_close,"ZOOKEEPER-4516: checkstyle:check is failing

1. Copied CertificatesToPlayWith.java from master branch as the checkstyle was already fixed there
2. Corrected import order in ZKUtilTest.java

Author: Mohammad Arshad <arshad@apache.org>

Reviewers: Mate Szalay-Beko <symat@apache.org>

Closes #1857 from arshadmohammad/ZOOKEEPER-4516-branch-3.7","{""sha"": ""d804b01df6863865c08d28f8141112049eedc3ce"", ""author"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2022-04-08T16:49:33Z""}, ""committer"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2022-04-08T16:49:33Z""}}"
1920,SubmitCommit,2022-04-09 17:43:04,arshadmohammad,fork_close,"ZOOKEEPER-4515: ZK Cli quit command always logs error

1. For connection closing state scenario, changed the log level to debug
2. When JVM exiting with code 0, then logging info instead of error

Author: Mohammad Arshad <arshad@apache.org>

Reviewers: tison <wander4096@gmail.com>, Enrico Olivelli <eolivelli@apache.org>

Closes #1856 from arshadmohammad/ZOOKEEPER-4515-cli and squashes the following commits:

e7e248bd5 [Mohammad Arshad] Logging error only when exit code is non zero
31e124a2a [Mohammad Arshad] ZOOKEEPER-4515: ZK Cli quit command always logs error 1. For connection closing state scenario, changed the log level to debug 2. When JVM exiting with code 0, then logging info instead of error

(cherry picked from commit e5f84f46283d70b618ce00f2df51f4bfe31d9a44)
Signed-off-by: Mohammad Arshad <arshad@apache.org>","{""sha"": ""b6331287036a764b7d1ed351a873e0ed6f1ff701"", ""author"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2022-04-09T17:42:14Z""}, ""committer"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2022-04-09T17:43:04Z""}}"
1920,SubmitCommit,2022-04-14 07:25:21,eolivelli,fork_close,"1829

- rename commos-io LICENSE file to 2.11.0
- create file for commons-cli (ASF project)

Author: Enrico Olivelli <eolivelli@apache.org>

Reviewers: Mate Szalay-Beko <symat@apache.org>, maoling <maoling@apache.org>

Closes #1829 from eolivelli/ZOOKEEPER-4482

(cherry picked from commit aa1d22d92dc26a587f9d55562c34ed4751e1d1bc)","{""sha"": ""c8058c0551418289ec3c357124285e3e496b7822"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2022-03-08T02:35:33Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2022-04-14T07:25:21Z""}}"
1920,SubmitCommit,2022-04-16 10:08:29,arshadmohammad,fork_close,"ZOOKEEPER-1875: NullPointerException in ClientCnxn$EventThread.processEvent

Author: Mohammad Arshad <arshad@apache.org>

Reviewers: Mate Szalay-Beko <symat@apache.org>, Enrico Olivelli <eolivelli@apache.org>

Closes #1855 from arshadmohammad/ZOOKEEPER-1875-npe and squashes the following commits:

4a7d471e3 [Mohammad Arshad] Corrected impacted test cases
12f44d62e [Mohammad Arshad] ZOOKEEPER-1875: NullPointerException in ClientCnxn$EventThread.processEvent

(cherry picked from commit 86690ff40cb5c9f5782f0971db16e8fd1c3528e6)
Signed-off-by: Mohammad Arshad <arshad@apache.org>","{""sha"": ""9769139f991a3b458b4cd3ee11b766a45ccd34ff"", ""author"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2022-04-16T10:07:42Z""}, ""committer"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2022-04-16T10:08:29Z""}}"
1920,SubmitCommit,2022-04-24 21:56:37,arshadmohammad,fork_close,ZooKeeper 3.7.1: Release notes,"{""sha"": ""9eec31961f974648567847d6e73693e7a935e5af"", ""author"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2022-04-24T21:56:37Z""}, ""committer"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2022-04-24T21:56:37Z""}}"
1920,SubmitCommit,2022-05-05 06:25:47,arshadmohammad,fork_close,"ZOOKEEPER-4510: dependency-check:check failing - reload4j-1.2.19.jar: CVE-2020-9493, CVE-2022-23307

Upgraded dependency-check-maven plugin from 6.5.3 to 7.1.0

Author: Mohammad Arshad <arshad@apache.org>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Mate Szalay-Beko <symat@apache.org>, ZhangJian He <shoothzj@apache.org>

Closes #1872 from arshadmohammad/ZOOKEEPER-4510-upgrade

(cherry picked from commit 24073884e114c6d6a14d559dd74d219bc259792b)
Signed-off-by: Enrico Olivelli <eolivelli@apache.org>","{""sha"": ""b24a9cb6db0df3740e99870874fff0291fb6f54a"", ""author"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2022-05-05T06:25:19Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2022-05-05T06:25:47Z""}}"
1920,SubmitCommit,2022-05-05 18:51:58,AnanyaSingh2121,fork_close,"ZOOKEEPER-4529: Upgrade netty to 4.1.76.Final

upgrading netty in master as per review in : https://github.com/apache/zookeeper/pull/1867

Author: Ananya Singh <purpul90@gmail.com>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Shoothzj <shoothzj@gmail.com>, Mohammad Arshad <arshad@apache.org>, Brahma Reddy Battula <brahma@apache.org>

Closes #1869 from AnanyaSingh2121/ZK-4529

(cherry picked from commit aab3ff65c4daecbbf8fc3fc5369a2e456603fbb0)
Signed-off-by: Mohammad Arshad <arshad@apache.org>","{""sha"": ""244640e789d7c0594788aaecc6211d18b14f9630"", ""author"": {""name"": ""Ananya Singh"", ""email"": ""purpul90@gmail.com"", ""date"": ""2022-05-05T18:51:05Z""}, ""committer"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2022-05-05T18:51:58Z""}}"
1920,SubmitCommit,2022-05-06 17:44:44,brahmareddybattula,fork_close,"ZOOKEEPER-4531: Revert Netty TCNative changes
Removed tcnative depdency as it is required after netty upgrade to 4.1.76
Removed tcnative CVE supressions

Author: Brahma Reddy Battula <brahma@apache.org>

Reviewers: Mohammad Arshad <arshad@apache.org>

Closes #1873 from brahmareddybattula/master

(cherry picked from commit 5b6823aea4389aa04b0a51f0c4d376002a77af9a)
Signed-off-by: Mohammad Arshad <arshad@apache.org>","{""sha"": ""1d04f060b535b4e14090ef65ecc50f34147c1548"", ""author"": {""name"": ""Brahma Reddy Battula"", ""email"": ""brahma@apache.org"", ""date"": ""2022-05-06T17:38:46Z""}, ""committer"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2022-05-06T17:44:44Z""}}"
1920,SubmitCommit,2022-05-06 19:55:18,arshadmohammad,fork_close,ZooKeeper 3.7.1: Release notes,"{""sha"": ""9255b644cd21a93dee3e52e5c6d20eca9886477a"", ""author"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2022-05-06T19:55:18Z""}, ""committer"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2022-05-06T19:55:18Z""}}"
1920,SubmitCommit,2022-05-10 16:47:29,arshadmohammad,fork_close,Start ZooKeeper 3.7.2-SNAPSHOT,"{""sha"": ""fff93c7949b616e9f11d8b8d5b5b634f13cdc06f"", ""author"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2022-05-10T16:47:29Z""}, ""committer"": {""name"": ""Mohammad Arshad"", ""email"": ""arshad@apache.org"", ""date"": ""2022-05-10T16:47:29Z""}}"
1920,SubmitCommit,2022-05-17 11:45:32,jithin23,fork_close,"ZOOKEEPER-4537: Race between SyncThread and CommitProcessor thread

Zookeeper server can get stuck when it has just one client and the only way it recovers is due to a socket timeout or another client commit request.
Sync thread reads commitIsWaiting outside of a sync block and acts on this information in a sync block later. The actual status of commitIsWaiting can change between the time where commitIsWaiting is read and acted upon because commit thread updates it outside a sync block.
Fix here is to ensure that we read and process commitIsWaiting inside a sync block.

https://issues.apache.org/jira/browse/ZOOKEEPER-4537

Author: jithin23 <jithin.girish@gmail.com>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Mate Szalay-Beko <symat@apache.org>

Closes #1877 from jithin23/ZOOKEEPER-4537

(cherry picked from commit f770467d3b1a3b088208601b14dfc3f375a4dcc0)
Signed-off-by: Mate Szalay-Beko <mszalay@cloudera.com>","{""sha"": ""3b981a6e7b7d9ab4bf10fe73f150819ae6b031c2"", ""author"": {""name"": ""jithin23"", ""email"": ""jithin.girish@gmail.com"", ""date"": ""2022-05-17T11:44:12Z""}, ""committer"": {""name"": ""Mate Szalay-Beko"", ""email"": ""mszalay@cloudera.com"", ""date"": ""2022-05-17T11:45:32Z""}}"
1920,SubmitCommit,2022-05-24 07:33:59,kezhuw,fork_close,"ZOOKEEPER-4327: Fix flaky RequestThrottlerTest.testLargeRequestThrottling

This test failed following assertions in ci:
1. `RequestThrottlerTest.testRequestThrottler:206 expected: <5> but was: <4>`

   This is caused by no happens-before relationship between
   `connectionLossCount` and `disconnected.await`. Places
   `disconnected.countDown()` after `connectionLossCount++` to solve
   this.

2. `RequestThrottlerTest.testLargeRequestThrottling:297 expected: <2> but was: <0>`

   Large request throttling is handled in io thread, while
   `prep_processor_request_queued` metric is updated in processor
   thread. Places metric assertion after `finished.await` to solve this.

Additionally, I find one more potential flaky case. After connection
closed due to throttling third request, reconnecting could fail this
test in slow sending environment. It is easy to reproduce by adding
`Thread.sleep(i * 100)` in sending loop.

Author: Kezhu Wang <kezhuw@gmail.com>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Mate Szalay-Beko <symat@apache.org>

Closes #1821 from kezhuw/ZOOKEEPER-4327-flaky-RequestThrottlerTest.testLargeRequestThrottling and squashes the following commits:

e21c2f8f7 [Kezhu Wang] ZOOKEEPER-4327: Fix flaky RequestThrottlerTest.testDropStaleRequests
3df34b827 [Kezhu Wang] ZOOKEEPER-4327: Fix flaky RequestThrottlerTest.testLargeRequestThrottling

(cherry picked from commit 4b1b33e72ca819258b8675948b9a80dd6290edb0)
Signed-off-by: maoling <maoling@apache.org>","{""sha"": ""c05ca0ee0deedd50d0ef32e3e01ad7f691d27009"", ""author"": {""name"": ""Kezhu Wang"", ""email"": ""kezhuw@gmail.com"", ""date"": ""2022-05-24T07:31:52Z""}, ""committer"": {""name"": ""maoling"", ""email"": ""maoling@apache.org"", ""date"": ""2022-05-24T07:33:59Z""}}"
1920,SubmitCommit,2022-06-01 15:35:09,eolivelli,fork_close,"ZOOKEEPER-4551: Do not log spammy stacktrace when a client closes its connection

Motivation:
See more here https://issues.apache.org/jira/browse/ZOOKEEPER-4551

Modifications:
Do not log the stacktrace, just write the message at INFO level

Author: Enrico Olivelli <eolivelli@apache.org>

Reviewers: Mate Szalay-Beko <symat@apache.org>

Closes #1889 from eolivelli/fix/remove-spam-stacktrace

(cherry picked from commit 7a515fee0124eea389c599995915927e49cf4c57)
Signed-off-by: Mate Szalay-Beko <symat@apache.com>","{""sha"": ""71cb76033a0c105a83f2c54c5ef09936b11a8e52"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2022-06-01T15:33:57Z""}, ""committer"": {""name"": ""Mate Szalay-Beko"", ""email"": ""symat@apache.com"", ""date"": ""2022-06-01T15:35:09Z""}}"
1920,SubmitCommit,2022-06-16 06:57:39,mathew-manu,fork_close,"ZOOKEEPER-4545: Backport auto reloading client key/trust store to 3.7

ZOOKEEPER-4545 Backport auto reloading client key/trust store to 3.7

This is cherry-pick from #1839. This PR is the same as the #1839 on the master branch, only changing the documentation about the version numbers.

Signed-off-by: Li Wang <li4wanggmail.com>

Author: Manu Mathew <manu.mathew@netapp.com>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Mate Szalay-Beko <symat@apache.org>

Closes #1884 from li4wang/ZOOKEEPER-4545","{""sha"": ""cf31b74b3b61b4aa521b162431017a90296de7cc"", ""author"": {""name"": ""Manu Mathew"", ""email"": ""manu.mathew@netapp.com"", ""date"": ""2022-06-16T06:57:39Z""}, ""committer"": {""name"": ""Mate Szalay-Beko"", ""email"": ""symat@apache.com"", ""date"": ""2022-06-16T06:57:39Z""}}"
1920,SubmitCommit,2022-06-24 13:32:09,kezhuw,fork_close,"ZOOKEEPER-4308: Fix flaky test EagerACLFilterTest

There are several problems in this test:
* It uses `ParameterizedTest` which run tests in single jvm. But
  `ZooKeeperServer.enableEagerACLCheck` is `static` and loaded from env
  variable.
* It uses `assertNotSame` which assert on object reference equiality.
* It asserts on `zkLeader.getLastLoggedZxid()` while client connect to
  `connectedServer`. There is no happen-before between
  `zkLeader.getLastLoggedZxid()` and successful response from other
  server. The commit and response are routed to different servers and
  performed asynchronous in each server.

Author: Kezhu Wang <kezhuw@gmail.com>

Reviewers: maoling <maoling199210191@sina.com>, Mate Szalay-Beko <symat@apache.org>

Closes #1851 from kezhuw/ZOOKEEPER-4308-EagerACLFilterTest

(cherry picked from commit 794790c9f6cbacf158493867f3058a6de748b54e)
Signed-off-by: Mate Szalay-Beko <symat@apache.com>","{""sha"": ""a1f7ffeb9211b715477f3a6aedb7c7c90def401b"", ""author"": {""name"": ""Kezhu Wang"", ""email"": ""kezhuw@gmail.com"", ""date"": ""2022-06-24T13:30:51Z""}, ""committer"": {""name"": ""Mate Szalay-Beko"", ""email"": ""symat@apache.com"", ""date"": ""2022-06-24T13:32:09Z""}}"
1920,SubmitCommit,2022-06-24 13:42:35,kezhuw,fork_close,"ZOOKEEPER-4511: Fix flaky test FileTxnSnapLogMetricsTest.testFileTxnSnapLogMetrics

This test writes txns to trigger snapshot and expects some txns remain
in txn log. But snapshot taking is asynchronous, thus all txns could be
written to snapshot. So in restarting, it is possible that no txns to
load after snapshot restored. This will fail assertion.

This commit solves this by disable automic snapshot taking by
`SyncRequestProcessor.setSnapCount(Integer.MAX_VALUE)`.

Author: Kezhu Wang <kezhuw@gmail.com>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Mate Szalay-Beko <symat@apache.org>

Closes #1852 from kezhuw/ZOOKEEPER-4511-FileTxnSnapLogMetricsTest-testFileTxnSnapLogMetrics

(cherry picked from commit b34e1716e8fa430690252288f2e15c38fe65f325)
Signed-off-by: Mate Szalay-Beko <symat@apache.com>","{""sha"": ""0ad79e3e6f77d9099952fcc2c94b34b9cff0ddf0"", ""author"": {""name"": ""Kezhu Wang"", ""email"": ""kezhuw@gmail.com"", ""date"": ""2022-06-24T13:41:41Z""}, ""committer"": {""name"": ""Mate Szalay-Beko"", ""email"": ""symat@apache.com"", ""date"": ""2022-06-24T13:42:35Z""}}"
1920,SubmitCommit,2022-07-29 14:42:18,kezhuw,fork_close,"ZOOKEEPER-4565: Refine chroot strip to accommodate /zookeeper/ subtree

```java
if (serverPath.length() > chrootPath.length()) {
    event.setPath(serverPath.substring(chrootPath.length()));
}
```

Currently, chroot strip code listed above could result in illegal path
(aka. path not start with ""/""). This will disconnect zookeeper client
due to `StringIndexOutOfBoundsException` from `PathParentIterator.next`
in event handling.

Author: Kezhu Wang <kezhuw@gmail.com>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Mate Szalay-Beko <symat@apache.org>

Closes #1899 from kezhuw/ZOOKEEPER-4565-refine-chroot-strip","{""sha"": ""e9d74a096e0a604527a12615e8aaab3d0f95363f"", ""author"": {""name"": ""Kezhu Wang"", ""email"": ""kezhuw@gmail.com"", ""date"": ""2022-07-26T07:39:20Z""}, ""committer"": {""name"": ""Mate Szalay-Beko"", ""email"": ""symat@apache.com"", ""date"": ""2022-07-29T14:42:18Z""}}"
1920,SubmitCommit,2022-08-09 14:20:21,AnanyaSingh2121,fork_close,ZOOKEEPER-4602 : Upgrade reload4j due to XXE vulnerability,"{""sha"": ""d47348abee0fb481ee9f839844664c3a04acaf05"", ""author"": {""name"": ""Ananya Singh"", ""email"": ""purpul90@gmail.com"", ""date"": ""2022-07-31T15:00:10Z""}, ""committer"": {""name"": ""Ananya Singh"", ""email"": ""purpul90@gmail.com"", ""date"": ""2022-08-09T14:20:21Z""}}"
1920,SubmitCommit,2022-09-02 14:26:36,eolivelli,fork_close,ZOOKEEPER-4602 : Upgrade reload4j due to XXE vulnerability,"{""sha"": ""8d2244255d8315bfa77227c519a1d73050291940"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""eolivelli@apache.org"", ""date"": ""2022-09-02T14:26:36Z""}, ""committer"": {""name"": ""GitHub"", ""email"": ""noreply@github.com"", ""date"": ""2022-09-02T14:26:36Z""}}"
1920,SubmitCommit,2022-09-12 12:30:13,Martin Guethle,fork_close,"Ensure zxid is set within the readonly mode

Commit c47ef905e077184bc5b7f555a3e2dfeb6dc046e1 prevents the usage of a
zxid within local sessions, anyhow the zxid is not set when a readonly
server is started.

In addition a test is append, to ensure no data corruption within the
readonly handling occures","{""sha"": ""6be77c13b2637d574d99b5f3033e619464e9865f"", ""author"": {""name"": ""Martin Guethle"", ""email"": ""martin.guethle@dsv-gruppe.de"", ""date"": ""2022-09-09T11:05:52Z""}, ""committer"": {""name"": ""Hinterwaeldlers"", ""email"": ""mguethle@xunit.de"", ""date"": ""2022-09-12T12:30:13Z""}}"
1920,OpenPR,2022-09-12 12:39:07,Hinterwaeldlers,fork_close,,
1920,ClosePR,2022-09-12 12:39:25,Hinterwaeldlers,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7367141509"", ""commit_url"": null}"
1920,ReopenPR,2022-09-12 12:41:47,Hinterwaeldlers,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7367161517"", ""commit_url"": null}"
1920,ClosePR,2022-09-12 12:42:08,Hinterwaeldlers,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7367164318"", ""commit_url"": null}"
1927,SubmitCommit,2022-09-27 02:19:45,hangc0276,fork_close,upgrade docker base image version to maven:3.8.4-jdk-8 to resolve CVEs,"{""sha"": ""8c18df1d531533b856942e38314b4e3a9ec68326"", ""author"": {""name"": ""chenhang"", ""email"": ""chenhang@apache.org"", ""date"": ""2022-09-27T02:19:45Z""}, ""committer"": {""name"": ""chenhang"", ""email"": ""chenhang@apache.org"", ""date"": ""2022-09-27T02:19:45Z""}}"
1927,OpenPR,2022-09-27 02:22:19,hangc0276,fork_close,,
1927,IssueComment,2022-09-27 02:33:33,sonatype-lift[bot],fork_close,:warning: **52 God Classes** were detected by Lift in this project. [Visit the Lift web console](https://lift.sonatype.com/results/github.com/apache/zookeeper/01GDYC171FNAWN9CQZERXNAQ0P?tab=technical-debt&utm_source=github.com&utm_campaign=lift-comment&utm_content=apache\%20zookeeper) for more details.,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1258886187"", ""author_association"": ""NONE""}"
1927,ReviewApproved,2022-09-29 13:53:06,eolivelli,fork_close,LGTM,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1927#pullrequestreview-1125345386""}"
1927,ClosePR,2022-09-29 14:36:20,eolivelli,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7487456728"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/e2bc3dd1618405a67e9b412f8ef67eb84141eb76""}"
1927,Referenced,2022-09-29 14:36:21,eolivelli,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7487457021"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/534328bb89d6fa66bf6423c24cde9da9351a4b9e""}"
1927,Referenced,2022-09-29 14:36:32,eolivelli,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7487458669"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/32225e332f2a3194956c5e57985fa106679b945f""}"
1927,CrossReferenced,2022-11-02 02:30:34,anuragmadnawat1,fork_close,ZOOKEEPER-4616: Upgrade docker image to resolve CVEs,"{""reference"": {""url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/issues/78"", ""is_pull_request"": true}}"
1927,Referenced,2022-11-02 02:30:35,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7718762183"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/3bf200f85642e14c62156129366ac883183b9627""}"
1927,Referenced,2022-11-02 02:45:42,anuragmadnawat1,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7718824194"", ""commit_url"": ""https://api.github.com/repos/anuragmadnawat1/zookeeper/commits/1a5b2fc19592118dfdbc2796f855346e8000c4c3""}"
1933,OpenPR,2022-10-08 11:21:19,hpaskalev,fork_close,,
1933,IssueComment,2022-10-08 11:32:21,sonatype-lift[bot],fork_close,:warning: **52 God Classes** were detected by Lift in this project. [Visit the Lift web console](https://lift.sonatype.com/results/github.com/apache/zookeeper/01GEVN81CMNC6GWTMZ1P00JWCP?tab=technical-debt&utm_source=github.com&utm_campaign=lift-comment&utm_content=apache\%20zookeeper) for more details.,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1272298171"", ""author_association"": ""NONE""}"
1933,HeadRefForcePushed,2022-10-08 12:32:37,hpaskalev,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7547948064"", ""commit_url"": null}"
1933,Revise,2022-10-08 13:07:55,Hristo Paskalev,fork_close,Fixed leak of sync processor upon follower server shutdown,"{""sha"": ""9891423046e6c6d1b1c171f4b1da941dc2353443"", ""author"": {""name"": ""Hristo Paskalev"", ""email"": ""hristopaskalev@Hristos-MacBook-Pro.local"", ""date"": ""2022-10-08T11:15:40Z""}, ""committer"": {""name"": ""hpaskalev"", ""email"": ""h.paskalev@gmail.com"", ""date"": ""2022-10-08T13:07:55Z""}}"
1933,HeadRefForcePushed,2022-10-08 13:08:11,hpaskalev,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7547987966"", ""commit_url"": null}"
1933,ClosePR,2022-10-08 13:47:45,hpaskalev,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7548033924"", ""commit_url"": null}"
1933,IssueCommentSupplement,2022-10-08 13:48:52,hpaskalev,fork_close,Closed this one as it appears to be redundant since [PR-1925](https://github.com/apache/zookeeper/pull/1925) resolves the issue.,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1272324740"", ""author_association"": ""NONE""}"
1937,SubmitCommit,2022-10-18 05:38:32,hemanthmantri,fork_close,PR to bootstrap TI,"{""sha"": ""0d07aa85ada1d9e80cfbc0d16fd62aafebd19d6c"", ""author"": {""name"": ""Hemanth Mantri"", ""email"": ""hemanth.mantri@harness.io"", ""date"": ""2022-10-18T05:38:32Z""}, ""committer"": {""name"": ""GitHub"", ""email"": ""noreply@github.com"", ""date"": ""2022-10-18T05:38:32Z""}}"
1937,SubmitCommit,2022-10-18 06:10:13,hemanthmantri,fork_close,Merge pull request #1 from hemanthmantri/hemanthmantri-patch-1,"{""sha"": ""11df988d3468d5c8f129e2e60b84659b41186c7c"", ""author"": {""name"": ""Hemanth Mantri"", ""email"": ""hemanth.mantri@harness.io"", ""date"": ""2022-10-18T06:10:13Z""}, ""committer"": {""name"": ""GitHub"", ""email"": ""noreply@github.com"", ""date"": ""2022-10-18T06:10:13Z""}}"
1937,SubmitCommit,2022-10-18 23:58:20,hemanthmantri,fork_close,Remove forkCount and add harnessArgLine in pom.xml,"{""sha"": ""d56e4bdae84e5e66460c0982d950d56f165b9c2c"", ""author"": {""name"": ""Hemanth Mantri"", ""email"": ""hemanth.mantri@harness.io"", ""date"": ""2022-10-18T23:58:20Z""}, ""committer"": {""name"": ""GitHub"", ""email"": ""noreply@github.com"", ""date"": ""2022-10-18T23:58:20Z""}}"
1937,SubmitCommit,2022-10-19 04:14:24,hemanthmantri,fork_close,Update pom.xml files with harnessArgLine,"{""sha"": ""74e146b14544b6cdeabe452a5cf64b6c41a17f2b"", ""author"": {""name"": ""Hemanth Mantri"", ""email"": ""hemanth.mantri@harness.io"", ""date"": ""2022-10-19T04:14:24Z""}, ""committer"": {""name"": ""Hemanth Mantri"", ""email"": ""hemanth.mantri@harness.io"", ""date"": ""2022-10-19T04:14:24Z""}}"
1937,OpenPR,2022-10-19 04:16:40,hemanthmantri,fork_close,,
1937,ClosePR,2022-10-19 04:16:52,hemanthmantri,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7617532955"", ""commit_url"": null}"
1937,DeleteBranch,2022-10-19 04:18:24,hemanthmantri,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7617539388"", ""commit_url"": null}"
1937,IssueCommentSupplement,2022-10-19 04:26:35,sonatype-lift[bot],fork_close,:warning: **52 God Classes** were detected by Lift in this project. [Visit the Lift web console](https://lift.sonatype.com/results/github.com/apache/zookeeper/01GFQ7ACWGC4GHHFC34DJAVVWG?tab=technical-debt&utm_source=github.com&utm_campaign=lift-comment&utm_content=apache\%20zookeeper) for more details.,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1283407866"", ""author_association"": ""NONE""}"
1939,SubmitCommit,2022-10-23 06:55:47,zhangzq7,fork_close,use StringBuilder instead of String +=,"{""sha"": ""2483278590c71d04849452365ac008090cc5d76c"", ""author"": {""name"": ""zhangzq7"", ""email"": ""zhangzq7@asiainfo.com"", ""date"": ""2022-10-23T06:55:47Z""}, ""committer"": {""name"": ""zhangzq7"", ""email"": ""zhangzq7@asiainfo.com"", ""date"": ""2022-10-23T06:55:47Z""}}"
1939,SubmitCommit,2022-10-23 06:55:57,zhangzq7,fork_close,use StringBuilder instead of String +=,"{""sha"": ""eb06234bfff6c57396cc97d24d5af30995c3d1f4"", ""author"": {""name"": ""zhangzq7"", ""email"": ""zhangzq7@asiainfo.com"", ""date"": ""2022-10-23T06:55:57Z""}, ""committer"": {""name"": ""zhangzq7"", ""email"": ""zhangzq7@asiainfo.com"", ""date"": ""2022-10-23T06:55:57Z""}}"
1939,OpenPR,2022-10-23 06:57:02,zhangzq7,fork_close,,
1939,IssueComment,2022-10-23 07:11:34,sonatype-lift[bot],fork_close,:warning: **52 God Classes** were detected by Lift in this project. [Visit the Lift web console](https://lift.sonatype.com/results/github.com/apache/zookeeper/01GG1T2XGKV5R7BG95J2XB28Z7?tab=technical-debt&utm_source=github.com&utm_campaign=lift-comment&utm_content=apache\%20zookeeper) for more details.,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1288033173"", ""author_association"": ""NONE""}"
1939,ReviewComment,2022-10-24 05:07:24,ctubbsii,fork_close,These look like they would be very small strings. Do you know if this even matters here?,"{""author_association"": ""MEMBER"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1939#pullrequestreview-1152542399""}"
1939,IssueComment,2022-10-24 05:24:10,Shoothzj,fork_close,I think there is little value in changing this place. I suggest not change.,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1288437060"", ""author_association"": ""MEMBER""}"
1939,RenameTitle,2022-10-24 12:36:01,eolivelli,fork_close,,"{""rename"": {""from"": ""use StringBuilder instead of String +="", ""to"": ""LogGraph: use StringBuilder instead of String +=""}, ""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7653559394""}"
1939,ReviewRejected,2022-10-24 12:36:59,eolivelli,fork_close,"Thank you @zhangzq7 for you contribution.
I am not sure that this change would impact somehow the performance of the application.

Could you please share more context ?","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1939#pullrequestreview-1153066793""}"
1939,ClosePR,2022-11-01 01:21:14,zhangzq7,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7709246911"", ""commit_url"": null}"
1941,SubmitCommit,2022-10-26 22:40:02,Ghatage,fork_close,ZOOKEEPER-4627: Upgrade jetty server dependency for CVE-2022-2048,"{""sha"": ""873642b3809ff26af8e636d42df023ee7d7986a1"", ""author"": {""name"": ""Ghatage"", ""email"": ""ghatage@apache.org"", ""date"": ""2022-10-26T22:40:02Z""}, ""committer"": {""name"": ""Ghatage"", ""email"": ""ghatage@apache.org"", ""date"": ""2022-10-26T22:40:02Z""}}"
1941,OpenPR,2022-10-26 22:41:02,Ghatage,fork_close,,
1941,IssueComment,2022-10-26 22:41:41,Ghatage,fork_close,@eolivelli PTAL,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1292741893"", ""author_association"": ""CONTRIBUTOR""}"
1941,IssueComment,2022-10-26 22:51:33,sonatype-lift[bot],fork_close,:warning: **52 God Classes** were detected by Lift in this project. [Visit the Lift web console](https://lift.sonatype.com/results/github.com/apache/zookeeper/01GGB79JWNBKBA2X3RGSJJ15MW?tab=technical-debt&utm_source=github.com&utm_campaign=lift-comment&utm_content=apache\%20zookeeper) for more details.,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1292748956"", ""author_association"": ""NONE""}"
1941,ReviewApproved,2022-11-15 08:00:22,edwin092,fork_close,,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1941#pullrequestreview-1180382026""}"
1941,IssueComment,2022-12-01 14:44:03,dobozysaurus,fork_close,Would love to see this merged and in a release of ZooKeeper ASAP!,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1333871572"", ""author_association"": ""CONTRIBUTOR""}"
1941,ReviewRejected,2022-12-06 17:56:34,cnauroth,fork_close,Hi @Ghatage . Thank you for the patch. I see there is now a 9.4.49 release available. Do you want to upgrade to that one so that we're on the latest version? I can take care of merging this for you.,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1941#pullrequestreview-1207062201""}"
1941,IssueComment,2022-12-06 17:58:28,cnauroth,fork_close,"@Ghatage , also, I'd like to assign Apache JIRA Issue [ZOOKEEPER-4627](https://issues.apache.org/jira/browse/ZOOKEEPER-4627) to you. Do you have an Apache JIRA account? If not, I can create one for you if you send a request to private@zookeeper.apache.org with the following information:
* email address
* preferred username (N.B. hyphens not allowed)
* alternate username (in case the preferred one is already in use)
* display name, if it is different from the username","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1339760270"", ""author_association"": ""CONTRIBUTOR""}"
1941,ReviewRejected,2022-12-09 10:33:37,symat,fork_close,"you also need to update the license files if jetty is upgraded (basically just change the jetty version in `zookeeper-server/src/main/resources/LICENSE.txt`, and rename the jetty license files in `zookeeper-server/src/main/resources/lib`).

For branch 3.6 I'm just doing this as part of a more generic license cleanup / library upgrade I need to do before the release 3.6.4. So you can find examples here, I hope it helps: https://github.com/apache/zookeeper/pull/1957/files
","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1941#pullrequestreview-1211458328""}"
1941,IssueComment,2022-12-09 19:45:55,cnauroth,fork_close,"FYI, I'm planning to shift over to #1955 and work on committing that one, which brings the dependency up to 9.4.49. @Ghatage , thank you for this patch, and I can co-credit you on the other one with a `Co-authored-by` tag in the commit message.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1344719723"", ""author_association"": ""CONTRIBUTOR""}"
1941,CrossReferenced,2022-12-13 20:52:19,cnauroth,fork_close,ZOOKEEPER-4627: Upgraded jetty library.,"{""reference"": {""url"": ""https://api.github.com/repos/apache/zookeeper/issues/1955"", ""is_pull_request"": true}}"
1941,IssueCommentSupplement,2022-12-13 20:58:34,cnauroth,fork_close,"This was resolved in PR #1955 . @Ghatage , thank you for your pull request. I gave you co-author credit on the other one.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1349680369"", ""author_association"": ""CONTRIBUTOR""}"
1941,ClosePR,2022-12-13 20:58:34,cnauroth,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/8030184438"", ""commit_url"": null}"
1941,IssueCommentSupplement,2022-12-13 23:56:48,Ghatage,fork_close,"Hi folks, sorry for the delayed response. Was under the weather for the last few weeks.
Good to know @cnauroth took care of it, thanks!","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1350101227"", ""author_association"": ""CONTRIBUTOR""}"
1942,SubmitCommit,2022-11-02 05:26:12,cnauroth,fork_merge,ZOOKEEPER-4460: QuorumPeer overrides Thread.getId with different semantics.,"{""sha"": ""d3879db1ed019892373683694663b05ade0db6fe"", ""author"": {""name"": ""Chris Nauroth"", ""email"": ""cnauroth@apache.org"", ""date"": ""2022-11-02T05:26:12Z""}, ""committer"": {""name"": ""Chris Nauroth"", ""email"": ""cnauroth@apache.org"", ""date"": ""2022-11-02T05:26:12Z""}}"
1942,OpenPR,2022-11-02 05:27:05,cnauroth,fork_merge,,
1942,ReviewRequested,2022-11-02 05:28:52,cnauroth,fork_merge,,"{""requested_reviewer"": {""login"": ""eolivelli"", ""id"": 9469110, ""node_id"": ""MDQ6VXNlcjk0NjkxMTA="", ""avatar_url"": ""https://avatars.githubusercontent.com/u/9469110?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/eolivelli"", ""html_url"": ""https://github.com/eolivelli"", ""followers_url"": ""https://api.github.com/users/eolivelli/followers"", ""following_url"": ""https://api.github.com/users/eolivelli/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/eolivelli/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/eolivelli/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/eolivelli/subscriptions"", ""organizations_url"": ""https://api.github.com/users/eolivelli/orgs"", ""repos_url"": ""https://api.github.com/users/eolivelli/repos"", ""events_url"": ""https://api.github.com/users/eolivelli/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/eolivelli/received_events"", ""type"": ""User"", ""site_admin"": false}, ""requested_team"": null}"
1942,ReviewRequested,2022-11-02 05:29:05,cnauroth,fork_merge,,"{""requested_reviewer"": {""login"": ""symat"", ""id"": 18458499, ""node_id"": ""MDQ6VXNlcjE4NDU4NDk5"", ""avatar_url"": ""https://avatars.githubusercontent.com/u/18458499?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/symat"", ""html_url"": ""https://github.com/symat"", ""followers_url"": ""https://api.github.com/users/symat/followers"", ""following_url"": ""https://api.github.com/users/symat/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/symat/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/symat/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/symat/subscriptions"", ""organizations_url"": ""https://api.github.com/users/symat/orgs"", ""repos_url"": ""https://api.github.com/users/symat/repos"", ""events_url"": ""https://api.github.com/users/symat/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/symat/received_events"", ""type"": ""User"", ""site_admin"": false}, ""requested_team"": null}"
1942,ReviewRequested,2022-11-02 05:29:05,cnauroth,fork_merge,,"{""requested_reviewer"": {""login"": ""anmolnar"", ""id"": 4997876, ""node_id"": ""MDQ6VXNlcjQ5OTc4NzY="", ""avatar_url"": ""https://avatars.githubusercontent.com/u/4997876?v=4"", ""gravatar_id"": """", ""url"": ""https://api.github.com/users/anmolnar"", ""html_url"": ""https://github.com/anmolnar"", ""followers_url"": ""https://api.github.com/users/anmolnar/followers"", ""following_url"": ""https://api.github.com/users/anmolnar/following{/other_user}"", ""gists_url"": ""https://api.github.com/users/anmolnar/gists{/gist_id}"", ""starred_url"": ""https://api.github.com/users/anmolnar/starred{/owner}{/repo}"", ""subscriptions_url"": ""https://api.github.com/users/anmolnar/subscriptions"", ""organizations_url"": ""https://api.github.com/users/anmolnar/orgs"", ""repos_url"": ""https://api.github.com/users/anmolnar/repos"", ""events_url"": ""https://api.github.com/users/anmolnar/events{/privacy}"", ""received_events_url"": ""https://api.github.com/users/anmolnar/received_events"", ""type"": ""User"", ""site_admin"": false}, ""requested_team"": null}"
1942,IssueComment,2022-11-02 05:34:17,cnauroth,fork_merge,"@eolivelli , @symat or @anmolnar , would you please review?

As discussed in JIRA issue [ZOOKEEPER-4460](https://issues.apache.org/jira/browse/ZOOKEEPER-4460), the ZooKeeper codebase currently contains an override of `Thread#getId()`, which will be incompatible with OpenJDK Project Loom, targeted to Java 19. I've taken the approach of renaming `QuorumPeer#getId()` to `QuorumPeer#getMyId()`, consistent with documented terminology for the ID assigned to a peer in a quorum. From what I can tell, it was never intentional to override `Thread#getId()`. It was just a logical choice for a method name in a class that coincidentally also `extends Thread`.

`QuorumPeer` is a server-side class that isn't part of a public API, so we don't need to preserve backward compatibility. As a safety measure, I reviewed the code for [Apache Curator](https://github.com/apache/curator), where I suspected there might be a deeper integration with ZooKeeper internals for testing infrastructure. Even in Curator, I didn't find any calls to `QuorumPeer#getId()`.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1299598419"", ""author_association"": ""CONTRIBUTOR""}"
1942,ReviewComment,2022-11-02 05:37:37,sonatype-lift[bot],fork_merge,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1942#pullrequestreview-1164482740""}"
1942,ReviewComment,2022-11-02 05:37:39,sonatype-lift[bot],fork_merge,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1942#pullrequestreview-1164482760""}"
1942,IssueComment,2022-11-02 05:37:42,sonatype-lift[bot],fork_merge,:warning: **52 God Classes** were detected by Lift in this project. [Visit the Lift web console](https://lift.sonatype.com/results/github.com/apache/zookeeper/01GGVCXE6YD5J4DMW6NQ80YQMF?tab=technical-debt&utm_source=github.com&utm_campaign=lift-comment&utm_content=apache\%20zookeeper) for more details.,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1299601080"", ""author_association"": ""NONE""}"
1942,IssueComment,2022-11-02 05:51:52,cnauroth,fork_merge,"The sonatype-lift warnings are potentially interesting, but unrelated to code changed by this patch.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1299612003"", ""author_association"": ""CONTRIBUTOR""}"
1942,ReviewApproved,2022-11-02 06:20:36,eolivelli,fork_merge,"Great catch!

We should cut a release in order to let people test this.
I will report this to the JDK Quality Outreach program (zookeeper is participating)","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1942#pullrequestreview-1164516201""}"
1942,IssueComment,2022-11-02 06:21:06,eolivelli,fork_merge,"I think that we should port this to the active branches, at least 3.8","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1299635251"", ""author_association"": ""CONTRIBUTOR""}"
1942,IssueComment,2022-11-02 23:30:12,cnauroth,fork_merge,"Thanks for the review, @eolivelli ! I've confirmed that this patch backports cleanly to branch-3.8 and branch-3.7, so I'll plan on committing to those branches. (Going back any further than that will hit merge conflicts.)","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1301489569"", ""author_association"": ""CONTRIBUTOR""}"
1942,IssueComment,2022-11-03 00:23:00,cnauroth,fork_merge,"There was one test failure, which appears to be unrelated.

```
[ERROR] Tests run: 5, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 25.109 s <<< FAILURE! - in org.apache.zookeeper.server.ConnectionMetricsTest
[ERROR] testRevalidateCount  Time elapsed: 1.195 s  <<< ERROR!
java.lang.NullPointerException
	at org.apache.zookeeper.test.QuorumUtil.getConnectionStringForServer(QuorumUtil.java:343)
	at org.apache.zookeeper.server.ConnectionMetricsTest.testRevalidateCount(ConnectionMetricsTest.java:65)
```
","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1301517081"", ""author_association"": ""CONTRIBUTOR""}"
1942,MergePR,2022-11-03 05:49:58,cnauroth,fork_merge,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7729089324"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/cedf09370b88b682ae4f7bcd29c683798fa31928""}"
1942,DeleteBranch,2022-11-03 05:50:02,cnauroth,fork_merge,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7729089585"", ""commit_url"": null}"
1942,Referenced,2022-11-03 05:59:36,asfgit,fork_merge,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7729122562"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/941151ca2d043391d6009f93fd9eafeafcb230ab""}"
1942,Referenced,2022-11-03 06:04:06,asfgit,fork_merge,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7729141218"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/e002e080d29a0886ffae6020bf087358eb49559b""}"
1942,IssueCommentSupplement,2022-11-03 06:05:12,cnauroth,fork_merge,"I have merged this to master, branch-3.8 and branch-3.7. @eolivelli , thank you for reviewing!","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1301683143"", ""author_association"": ""CONTRIBUTOR""}"
1942,IssueCommentSupplement,2022-11-09 02:29:39,li4wang,fork_merge,"The test failure `ConnectionMetricsTest.testRevalidateCount` is related to the changes in this PR. 

` int follower1 = (int) util.getFollowerQuorumPeers().get(0).getId()`

The test calls getId() to get the server id. Since getId()  was changed to getMyId(), the super class Thread.getId() is called and the thread id was returned. There is no corresponding peer associated to the thread id, that's why NPE is thrown.

The test passed after changing `getId()` to `getMyId()`. I will open a JIRA to check in the fix. @eolivelli can you do a quick review and get it merged once the PR is submitted. Thanks

https://github.com/apache/zookeeper/blob/master/zookeeper-server/src/test/java/org/apache/zookeeper/server/ConnectionMetricsTest.java#L60-L65


","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1308116154"", ""author_association"": ""CONTRIBUTOR""}"
1942,CrossReferenced,2023-01-06 16:35:10,linghengqian,fork_merge,Add support for `org.apache.curator:curator-*:5.4.0`,"{""reference"": {""url"": ""https://api.github.com/repos/oracle/graalvm-reachability-metadata/issues/163"", ""is_pull_request"": false}}"
1944,SubmitCommit,2022-11-09 02:50:52,liwang,fork_merge,"ZOOKEEPER-4632: Fix NPE from ConnectionMetricsTest.testRevalidateCount

Author: Li Wang <liwang@apple.com>","{""sha"": ""4ad010384ea9903501f145de041bab14e763fbb1"", ""author"": {""name"": ""liwang"", ""email"": ""liwang@apple.com"", ""date"": ""2022-11-09T02:50:52Z""}, ""committer"": {""name"": ""liwang"", ""email"": ""liwang@apple.com"", ""date"": ""2022-11-09T02:50:52Z""}}"
1944,OpenPR,2022-11-09 02:51:52,li4wang,fork_merge,,
1944,IssueComment,2022-11-09 04:12:33,li4wang,fork_merge,"Hi @eolivelli, would you mind taking a quick look the PR and get it merged? The prb is currently broken. Thanks.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1308187137"", ""author_association"": ""CONTRIBUTOR""}"
1944,ReviewApproved,2022-11-09 04:13:15,cnauroth,fork_merge,"+1, pending successful pre-commit checks. I'll plan on committing this to master, branch-3.8 and branch-3.7. Thanks, @li4wang !","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1944#pullrequestreview-1173262749""}"
1944,CrossReferenced,2022-11-09 23:34:00,li4wang,fork_merge,ZOOKEEPER-4570: Admin server API for taking snapshot and stream out data,"{""reference"": {""url"": ""https://api.github.com/repos/apache/zookeeper/issues/1943"", ""is_pull_request"": true}}"
1944,IssueComment,2022-11-11 18:29:10,li4wang,fork_merge,Do we need one more approval for this? Can @eolivelli or anyone help reviewing it and get it merged?  Thanks.,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1312053253"", ""author_association"": ""CONTRIBUTOR""}"
1944,IssueComment,2022-11-11 18:44:15,cnauroth,fork_merge,"> Do we need one more approval for this? Can @eolivelli or anyone help reviewing it and get it merged? Thanks.

Hi @li4wang . My binding +1 is sufficient to get this into the codebase. I expect I'll be able to take care of it later today. Thanks!","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1312064330"", ""author_association"": ""CONTRIBUTOR""}"
1944,MergePR,2022-11-14 00:15:58,cnauroth,fork_merge,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7799365882"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/ab1bdad3f9e3caee676174aaea4a7651a977b7c6""}"
1944,IssueCommentSupplement,2022-11-14 00:22:39,cnauroth,fork_merge,"I have merged this to master, branch-3.8 and branch-3.7. @li4wang , thank you for the contribution.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1312873345"", ""author_association"": ""CONTRIBUTOR""}"
1951,SubmitCommit,2022-12-07 09:51:18,eolivelli,fork_close,"[ZOOKEEPER-4641] GH CI fails with 'error: implicit declaration of function ‘FIPS_mode’ [-Werror=implicit-function-declaration]'

Modifications:
- remove the block, as it is used only for debug","{""sha"": ""5bf1a739c87bb9fe058a237632c0e524259d9997"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""enrico.olivelli@datastax.com"", ""date"": ""2022-12-07T09:49:27Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""enrico.olivelli@datastax.com"", ""date"": ""2022-12-07T09:51:18Z""}}"
1951,OpenPR,2022-12-07 09:51:25,eolivelli,fork_close,,
1951,CrossReferenced,2022-12-07 09:51:36,eolivelli,fork_close,ZOOKEEPER-4570: Admin server API for taking snapshot and stream out data,"{""reference"": {""url"": ""https://api.github.com/repos/apache/zookeeper/issues/1943"", ""is_pull_request"": true}}"
1951,ReviewApproved,2022-12-07 11:14:24,anmolnar,fork_close,"Approved.
It doesn't even compile?","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1951#pullrequestreview-1208232353""}"
1951,ReviewComment,2022-12-07 18:15:50,cnauroth,fork_close,"I don't feel too strongly about it, but perhaps a more appropriate fix is:

```
#include <openssl/crypto.h>
```

I wonder why it was compiling before and stopped now.","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1951#pullrequestreview-1208906064""}"
1951,IssueComment,2022-12-12 11:13:16,eolivelli,fork_close,"@cnauroth 
I am sorry I think I have pushed this patch to master branch by mistake.
The patch had been approved, I think there is no need to git revert. 


 `wonder why it was compiling before and stopped now.`

This is because we use `-Werror` and as long as the C compiler is upgraded we find more warnings, that are considered errors, this is why sometimes builds start to fail without anyone doing anything.

","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1346294764"", ""author_association"": ""CONTRIBUTOR""}"
1951,ClosePR,2022-12-12 11:13:19,eolivelli,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/8013058963"", ""commit_url"": null}"
1951,ReopenPR,2022-12-12 11:14:06,eolivelli,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/8013065889"", ""commit_url"": null}"
1951,IssueComment,2022-12-12 11:14:35,eolivelli,fork_close,"@cnauroth actually I hadn't pushed the patch to this repository but to my fork master branch.
So the patch is still here open for review","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1346296670"", ""author_association"": ""CONTRIBUTOR""}"
1951,ReviewApproved,2022-12-12 17:18:15,cnauroth,fork_close,"+1

Thank you, @eolivelli .","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1951#pullrequestreview-1213988965""}"
1951,CrossReferenced,2022-12-13 17:35:12,cnauroth,fork_close,ZOOKEEPER-4627: Upgraded jetty library.,"{""reference"": {""url"": ""https://api.github.com/repos/apache/zookeeper/issues/1955"", ""is_pull_request"": true}}"
1951,ReviewApproved,2022-12-14 09:41:58,symat,fork_close,"LGTM
should I merge this? (it seems blocking all CI runs e.g. on master)","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1951#pullrequestreview-1217104549""}"
1951,IssueComment,2022-12-14 09:44:29,symat,fork_close,"I re-triggered the failing CI runs (there was also a failure in C-client tests, but I think I saw that particular error before and it is an unrelated flaky)","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1350743946"", ""author_association"": ""CONTRIBUTOR""}"
1951,IssueComment,2022-12-15 11:48:58,eolivelli,fork_close,"@symat I think that we should merge this an then follow up on the flaky test.

@ztzg maybe you could also help here ?","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1352946039"", ""author_association"": ""CONTRIBUTOR""}"
1951,IssueComment,2022-12-15 12:04:07,symat,fork_close,"I agree, the patch is already helping - at least the C client can be compiled now :)
Merging it now to all active branches (even to branch-3.6, in case if we will need an other RC)","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1352962603"", ""author_association"": ""CONTRIBUTOR""}"
1951,ClosePR,2022-12-15 12:16:40,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/8046674951"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/50d5722dd3342530eae4a737d9759ec5f774c84b""}"
1951,Referenced,2022-12-15 12:16:56,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/8046677374"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/8a4d911c3dcf95a4d0aad4f2116062077f331e3d""}"
1951,Referenced,2022-12-15 12:17:15,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/8046679765"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/1270a287eaa23edebd7bb6296ff782dbf3f2f212""}"
1951,Referenced,2022-12-15 12:17:37,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/8046683954"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/5d8ef0368d1b2294c2532635becbc6174cf937a9""}"
1951,Referenced,2022-12-16 09:45:49,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/8055056721"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/8a88888c0317bcc7476f12a7d9fc1d293ec2a818""}"
1952,SubmitCommit,2022-12-07 10:49:30,eolivelli,fork_merge,[ZOOKEEPER-4642] Remove Travis CI,"{""sha"": ""4cba2b8e4d8d902c0aa54b423e00ebbf6c5ab94a"", ""author"": {""name"": ""Enrico Olivelli"", ""email"": ""enrico.olivelli@datastax.com"", ""date"": ""2022-12-07T10:49:30Z""}, ""committer"": {""name"": ""Enrico Olivelli"", ""email"": ""enrico.olivelli@datastax.com"", ""date"": ""2022-12-07T10:49:30Z""}}"
1952,OpenPR,2022-12-07 10:49:56,eolivelli,fork_merge,,
1952,ReviewApproved,2022-12-07 18:20:18,cnauroth,fork_merge,"+1

Thank you, @eolivelli !","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1952#pullrequestreview-1208911743""}"
1952,MergePR,2022-12-10 22:30:57,eolivelli,fork_merge,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/8005919852"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/f1d69fdc8a4407f85e0d9af84daac93c00fe82f7""}"
1954,SubmitCommit,2022-12-08 14:50:16,tamaashu,fork_merge,"ZOOKEEPER-3941: Upgrade commons-cli to 1.4

commons-cli 1.2 was released in 2009, time to upgrade it to the newest version (1.4).
To avoid deprecation messages we have to upgrade the Java code too.

Author: Tamas Penzes <tamaas@cloudera.com>

Reviewers: Enrico Olivelli <eolivelli@apache.org>, Mate Szalay-Beko <symat@apache.org>

Closes #1463 from tamaashu/zookeeper-3941

(cherry picked from commit 492fd79b0c7845f1b7f3717632471d79660d1363)","{""sha"": ""7143df776c8f2a313684d6a6b449c06bbd3843d8"", ""author"": {""name"": ""Tamas Penzes"", ""email"": ""tamaas@cloudera.com"", ""date"": ""2020-09-23T12:13:34Z""}, ""committer"": {""name"": ""Mate Szalay-Beko"", ""email"": ""symat@apache.com"", ""date"": ""2022-12-08T14:50:16Z""}}"
1954,OpenPR,2022-12-08 14:52:51,symat,fork_merge,,
1954,ReviewApproved,2022-12-09 08:35:22,anmolnar,fork_merge,+1,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1954#pullrequestreview-1211300209""}"
1954,ReviewApproved,2022-12-09 08:55:52,eolivelli,fork_merge,Lgtm,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1954#pullrequestreview-1211324209""}"
1954,MergePR,2022-12-09 08:56:12,eolivelli,fork_merge,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7996718347"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/98bde18efe308b80f6457d3552c8bffc13be9340""}"
1954,DeleteBranch,2022-12-09 13:15:01,symat,fork_merge,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7998634113"", ""commit_url"": null}"
1955,SubmitCommit,2022-12-08 19:00:23,Mike Dobozy,fork_merge,ZOOKEEPER-4627: Upgraded jetty library.,"{""sha"": ""ca2308bc6de07a300642a59d7120035f856fefdf"", ""author"": {""name"": ""Mike Dobozy"", ""email"": ""mdobozy@redhat.com"", ""date"": ""2022-12-08T19:00:23Z""}, ""committer"": {""name"": ""Mike Dobozy"", ""email"": ""mdobozy@redhat.com"", ""date"": ""2022-12-08T19:00:23Z""}}"
1955,OpenPR,2022-12-08 19:02:12,dobozysaurus,fork_merge,,
1955,ReviewRejected,2022-12-09 19:43:41,cnauroth,fork_merge,"@dobozysaurus , thank you for the patch.

We'll also need to update our license tracking, which resides under `zookeeper-server/src/main/resources/lib`. You can do this:

```
git mv jetty-http-9.4.43.v20210629.LICENSE.txt jetty-http-9.4.49.v20220914.LICENSE.txt
```

Then, do the same for all 7 Jetty license files in that directory. The contents of the files do not need to change, so `git mv` is sufficient.","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1955#pullrequestreview-1212183939""}"
1955,CrossReferenced,2022-12-09 19:45:55,cnauroth,fork_merge,ZOOKEEPER-4627: Upgrade jetty server dependency for CVE-2022-2048,"{""reference"": {""url"": ""https://api.github.com/repos/apache/zookeeper/issues/1941"", ""is_pull_request"": true}}"
1955,Revise,2022-12-09 20:14:43,Mike Dobozy,fork_merge,updated license files to new version.,"{""sha"": ""e1345238c68aca23dbf1c3363be60adadbff6222"", ""author"": {""name"": ""Mike Dobozy"", ""email"": ""mdobozy@redhat.com"", ""date"": ""2022-12-09T20:14:43Z""}, ""committer"": {""name"": ""Mike Dobozy"", ""email"": ""mdobozy@redhat.com"", ""date"": ""2022-12-09T20:14:43Z""}}"
1955,IssueComment,2022-12-10 01:12:14,cnauroth,fork_merge,"I'm fairly certain the test failures are unrelated flaky tests. I'll dig in and confirm more next week. We also have a known unrelated failure to build the C client, tracked separately in [ZOOKEEPER-4641](https://issues.apache.org/jira/browse/ZOOKEEPER-4641). I'm planning to commit next week.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1344959652"", ""author_association"": ""CONTRIBUTOR""}"
1955,ReviewComment,2022-12-13 12:50:58,symat,fork_merge,Looks good to me... I'm also fairly certain that the test failures are unrelated. I re-triggered the failing CI jobs which might or might not help :),"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1955#pullrequestreview-1215407402""}"
1955,IssueComment,2022-12-13 17:35:12,cnauroth,fork_merge,"It looks like @symat has the magic touch for retrying CI. :-D This time tests passed, and it only failed due to the unrelated build error in the C client, documented in [ZOOKEEPER-4641](https://issues.apache.org/jira/browse/ZOOKEEPER-4641)/PR #1951.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1349216505"", ""author_association"": ""CONTRIBUTOR""}"
1955,ReviewApproved,2022-12-13 17:35:48,cnauroth,fork_merge,"+1

I'll merge this today.","{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1955#pullrequestreview-1216052249""}"
1955,IssueComment,2022-12-13 18:01:49,dobozysaurus,fork_merge,"Awesome, thanks all!","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1349317562"", ""author_association"": ""CONTRIBUTOR""}"
1955,MergePR,2022-12-13 20:43:30,cnauroth,fork_merge,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/8030055073"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/21a707b73e588a7bfc53dfcacaa14f5a1b386159""}"
1955,Referenced,2022-12-13 20:45:54,asfgit,fork_merge,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/8030075441"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/01875f07a4453ccb0826bd9a6f6f25f897d1382c""}"
1955,Referenced,2022-12-13 20:46:51,asfgit,fork_merge,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/8030084706"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/f8d233b4d42cc824f4f5ca51ee5c93e64faaa3f5""}"
1955,IssueCommentSupplement,2022-12-13 20:52:18,cnauroth,fork_merge,"I have committed this to master, branch-3.8 and branch-3.7. Mate already covered branch-3.6 in PR #1957 in preparation for the 3.6.4 release.

@dobozysaurus , thank you for the contribution. @Ghatage , thank you for your work on the prior #1941. (I gave you co-author credit on this one.) Thank you also to @symat for the additional review.","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1349674157"", ""author_association"": ""CONTRIBUTOR""}"
1956,SubmitCommit,2022-12-09 10:21:38,Mate Szalay-Beko,unfork_close,ZOOKEEPER-4644: update dependencies before release 3.6.4,"{""sha"": ""5df7cc66d9958fa57e23477ddbeaec1a33ddfd0a"", ""author"": {""name"": ""Mate Szalay-Beko"", ""email"": ""symat@apache.com"", ""date"": ""2022-12-09T10:21:38Z""}, ""committer"": {""name"": ""Mate Szalay-Beko"", ""email"": ""symat@apache.com"", ""date"": ""2022-12-09T10:21:38Z""}}"
1956,OpenPR,2022-12-09 10:24:58,symat,unfork_close,,
1956,ClosePR,2022-12-09 13:11:33,symat,unfork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7998607597"", ""commit_url"": null}"
1956,DeleteBranch,2022-12-09 13:11:38,symat,unfork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/7998608285"", ""commit_url"": null}"
1956,IssueCommentSupplement,2023-01-17 09:50:05,chufe-dremio,unfork_close,"Did this merge also go to Zookeeper 3.8?
Somehow we see the CVEs reported:  CVE-2022-42003(7.5), CVE-2022-42004(7.5)","{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1385117776"", ""author_association"": ""NONE""}"
1960,SubmitCommit,2022-12-13 06:42:09,Li Wang,fork_close,"ZOOKEEPER-4570: Admin server API for taking snapshot and stream out data

Provides a snapshot command for taking snapshot and streaming out data

Author: Li Wang <liwang@apple.com>","{""sha"": ""a884243604a8a6baf9134e4d11ef2c3cdca651ca"", ""author"": {""name"": ""Li Wang"", ""email"": ""liwang@apple.com"", ""date"": ""2022-11-08T22:49:17Z""}, ""committer"": {""name"": ""liwang"", ""email"": ""liwang@apple.com"", ""date"": ""2022-12-13T06:42:09Z""}}"
1960,OpenPR,2022-12-13 06:56:57,li4wang,fork_close,,
1960,Revise,2022-12-13 07:08:15,liwang,fork_close,"ZOOKEEPER-4571: Admin server API for restore database from a snapshot

Provides a restore command for restoring database from a snapshot

Author: Li Wang <liwang@apple.com>","{""sha"": ""b7850eba652e27df13e292d61dd9e929da7ac07d"", ""author"": {""name"": ""liwang"", ""email"": ""liwang@apple.com"", ""date"": ""2022-12-13T07:08:15Z""}, ""committer"": {""name"": ""liwang"", ""email"": ""liwang@apple.com"", ""date"": ""2022-12-13T07:08:15Z""}}"
1960,HeadRefForcePushed,2022-12-13 07:08:58,li4wang,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/8022109823"", ""commit_url"": null}"
1960,RenameTitle,2022-12-13 07:10:40,li4wang,fork_close,,"{""rename"": {""from"": ""ZOOKEEPER-4570: Admin server API for taking snapshot and stream out data"", ""to"": ""ZOOKEEPER-4571: Admin server API for restore database from a snapshot""}, ""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/8022121131""}"
1960,IssueCommentSupplement,2022-12-13 07:14:05,li4wang,fork_close,Close this one and re-create a clean one.,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1347844972"", ""author_association"": ""CONTRIBUTOR""}"
1960,ClosePR,2022-12-13 07:14:05,li4wang,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/8022145859"", ""commit_url"": null}"
1960,ReviewCommentSupplement,2022-12-13 07:40:45,sonatype-lift[bot],fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1960#pullrequestreview-1214850605""}"
1960,ReviewCommentSupplement,2022-12-13 07:40:46,sonatype-lift[bot],fork_close,,"{""author_association"": ""NONE"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1960#pullrequestreview-1214850636""}"
1965,SubmitCommit,2022-12-14 11:46:32,Mate Szalay-Beko,fork_close,"ZOOKEEPER-4651: Fix checkstyle problems on branch-3.6

Checkstyle was upgraded to 8.39 in ZOOKEEPER-4644 and it doesn't work
properly on current branch 3.6. Given that branch 3.6 won't be actively
developed, I decided to downgrade checkstyle to 8.19.

But even after downgrading it to 8.19, we still have four checkstyle
errors in a license header which I also fix in this commit.","{""sha"": ""ecea82ca59867eb99fbef923c7f21104e545b69f"", ""author"": {""name"": ""Mate Szalay-Beko"", ""email"": ""symat@apache.com"", ""date"": ""2022-12-14T11:46:32Z""}, ""committer"": {""name"": ""Mate Szalay-Beko"", ""email"": ""symat@apache.com"", ""date"": ""2022-12-14T11:46:32Z""}}"
1965,OpenPR,2022-12-14 11:52:44,symat,fork_close,,
1965,ReviewApproved,2022-12-14 13:09:48,anmolnar,fork_close,+1,"{""author_association"": ""CONTRIBUTOR"", ""html_url"": ""https://github.com/apache/zookeeper/pull/1965#pullrequestreview-1217430020""}"
1965,IssueComment,2022-12-14 13:12:22,symat,fork_close,thanks for the quick review!,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/comments/1351331372"", ""author_association"": ""CONTRIBUTOR""}"
1965,Referenced,2022-12-14 13:14:09,asfgit,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/8037117040"", ""commit_url"": ""https://api.github.com/repos/apache/zookeeper/commits/696ba7bbd16417a56828d7d6e7f7c3f15a572abe""}"
1965,ClosePR,2022-12-14 13:16:06,symat,fork_close,,"{""url"": ""https://api.github.com/repos/apache/zookeeper/issues/events/8037135902"", ""commit_url"": null}"
